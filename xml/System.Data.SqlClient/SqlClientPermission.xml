<Type Name="SqlClientPermission" FullName="System.Data.SqlClient.SqlClientPermission">
  <Metadata><Meta Name="ms.openlocfilehash" Value="70b85aae35fc77e8fb8328b6625f3a080bd63934" /><Meta Name="ms.sourcegitcommit" Value="5484acfd78fc29edb48fc1ca6925046c4672954a" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="09/16/2020" /><Meta Name="ms.locfileid" Value="90696206" /></Metadata><TypeSignature Language="C#" Value="public sealed class SqlClientPermission : System.Data.Common.DBDataPermission" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SqlClientPermission extends System.Data.Common.DBDataPermission" FrameworkAlternate="dotnet-plat-ext-2.1;dotnet-plat-ext-2.2;dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0;net-5.0;netcore-3.0;netcore-3.1" />
  <TypeSignature Language="DocId" Value="T:System.Data.SqlClient.SqlClientPermission" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SqlClientPermission&#xA;Inherits DBDataPermission" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlClientPermission sealed : System::Data::Common::DBDataPermission" />
  <TypeSignature Language="F#" Value="type SqlClientPermission = class&#xA;    inherit DBDataPermission" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable sealed beforefieldinit SqlClientPermission extends System.Data.Common.DBDataPermission" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <AssemblyInfo>
    <AssemblyName>System.Data</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Security.Permissions</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
    <AssemblyVersion>4.0.3.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Data.Common.DBDataPermission</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="dotnet-plat-ext-5.0;net-5.0">
      <AttributeName Language="C#">[System.Obsolete("Code Access Security is not supported or honored by the runtime.", DiagnosticId="SYSLIB0003", UrlFormat="https://aka.ms/dotnet-warnings/{0}")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Obsolete("Code Access Security is not supported or honored by the runtime.", DiagnosticId="SYSLIB0003", UrlFormat="https://aka.ms/dotnet-warnings/{0}")&gt;]</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName Language="C#">[System.Serializable]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Serializable&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="166df-101">启用用于 SQL Server 的 .NET Framework 数据提供程序，帮助确保用户具有足够的安全级别来访问数据源。</span><span class="sxs-lookup"><span data-stu-id="166df-101">Enables the .NET Framework Data Provider for SQL Server to help make sure that a user has a security level sufficient to access a data source.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="166df-102"><xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A>属性优先于 <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="166df-102">The <xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> property takes precedence over the <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> property.</span></span> <span data-ttu-id="166df-103">因此，如果将设置 <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> 为 `false` ，则还必须将设置 <xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> 为， `false` 以防止用户使用空白密码建立连接。</span><span class="sxs-lookup"><span data-stu-id="166df-103">Therefore, if you set <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> to `false`, you must also set <xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> to `false` to prevent a user from making a connection using a blank password.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="166df-104">对 ADO.NET 使用代码访问安全权限时，正确的模式是从最严格的情况开始 (没有任何) 的权限，然后添加代码需要执行的特定任务所需的特定权限。</span><span class="sxs-lookup"><span data-stu-id="166df-104">When using code access security permissions for ADO.NET, the correct pattern is to start with the most restrictive case (no permissions at all) and then add the specific permissions that are needed for the particular task that the code needs to perform.</span></span> <span data-ttu-id="166df-105">相反，从所有权限开始，然后拒绝特定权限的模式并不安全，因为有多种方法可表示相同的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="166df-105">The opposite pattern, starting with all permissions and then denying a specific permission, is not secure, because there are many ways of expressing the same connection string.</span></span> <span data-ttu-id="166df-106">例如，如果一开始就授予所有权限，然后尝试拒绝使用连接字符串“server=someserver”，则仍将允许使用“server=someserver.mycompany.com”。</span><span class="sxs-lookup"><span data-stu-id="166df-106">For example, if you start with all permissions and then attempt to deny the use of the connection string "server=someserver", the string "server=someserver.mycompany.com" would still be allowed.</span></span> <span data-ttu-id="166df-107">通过在开始时始终不授予任何权限，可以降低权限集中存在漏洞的几率。</span><span class="sxs-lookup"><span data-stu-id="166df-107">By always starting by granting no permissions at all, you reduce the chances that there are holes in the permission set.</span></span>  
  
 ]]></format>
    </remarks>
    <related type="Article" href="/dotnet/framework/data/adonet/code-access-security"><span data-ttu-id="166df-108">代码访问安全性和 ADO.NET</span><span class="sxs-lookup"><span data-stu-id="166df-108">Code Access Security and ADO.NET</span></span></related>
    <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-109">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-109">ADO.NET Overview</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="166df-110">初始化 <see cref="T:System.Data.SqlClient.SqlClientPermission" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="166df-110">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-111">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-111">ADO.NET Overview</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlClientPermission ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlClientPermission();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName Language="C#">[System.Obsolete("use SqlClientPermission(PermissionState.None)", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("use SqlClientPermission(PermissionState.None)", true)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Obsolete("SqlClientPermission() has been deprecated.  Use the SqlClientPermission(PermissionState.None) constructor.  http://go.microsoft.com/fwlink/?linkid=14202", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("SqlClientPermission() has been deprecated.  Use the SqlClientPermission(PermissionState.None) constructor.  http://go.microsoft.com/fwlink/?linkid=14202", true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="166df-112">初始化 <see cref="T:System.Data.SqlClient.SqlClientPermission" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="166df-112">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
        <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-113">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-113">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlClientPermission (System.Security.Permissions.PermissionState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.Security.Permissions.PermissionState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.#ctor(System.Security.Permissions.PermissionState)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (state As PermissionState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlClientPermission(System::Security::Permissions::PermissionState state);" />
      <MemberSignature Language="F#" Value="new System.Data.SqlClient.SqlClientPermission : System.Security.Permissions.PermissionState -&gt; System.Data.SqlClient.SqlClientPermission" Usage="new System.Data.SqlClient.SqlClientPermission state" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="state" Type="System.Security.Permissions.PermissionState" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="166df-114"><see cref="T:System.Security.Permissions.PermissionState" /> 值之一。</span><span class="sxs-lookup"><span data-stu-id="166df-114">One of the <see cref="T:System.Security.Permissions.PermissionState" /> values.</span></span></param>
        <summary><span data-ttu-id="166df-115">初始化 <see cref="T:System.Data.SqlClient.SqlClientPermission" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="166df-115">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
        <related type="Article" href="/dotnet/framework/data/adonet/code-access-security"><span data-ttu-id="166df-116">代码访问安全性和 ADO.NET</span><span class="sxs-lookup"><span data-stu-id="166df-116">Code Access Security and ADO.NET</span></span></related>
        <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-117">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-117">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlClientPermission (System.Security.Permissions.PermissionState state, bool allowBlankPassword);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.Security.Permissions.PermissionState state, bool allowBlankPassword) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.#ctor(System.Security.Permissions.PermissionState,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (state As PermissionState, allowBlankPassword As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlClientPermission(System::Security::Permissions::PermissionState state, bool allowBlankPassword);" />
      <MemberSignature Language="F#" Value="new System.Data.SqlClient.SqlClientPermission : System.Security.Permissions.PermissionState * bool -&gt; System.Data.SqlClient.SqlClientPermission" Usage="new System.Data.SqlClient.SqlClientPermission (state, allowBlankPassword)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName Language="C#">[System.Obsolete("use SqlClientPermission(PermissionState.None)", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("use SqlClientPermission(PermissionState.None)", true)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Obsolete("SqlClientPermission(PermissionState state, Boolean allowBlankPassword) has been deprecated.  Use the SqlClientPermission(PermissionState.None) constructor.  http://go.microsoft.com/fwlink/?linkid=14202", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("SqlClientPermission(PermissionState state, Boolean allowBlankPassword) has been deprecated.  Use the SqlClientPermission(PermissionState.None) constructor.  http://go.microsoft.com/fwlink/?linkid=14202", true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="state" Type="System.Security.Permissions.PermissionState" />
        <Parameter Name="allowBlankPassword" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="166df-118"><see cref="T:System.Security.Permissions.PermissionState" /> 值之一。</span><span class="sxs-lookup"><span data-stu-id="166df-118">One of the <see cref="T:System.Security.Permissions.PermissionState" /> values.</span></span></param>
        <param name="allowBlankPassword"><span data-ttu-id="166df-119">指示是否允许空白密码。</span><span class="sxs-lookup"><span data-stu-id="166df-119">Indicates whether a blank password is allowed.</span></span></param>
        <summary><span data-ttu-id="166df-120">初始化 <see cref="T:System.Data.SqlClient.SqlClientPermission" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="166df-120">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="166df-121"><xref:System.Security.Permissions.PermissionState>枚举优先于 <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="166df-121">The <xref:System.Security.Permissions.PermissionState> enumeration takes precedence over the <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> property.</span></span> <span data-ttu-id="166df-122">因此，如果将设置 <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> 为 `false` ，则还必须将设置 <xref:System.Security.Permissions.PermissionState> 为， `None` 以防止用户使用空白密码建立连接。</span><span class="sxs-lookup"><span data-stu-id="166df-122">Therefore, if you set <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> to `false`, you must also set <xref:System.Security.Permissions.PermissionState> to `None` to prevent a user from making a connection using a blank password.</span></span> <span data-ttu-id="166df-123">有关演示如何使用安全要求的示例，请参阅 [代码访问安全性和 ADO.NET](/dotnet/framework/data/adonet/code-access-security)。</span><span class="sxs-lookup"><span data-stu-id="166df-123">For an example demonstrating how to use security demands, see [Code Access Security and ADO.NET](/dotnet/framework/data/adonet/code-access-security).</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="/dotnet/framework/data/adonet/code-access-security"><span data-ttu-id="166df-124">代码访问安全性和 ADO.NET</span><span class="sxs-lookup"><span data-stu-id="166df-124">Code Access Security and ADO.NET</span></span></related>
        <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-125">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-125">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Add">
      <MemberSignature Language="C#" Value="public override void Add (string connectionString, string restrictions, System.Data.KeyRestrictionBehavior behavior);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Add(string connectionString, string restrictions, valuetype System.Data.KeyRestrictionBehavior behavior) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.Add(System.String,System.String,System.Data.KeyRestrictionBehavior)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Add (connectionString As String, restrictions As String, behavior As KeyRestrictionBehavior)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Add(System::String ^ connectionString, System::String ^ restrictions, System::Data::KeyRestrictionBehavior behavior);" />
      <MemberSignature Language="F#" Value="override this.Add : string * string * System.Data.KeyRestrictionBehavior -&gt; unit" Usage="sqlClientPermission.Add (connectionString, restrictions, behavior)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="connectionString" Type="System.String" />
        <Parameter Name="restrictions" Type="System.String" />
        <Parameter Name="behavior" Type="System.Data.KeyRestrictionBehavior" />
      </Parameters>
      <Docs>
        <param name="connectionString"><span data-ttu-id="166df-126">连接字符串。</span><span class="sxs-lookup"><span data-stu-id="166df-126">The connection string.</span></span></param>
        <param name="restrictions"><span data-ttu-id="166df-127">关键限制。</span><span class="sxs-lookup"><span data-stu-id="166df-127">The key restrictions.</span></span></param>
        <param name="behavior"><span data-ttu-id="166df-128"><see cref="T:System.Data.KeyRestrictionBehavior" /> 枚举之一。</span><span class="sxs-lookup"><span data-stu-id="166df-128">One of the <see cref="T:System.Data.KeyRestrictionBehavior" /> enumerations.</span></span></param>
        <summary><span data-ttu-id="166df-129">向 <see cref="T:System.Data.SqlClient.SqlClientPermission" /> 对象添加新的连接字符串和一组限制性关键字。</span><span class="sxs-lookup"><span data-stu-id="166df-129">Adds a new connection string and a set of restricted keywords to the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="166df-130">使用此方法可配置特定权限对象允许的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="166df-130">Use this method to configure which connection strings are allowed by a particular permission object.</span></span> <span data-ttu-id="166df-131">例如，如果希望只允许特定的连接字符串而不允许使用其他任何内容，请使用以下代码片段：</span><span class="sxs-lookup"><span data-stu-id="166df-131">For example, use the following code fragment if you want to only allow a specific connection string and nothing else:</span></span>  
  
 `permission.Add("server=MyServer; database=MyDatabase; Integrated Security=true", "", KeyRestrictionBehavior.AllowOnly)`  
  
 <span data-ttu-id="166df-132">下面的示例允许使用任意数据库的连接字符串，但仅允许在名为 MyServer 的服务器上使用任何用户和密码组合，不包含任何其他连接字符串关键字：</span><span class="sxs-lookup"><span data-stu-id="166df-132">The following example allows connection strings that use any database, but only on the server named MyServer, with any user and password combination and containing no other connection string keywords:</span></span>  
  
 `permission.Add("server=MyServer;", "database=; user id=; password=;", KeyRestrictionBehavior.AllowOnly)`  
  
 <span data-ttu-id="166df-133">下面的示例使用与上述相同的方案，但允许在连接到为镜像配置的服务器时可以使用的故障转移伙伴：</span><span class="sxs-lookup"><span data-stu-id="166df-133">The following example uses the same scenario as above but allows for a failover partner that can be used when connecting to servers configured for mirroring:</span></span>  
  
 `permission.Add("server=MyServer; failover partner=MyMirrorServer", "database=; user id=; password=;", KeyRestrictionBehavior.AllowOnly)`  
  
> [!NOTE]
>  <span data-ttu-id="166df-134">对 ADO.NET 使用代码访问安全权限时，正确的模式是从最严格的情况开始 (没有任何) 的权限，然后添加代码需要执行的特定任务所需的特定权限。</span><span class="sxs-lookup"><span data-stu-id="166df-134">When using code access security permissions for ADO.NET, the correct pattern is to start with the most restrictive case (no permissions at all) and then add the specific permissions that are needed for the particular task that the code needs to perform.</span></span> <span data-ttu-id="166df-135">相反的模式是从所有权限开始，然后尝试拒绝特定权限，这种方法并不安全，因为有多种方法可表示相同的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="166df-135">The opposite pattern, starting with all permissions and then trying to deny a specific permission, is not secure, because there are many ways of expressing the same connection string.</span></span> <span data-ttu-id="166df-136">例如，如果一开始就授予所有权限，然后尝试拒绝使用连接字符串“server=someserver”，则仍将允许使用“server=someserver.mycompany.com”。</span><span class="sxs-lookup"><span data-stu-id="166df-136">For example, if you start with all permissions and then attempt to deny the use of the connection string "server=someserver", the string "server=someserver.mycompany.com" would still be allowed.</span></span> <span data-ttu-id="166df-137">通过在开始时始终不授予任何权限，可以降低权限集中存在漏洞的几率。</span><span class="sxs-lookup"><span data-stu-id="166df-137">By always starting by granting no permissions at all, you reduce the chances that there are holes in the permission set.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="/dotnet/framework/data/adonet/code-access-security"><span data-ttu-id="166df-138">代码访问安全性和 ADO.NET</span><span class="sxs-lookup"><span data-stu-id="166df-138">Code Access Security and ADO.NET</span></span></related>
        <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-139">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-139">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Copy">
      <MemberSignature Language="C#" Value="public override System.Security.IPermission Copy ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance class System.Security.IPermission Copy() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.Copy" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function Copy () As IPermission" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::Security::IPermission ^ Copy();" />
      <MemberSignature Language="F#" Value="override this.Copy : unit -&gt; System.Security.IPermission" Usage="sqlClientPermission.Copy " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.IPermission</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="166df-140">以 <see cref="T:System.Data.SqlClient.SqlClientPermission" /> 形式返回 <see cref="T:System.Security.IPermission" />。</span><span class="sxs-lookup"><span data-stu-id="166df-140">Returns the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> as an <see cref="T:System.Security.IPermission" />.</span></span></summary>
        <returns><span data-ttu-id="166df-141">当前权限对象的副本。</span><span class="sxs-lookup"><span data-stu-id="166df-141">A copy of the current permission object.</span></span></returns>
        <remarks>To be added.</remarks>
        <related type="Article" href="/dotnet/framework/data/adonet/ado-net-overview"><span data-ttu-id="166df-142">ADO.NET 概述</span><span class="sxs-lookup"><span data-stu-id="166df-142">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>

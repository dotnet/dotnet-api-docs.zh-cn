<Type Name="Installer" FullName="System.Configuration.Install.Installer">
  <Metadata><Meta Name="ms.openlocfilehash" Value="db91a7d977b0ec63629c2fea49c54e369856fcb4" /><Meta Name="ms.sourcegitcommit" Value="b53d35b4a410c949742abd4c6a989d1af5357bca" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="07/21/2020" /><Meta Name="ms.locfileid" Value="86732824" /></Metadata><TypeSignature Language="C#" Value="public class Installer : System.ComponentModel.Component" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit Installer extends System.ComponentModel.Component" />
  <TypeSignature Language="DocId" Value="T:System.Configuration.Install.Installer" />
  <TypeSignature Language="VB.NET" Value="Public Class Installer&#xA;Inherits Component" />
  <TypeSignature Language="C++ CLI" Value="public ref class Installer : System::ComponentModel::Component" />
  <TypeSignature Language="F#" Value="type Installer = class&#xA;    inherit Component" />
  <AssemblyInfo>
    <AssemblyName>System.Configuration.Install</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.ComponentModel.Component</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName Language="C#">[System.ComponentModel.DefaultEvent("AfterInstall")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultEvent("AfterInstall")&gt;]</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1">
      <AttributeName Language="C#">[System.ComponentModel.Designer("Microsoft.VisualStudio.Configuration.InstallerDesigner, Microsoft.VisualStudio, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", typeof(System.ComponentModel.Design.IRootDesigner))]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("Microsoft.VisualStudio.Configuration.InstallerDesigner, Microsoft.VisualStudio, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", typeof(System.ComponentModel.Design.IRootDesigner))&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="a4b17-101">提供自定义安装的基础。</span><span class="sxs-lookup"><span data-stu-id="a4b17-101">Provides the foundation for custom installations.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-102">这是 .NET Framework 中所有自定义安装程序的基类。</span><span class="sxs-lookup"><span data-stu-id="a4b17-102">This is the base class for all custom installers in the .NET Framework.</span></span> <span data-ttu-id="a4b17-103">安装程序是帮助在计算机上安装应用程序的组件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-103">Installers are components that help install applications on a computer.</span></span>  
  
 <span data-ttu-id="a4b17-104">若要使用，必须执行以下几个步骤 <xref:System.Configuration.Install.Installer> ：</span><span class="sxs-lookup"><span data-stu-id="a4b17-104">There are several steps you must follow to use an <xref:System.Configuration.Install.Installer>:</span></span>  
  
-   <span data-ttu-id="a4b17-105">继承 <xref:System.Configuration.Install.Installer> 类。</span><span class="sxs-lookup"><span data-stu-id="a4b17-105">Inherit the <xref:System.Configuration.Install.Installer> class.</span></span>  
  
-   <span data-ttu-id="a4b17-106">重写 <xref:System.Configuration.Install.Installer.Install%2A> 、 <xref:System.Configuration.Install.Installer.Commit%2A> 、 <xref:System.Configuration.Install.Installer.Rollback%2A> 和 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-106">Override the <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, and <xref:System.Configuration.Install.Installer.Uninstall%2A> methods.</span></span>  
  
-   <span data-ttu-id="a4b17-107">将添加 <xref:System.ComponentModel.RunInstallerAttribute> 到派生类中，并将其设置为 `true` 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-107">Add the <xref:System.ComponentModel.RunInstallerAttribute> to your derived class and set it to `true`.</span></span>  
  
-   <span data-ttu-id="a4b17-108">将派生类放置在应用程序的程序集中，以便进行安装。</span><span class="sxs-lookup"><span data-stu-id="a4b17-108">Put your derived class in the assembly with your application to install.</span></span>  
  
-   <span data-ttu-id="a4b17-109">调用安装程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-109">Invoke the installers.</span></span> <span data-ttu-id="a4b17-110">例如，使用 InstallUtil.exe 调用安装程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-110">For example, use the InstallUtil.exe to invoke the installers.</span></span>  
  
 <span data-ttu-id="a4b17-111"><xref:System.Configuration.Install.Installer.Installers%2A>属性包含安装程序的集合。</span><span class="sxs-lookup"><span data-stu-id="a4b17-111">The <xref:System.Configuration.Install.Installer.Installers%2A> property contains a collection of installers.</span></span> <span data-ttu-id="a4b17-112">如果此实例 <xref:System.Configuration.Install.Installer> 为安装程序集合的一部分，则 <xref:System.Configuration.Install.Installer.Parent%2A> 属性设置为 <xref:System.Configuration.Install.Installer> 包含集合的实例。</span><span class="sxs-lookup"><span data-stu-id="a4b17-112">If this instance of <xref:System.Configuration.Install.Installer> is part of an installer collection, the <xref:System.Configuration.Install.Installer.Parent%2A> property is set to the <xref:System.Configuration.Install.Installer> instance that contains the collection.</span></span> <span data-ttu-id="a4b17-113">有关使用集合的示例 <xref:System.Configuration.Install.Installer.Installers%2A> ，请参阅 <xref:System.Configuration.Install.AssemblyInstaller> 类。</span><span class="sxs-lookup"><span data-stu-id="a4b17-113">For an example of the use of the <xref:System.Configuration.Install.Installer.Installers%2A> collection, see the <xref:System.Configuration.Install.AssemblyInstaller> class.</span></span>  
  
 <span data-ttu-id="a4b17-114"><xref:System.Configuration.Install.Installer.Install%2A>类的、、 <xref:System.Configuration.Install.Installer.Commit%2A> <xref:System.Configuration.Install.Installer.Rollback%2A> 和 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法 <xref:System.Configuration.Install.Installer> 通过存储在属性中的安装程序的集合， <xref:System.Configuration.Install.Installer.Installers%2A> 并调用每个安装程序的相应方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-114">The <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, and <xref:System.Configuration.Install.Installer.Uninstall%2A> methods of the <xref:System.Configuration.Install.Installer> class go through the collection of installers stored in the <xref:System.Configuration.Install.Installer.Installers%2A> property, and invokes the corresponding method of each installer.</span></span>  
  
 <span data-ttu-id="a4b17-115"><xref:System.Configuration.Install.Installer.Install%2A> <xref:System.Configuration.Install.Installer.Commit%2A> <xref:System.Configuration.Install.Installer.Rollback%2A> <xref:System.Configuration.Install.Installer.Uninstall%2A> 不总是对同一实例调用、、和方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-115">The <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, and <xref:System.Configuration.Install.Installer.Uninstall%2A> methods are not always called on the same <xref:System.Configuration.Install.Installer> instance.</span></span> <span data-ttu-id="a4b17-116">例如，可以在 <xref:System.Configuration.Install.Installer> 安装和提交应用程序时使用一个实例，然后释放对该实例的引用。</span><span class="sxs-lookup"><span data-stu-id="a4b17-116">For example, one <xref:System.Configuration.Install.Installer> instance might be used while installing and committing an application, and then the reference to that instance is released.</span></span> <span data-ttu-id="a4b17-117">稍后，卸载应用程序会创建对新实例的引用 <xref:System.Configuration.Install.Installer> ，这意味着该 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法由不同的实例调用 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-117">Later, uninstalling the application creates a reference to a new <xref:System.Configuration.Install.Installer> instance, meaning that the <xref:System.Configuration.Install.Installer.Uninstall%2A> method is called by a different instance of <xref:System.Configuration.Install.Installer>.</span></span> <span data-ttu-id="a4b17-118">出于此原因，在派生类中，不要将计算机的状态保存在安装程序中。</span><span class="sxs-lookup"><span data-stu-id="a4b17-118">For this reason, in your derived class, do not save the state of a computer in an installer.</span></span> <span data-ttu-id="a4b17-119">相反，请使用 <xref:System.Collections.IDictionary> 跨调用保留并传入 <xref:System.Configuration.Install.Installer.Install%2A> 、 <xref:System.Configuration.Install.Installer.Commit%2A> 、 <xref:System.Configuration.Install.Installer.Rollback%2A> 和 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法的。</span><span class="sxs-lookup"><span data-stu-id="a4b17-119">Instead, use an <xref:System.Collections.IDictionary> that is preserved across calls and passed into your <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, and <xref:System.Configuration.Install.Installer.Uninstall%2A> methods.</span></span>  
  
 <span data-ttu-id="a4b17-120">两种情况阐释了在状态保护中保存信息的需要 <xref:System.Collections.IDictionary> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-120">Two situations illustrate the need to save information in the state-saver <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="a4b17-121">首先，假设安装程序设置了注册表项。</span><span class="sxs-lookup"><span data-stu-id="a4b17-121">First, suppose that your installer sets a registry key.</span></span> <span data-ttu-id="a4b17-122">它应在中保存密钥的原始值 <xref:System.Collections.IDictionary> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-122">It should save the key's original value in the <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="a4b17-123">如果回滚安装，则可以还原原始值。</span><span class="sxs-lookup"><span data-stu-id="a4b17-123">If the installation is rolled back, the original value can be restored.</span></span> <span data-ttu-id="a4b17-124">其次，假设安装程序替换了现有文件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-124">Second, suppose the installer replaces an existing file.</span></span> <span data-ttu-id="a4b17-125">将现有文件保存在临时目录中，并将该文件的新位置的位置保存在中 <xref:System.Collections.IDictionary> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-125">Save the existing file in a temporary directory and the location of the new location of the file in the <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="a4b17-126">如果安装已回滚，则会删除较新的文件，并将其替换为原位置。</span><span class="sxs-lookup"><span data-stu-id="a4b17-126">If the installation is rolled back, the newer file is deleted and replaced by the original from the temporary location.</span></span>  
  
 <span data-ttu-id="a4b17-127"><xref:System.Configuration.Install.Installer.Context%2A?displayProperty=nameWithType>属性包含有关安装的信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-127">The <xref:System.Configuration.Install.Installer.Context%2A?displayProperty=nameWithType> property contains information about the installation.</span></span> <span data-ttu-id="a4b17-128">例如，有关安装的日志文件的位置、要保存方法所需信息的文件的位置， <xref:System.Configuration.Install.Installer.Uninstall%2A> 以及运行安装可执行文件时输入的命令行。</span><span class="sxs-lookup"><span data-stu-id="a4b17-128">For example, information about the location of the log file for the installation, the location of the file to save information required by the <xref:System.Configuration.Install.Installer.Uninstall%2A> method, and the command line that was entered when the installation executable was run.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-129">下面的示例演示如何使用 <xref:System.Configuration.Install.Installer> 类。</span><span class="sxs-lookup"><span data-stu-id="a4b17-129">The following example demonstrates the use of the <xref:System.Configuration.Install.Installer> class.</span></span> <span data-ttu-id="a4b17-130">它创建一个继承自的类 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-130">It creates a class which inherits from <xref:System.Configuration.Install.Installer>.</span></span> <span data-ttu-id="a4b17-131">当 <xref:System.Configuration.Install.Installer.Commit%2A> 完成时，将 <xref:System.Configuration.Install.Installer.Committing> 发生事件并显示一条消息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-131">When <xref:System.Configuration.Install.Installer.Commit%2A> is about to complete, <xref:System.Configuration.Install.Installer.Committing> event occurs and a message is displayed.</span></span> <span data-ttu-id="a4b17-132">若要使用 <xref:System.Configuration.Install.Installer> 类，必须引用 **System.Configu。** 在项目中安装程序集。</span><span class="sxs-lookup"><span data-stu-id="a4b17-132">To use the <xref:System.Configuration.Install.Installer> class, you must reference the **System.Configuration.Install** assembly in your project.</span></span>  
  
 [!code-cpp[Installer#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer/CPP/installer.cpp#1)]
 [!code-csharp[Installer#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer/CS/installer.cs#1)]
 [!code-vb[Installer#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer/VB/installer.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Configuration.Install.AssemblyInstaller" />
    <altmember cref="T:System.Configuration.Install.ComponentInstaller" />
    <altmember cref="T:System.Configuration.Install.InstallerCollection" />
    <altmember cref="T:System.Configuration.Install.TransactedInstaller" />
    <related type="Article" href="/dotnet/framework/tools/installutil-exe-installer-tool"><span data-ttu-id="a4b17-133">Installutil.exe（安装程序工具）</span><span class="sxs-lookup"><span data-stu-id="a4b17-133">Installutil.exe (Installer Tool)</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public Installer ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; Installer();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="a4b17-134">初始化 <see cref="T:System.Configuration.Install.Installer" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a4b17-134">Initializes a new instance of the <see cref="T:System.Configuration.Install.Installer" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="AfterInstall">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler AfterInstall;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler AfterInstall" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.AfterInstall" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event AfterInstall As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ AfterInstall;" />
      <MemberSignature Language="F#" Value="member this.AfterInstall : System.Configuration.Install.InstallEventHandler " Usage="member this.AfterInstall : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-135">在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的所有安装程序的 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 方法都运行后发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-135">Occurs after the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> methods of all the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property have run.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-136">下面的示例演示了该 <xref:System.Configuration.Install.Installer.AfterInstall> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-136">The following example demonstrates the <xref:System.Configuration.Install.Installer.AfterInstall> event.</span></span> <span data-ttu-id="a4b17-137">它由 <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> 方法引发。</span><span class="sxs-lookup"><span data-stu-id="a4b17-137">It is raised by the <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> method.</span></span>  
  
 [!code-cpp[Installer_AfterInstall#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_AfterInstall/CPP/installer_afterinstall.cpp#1)]
 [!code-csharp[Installer_AfterInstall#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_AfterInstall/CS/installer_afterinstall.cs#1)]
 [!code-vb[Installer_AfterInstall#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_AfterInstall/VB/installer_afterinstall.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.BeforeInstall" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="AfterRollback">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler AfterRollback;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler AfterRollback" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.AfterRollback" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event AfterRollback As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ AfterRollback;" />
      <MemberSignature Language="F#" Value="member this.AfterRollback : System.Configuration.Install.InstallEventHandler " Usage="member this.AfterRollback : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-138">在回滚 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中所有安装程序的安装后发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-138">Occurs after the installations of all the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are rolled back.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-139">下面的示例演示了该 <xref:System.Configuration.Install.Installer.AfterRollback> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-139">The following example demonstrates the <xref:System.Configuration.Install.Installer.AfterRollback> event.</span></span> <span data-ttu-id="a4b17-140">它重写 <xref:System.Configuration.Install.Installer.Install%2A> 方法并显式引发， <xref:System.ArgumentException> 以便 <xref:System.Configuration.Install.Installer.Rollback%2A> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-140">It overrides the <xref:System.Configuration.Install.Installer.Install%2A> method and explicitly throws an <xref:System.ArgumentException> so that the <xref:System.Configuration.Install.Installer.Rollback%2A> method is called.</span></span> <span data-ttu-id="a4b17-141">完成后 <xref:System.Configuration.Install.Installer.Rollback%2A> ，将 <xref:System.Configuration.Install.Installer.AfterRollback> 发生事件并显示一条消息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-141">When the <xref:System.Configuration.Install.Installer.Rollback%2A> is completed, the <xref:System.Configuration.Install.Installer.AfterRollback> event occurs and a message is displayed.</span></span>  
  
 [!code-cpp[Installer_AfterRollback#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_AfterRollback/CPP/installer_afterrollback.cpp#1)]
 [!code-csharp[Installer_AfterRollback#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_AfterRollback/CS/installer_afterrollback.cs#1)]
 [!code-vb[Installer_AfterRollback#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_AfterRollback/VB/installer_afterrollback.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.BeforeRollback" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="AfterUninstall">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler AfterUninstall;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler AfterUninstall" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.AfterUninstall" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event AfterUninstall As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ AfterUninstall;" />
      <MemberSignature Language="F#" Value="member this.AfterUninstall : System.Configuration.Install.InstallEventHandler " Usage="member this.AfterUninstall : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-142">在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中所有安装程序都执行它们的卸载操作后发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-142">Occurs after all the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property perform their uninstallation operations.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-143">下面的示例演示了该 <xref:System.Configuration.Install.Installer.AfterUninstall> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-143">The following example demonstrates the <xref:System.Configuration.Install.Installer.AfterUninstall> event.</span></span> <span data-ttu-id="a4b17-144">它由 <xref:System.Configuration.Install.Installer.OnAfterUninstall%2A> 方法引发。</span><span class="sxs-lookup"><span data-stu-id="a4b17-144">It is raised by the <xref:System.Configuration.Install.Installer.OnAfterUninstall%2A> method.</span></span>  
  
 [!code-cpp[Installer_AfterUninstall#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_AfterUninstall/CPP/installer_afteruninstall.cpp#1)]
 [!code-csharp[Installer_AfterUninstall#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_AfterUninstall/CS/installer_afteruninstall.cs#1)]
 [!code-vb[Installer_AfterUninstall#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_AfterUninstall/VB/installer_afteruninstall.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.BeforeUninstall" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="BeforeInstall">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler BeforeInstall;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler BeforeInstall" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.BeforeInstall" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event BeforeInstall As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ BeforeInstall;" />
      <MemberSignature Language="F#" Value="member this.BeforeInstall : System.Configuration.Install.InstallEventHandler " Usage="member this.BeforeInstall : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-145">在安装程序集合中每个安装程序的 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 方法运行前发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-145">Occurs before the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method of each installer in the installer collection has run.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-146">下面的示例演示了该 <xref:System.Configuration.Install.Installer.BeforeInstall> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-146">The following example demonstrates the <xref:System.Configuration.Install.Installer.BeforeInstall> event.</span></span> <span data-ttu-id="a4b17-147">它由 <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> 方法引发。</span><span class="sxs-lookup"><span data-stu-id="a4b17-147">It is raised by the <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> method.</span></span>  
  
 [!code-cpp[Installer_BeforeInstall#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_BeforeInstall/CPP/installer_beforeinstall.cpp#1)]
 [!code-csharp[Installer_BeforeInstall#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_BeforeInstall/CS/installer_beforeinstall.cs#1)]
 [!code-vb[Installer_BeforeInstall#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_BeforeInstall/VB/installer_beforeinstall.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.AfterInstall" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="BeforeRollback">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler BeforeRollback;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler BeforeRollback" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.BeforeRollback" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event BeforeRollback As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ BeforeRollback;" />
      <MemberSignature Language="F#" Value="member this.BeforeRollback : System.Configuration.Install.InstallEventHandler " Usage="member this.BeforeRollback : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-148">在回滚 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序前发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-148">Occurs before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are rolled back.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-149">下面的示例演示了该 <xref:System.Configuration.Install.Installer.BeforeRollback> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-149">The following example demonstrates the <xref:System.Configuration.Install.Installer.BeforeRollback> event.</span></span> <span data-ttu-id="a4b17-150">它重写 <xref:System.Configuration.Install.Installer.Install%2A> 方法并显式引发， <xref:System.ArgumentException> 以便 <xref:System.Configuration.Install.Installer.Rollback%2A> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-150">It overrides the <xref:System.Configuration.Install.Installer.Install%2A> method and explicitly throws an <xref:System.ArgumentException> so that the <xref:System.Configuration.Install.Installer.Rollback%2A> method is called.</span></span> <span data-ttu-id="a4b17-151">完成后 <xref:System.Configuration.Install.Installer.Rollback%2A> ，将 <xref:System.Configuration.Install.Installer.BeforeRollback> 发生事件并显示一条消息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-151">When the <xref:System.Configuration.Install.Installer.Rollback%2A> is complete, the <xref:System.Configuration.Install.Installer.BeforeRollback> event occurs and a message is displayed.</span></span>  
  
 [!code-cpp[Installer_BeforeRollback#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_BeforeRollback/CPP/installer_beforerollback.cpp#1)]
 [!code-csharp[Installer_BeforeRollback#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_BeforeRollback/CS/installer_beforerollback.cs#1)]
 [!code-vb[Installer_BeforeRollback#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_BeforeRollback/VB/installer_beforerollback.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.AfterRollback" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="BeforeUninstall">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler BeforeUninstall;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler BeforeUninstall" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.BeforeUninstall" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event BeforeUninstall As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ BeforeUninstall;" />
      <MemberSignature Language="F#" Value="member this.BeforeUninstall : System.Configuration.Install.InstallEventHandler " Usage="member this.BeforeUninstall : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-152">在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序执行它们的卸载操作前发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-152">Occurs before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property perform their uninstall operations.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-153">下面的示例演示了该 <xref:System.Configuration.Install.Installer.BeforeUninstall> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-153">The following example demonstrates the <xref:System.Configuration.Install.Installer.BeforeUninstall> event.</span></span> <span data-ttu-id="a4b17-154">它由 <xref:System.Configuration.Install.Installer.OnBeforeUninstall%2A> 方法引发。</span><span class="sxs-lookup"><span data-stu-id="a4b17-154">It is raised by the <xref:System.Configuration.Install.Installer.OnBeforeUninstall%2A> method.</span></span>  
  
 [!code-cpp[Installer_BeforeUninstall#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_BeforeUninstall/CPP/installer_beforeuninstall.cpp#1)]
 [!code-csharp[Installer_BeforeUninstall#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_BeforeUninstall/CS/installer_beforeuninstall.cs#1)]
 [!code-vb[Installer_BeforeUninstall#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_BeforeUninstall/VB/installer_beforeuninstall.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.AfterUninstall" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="Commit">
      <MemberSignature Language="C#" Value="public virtual void Commit (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Commit(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub Commit (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Commit(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member Commit : System.Collections.IDictionary -&gt; unit&#xA;override this.Commit : System.Collections.IDictionary -&gt; unit" Usage="installer.Commit savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-155"><see cref="T:System.Collections.IDictionary" /> 包含在集合中所有安装程序都运行后的计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-155">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer after all the installers in the collection have run.</span></span></param>
        <summary><span data-ttu-id="a4b17-156">在派生类中重写时，完成安装事务。</span><span class="sxs-lookup"><span data-stu-id="a4b17-156">When overridden in a derived class, completes the install transaction.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-157">下面的示例演示了 <xref:System.Configuration.Install.Installer.Commit%2A> 类的方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-157">The following example demonstrates the <xref:System.Configuration.Install.Installer.Commit%2A> method of the <xref:System.Configuration.Install.Installer> class.</span></span> <span data-ttu-id="a4b17-158">类派生自 <xref:System.Configuration.Install.Installer> 基类， <xref:System.Configuration.Install.Installer.Commit%2A> 方法被重写。</span><span class="sxs-lookup"><span data-stu-id="a4b17-158">A class is derived from the <xref:System.Configuration.Install.Installer> base class and the <xref:System.Configuration.Install.Installer.Commit%2A> method are overridden.</span></span>  
  
 [!code-cpp[Installer_Install#2](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Install/CPP/installer_install.cpp#2)]
 [!code-csharp[Installer_Install#2](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Install/CS/installer_install.cs#2)]
 [!code-vb[Installer_Install#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Install/VB/installer_install.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="a4b17-159"><paramref name="savedState" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="a4b17-159">The <paramref name="savedState" /> parameter is <see langword="null" />.</span></span>  
  
<span data-ttu-id="a4b17-160">- 或 -</span><span class="sxs-lookup"><span data-stu-id="a4b17-160">-or-</span></span> 
<span data-ttu-id="a4b17-161">保存的状态 <see cref="T:System.Collections.IDictionary" /> 可能已损坏。</span><span class="sxs-lookup"><span data-stu-id="a4b17-161">The saved-state <see cref="T:System.Collections.IDictionary" /> might have been corrupted.</span></span></exception>
        <exception cref="T:System.Configuration.Install.InstallException"><span data-ttu-id="a4b17-162">在安装的 <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> 阶段发生异常。</span><span class="sxs-lookup"><span data-stu-id="a4b17-162">An exception occurred during the <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> phase of the installation.</span></span> <span data-ttu-id="a4b17-163">忽略该异常，安装继续进行。</span><span class="sxs-lookup"><span data-stu-id="a4b17-163">This exception is ignored and the installation continues.</span></span> <span data-ttu-id="a4b17-164">但是在安装完成后，应用程序可能无法正常工作。</span><span class="sxs-lookup"><span data-stu-id="a4b17-164">However, the application might not function correctly after the installation is complete.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-165">如果在 <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> 派生类中重写方法，请确保 <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> 先在派生方法中调用基类的方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-165">If you override the <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method first in your derived method.</span></span> <span data-ttu-id="a4b17-166"><see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />仅当 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 此实例中的每个安装程序的方法成功时，才会调用方法 <see cref="T:System.Configuration.Install.InstallerCollection" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-166">The <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method is called only if the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method of each installer in this instance's <see cref="T:System.Configuration.Install.InstallerCollection" /> succeeds.</span></span> <span data-ttu-id="a4b17-167"><see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />方法存储执行正确卸载所需的信息，并调用 <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> 集合中每个安装程序的方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-167">The <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method stores information needed to do a correct uninstallation, and calls the <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method of each installer in the collection.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.InstallerCollection" />
        <altmember cref="P:System.Configuration.Install.Installer.Installers" />
      </Docs>
    </Member>
    <Member MemberName="Committed">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler Committed;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler Committed" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.Committed" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event Committed As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ Committed;" />
      <MemberSignature Language="F#" Value="member this.Committed : System.Configuration.Install.InstallEventHandler " Usage="member this.Committed : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-168">在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的所有安装程序均提交它们的安装后发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-168">Occurs after all the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property have committed their installations.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-169">下面的示例演示了该 <xref:System.Configuration.Install.Installer.Committed> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-169">The following example demonstrates the <xref:System.Configuration.Install.Installer.Committed> event.</span></span> <span data-ttu-id="a4b17-170">它由 <xref:System.Configuration.Install.Installer.OnCommitted%2A> 方法引发。</span><span class="sxs-lookup"><span data-stu-id="a4b17-170">It is raised by the <xref:System.Configuration.Install.Installer.OnCommitted%2A> method.</span></span>  
  
 [!code-cpp[Installer_Committed1#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Committed1/CPP/installer_committed.cpp#1)]
 [!code-csharp[Installer_Committed1#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Committed1/CS/installer_committed.cs#1)]
 [!code-vb[Installer_Committed1#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Committed1/VB/installer_committed.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.Committing" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="Committing">
      <MemberSignature Language="C#" Value="public event System.Configuration.Install.InstallEventHandler Committing;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Configuration.Install.InstallEventHandler Committing" />
      <MemberSignature Language="DocId" Value="E:System.Configuration.Install.Installer.Committing" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event Committing As InstallEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Configuration::Install::InstallEventHandler ^ Committing;" />
      <MemberSignature Language="F#" Value="member this.Committing : System.Configuration.Install.InstallEventHandler " Usage="member this.Committing : System.Configuration.Install.InstallEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-171">在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序提交它们的安装前发生。</span><span class="sxs-lookup"><span data-stu-id="a4b17-171">Occurs before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property commit their installations.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-172">下面的示例演示了该 <xref:System.Configuration.Install.Installer.Committing> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-172">The following example demonstrates the <xref:System.Configuration.Install.Installer.Committing> event.</span></span> <span data-ttu-id="a4b17-173">它由 <xref:System.Configuration.Install.Installer.OnCommitting%2A> 方法引发。</span><span class="sxs-lookup"><span data-stu-id="a4b17-173">It is raised by the <xref:System.Configuration.Install.Installer.OnCommitting%2A> method.</span></span>  
  
 [!code-cpp[Installer_Committing#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Committing/CPP/installer_committing.cpp#1)]
 [!code-csharp[Installer_Committing#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Committing/CS/installer_committing.cs#1)]
 [!code-vb[Installer_Committing#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Committing/VB/installer_committing.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Configuration.Install.Installer.Committed" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="Context">
      <MemberSignature Language="C#" Value="public System.Configuration.Install.InstallContext Context { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Configuration.Install.InstallContext Context" />
      <MemberSignature Language="DocId" Value="P:System.Configuration.Install.Installer.Context" />
      <MemberSignature Language="VB.NET" Value="Public Property Context As InstallContext" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Configuration::Install::InstallContext ^ Context { System::Configuration::Install::InstallContext ^ get(); void set(System::Configuration::Install::InstallContext ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Context : System.Configuration.Install.InstallContext with get, set" Usage="System.Configuration.Install.Installer.Context" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallContext</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-174">获取或设置关于当前安装的信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-174">Gets or sets information about the current installation.</span></span></summary>
        <value><span data-ttu-id="a4b17-175"><see cref="T:System.Configuration.Install.InstallContext" /> 包含关于当前安装的信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-175">An <see cref="T:System.Configuration.Install.InstallContext" /> that contains information about the current installation.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-176"><xref:System.Configuration.Install.Installer.Context%2A>属性包含安装信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-176">The <xref:System.Configuration.Install.Installer.Context%2A> property contains installation information.</span></span> <span data-ttu-id="a4b17-177">例如，有关安装的日志文件的位置、要保存方法所需信息的文件的位置， <xref:System.Configuration.Install.Installer.Uninstall%2A> 以及运行安装可执行文件时输入的命令行。</span><span class="sxs-lookup"><span data-stu-id="a4b17-177">For example, information about the location of the log file for the installation, the location of the file to save information required by the <xref:System.Configuration.Install.Installer.Uninstall%2A> method, and the command line that was entered when the installation executable was run.</span></span>  
  
 <span data-ttu-id="a4b17-178">调用 <xref:System.Configuration.Install.Installer.Install%2A> 、、 <xref:System.Configuration.Install.Installer.Commit%2A> 或方法的程序 <xref:System.Configuration.Install.Installer.Rollback%2A> <xref:System.Configuration.Install.Installer.Uninstall%2A> 设置 <xref:System.Configuration.Install.Installer.Context%2A> 属性，其中包含方法所需的信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-178">The program that calls the <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, or <xref:System.Configuration.Install.Installer.Uninstall%2A> methods sets the <xref:System.Configuration.Install.Installer.Context%2A> property with information that the methods need.</span></span>  
  
 <span data-ttu-id="a4b17-179">如果安装程序属于安装程序集合，则父安装程序将 <xref:System.Configuration.Install.Installer.Context%2A> 在调用这些方法中的任何方法之前设置属性。</span><span class="sxs-lookup"><span data-stu-id="a4b17-179">If an installer belongs to an installer collection, the parent installer sets the <xref:System.Configuration.Install.Installer.Context%2A> property before calling any of these methods.</span></span> <span data-ttu-id="a4b17-180">父安装程序可通过属性进行访问 <xref:System.Configuration.Install.Installer.Parent%2A> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-180">The parent installer can be accessed through the <xref:System.Configuration.Install.Installer.Parent%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-181">下面的示例演示了 <xref:System.Configuration.Install.Installer.Context%2A> 类的属性 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-181">The following example demonstrates the <xref:System.Configuration.Install.Installer.Context%2A> property of the <xref:System.Configuration.Install.Installer> class.</span></span> <span data-ttu-id="a4b17-182">属性的内容 <xref:System.Configuration.Install.Installer.Context%2A> 包含有关安装日志文件的位置、文件的保存位置、方法所需的信息 <xref:System.Configuration.Install.Installer.Uninstall%2A> 以及运行安装可执行文件时输入的命令行的信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-182">The contents of the <xref:System.Configuration.Install.Installer.Context%2A> property contain information about the location of the log file for the installation, the location of the file to save information required by the <xref:System.Configuration.Install.Installer.Uninstall%2A> method, and the command line that was entered when the installation executable was run.</span></span> <span data-ttu-id="a4b17-183">然后在控制台上显示这些内容。</span><span class="sxs-lookup"><span data-stu-id="a4b17-183">These contents are then displayed on the console.</span></span>  
  
 [!code-cpp[Installer_Context#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Context/CPP/installer_context.cpp#1)]
 [!code-csharp[Installer_Context#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Context/CS/installer_context.cs#1)]
 [!code-vb[Installer_Context#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Context/VB/installer_context.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.InstallContext" />
        <altmember cref="P:System.Configuration.Install.Installer.Parent" />
        <altmember cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="HelpText">
      <MemberSignature Language="C#" Value="public virtual string HelpText { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string HelpText" />
      <MemberSignature Language="DocId" Value="P:System.Configuration.Install.Installer.HelpText" />
      <MemberSignature Language="VB.NET" Value="Public Overridable ReadOnly Property HelpText As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ HelpText { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.HelpText : string" Usage="System.Configuration.Install.Installer.HelpText" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-184">获取安装程序集合中所有安装程序的帮助文字。</span><span class="sxs-lookup"><span data-stu-id="a4b17-184">Gets the help text for all the installers in the installer collection.</span></span></summary>
        <value><span data-ttu-id="a4b17-185">安装程序集合中所有安装程序的帮助文本，包括安装程序的用途说明以及可执行安装文件（如 InstallUtil.exe 实用工具）的命令行选项，这些选项可以传递给该安装程序并为其所识别。</span><span class="sxs-lookup"><span data-stu-id="a4b17-185">The help text for all the installers in the installer collection, including the description of what the installer does and the command line options for the installation executable, such as the InstallUtil.exe utility, that can be passed to and understood by this installer.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-186">下面的示例演示了 <xref:System.Configuration.Install.Installer.HelpText%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="a4b17-186">The following example demonstrates the <xref:System.Configuration.Install.Installer.HelpText%2A> property.</span></span> <span data-ttu-id="a4b17-187">此属性是在类中定义的 <xref:System.Configuration.Install.Installer> ，它在调用时返回的说明 <xref:System.Configuration.Install.Installer> 和可执行安装的命令行选项（如 Installutil.exe 实用程序），可以将其传递到并由其识别 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-187">This property is defined in the <xref:System.Configuration.Install.Installer> class, which, when called, returns the description of the <xref:System.Configuration.Install.Installer> and the command line options for the installation executable, such as the Installutil.exe utility, that can be passed to and understood by the <xref:System.Configuration.Install.Installer>.</span></span>  
  
 [!code-cpp[Installer_HelpText#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_HelpText/CPP/installer_helptext.cpp#1)]
 [!code-csharp[Installer_HelpText#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_HelpText/CS/installer_helptext.cs#1)]
 [!code-vb[Installer_HelpText#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_HelpText/VB/installer_helptext.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NullReferenceException"><span data-ttu-id="a4b17-188">安装程序集合中的安装程序之一指定了一个 null 引用，而不是帮助文本。</span><span class="sxs-lookup"><span data-stu-id="a4b17-188">One of the installers in the installer collection specifies a null reference instead of help text.</span></span> <span data-ttu-id="a4b17-189">此异常的一个可能原因是定义了要包含帮助文本的字段，但未对其进行初始化。</span><span class="sxs-lookup"><span data-stu-id="a4b17-189">A likely cause for this exception is that a field to contain the help text is defined but not initialized.</span></span></exception>
        <altmember cref="P:System.Configuration.Install.Installer.Installers" />
      </Docs>
    </Member>
    <Member MemberName="Install">
      <MemberSignature Language="C#" Value="public virtual void Install (System.Collections.IDictionary stateSaver);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Install(class System.Collections.IDictionary stateSaver) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub Install (stateSaver As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Install(System::Collections::IDictionary ^ stateSaver);" />
      <MemberSignature Language="F#" Value="abstract member Install : System.Collections.IDictionary -&gt; unit&#xA;override this.Install : System.Collections.IDictionary -&gt; unit" Usage="installer.Install stateSaver" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="stateSaver" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="stateSaver"><span data-ttu-id="a4b17-190"><see cref="T:System.Collections.IDictionary" /> 用于保存执行提交、回滚或卸载操作所需的信息。</span><span class="sxs-lookup"><span data-stu-id="a4b17-190">An <see cref="T:System.Collections.IDictionary" /> used to save information needed to perform a commit, rollback, or uninstall operation.</span></span></param>
        <summary><span data-ttu-id="a4b17-191">在派生类中被重写时，执行安装。</span><span class="sxs-lookup"><span data-stu-id="a4b17-191">When overridden in a derived class, performs the installation.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-192">下面的示例演示了 <xref:System.Configuration.Install.Installer.Install%2A> 类的方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-192">The following example demonstrates the <xref:System.Configuration.Install.Installer.Install%2A> method of the <xref:System.Configuration.Install.Installer> class.</span></span> <span data-ttu-id="a4b17-193">类派生自 <xref:System.Configuration.Install.Installer> 基类， <xref:System.Configuration.Install.Installer.Install%2A> 方法被重写。</span><span class="sxs-lookup"><span data-stu-id="a4b17-193">A class is derived from the <xref:System.Configuration.Install.Installer> base class and the <xref:System.Configuration.Install.Installer.Install%2A> method is overridden.</span></span>  
  
 [!code-cpp[Installer_Install#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Install/CPP/installer_install.cpp#1)]
 [!code-csharp[Installer_Install#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Install/CS/installer_install.cs#1)]
 [!code-vb[Installer_Install#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Install/VB/installer_install.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="a4b17-194"><paramref name="stateSaver" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="a4b17-194">The <paramref name="stateSaver" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Exception"><span data-ttu-id="a4b17-195">该集合的一个安装程序的 <see cref="E:System.Configuration.Install.Installer.BeforeInstall" /> 事件处理程序发生异常。</span><span class="sxs-lookup"><span data-stu-id="a4b17-195">An exception occurred in the <see cref="E:System.Configuration.Install.Installer.BeforeInstall" /> event handler of one of the installers in the collection.</span></span>  
  
<span data-ttu-id="a4b17-196">- 或 -</span><span class="sxs-lookup"><span data-stu-id="a4b17-196">-or-</span></span> 
<span data-ttu-id="a4b17-197">该集合的一个安装程序的 <see cref="E:System.Configuration.Install.Installer.AfterInstall" /> 事件处理程序发生异常。</span><span class="sxs-lookup"><span data-stu-id="a4b17-197">An exception occurred in the <see cref="E:System.Configuration.Install.Installer.AfterInstall" /> event handler of one of the installers in the collection.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-198">-如果在 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 派生类中重写方法，请确保 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 先在派生方法中调用基类的方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-198">-   If you override the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method first in your derived method.</span></span> <span data-ttu-id="a4b17-199"><see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />方法调用 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 此实例的属性中包含的每个安装程序的方法 <see cref="P:System.Configuration.Install.Installer.Installers" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-199">The <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method calls the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method of each installer contained in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property of this instance.</span></span> <span data-ttu-id="a4b17-200">在包含的安装程序运行后，此方法将更新 <see cref="T:System.Collections.IDictionary" /> 通过参数) 指定 (对象， <paramref name="stateSaver" /> 以反映安装的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-200">After the contained installers run, this method updates the <see cref="T:System.Collections.IDictionary" /> object (specified through the <paramref name="stateSaver" /> parameter) to reflect the status of the installation.</span></span> <span data-ttu-id="a4b17-201"><see cref="T:System.Collections.IDictionary" />传递给方法时，应为空 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-201">The <see cref="T:System.Collections.IDictionary" /> should be empty when passed to the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method.</span></span> <span data-ttu-id="a4b17-202">如果所有 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 方法均成功，则 <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-202">If all the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> methods succeed, the <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method is called.</span></span> <span data-ttu-id="a4b17-203">否则，将 <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-203">Otherwise, the <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> method is called.</span></span>  
  
<span data-ttu-id="a4b17-204">-如果需要将安装程序实例添加到 <see cref="P:System.Configuration.Install.Installer.Installers" /> 方法中的集合 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> ，请确保在方法中对集合执行相同的添加 <see cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-204">-   If you need to add installer instances to the <see cref="P:System.Configuration.Install.Installer.Installers" /> collection in the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method, be sure to perform the same additions to the collection in the <see cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" /> method.</span></span> <span data-ttu-id="a4b17-205">但是，如果将安装程序实例添加到 <see cref="P:System.Configuration.Install.Installer.Installers" /> 自定义安装程序的类构造函数中的集合，则可以避免在这两种方法中维护该集合。</span><span class="sxs-lookup"><span data-stu-id="a4b17-205">However, you can avoid maintaining the collection in both methods if you add installer instances to the <see cref="P:System.Configuration.Install.Installer.Installers" /> collection in the class constructor for your custom installer.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
        <altmember cref="T:System.Collections.IDictionary" />
        <altmember cref="T:System.Configuration.Install.InstallerCollection" />
        <altmember cref="P:System.Configuration.Install.Installer.Installers" />
        <altmember cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="Installers">
      <MemberSignature Language="C#" Value="public System.Configuration.Install.InstallerCollection Installers { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Configuration.Install.InstallerCollection Installers" />
      <MemberSignature Language="DocId" Value="P:System.Configuration.Install.Installer.Installers" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Installers As InstallerCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Configuration::Install::InstallerCollection ^ Installers { System::Configuration::Install::InstallerCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Installers : System.Configuration.Install.InstallerCollection" Usage="System.Configuration.Install.Installer.Installers" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Content)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Content)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.InstallerCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-206">获取该安装程序包含的安装程序的集合。</span><span class="sxs-lookup"><span data-stu-id="a4b17-206">Gets the collection of installers that this installer contains.</span></span></summary>
        <value><span data-ttu-id="a4b17-207"><see cref="T:System.Configuration.Install.InstallerCollection" /> 包含与该安装程序关联的安装程序的集合。</span><span class="sxs-lookup"><span data-stu-id="a4b17-207">An <see cref="T:System.Configuration.Install.InstallerCollection" /> containing the collection of installers associated with this installer.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-208"><xref:System.Configuration.Install.Installer.Installers%2A>属性包含安装程序的集合，这些安装程序安装此 <xref:System.Configuration.Install.Installer> 实例正确安装组件所需的对象。</span><span class="sxs-lookup"><span data-stu-id="a4b17-208">The <xref:System.Configuration.Install.Installer.Installers%2A> property contains a collection of installers that install objects needed by this <xref:System.Configuration.Install.Installer> instance to correctly install the component.</span></span> <span data-ttu-id="a4b17-209"><xref:System.Configuration.Install.Installer.Install%2A>类的、、 <xref:System.Configuration.Install.Installer.Commit%2A> <xref:System.Configuration.Install.Installer.Rollback%2A> 和 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法将 <xref:System.Configuration.Install.Installer> 遍历安装程序的集合，并调用每个安装程序的相应方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-209">The <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, and <xref:System.Configuration.Install.Installer.Uninstall%2A> methods of the <xref:System.Configuration.Install.Installer> class go through the collection of installers and invokes the corresponding method of each installer.</span></span>  
  
 <span data-ttu-id="a4b17-210">如果的此实例 <xref:System.Configuration.Install.Installer> 包含在安装程序集合中，则该 <xref:System.Configuration.Install.Installer.Parent%2A> 属性是 <xref:System.Configuration.Install.Installer> 包含该集合的实例。</span><span class="sxs-lookup"><span data-stu-id="a4b17-210">If this instance of <xref:System.Configuration.Install.Installer> is contained in an installer collection, the <xref:System.Configuration.Install.Installer.Parent%2A> property is the <xref:System.Configuration.Install.Installer> instance that contains the collection.</span></span> <span data-ttu-id="a4b17-211">有关使用集合的示例 <xref:System.Configuration.Install.Installer.Installers%2A> ，请参阅 <xref:System.Configuration.Install.AssemblyInstaller> 类。</span><span class="sxs-lookup"><span data-stu-id="a4b17-211">For an example of the use of the <xref:System.Configuration.Install.Installer.Installers%2A> collection, see the <xref:System.Configuration.Install.AssemblyInstaller> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-212">下面的示例演示了 <xref:System.Configuration.Install.Installer.Installers%2A> 和 <xref:System.Configuration.Install.Installer.Parent%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="a4b17-212">The following example demonstrates the <xref:System.Configuration.Install.Installer.Installers%2A> and <xref:System.Configuration.Install.Installer.Parent%2A> properties.</span></span> <span data-ttu-id="a4b17-213"><xref:System.Configuration.Install.Installer.Installers%2A>属性显示 <xref:System.Configuration.Install.InstallerCollection> 与关联的 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-213">The <xref:System.Configuration.Install.Installer.Installers%2A> property shows the <xref:System.Configuration.Install.InstallerCollection> associated with an <xref:System.Configuration.Install.Installer>.</span></span>  
  
 [!code-cpp[Installer_Installers#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Installers/CPP/installer_installers.cpp#1)]
 [!code-csharp[Installer_Installers#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Installers/CS/installer_installers.cs#1)]
 [!code-vb[Installer_Installers#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Installers/VB/installer_installers.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Configuration.Install.AssemblyInstaller" />
        <altmember cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.ComponentInstaller" />
        <altmember cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.InstallerCollection" />
        <altmember cref="P:System.Configuration.Install.Installer.Parent" />
        <altmember cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.TransactedInstaller" />
        <altmember cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnAfterInstall">
      <MemberSignature Language="C#" Value="protected virtual void OnAfterInstall (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAfterInstall(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAfterInstall (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAfterInstall(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnAfterInstall : System.Collections.IDictionary -&gt; unit&#xA;override this.OnAfterInstall : System.Collections.IDictionary -&gt; unit" Usage="installer.OnAfterInstall savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-214"><see cref="T:System.Collections.IDictionary" /> 包含在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中包含的所有安装程序都完成它们的安装后计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-214">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer after all the installers contained in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property have completed their installations.</span></span></param>
        <summary><span data-ttu-id="a4b17-215">引发 <see cref="E:System.Configuration.Install.Installer.AfterInstall" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-215">Raises the <see cref="E:System.Configuration.Install.Installer.AfterInstall" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-216">此方法在 <xref:System.Configuration.Install.Installer.Install%2A> 此实例的运行中所有安装程序的方法之后调用 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-216">This method is called after the <xref:System.Configuration.Install.Installer.Install%2A> methods of all the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> run.</span></span>  
  
 <span data-ttu-id="a4b17-217">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-217">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-218">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-218">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-219"><xref:System.Configuration.Install.Installer.OnAfterInstall%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-219">The <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-220">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-220">This is the preferred technique for handling the event in a derived class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-221">下面的示例演示 <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-221">The following example demonstrates the <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> method.</span></span> <span data-ttu-id="a4b17-222">此方法在派生类中被重写。</span><span class="sxs-lookup"><span data-stu-id="a4b17-222">This method is overridden in the derived class.</span></span> <span data-ttu-id="a4b17-223">提供的空间用于添加在方法中安装后要完成的步骤 <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-223">Space is provided to add steps to be done after the installation in the <xref:System.Configuration.Install.Installer.OnAfterInstall%2A> method.</span></span>  
  
 [!code-cpp[Installer_OnInstall#2](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_OnInstall/CPP/installer_oninstall.cpp#2)]
 [!code-csharp[Installer_OnInstall#2](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_OnInstall/CS/installer_oninstall.cs#2)]
 [!code-vb[Installer_OnInstall#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_OnInstall/VB/installer_oninstall.vb#2)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-224">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-224">When overriding <see cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnAfterRollback">
      <MemberSignature Language="C#" Value="protected virtual void OnAfterRollback (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAfterRollback(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAfterRollback (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAfterRollback(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnAfterRollback : System.Collections.IDictionary -&gt; unit&#xA;override this.OnAfterRollback : System.Collections.IDictionary -&gt; unit" Usage="installer.OnAfterRollback savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-225"><see cref="T:System.Collections.IDictionary" /> 包含在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中包含的安装程序回滚之后计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-225">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer after the installers contained in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are rolled back.</span></span></param>
        <summary><span data-ttu-id="a4b17-226">引发 <see cref="E:System.Configuration.Install.Installer.AfterRollback" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-226">Raises the <see cref="E:System.Configuration.Install.Installer.AfterRollback" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-227">此方法在 <xref:System.Configuration.Install.Installer.Rollback%2A> 此实例的所有安装程序的方法运行后调用 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-227">This method is called after the <xref:System.Configuration.Install.Installer.Rollback%2A> methods of all the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> have run.</span></span>  
  
 <span data-ttu-id="a4b17-228">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-228">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-229">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-229">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-230"><xref:System.Configuration.Install.Installer.OnAfterRollback%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-230">The <xref:System.Configuration.Install.Installer.OnAfterRollback%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-231">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-231">This is the preferred technique for handling the event in a derived class.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-232">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-232">When overriding <see cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnAfterUninstall">
      <MemberSignature Language="C#" Value="protected virtual void OnAfterUninstall (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAfterUninstall(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAfterUninstall (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAfterUninstall(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnAfterUninstall : System.Collections.IDictionary -&gt; unit&#xA;override this.OnAfterUninstall : System.Collections.IDictionary -&gt; unit" Usage="installer.OnAfterUninstall savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-233"><see cref="T:System.Collections.IDictionary" /> 包含在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中包含的所有安装程序都卸载后计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-233">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer after all the installers contained in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are uninstalled.</span></span></param>
        <summary><span data-ttu-id="a4b17-234">引发 <see cref="E:System.Configuration.Install.Installer.AfterUninstall" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-234">Raises the <see cref="E:System.Configuration.Install.Installer.AfterUninstall" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-235">此方法在 <xref:System.Configuration.Install.Installer.Uninstall%2A> 此实例的所有安装程序的方法运行后调用 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-235">This method is called after the <xref:System.Configuration.Install.Installer.Uninstall%2A> methods of all the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> have run.</span></span>  
  
 <span data-ttu-id="a4b17-236">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-236">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-237">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-237">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-238"><xref:System.Configuration.Install.Installer.OnAfterUninstall%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-238">The <xref:System.Configuration.Install.Installer.OnAfterUninstall%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-239">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-239">This is the preferred technique for handling the event in a derived class.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-240">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-240">When overriding <see cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnBeforeInstall">
      <MemberSignature Language="C#" Value="protected virtual void OnBeforeInstall (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnBeforeInstall(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnBeforeInstall (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnBeforeInstall(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnBeforeInstall : System.Collections.IDictionary -&gt; unit&#xA;override this.OnBeforeInstall : System.Collections.IDictionary -&gt; unit" Usage="installer.OnBeforeInstall savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-241"><see cref="T:System.Collections.IDictionary" /> 包含在安装 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序之前计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-241">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are installed.</span></span> <span data-ttu-id="a4b17-242">此时，该 <see cref="T:System.Collections.IDictionary" /> 对象应为空。</span><span class="sxs-lookup"><span data-stu-id="a4b17-242">This <see cref="T:System.Collections.IDictionary" /> object should be empty at this point.</span></span></param>
        <summary><span data-ttu-id="a4b17-243">引发 <see cref="E:System.Configuration.Install.Installer.BeforeInstall" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-243">Raises the <see cref="E:System.Configuration.Install.Installer.BeforeInstall" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-244">在 <xref:System.Configuration.Install.Installer.Install%2A> 调用此实例的安装程序的方法之前，将调用此方法 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-244">This method is called before the <xref:System.Configuration.Install.Installer.Install%2A> methods of the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> are called.</span></span>  
  
 <span data-ttu-id="a4b17-245">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-245">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-246">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-246">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-247"><xref:System.Configuration.Install.Installer.OnBeforeInstall%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-247">The <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-248">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-248">This is the preferred technique for handling the event in a derived class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-249">下面的示例演示 <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-249">The following example demonstrates the <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> method.</span></span> <span data-ttu-id="a4b17-250">此方法在派生类中被重写。</span><span class="sxs-lookup"><span data-stu-id="a4b17-250">This method is overridden in the derived class.</span></span> <span data-ttu-id="a4b17-251">提供的空间用于添加在方法中安装前要完成的步骤 <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-251">Space is provided to add steps to be done before the installation in the <xref:System.Configuration.Install.Installer.OnBeforeInstall%2A> method.</span></span>  
  
 [!code-cpp[Installer_OnInstall#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_OnInstall/CPP/installer_oninstall.cpp#1)]
 [!code-csharp[Installer_OnInstall#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_OnInstall/CS/installer_oninstall.cs#1)]
 [!code-vb[Installer_OnInstall#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_OnInstall/VB/installer_oninstall.vb#1)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-252">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-252">When overriding <see cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnBeforeRollback">
      <MemberSignature Language="C#" Value="protected virtual void OnBeforeRollback (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnBeforeRollback(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnBeforeRollback (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnBeforeRollback(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnBeforeRollback : System.Collections.IDictionary -&gt; unit&#xA;override this.OnBeforeRollback : System.Collections.IDictionary -&gt; unit" Usage="installer.OnBeforeRollback savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-253"><see cref="T:System.Collections.IDictionary" /> 包含在回滚 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序之前计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-253">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are rolled back.</span></span></param>
        <summary><span data-ttu-id="a4b17-254">引发 <see cref="E:System.Configuration.Install.Installer.BeforeRollback" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-254">Raises the <see cref="E:System.Configuration.Install.Installer.BeforeRollback" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-255">在 <xref:System.Configuration.Install.Installer.Rollback%2A> 调用此实例的安装程序的方法之前，将调用此方法 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-255">This method is called before the <xref:System.Configuration.Install.Installer.Rollback%2A> methods of the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> are called.</span></span>  
  
 <span data-ttu-id="a4b17-256">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-256">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-257">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-257">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-258"><xref:System.Configuration.Install.Installer.OnBeforeRollback%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-258">The <xref:System.Configuration.Install.Installer.OnBeforeRollback%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-259">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-259">This is the preferred technique for handling the event in a derived class.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-260">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-260">When overriding <see cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnBeforeUninstall">
      <MemberSignature Language="C#" Value="protected virtual void OnBeforeUninstall (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnBeforeUninstall(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnBeforeUninstall (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnBeforeUninstall(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnBeforeUninstall : System.Collections.IDictionary -&gt; unit&#xA;override this.OnBeforeUninstall : System.Collections.IDictionary -&gt; unit" Usage="installer.OnBeforeUninstall savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-261"><see cref="T:System.Collections.IDictionary" /> 包含在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序卸载它们的安装之前计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-261">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property uninstall their installations.</span></span></param>
        <summary><span data-ttu-id="a4b17-262">引发 <see cref="E:System.Configuration.Install.Installer.BeforeUninstall" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-262">Raises the <see cref="E:System.Configuration.Install.Installer.BeforeUninstall" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-263">在 <xref:System.Configuration.Install.Installer.Uninstall%2A> 卸载此实例的安装程序的方法之前，将调用此方法 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-263">This method is called before the <xref:System.Configuration.Install.Installer.Uninstall%2A> methods of the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> are uninstalled.</span></span>  
  
 <span data-ttu-id="a4b17-264">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-264">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-265">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-265">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-266"><xref:System.Configuration.Install.Installer.OnBeforeUninstall%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-266">The <xref:System.Configuration.Install.Installer.OnBeforeUninstall%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-267">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-267">This is the preferred technique for handling the event in a derived class.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-268">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-268">When overriding <see cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnCommitted">
      <MemberSignature Language="C#" Value="protected virtual void OnCommitted (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnCommitted(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnCommitted (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnCommitted(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnCommitted : System.Collections.IDictionary -&gt; unit&#xA;override this.OnCommitted : System.Collections.IDictionary -&gt; unit" Usage="installer.OnCommitted savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-269"><see cref="T:System.Collections.IDictionary" /> 包含在 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中所有安装程序都运行后计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-269">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer after all the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property run.</span></span></param>
        <summary><span data-ttu-id="a4b17-270">引发 <see cref="E:System.Configuration.Install.Installer.Committed" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-270">Raises the <see cref="E:System.Configuration.Install.Installer.Committed" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-271">在 <xref:System.Configuration.Install.Installer.Commit%2A> 此实例的安装程序集合中包含的所有安装程序的方法运行后，将调用此方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-271">This method is called after the <xref:System.Configuration.Install.Installer.Commit%2A> methods of all the installers contained in this instance's installer collection run.</span></span>  
  
 <span data-ttu-id="a4b17-272">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-272">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-273">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-273">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-274"><xref:System.Configuration.Install.Installer.OnCommitted%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-274">The <xref:System.Configuration.Install.Installer.OnCommitted%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-275">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-275">This is the preferred technique for handling the event in a derived class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-276">下面的示例演示了 <xref:System.Configuration.Install.Installer.OnCommitted%2A> 类的方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-276">The following example demonstrates the <xref:System.Configuration.Install.Installer.OnCommitted%2A> method of the <xref:System.Configuration.Install.Installer> class.</span></span> <span data-ttu-id="a4b17-277">此 <xref:System.Configuration.Install.Installer.OnCommitted%2A> 方法在派生类中被重写。</span><span class="sxs-lookup"><span data-stu-id="a4b17-277">The <xref:System.Configuration.Install.Installer.OnCommitted%2A> method is overridden in the derived class.</span></span> <span data-ttu-id="a4b17-278">为用户提供了空间，以添加要在提交之前和提交之后执行的步骤。</span><span class="sxs-lookup"><span data-stu-id="a4b17-278">Space is provided for the user to add the steps to be performed before committing and after committing.</span></span>  
  
 [!code-cpp[Installer_Committed#2](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Committed/CPP/installer_committed.cpp#2)]
 [!code-csharp[Installer_Committed#2](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Committed/CS/installer_committed.cs#2)]
 [!code-vb[Installer_Committed#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Committed/VB/installer_committed.vb#2)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-279">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-279">When overriding <see cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="OnCommitting">
      <MemberSignature Language="C#" Value="protected virtual void OnCommitting (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnCommitting(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnCommitting (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnCommitting(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member OnCommitting : System.Collections.IDictionary -&gt; unit&#xA;override this.OnCommitting : System.Collections.IDictionary -&gt; unit" Usage="installer.OnCommitting savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-280"><see cref="T:System.Collections.IDictionary" /> 包含提交 <see cref="P:System.Configuration.Install.Installer.Installers" /> 属性中的安装程序之前计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-280">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer before the installers in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property are committed.</span></span></param>
        <summary><span data-ttu-id="a4b17-281">引发 <see cref="E:System.Configuration.Install.Installer.Committing" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-281">Raises the <see cref="E:System.Configuration.Install.Installer.Committing" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-282">此方法在 <xref:System.Configuration.Install.Installer.Commit%2A> 运行此实例的安装程序的方法之前调用 <xref:System.Configuration.Install.InstallerCollection> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-282">This method is called before the <xref:System.Configuration.Install.Installer.Commit%2A> methods of the installers in this instance's <xref:System.Configuration.Install.InstallerCollection> run.</span></span>  
  
 <span data-ttu-id="a4b17-283">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-283">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="a4b17-284">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="a4b17-284">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>  
  
 <span data-ttu-id="a4b17-285"><xref:System.Configuration.Install.Installer.OnCommitting%2A>方法允许派生类在不附加委托的情况下处理事件。</span><span class="sxs-lookup"><span data-stu-id="a4b17-285">The <xref:System.Configuration.Install.Installer.OnCommitting%2A> method allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="a4b17-286">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="a4b17-286">This is the preferred technique for handling the event in a derived class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-287">下面的示例演示了 <xref:System.Configuration.Install.Installer.OnCommitting%2A> 类的方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-287">The following example demonstrates the <xref:System.Configuration.Install.Installer.OnCommitting%2A> method of the <xref:System.Configuration.Install.Installer> class.</span></span> <span data-ttu-id="a4b17-288">此 <xref:System.Configuration.Install.Installer.OnCommitting%2A> 方法在派生类中被重写。</span><span class="sxs-lookup"><span data-stu-id="a4b17-288">The <xref:System.Configuration.Install.Installer.OnCommitting%2A> method is overridden in the derived class.</span></span> <span data-ttu-id="a4b17-289">为用户提供了空间，以添加要在提交之前和提交之后执行的步骤。</span><span class="sxs-lookup"><span data-stu-id="a4b17-289">Space is provided for the user to add the steps to be performed before committing and after committing.</span></span>  
  
 [!code-cpp[Installer_Committed#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Committed/CPP/installer_committed.cpp#1)]
 [!code-csharp[Installer_Committed#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Committed/CS/installer_committed.cs#1)]
 [!code-vb[Installer_Committed#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Committed/VB/installer_committed.vb#1)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-290">在派生类中重写 <see cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" /> 时，一定要调用基类的 <see cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" /> 方法，以便已注册的委托对事件进行接收。</span><span class="sxs-lookup"><span data-stu-id="a4b17-290">When overriding <see cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" /> in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.OnCommitting(System.Collections.IDictionary)" /> method so that registered delegates receive the event.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnAfterUninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnCommitted(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeInstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeRollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.OnBeforeUninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="Parent">
      <MemberSignature Language="C#" Value="public System.Configuration.Install.Installer Parent { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Configuration.Install.Installer Parent" />
      <MemberSignature Language="DocId" Value="P:System.Configuration.Install.Installer.Parent" />
      <MemberSignature Language="VB.NET" Value="Public Property Parent As Installer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Configuration::Install::Installer ^ Parent { System::Configuration::Install::Installer ^ get(); void set(System::Configuration::Install::Installer ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Parent : System.Configuration.Install.Installer with get, set" Usage="System.Configuration.Install.Installer.Parent" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.ComponentModel.Browsable(true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(true)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName Language="C#">[System.ComponentModel.TypeConverter("System.Configuration.Design.InstallerParentConverter")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.TypeConverter("System.Configuration.Design.InstallerParentConverter")&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.ComponentModel.TypeConverter(typeof(System.Configuration.Install.InstallerParentConverter))]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.TypeConverter(typeof(System.Configuration.Install.InstallerParentConverter))&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Configuration.Install.Installer</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a4b17-291">获取或设置包含该安装程序所属的集合的安装程序。</span><span class="sxs-lookup"><span data-stu-id="a4b17-291">Gets or sets the installer containing the collection that this installer belongs to.</span></span></summary>
        <value><span data-ttu-id="a4b17-292"><see cref="T:System.Configuration.Install.Installer" /> 包含此实例所属的集合；或者，如果此实例不属于集合，则为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="a4b17-292">An <see cref="T:System.Configuration.Install.Installer" /> containing the collection that this instance belongs to, or <see langword="null" /> if this instance does not belong to a collection.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a4b17-293">如果此实例 <xref:System.Configuration.Install.Installer> 为安装程序集合的一部分，则 <xref:System.Configuration.Install.Installer.Parent%2A> 属性设置为 <xref:System.Configuration.Install.Installer> 包含集合的实例。</span><span class="sxs-lookup"><span data-stu-id="a4b17-293">If this instance of <xref:System.Configuration.Install.Installer> is part of an installer collection, the <xref:System.Configuration.Install.Installer.Parent%2A> property is set to the <xref:System.Configuration.Install.Installer> instance that contains the collection.</span></span> <span data-ttu-id="a4b17-294">有关使用集合的示例 <xref:System.Configuration.Install.Installer.Installers%2A> ，请参阅 <xref:System.Configuration.Install.AssemblyInstaller> 类。</span><span class="sxs-lookup"><span data-stu-id="a4b17-294">For an example of the use of the <xref:System.Configuration.Install.Installer.Installers%2A> collection, see the <xref:System.Configuration.Install.AssemblyInstaller> class.</span></span>  
  
 <span data-ttu-id="a4b17-295"><xref:System.Configuration.Install.Installer.Installers%2A>属性包含安装程序的集合。</span><span class="sxs-lookup"><span data-stu-id="a4b17-295">The <xref:System.Configuration.Install.Installer.Installers%2A> property contains a collection of installers.</span></span> <span data-ttu-id="a4b17-296"><xref:System.Configuration.Install.Installer.Install%2A>类的、、 <xref:System.Configuration.Install.Installer.Commit%2A> <xref:System.Configuration.Install.Installer.Rollback%2A> 和 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法将 <xref:System.Configuration.Install.Installer> 遍历安装程序的集合，并调用每个安装程序的相应方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-296">The <xref:System.Configuration.Install.Installer.Install%2A>, <xref:System.Configuration.Install.Installer.Commit%2A>, <xref:System.Configuration.Install.Installer.Rollback%2A>, and <xref:System.Configuration.Install.Installer.Uninstall%2A> methods of the <xref:System.Configuration.Install.Installer> class go through the collection of installers and invokes the corresponding method of each installer.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a4b17-297">下面的示例演示了 <xref:System.Configuration.Install.Installer.Parent%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="a4b17-297">The following example demonstrates the <xref:System.Configuration.Install.Installer.Parent%2A> property.</span></span> <span data-ttu-id="a4b17-298"><xref:System.Configuration.Install.Installer.Parent%2A>属性获取 <xref:System.Configuration.Install.Installer> 包含此所属的集合的 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-298">The <xref:System.Configuration.Install.Installer.Parent%2A> property gets the <xref:System.Configuration.Install.Installer> containing the collection that this <xref:System.Configuration.Install.Installer> belongs to.</span></span>  
  
 [!code-cpp[Installer_Installers#2](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Installers/CPP/installer_installers.cpp#2)]
 [!code-csharp[Installer_Installers#2](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Installers/CS/installer_installers.cs#2)]
 [!code-vb[Installer_Installers#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Installers/VB/installer_installers.vb#2)]  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.InstallerCollection" />
        <altmember cref="P:System.Configuration.Install.Installer.Installers" />
        <altmember cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
      </Docs>
    </Member>
    <Member MemberName="Rollback">
      <MemberSignature Language="C#" Value="public virtual void Rollback (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Rollback(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub Rollback (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Rollback(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member Rollback : System.Collections.IDictionary -&gt; unit&#xA;override this.Rollback : System.Collections.IDictionary -&gt; unit" Usage="installer.Rollback savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-299"><see cref="T:System.Collections.IDictionary" /> 包含计算机的安装前状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-299">An <see cref="T:System.Collections.IDictionary" /> that contains the pre-installation state of the computer.</span></span></param>
        <summary><span data-ttu-id="a4b17-300">在派生类中重写时，还原计算机的安装前状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-300">When overridden in a derived class, restores the pre-installation state of the computer.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-301">下面的示例演示的 <xref:System.Configuration.Install.Installer.Rollback%2A> 方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-301">The following example demonstrates the <xref:System.Configuration.Install.Installer.Rollback%2A> method of <xref:System.Configuration.Install.Installer>.</span></span> <span data-ttu-id="a4b17-302"><xref:System.Configuration.Install.Installer.Rollback%2A>方法在的派生类中被重写 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-302">The <xref:System.Configuration.Install.Installer.Rollback%2A> method is overridden in the derived class of <xref:System.Configuration.Install.Installer>.</span></span> <span data-ttu-id="a4b17-303">系统会生成一个例外，强制执行回滚。</span><span class="sxs-lookup"><span data-stu-id="a4b17-303">An exception is generated to force an installation rollback.</span></span>  
  
 [!code-cpp[Installer_Rollback#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Rollback/CPP/installer_rollback.cpp#1)]
 [!code-csharp[Installer_Rollback#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Rollback/CS/installer_rollback.cs#1)]
 [!code-vb[Installer_Rollback#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Rollback/VB/installer_rollback.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="a4b17-304"><paramref name="savedState" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="a4b17-304">The <paramref name="savedState" /> parameter is <see langword="null" />.</span></span>  
  
<span data-ttu-id="a4b17-305">- 或 -</span><span class="sxs-lookup"><span data-stu-id="a4b17-305">-or-</span></span> 
<span data-ttu-id="a4b17-306">保存的状态 <see cref="T:System.Collections.IDictionary" /> 可能已损坏。</span><span class="sxs-lookup"><span data-stu-id="a4b17-306">The saved-state <see cref="T:System.Collections.IDictionary" /> might have been corrupted.</span></span></exception>
        <exception cref="T:System.Configuration.Install.InstallException"><span data-ttu-id="a4b17-307">在安装的 <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> 阶段发生异常。</span><span class="sxs-lookup"><span data-stu-id="a4b17-307">An exception occurred during the <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> phase of the installation.</span></span> <span data-ttu-id="a4b17-308">忽略该异常，回滚继续进行。</span><span class="sxs-lookup"><span data-stu-id="a4b17-308">This exception is ignored and the rollback continues.</span></span> <span data-ttu-id="a4b17-309">但是，回滚完成后计算机可能无法完全还原为其初始状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-309">However, the computer might not be fully reverted to its initial state after the rollback completes.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-310">在 <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> 派生类中重写方法时，请确保 <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> 先在派生方法中调用基类的方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-310">When you override the <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> method in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> method first in your derived method.</span></span> <span data-ttu-id="a4b17-311">回滚操作将计算机还原到安装前的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-311">A rollback operation restores the computer to the state it was in before the installations occurred.</span></span> <span data-ttu-id="a4b17-312"><see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />如果 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 此实例的方法 <see cref="T:System.Configuration.Install.Installer" /> 或安装程序集合中的任何安装程序无法正常运行，则调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-312">The <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> method is called if the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method of this instance of <see cref="T:System.Configuration.Install.Installer" />, or any installer in the installer collection, fail to run correctly.</span></span> <span data-ttu-id="a4b17-313">通过调用 <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> 安装程序集合中的安装程序方法生成的任何异常都将被忽略，并且其他安装程序的回滚将继续。</span><span class="sxs-lookup"><span data-stu-id="a4b17-313">Any exceptions generated by calling the <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> methods of the installers in the installer collection are ignored and the rollback of the other installers continues.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.InstallerCollection" />
        <altmember cref="P:System.Configuration.Install.Installer.Installers" />
      </Docs>
    </Member>
    <Member MemberName="Uninstall">
      <MemberSignature Language="C#" Value="public virtual void Uninstall (System.Collections.IDictionary savedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Uninstall(class System.Collections.IDictionary savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub Uninstall (savedState As IDictionary)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Uninstall(System::Collections::IDictionary ^ savedState);" />
      <MemberSignature Language="F#" Value="abstract member Uninstall : System.Collections.IDictionary -&gt; unit&#xA;override this.Uninstall : System.Collections.IDictionary -&gt; unit" Usage="installer.Uninstall savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Configuration.Install</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Collections.IDictionary" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="a4b17-314"><see cref="T:System.Collections.IDictionary" /> 包含安装完成后计算机的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-314">An <see cref="T:System.Collections.IDictionary" /> that contains the state of the computer after the installation was complete.</span></span></param>
        <summary><span data-ttu-id="a4b17-315">在派生类中重写时，移除安装。</span><span class="sxs-lookup"><span data-stu-id="a4b17-315">When overridden in a derived class, removes an installation.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="a4b17-316">下面的示例演示的 <xref:System.Configuration.Install.Installer.Uninstall%2A> 方法 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-316">The following example demonstrates the <xref:System.Configuration.Install.Installer.Uninstall%2A> method of <xref:System.Configuration.Install.Installer>.</span></span> <span data-ttu-id="a4b17-317"><xref:System.Configuration.Install.Installer.Uninstall%2A>方法在的派生类中被重写 <xref:System.Configuration.Install.Installer> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-317">The <xref:System.Configuration.Install.Installer.Uninstall%2A> method is overridden in the derived class of <xref:System.Configuration.Install.Installer>.</span></span>  
  
 [!code-cpp[Installer_Uninstall#1](~/samples/snippets/cpp/VS_Snippets_CLR/Installer_Uninstall/CPP/installer_uninstall.cpp#1)]
 [!code-csharp[Installer_Uninstall#1](~/samples/snippets/csharp/VS_Snippets_CLR/Installer_Uninstall/CS/installer_uninstall.cs#1)]
 [!code-vb[Installer_Uninstall#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Installer_Uninstall/VB/installer_uninstall.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="a4b17-318">保存的状态 <see cref="T:System.Collections.IDictionary" /> 可能已损坏。</span><span class="sxs-lookup"><span data-stu-id="a4b17-318">The saved-state <see cref="T:System.Collections.IDictionary" /> might have been corrupted.</span></span></exception>
        <exception cref="T:System.Configuration.Install.InstallException"><span data-ttu-id="a4b17-319">卸载时发生异常。</span><span class="sxs-lookup"><span data-stu-id="a4b17-319">An exception occurred while uninstalling.</span></span> <span data-ttu-id="a4b17-320">忽略该异常，卸载继续进行。</span><span class="sxs-lookup"><span data-stu-id="a4b17-320">This exception is ignored and the uninstall continues.</span></span> <span data-ttu-id="a4b17-321">但是，卸载完成后应用程序可能未完全卸载。</span><span class="sxs-lookup"><span data-stu-id="a4b17-321">However, the application might not be fully uninstalled after the uninstallation completes.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="a4b17-322">-如果在 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 派生类中重写方法，请确保 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 先在派生方法中调用基类的方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-322">-   If you override the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method in a derived class, be sure to call the base class's <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method first in your derived method.</span></span> <span data-ttu-id="a4b17-323"><see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />方法调用 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 此实例的属性中包含的每个安装程序的方法 <see cref="P:System.Configuration.Install.Installer.Installers" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-323">The <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method calls the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method of each installer contained in the <see cref="P:System.Configuration.Install.Installer.Installers" /> property of this instance.</span></span> <span data-ttu-id="a4b17-324">在包含的安装程序运行后，此方法将更新 <see cref="T:System.Collections.IDictionary" /> 通过参数) 指定 (对象， <paramref name="stateSaver" /> 以反映安装的状态。</span><span class="sxs-lookup"><span data-stu-id="a4b17-324">After the contained installers run, this method updates the <see cref="T:System.Collections.IDictionary" /> object (specified through the <paramref name="stateSaver" /> parameter) to reflect the status of the installation.</span></span> <span data-ttu-id="a4b17-325"><see cref="T:System.Collections.IDictionary" />传递给方法时，应为空 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-325">The <see cref="T:System.Collections.IDictionary" /> should be empty when passed to the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method.</span></span> <span data-ttu-id="a4b17-326">如果所有 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> 方法均成功，则 <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-326">If all the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> methods succeed, the <see cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" /> method is called.</span></span> <span data-ttu-id="a4b17-327">否则，将 <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="a4b17-327">Otherwise, the <see cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" /> method is called.</span></span>  
  
<span data-ttu-id="a4b17-328">-如果需要将安装程序实例添加到 <see cref="P:System.Configuration.Install.Installer.Installers" /> 方法中的集合 <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> ，请确保在方法中对集合执行相同的添加 <see cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" /> 。</span><span class="sxs-lookup"><span data-stu-id="a4b17-328">-   If you need to add installer instances to the <see cref="P:System.Configuration.Install.Installer.Installers" /> collection in the <see cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" /> method, be sure to perform the same additions to the collection in the <see cref="M:System.Configuration.Install.Installer.Uninstall(System.Collections.IDictionary)" /> method.</span></span> <span data-ttu-id="a4b17-329">但是，如果将安装程序实例添加到 <see cref="P:System.Configuration.Install.Installer.Installers" /> 自定义安装程序的类构造函数中的集合，则可以避免在这两种方法中维护该集合。</span><span class="sxs-lookup"><span data-stu-id="a4b17-329">However, you can avoid maintaining the collection in both methods if you add installer instances to the <see cref="P:System.Configuration.Install.Installer.Installers" /> collection in the class constructor for your custom installer.</span></span></para></block>
        <altmember cref="M:System.Configuration.Install.Installer.Install(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Commit(System.Collections.IDictionary)" />
        <altmember cref="M:System.Configuration.Install.Installer.Rollback(System.Collections.IDictionary)" />
        <altmember cref="T:System.Configuration.Install.InstallerCollection" />
        <altmember cref="P:System.Configuration.Install.Installer.Installers" />
      </Docs>
    </Member>
  </Members>
</Type>

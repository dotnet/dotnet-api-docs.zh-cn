<Type Name="Roles" FullName="System.Web.Security.Roles">
  <Metadata><Meta Name="ms.openlocfilehash" Value="108fa45c855f835e1c5677a9b4d31536a7c80069" /><Meta Name="ms.sourcegitcommit" Value="c982ad9e10a242d90f1e631b5981570f9e5d9f34" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="09/10/2020" /><Meta Name="ms.locfileid" Value="89949095" /></Metadata><TypeSignature Language="C#" Value="public static class Roles" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract sealed beforefieldinit Roles extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Web.Security.Roles" />
  <TypeSignature Language="VB.NET" Value="Public Class Roles" />
  <TypeSignature Language="C++ CLI" Value="public ref class Roles abstract sealed" />
  <TypeSignature Language="F#" Value="type Roles = class" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="9c558-101">管理角色中的用户成员资格，以便在 ASP.NET 应用程序中进行授权检查。</span><span class="sxs-lookup"><span data-stu-id="9c558-101">Manages user membership in roles for authorization checking in an ASP.NET application.</span></span> <span data-ttu-id="9c558-102">此类不能被继承。</span><span class="sxs-lookup"><span data-stu-id="9c558-102">This class cannot be inherited.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-103">ASP.NET 角色管理使你可以基于用户组（称为角色）来管理应用程序的授权。</span><span class="sxs-lookup"><span data-stu-id="9c558-103">ASP.NET role management enables you to manage authorization for your application based on groups of users, referred to as roles.</span></span> <span data-ttu-id="9c558-104">将用户分配到角色后，你可以根据角色（而不是基于用户名指定授权）来控制对 Web 应用程序的不同部分或功能的访问。</span><span class="sxs-lookup"><span data-stu-id="9c558-104">By assigning users to roles, you can control access to different parts or features of your Web application based on role instead of, or in addition to, specifying authorization based on user name.</span></span> <span data-ttu-id="9c558-105">例如，员工应用程序可能具有角色（如经理、员工、董事等），其中为每个角色指定了不同的权限。</span><span class="sxs-lookup"><span data-stu-id="9c558-105">For example, an employee application might have roles such as Managers, Employees, Directors, and so on, where different privileges are specified for each role.</span></span>

 <span data-ttu-id="9c558-106">用户可以属于多个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-106">Users can belong to more than one role.</span></span> <span data-ttu-id="9c558-107">例如，如果您的站点是论坛，则某些用户可能是成员和版主的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-107">For example, if your site is a discussion forum, some users might be in the role of both Members and Moderators.</span></span> <span data-ttu-id="9c558-108">您可以将每个角色定义为对站点具有不同的权限，同时，在这两个角色中的用户将具有这两组权限。</span><span class="sxs-lookup"><span data-stu-id="9c558-108">You might define each role to have different privileges on the site, and a user who is in both roles would then have both sets of privileges.</span></span>

 <span data-ttu-id="9c558-109">若要为 ASP.NET 应用程序启用角色管理，请[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100))使用 `system.web` 应用程序的 Web.config 文件中部分的 roleManager 元素，如下面的示例中所示。</span><span class="sxs-lookup"><span data-stu-id="9c558-109">To enable role management for your ASP.NET application, use the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element of the `system.web` section in the Web.config file for your application, as shown in the following example.</span></span>

```
<configuration>
  <connectionStrings>
    <add name="SqlServices" connectionString="Data Source=localhost;Initial Catalog=aspnetdb;Integrated Security=SSPI;" />
  </connectionStrings>

  <system.web>
    <authentication mode="Forms" >
      <forms loginUrl="login.aspx"
      name=".ASPXFORMSAUTH" />
    </authentication>

  <roleManager defaultProvider="SqlProvider"
    enabled="true"
    cacheRolesInCookie="true"
    cookieName=".ASPROLES"
    cookieTimeout="30"
    cookiePath="/"
    cookieRequireSSL="false"
    cookieSlidingExpiration="true"
    cookieProtection="All" >
    <providers>
      <add
        name="SqlProvider"
        type="System.Web.Security.SqlRoleProvider"
        connectionStringName="SqlServices"
        applicationName="SampleApplication" />
      </providers>
    </roleManager>
  </system.web>
</configuration>
```

 <span data-ttu-id="9c558-110">你可以在 Web 应用程序的配置文件中或在代码中以编程方式指定授权规则。</span><span class="sxs-lookup"><span data-stu-id="9c558-110">You can specify authorization rules in the configuration file for your Web application or programmatically in your code.</span></span> <span data-ttu-id="9c558-111">例如，Web.config 文件中的以下 [授权](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/8d82143t(v=vs.100)) 部分要求用户通过拒绝) 匿名用户登录 (，然后仅允许管理员角色中的用户拥有访问权限。</span><span class="sxs-lookup"><span data-stu-id="9c558-111">For example, the following [authorization](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/8d82143t(v=vs.100)) section from a Web.config file requires users to log on (by denying anonymous users), and then allows only users in the Administrators role to have access.</span></span>

```
<authorization>
  <deny users="?" />
  <allow roles="Administrators" />
  <deny users="*" />
</authorization>
```

 <span data-ttu-id="9c558-112">如果你使用 `authorization` 应用程序的 Web.config 文件中的部分指定基于角色的授权，则你的应用程序的用户必须提供经过身份验证的用户标识。</span><span class="sxs-lookup"><span data-stu-id="9c558-112">If you use the `authorization` section in your application's Web.config file to specify authorization based on roles, users of your application must supply an authenticated user identity.</span></span> <span data-ttu-id="9c558-113">可以使用 Windows 或 Forms 身份验证对用户进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="9c558-113">You can authenticate users by using either Windows or Forms authentication.</span></span> <span data-ttu-id="9c558-114">不能将匿名用户分配到角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-114">Anonymous users cannot be assigned to a role.</span></span> <span data-ttu-id="9c558-115">角色可以单独使用，也可以与 ASP.NET 类一起使用 <xref:System.Web.Security.Membership> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-115">Roles can be used independently of, or in conjunction with, the ASP.NET <xref:System.Web.Security.Membership> classes.</span></span>

 <span data-ttu-id="9c558-116">若要以编程方式验证角色成员身份，可以将 <xref:System.Web.Security.Roles> 类或 <xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType> 属性与 <xref:System.Web.Security.Roles.IsUserInRole%2A> 方法一起使用，也可以将 <xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType> 属性与方法一起使用 <xref:System.Security.Principal.IPrincipal.IsInRole%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-116">To verify role membership programmatically, you can use the <xref:System.Web.Security.Roles> class or the <xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType> property with the <xref:System.Web.Security.Roles.IsUserInRole%2A> method, or you can use the <xref:System.Web.UI.Page.User%2A?displayProperty=nameWithType> property with the <xref:System.Security.Principal.IPrincipal.IsInRole%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="9c558-117">有关以编程方式检查角色成员身份的示例代码，请参阅本主题中的 "示例" 部分。</span><span class="sxs-lookup"><span data-stu-id="9c558-117">For sample code that programmatically checks role membership, see the Example section in this topic.</span></span>

 <span data-ttu-id="9c558-118"><xref:System.Web.Security.Roles>类还允许您创建和删除角色，并向角色添加用户或从中删除用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-118">The <xref:System.Web.Security.Roles> class also enables you to create and delete roles and to add users to or remove users from roles.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-119">如果已将应用程序配置为使用 <xref:System.Web.Security.WindowsTokenRoleProvider> 类，则不能修改角色或角色成员身份。</span><span class="sxs-lookup"><span data-stu-id="9c558-119">If you have configured your application to use the <xref:System.Web.Security.WindowsTokenRoleProvider> class, you cannot modify roles or role membership.</span></span> <span data-ttu-id="9c558-120"><xref:System.Web.Security.WindowsTokenRoleProvider>类只验证 Windows 安全组中的成员身份。</span><span class="sxs-lookup"><span data-stu-id="9c558-120">The <xref:System.Web.Security.WindowsTokenRoleProvider> class verifies membership in Windows security groups only.</span></span> <span data-ttu-id="9c558-121">在这种情况下，你必须使用 Windows 用户帐户管理而不是 ASP.NET 角色来创建和删除组以及管理组成员身份。</span><span class="sxs-lookup"><span data-stu-id="9c558-121">In this case, you must use Windows user account management rather than ASP.NET roles to create and delete groups and manage group membership.</span></span>

 <span data-ttu-id="9c558-122">你可以在多个数据源中存储角色信息。</span><span class="sxs-lookup"><span data-stu-id="9c558-122">You can store role information in several data sources.</span></span>

-   <span data-ttu-id="9c558-123">可以使用类根据 <xref:System.Web.Security.WindowsTokenRoleProvider> Windows 组中的成员身份检索角色信息。</span><span class="sxs-lookup"><span data-stu-id="9c558-123">You can use the <xref:System.Web.Security.WindowsTokenRoleProvider> class to retrieve role information based on membership in Windows groups.</span></span>

-   <span data-ttu-id="9c558-124">您可以使用类将角色信息存储在 SQL Server 数据库中 <xref:System.Web.Security.SqlRoleProvider> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-124">You can store role information in a SQL Server database by using the <xref:System.Web.Security.SqlRoleProvider> class.</span></span>

-   <span data-ttu-id="9c558-125">如果你有现有的角色信息，或想要在中存储角色信息并从 Windows、授权存储或 SQL Server 之外的数据源中检索角色信息，则可以通过创建继承抽象类的类来实现自定义角色提供程序 <xref:System.Web.Security.RoleProvider> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-125">If you have existing role information, or want to store role information in and retrieve role information from a data source other than Windows, an Authorization Store, or SQL Server, you can implement a custom role provider by creating a class that inherits the <xref:System.Web.Security.RoleProvider> abstract class.</span></span> <span data-ttu-id="9c558-126">有关详细信息，请参阅 [实现角色提供程序](https://docs.microsoft.com/previous-versions/aspnet/8fw7xh74(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="9c558-126">For more information, see [Implementing a Role Provider](https://docs.microsoft.com/previous-versions/aspnet/8fw7xh74(v=vs.100)).</span></span>

 <span data-ttu-id="9c558-127">如果用户的浏览器接受 cookie，则可以在用户计算机上的 cookie 中存储该用户的角色信息。</span><span class="sxs-lookup"><span data-stu-id="9c558-127">If a user's browser accepts cookies, you can store role information for that user in a cookie on the user's computer.</span></span> <span data-ttu-id="9c558-128">在每个页面请求上，ASP.NET 从 cookie 读取该用户的角色信息。</span><span class="sxs-lookup"><span data-stu-id="9c558-128">On each page request, ASP.NET reads the role information for that user from the cookie.</span></span> <span data-ttu-id="9c558-129">这可以减少数据源检索角色信息所需的通信量，从而提高应用程序性能。</span><span class="sxs-lookup"><span data-stu-id="9c558-129">This can improve application performance by reducing the amount of communication required with the data source to retrieve role information.</span></span> <span data-ttu-id="9c558-130">如果用户的角色信息太长，无法存储在 cookie 中，则 ASP.NET 会将最近使用的角色信息存储在 cookie 中，然后根据需要在数据源中查找其他角色信息。</span><span class="sxs-lookup"><span data-stu-id="9c558-130">If the role information for a user is too long to store in a cookie, ASP.NET stores just the most recently used role information in the cookie and then looks up additional role information in the data source as required.</span></span> <span data-ttu-id="9c558-131">如果用户的浏览器不支持 cookie 或 cookie 处于禁用状态，则不会在 cookie 中缓存角色信息。</span><span class="sxs-lookup"><span data-stu-id="9c558-131">If the user's browser does not support cookies or cookies are disabled, role information is not cached in a cookie.</span></span>

 <span data-ttu-id="9c558-132">你可以通过在 <xref:System.Web.Security.Roles.CookieProtectionValue%2A> 配置 ASP.NET 角色时指定属性来提高 cookie 中缓存的角色名称的可靠性。</span><span class="sxs-lookup"><span data-stu-id="9c558-132">You can improve the reliability of the role names cached in a cookie by specifying a <xref:System.Web.Security.Roles.CookieProtectionValue%2A> property when you configure ASP.NET roles.</span></span> <span data-ttu-id="9c558-133">默认值 <xref:System.Web.Security.Roles.CookieProtectionValue%2A> 为 `All` ，它将加密 cookie 中的角色名称并验证 cookie 内容是否未被更改。</span><span class="sxs-lookup"><span data-stu-id="9c558-133">The default <xref:System.Web.Security.Roles.CookieProtectionValue%2A> is `All`, which encrypts role names in the cookie and validates that the cookie contents have not been altered.</span></span>



## Examples
 <span data-ttu-id="9c558-134">下面的示例演示了配置为同时使用 ASP.NET 和 ASP.NET 角色并使用将 <xref:System.Web.Security.SqlRoleProvider> 成员身份和角色信息存储在 SQL Server 数据库中的应用程序的 Web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="9c558-134">The following example shows the Web.config file for an application configured to use both ASP.NET membership and ASP.NET roles and to use the <xref:System.Web.Security.SqlRoleProvider> to store membership and role information in a SQL Server database.</span></span> <span data-ttu-id="9c558-135">使用 forms 身份验证对用户进行身份验证，并且仅允许管理员角色中的用户访问应用程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-135">Users are authenticated with forms authentication and only users in the Administrators role are allowed access to the application.</span></span>

```
<configuration>
  <connectionStrings>
    <add name="SqlServices" connectionString="Data Source=localhost;Initial Catalog=aspnetdb;Integrated Security=SSPI;" />
  </connectionStrings>

  <system.web>
    <authentication mode="Forms" >
      <forms loginUrl="login.aspx"
      name=".ASPXFORMSAUTH" />
    </authentication>

    <authorization>
      <deny users="?" />
      <allow roles="Administrators" />
      <deny users="*" />
    </authorization>

    <membership defaultProvider="AspNetSqlProvider" userIsOnlineTimeWindow="15">
    </membership>

    <roleManager defaultProvider="SqlProvider"
      enabled="true"
      cacheRolesInCookie="true"
      cookieName=".ASPROLES"
      cookieTimeout="30"
      cookiePath="/"
      cookieRequireSSL="true"
      cookieSlidingExpiration="true"
      cookieProtection="All" >

      <providers>
        <clear />
        <add
          name="SqlProvider"
          type="System.Web.Security.SqlRoleProvider"
          connectionStringName="SqlServices"
          applicationName="SampleApplication" />
        </providers>

    </roleManager>
  </system.web>
</configuration>
```

 <span data-ttu-id="9c558-136">下面的代码示例以编程方式检查登录用户是否是管理员角色，然后允许用户查看其他用户的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-136">The following code example programmatically checks whether the logged-on user is in the Administrators role before allowing the user to view other users' roles.</span></span>



 ]]></format>
    </remarks>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-137">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-137">Understanding ASP.NET Role Management</span></span></related>
  </Docs>
  <Members>
    <Member MemberName="AddUsersToRole">
      <MemberSignature Language="C#" Value="public static void AddUsersToRole (string[] usernames, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUsersToRole(string[] usernames, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUsersToRole(System.String[],System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUsersToRole (usernames As String(), roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUsersToRole(cli::array &lt;System::String ^&gt; ^ usernames, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member AddUsersToRole : string[] * string -&gt; unit" Usage="System.Web.Security.Roles.AddUsersToRole (usernames, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="usernames"><span data-ttu-id="9c558-138">一个字符串数组，其中包含要添加到指定角色的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-138">A string array of user names to add to the specified role.</span></span></param>
        <param name="roleName"><span data-ttu-id="9c558-139">要将指定的用户名添加到的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-139">The role to add the specified user names to.</span></span></param>
        <summary><span data-ttu-id="9c558-140">将指定的用户添加到指定的角色中。</span><span class="sxs-lookup"><span data-stu-id="9c558-140">Adds the specified users to the specified role.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-141"><xref:System.Web.Security.Roles.AddUsersToRole%2A>方法调用默认的角色提供程序来将指定用户与数据源中的指定角色关联。</span><span class="sxs-lookup"><span data-stu-id="9c558-141">The <xref:System.Web.Security.Roles.AddUsersToRole%2A> method calls the default role provider to associate the specified users with the specified role at the data source.</span></span>

 <span data-ttu-id="9c558-142">如果你的应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 类，则在调用方法的过程中执行的数据库更新将在 <xref:System.Web.Security.SqlRoleProvider.AddUsersToRoles%2A> 一个事务中进行。</span><span class="sxs-lookup"><span data-stu-id="9c558-142">If your application uses the <xref:System.Web.Security.SqlRoleProvider> class, the database updates that are performed during the call to the <xref:System.Web.Security.SqlRoleProvider.AddUsersToRoles%2A> method are made within a transaction.</span></span> <span data-ttu-id="9c558-143">如果遇到错误（如已在指定角色中的用户名），则将回滚该事务，并且不执行任何更新。</span><span class="sxs-lookup"><span data-stu-id="9c558-143">If an error is encountered, such as a user name that is already in a specified role, the transaction is rolled back and no updates are performed.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-144">用户名和角色名称不能包含逗号。</span><span class="sxs-lookup"><span data-stu-id="9c558-144">User names and role names cannot contain commas.</span></span>



## Examples
 <span data-ttu-id="9c558-145">下面的代码示例将一个或多个用户添加到角色，或根据用户输入从角色中删除用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-145">The following code example adds one or more users to a role or removes a user from a role based on user input.</span></span> <span data-ttu-id="9c558-146">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-146">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-147"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-147"><paramref name="roleName" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-148">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-148">-or-</span></span>

<span data-ttu-id="9c558-149"><paramref name="usernames" /> 的其中一个元素为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-149">One of the elements in <paramref name="usernames" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-150"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-150"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-151">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-151">-or-</span></span>

<span data-ttu-id="9c558-152"><paramref name="usernames" /> 中的一个元素是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-152">One of the elements in <paramref name="usernames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-153">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-153">-or-</span></span>

 <span data-ttu-id="9c558-154"><paramref name="usernames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-154"><paramref name="usernames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-155">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-155">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-156">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-156">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AddUsersToRoles">
      <MemberSignature Language="C#" Value="public static void AddUsersToRoles (string[] usernames, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUsersToRoles(string[] usernames, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUsersToRoles(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUsersToRoles (usernames As String(), roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUsersToRoles(cli::array &lt;System::String ^&gt; ^ usernames, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member AddUsersToRoles : string[] * string[] -&gt; unit" Usage="System.Web.Security.Roles.AddUsersToRoles (usernames, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="usernames"><span data-ttu-id="9c558-157">一个字符串数组，其中包含要添加到指定角色的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-157">A string array of user names to add to the specified roles.</span></span></param>
        <param name="roleNames"><span data-ttu-id="9c558-158">一个字符串数组，其中包含要将指定用户名添加到的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-158">A string array of role names to add the specified user names to.</span></span></param>
        <summary><span data-ttu-id="9c558-159">将指定的用户添加到指定的角色中。</span><span class="sxs-lookup"><span data-stu-id="9c558-159">Adds the specified users to the specified roles.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-160"><xref:System.Web.Security.Roles.AddUsersToRoles%2A>方法调用默认的角色提供程序，以将指定用户与数据源中的指定角色关联。</span><span class="sxs-lookup"><span data-stu-id="9c558-160">The <xref:System.Web.Security.Roles.AddUsersToRoles%2A> method calls the default role provider to associate the specified users with the specified roles at the data source.</span></span>

 <span data-ttu-id="9c558-161">如果你的应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 类，则在调用方法的过程中执行的数据库更新将在 <xref:System.Web.Security.SqlRoleProvider.AddUsersToRoles%2A> 一个事务中进行。</span><span class="sxs-lookup"><span data-stu-id="9c558-161">If your application uses the <xref:System.Web.Security.SqlRoleProvider> class, the database updates that are performed during the call to the <xref:System.Web.Security.SqlRoleProvider.AddUsersToRoles%2A> method are made within a transaction.</span></span> <span data-ttu-id="9c558-162">如果遇到错误（如已在指定角色中的用户名），则将回滚该事务，并且不执行任何更新。</span><span class="sxs-lookup"><span data-stu-id="9c558-162">If an error is encountered, such as a user name that is already in a specified role, the transaction is rolled back and no updates are performed.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-163">用户名和角色名称不能包含逗号。</span><span class="sxs-lookup"><span data-stu-id="9c558-163">User names and role names cannot contain commas.</span></span>



## Examples
 <span data-ttu-id="9c558-164">下面的代码示例将一个或多个用户添加到一个或多个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-164">The following code example adds one or more users to one or more roles.</span></span> <span data-ttu-id="9c558-165">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-165">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/adduserstorolescs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.Roles#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/adduserstorolesvb.aspx#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-166"><paramref name="roleNames" /> 中的一个角色为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-166">One of the roles in <paramref name="roleNames" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-167">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-167">-or-</span></span>

<span data-ttu-id="9c558-168"><paramref name="usernames" /> 中的一个用户为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-168">One of the users in <paramref name="usernames" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-169"><paramref name="roleNames" /> 中的一个角色是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-169">One of the roles in <paramref name="roleNames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-170">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-170">-or-</span></span>

<span data-ttu-id="9c558-171"><paramref name="usernames" /> 中的一个用户是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-171">One of the users in <paramref name="usernames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-172">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-172">-or-</span></span>

 <span data-ttu-id="9c558-173"><paramref name="roleNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-173"><paramref name="roleNames" /> contains a duplicate element.</span></span>

<span data-ttu-id="9c558-174">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-174">-or-</span></span>

 <span data-ttu-id="9c558-175"><paramref name="usernames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-175"><paramref name="usernames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-176">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-176">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-177">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-177">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AddUserToRole">
      <MemberSignature Language="C#" Value="public static void AddUserToRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUserToRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUserToRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUserToRole (username As String, roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUserToRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member AddUserToRole : string * string -&gt; unit" Usage="System.Web.Security.Roles.AddUserToRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="9c558-178">要添加到指定角色中的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-178">The user name to add to the specified role.</span></span></param>
        <param name="roleName"><span data-ttu-id="9c558-179">要将指定的用户名添加到的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-179">The role to add the specified user name to.</span></span></param>
        <summary><span data-ttu-id="9c558-180">将指定的用户添加到指定的角色中。</span><span class="sxs-lookup"><span data-stu-id="9c558-180">Adds the specified user to the specified role.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-181"><xref:System.Web.Security.Roles.AddUserToRole%2A>方法调用默认的角色提供程序来将指定用户与数据源中的指定角色关联。</span><span class="sxs-lookup"><span data-stu-id="9c558-181">The <xref:System.Web.Security.Roles.AddUserToRole%2A> method calls the default role provider to associate the specified user with the specified role at the data source.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-182">用户名和角色名称不能包含逗号。</span><span class="sxs-lookup"><span data-stu-id="9c558-182">User names and role names cannot contain commas.</span></span>



## Examples
 <span data-ttu-id="9c558-183">下面的代码示例将一个用户添加到角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-183">The following code example adds a user to a role.</span></span> <span data-ttu-id="9c558-184">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-184">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/addusertorolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.Roles#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/addusertorolevb.aspx#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-185"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-185"><paramref name="roleName" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-186">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-186">-or-</span></span>

 <span data-ttu-id="9c558-187"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-187"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-188"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-188"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-189">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-189">-or-</span></span>

 <span data-ttu-id="9c558-190"><paramref name="username" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-190"><paramref name="username" /> is an empty string or contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-191">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-191">Role management is not enabled.</span></span>

 <span data-ttu-id="9c558-192">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-192">-or-</span></span>

 <span data-ttu-id="9c558-193">用户已分配给指定的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-193">User is already assigned to the specified role.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-194">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-194">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AddUserToRoles">
      <MemberSignature Language="C#" Value="public static void AddUserToRoles (string username, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void AddUserToRoles(string username, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.AddUserToRoles(System.String,System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub AddUserToRoles (username As String, roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void AddUserToRoles(System::String ^ username, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member AddUserToRoles : string * string[] -&gt; unit" Usage="System.Web.Security.Roles.AddUserToRoles (username, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="9c558-195">要添加到指定角色中的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-195">The user name to add to the specified roles.</span></span></param>
        <param name="roleNames"><span data-ttu-id="9c558-196">一个字符串数组，其中包含要将指定用户名添加到的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-196">A string array of roles to add the specified user name to.</span></span></param>
        <summary><span data-ttu-id="9c558-197">将指定的用户添加到指定的角色中。</span><span class="sxs-lookup"><span data-stu-id="9c558-197">Adds the specified user to the specified roles.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-198"><xref:System.Web.Security.Roles.AddUserToRoles%2A>方法调用默认的角色提供程序，以便将指定的用户与数据源中的指定角色关联。</span><span class="sxs-lookup"><span data-stu-id="9c558-198">The <xref:System.Web.Security.Roles.AddUserToRoles%2A> method calls the default role provider to associate the specified user with the specified roles at the data source.</span></span>

 <span data-ttu-id="9c558-199">如果你的应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 类，则在调用方法的过程中执行的数据库更新将在 <xref:System.Web.Security.Roles.AddUserToRoles%2A> 一个事务中进行。</span><span class="sxs-lookup"><span data-stu-id="9c558-199">If your application uses the <xref:System.Web.Security.SqlRoleProvider> class, the database updates that are performed during the call to the <xref:System.Web.Security.Roles.AddUserToRoles%2A> method are made within a transaction.</span></span> <span data-ttu-id="9c558-200">如果遇到错误（如已在指定角色中的用户名），则将回滚该事务，并且不执行任何更新。</span><span class="sxs-lookup"><span data-stu-id="9c558-200">If an error is encountered, such as a user name that is already in a specified role, the transaction is rolled back and no updates are performed.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-201">用户名和角色名称不能包含逗号。</span><span class="sxs-lookup"><span data-stu-id="9c558-201">User names and role names cannot contain commas.</span></span>



## Examples
 <span data-ttu-id="9c558-202">下面的代码示例将一个用户添加到一个或多个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-202">The following code example adds a user to one or more roles.</span></span> <span data-ttu-id="9c558-203">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-203">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/addusertorolescs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.Roles#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/addusertorolesvb.aspx#3)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-204"><paramref name="roleNames" /> 中的一个角色为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-204">One of the roles in <paramref name="roleNames" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-205">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-205">-or-</span></span>

 <span data-ttu-id="9c558-206"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-206"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-207"><paramref name="roleNames" /> 中的一个角色是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-207">One of the roles in <paramref name="roleNames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-208">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-208">-or-</span></span>

 <span data-ttu-id="9c558-209"><paramref name="username" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-209"><paramref name="username" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-210">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-210">-or-</span></span>

 <span data-ttu-id="9c558-211"><paramref name="roleNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-211"><paramref name="roleNames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-212">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-212">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-213">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-213">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public static string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public Shared Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.Security.Roles.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-214">获取或设置要存储和检索其角色信息的应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-214">Gets or sets the name of the application to store and retrieve role information for.</span></span></summary>
        <value><span data-ttu-id="9c558-215">要存储和检索其角色信息的应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-215">The name of the application to store and retrieve role information for.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-216"><xref:System.Web.Security.Roles.ApplicationName%2A>类使用属性 <xref:System.Web.Security.Roles> 将用户和角色与不同的应用程序相关联。</span><span class="sxs-lookup"><span data-stu-id="9c558-216">The <xref:System.Web.Security.Roles.ApplicationName%2A> property is used by the <xref:System.Web.Security.Roles> class to associate users and roles with different applications.</span></span> <span data-ttu-id="9c558-217">这使多个应用程序可以使用同一数据源来存储用户和角色信息，而不会在重复用户名或重复角色名称之间发生冲突。</span><span class="sxs-lookup"><span data-stu-id="9c558-217">This enables multiple applications to use the same data source to store user and role information without running into conflicts between duplicate user names or duplicate role names.</span></span> <span data-ttu-id="9c558-218">多个 ASP.NET 应用程序可以通过在属性中指定相同的值，来使用相同的数据源 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-218">Multiple ASP.NET applications can use the same data source by specifying the same value in the <xref:System.Web.Security.Roles.ApplicationName%2A> property.</span></span> <span data-ttu-id="9c558-219">可以通过 <xref:System.Web.Security.Roles.ApplicationName%2A> 编程方式设置该属性，也可以通过使用属性以声明方式在 Web 应用程序的配置文件中设置该属性 `applicationName` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-219">You can set the <xref:System.Web.Security.Roles.ApplicationName%2A> property programmatically, or you can set it declaratively in the configuration file for the Web application by using the `applicationName` attribute.</span></span>

 <span data-ttu-id="9c558-220">如果你的 Web 应用程序使用的是 <xref:System.Web.Security.SqlRoleProvider> 类，并且没有为 `applicationName` 配置文件中的属性指定值，则 <xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType> 使用当前属性的属性值 <xref:System.Web.HttpContext.Request%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-220">If your Web application is using the <xref:System.Web.Security.SqlRoleProvider> class and a value is not specified for the `applicationName` attribute in the configuration file, the <xref:System.Web.HttpRequest.ApplicationPath%2A?displayProperty=nameWithType> property value for the current <xref:System.Web.HttpContext.Request%2A?displayProperty=nameWithType> property is used.</span></span>

> [!CAUTION]
>  <span data-ttu-id="9c558-221">由于单个默认角色提供程序实例用于对象所提供的所有请求 <xref:System.Web.HttpApplication> ，因此您可以同时执行多个请求并尝试设置 <xref:System.Web.Security.Roles.ApplicationName%2A> 属性值。</span><span class="sxs-lookup"><span data-stu-id="9c558-221">Because a single default role provider instance is used for all of the requests served by an <xref:System.Web.HttpApplication> object, you can have multiple requests executing concurrently and attempting to set the <xref:System.Web.Security.Roles.ApplicationName%2A> property value.</span></span> <span data-ttu-id="9c558-222"><xref:System.Web.Security.Roles.ApplicationName%2A>对于多个写入，属性不是线程安全的，并且更改 <xref:System.Web.Security.Roles.ApplicationName%2A> 属性值可能会导致应用程序的多个用户产生意外行为。</span><span class="sxs-lookup"><span data-stu-id="9c558-222">The <xref:System.Web.Security.Roles.ApplicationName%2A> property is not thread safe for multiple writes, and changing the <xref:System.Web.Security.Roles.ApplicationName%2A> property value can result in unexpected behavior for multiple users of an application.</span></span> <span data-ttu-id="9c558-223">除非有必要，否则应避免编写代码以使用户能够设置 <xref:System.Web.Security.Roles.ApplicationName%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="9c558-223">You should avoid writing code to allow users to set the <xref:System.Web.Security.Roles.ApplicationName%2A> property, unless required.</span></span> <span data-ttu-id="9c558-224">可能需要设置属性的应用程序的一个示例 <xref:System.Web.Security.Roles.ApplicationName%2A> 是管理多个应用程序的角色数据的管理应用程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-224">An example of an application where setting the <xref:System.Web.Security.Roles.ApplicationName%2A> property may be required is an administrative application that manages role data for multiple applications.</span></span> <span data-ttu-id="9c558-225">此类应用程序应为单用户应用程序，而不是 Web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-225">Such an application should be a single-user application and not a Web application.</span></span>



## Examples
 <span data-ttu-id="9c558-226">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-226">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-227">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 `applicationName` 为 `MyApplication` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-227">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the `applicationName` attribute to `MyApplication`.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="All" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-228">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-228">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CacheRolesInCookie">
      <MemberSignature Language="C#" Value="public static bool CacheRolesInCookie { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CacheRolesInCookie" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CacheRolesInCookie" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CacheRolesInCookie As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CacheRolesInCookie { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CacheRolesInCookie : bool" Usage="System.Web.Security.Roles.CacheRolesInCookie" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-229">获取一个值，该值指示当前用户的角色是否已缓存在某个 Cookie 中。</span><span class="sxs-lookup"><span data-stu-id="9c558-229">Gets a value indicating whether the current user's roles are cached in a cookie.</span></span></summary>
        <value><span data-ttu-id="9c558-230">如果当前用户的角色已缓存在某个 Cookie 中，则为 <see langword="true" />；否则，为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-230"><see langword="true" /> if the current user's roles are cached in a cookie; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="9c558-231">默认值为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-231">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-232">如果 <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> Web.config 文件中的属性设置为 `true` ，则会将每个用户的角色信息存储在一个 cookie 中。</span><span class="sxs-lookup"><span data-stu-id="9c558-232">When the <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> property is set to `true` in the Web.config file, role information for each user is stored in a cookie.</span></span> <span data-ttu-id="9c558-233">当角色管理检查以确定用户是否属于特定角色时，在调用角色提供程序以检查数据源角色列表之前，将检查角色 cookie。</span><span class="sxs-lookup"><span data-stu-id="9c558-233">When role management checks to see whether a user is in a particular role, the roles cookie is checked before the role provider is called to check the list of roles at the data source.</span></span> <span data-ttu-id="9c558-234">Cookie 会动态更新，以缓存最近验证的角色名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-234">The cookie is dynamically updated to cache the most recently validated role names.</span></span>

 <span data-ttu-id="9c558-235">你可以通过在 <xref:System.Web.Security.Roles.CookieProtectionValue%2A> 配置 ASP.NET 角色时指定属性来提高 cookie 中缓存的角色名称的可靠性。</span><span class="sxs-lookup"><span data-stu-id="9c558-235">You can improve the reliability of the role names cached in a cookie by specifying a <xref:System.Web.Security.Roles.CookieProtectionValue%2A> property when you configure ASP.NET roles.</span></span> <span data-ttu-id="9c558-236">默认值 <xref:System.Web.Security.Roles.CookieProtectionValue%2A> 为 `All` ，它将加密 cookie 中的角色名称并验证 cookie 内容是否未被更改。</span><span class="sxs-lookup"><span data-stu-id="9c558-236">The default <xref:System.Web.Security.Roles.CookieProtectionValue%2A> is `All`, which encrypts role names in the cookie and validates that the cookie contents have not been altered.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-237">由于角色名称可以与数据源分开缓存，因此，在数据源中对角色管理的更改可能不会反映在缓存的值中。</span><span class="sxs-lookup"><span data-stu-id="9c558-237">Because role names can be cached apart from the data source, it is possible that changes to role management at the data source would not be reflected in the cached values.</span></span> <span data-ttu-id="9c558-238">在这种情况下，用户必须关闭并重新打开其浏览器，才能清除缓存的 cookie 值。</span><span class="sxs-lookup"><span data-stu-id="9c558-238">In this case, the user must close and re-open their browser to clear the cached cookie value.</span></span>



## Examples
 <span data-ttu-id="9c558-239">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-239">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-240">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 `cacheRolesInCookie` 为 `true` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-240">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the `cacheRolesInCookie` attribute to `true`.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="All" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
   </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-241">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-241">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CookieName">
      <MemberSignature Language="C#" Value="public static string CookieName { get; }" />
      <MemberSignature Language="ILAsm" Value=".property string CookieName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieName" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ CookieName { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieName : string" Usage="System.Web.Security.Roles.CookieName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-242">获取在其中缓存角色名称的 Cookie 的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-242">Gets the name of the cookie where role names are cached.</span></span></summary>
        <value><span data-ttu-id="9c558-243">在其中缓存角色名称的 Cookie 的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-243">The name of the cookie where role names are cached.</span></span> <span data-ttu-id="9c558-244">默认值是 .ASPXROLES。</span><span class="sxs-lookup"><span data-stu-id="9c558-244">The default is .ASPXROLES.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-245">可以通过设置 `cookieName` ASP.NET 应用程序的 Web.config 文件中的属性，指定用于为应用程序缓存角色的 cookie 的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-245">You can specify the name of the cookie where roles are cached for your application by setting the `cookieName` attribute in the Web.config file for your ASP.NET application.</span></span> <span data-ttu-id="9c558-246">当你希望唯一标识应用程序的 cookie 或在多个应用程序（如域 cookie）之间共享 cookie 时，此方法非常有用。</span><span class="sxs-lookup"><span data-stu-id="9c558-246">This is useful when you want to uniquely identify a cookie for your application or when a cookie is shared across multiple applications, such as a domain cookie.</span></span>



## Examples
 <span data-ttu-id="9c558-247">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-247">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-248">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 `cookieName` 为。ASPROLES.</span><span class="sxs-lookup"><span data-stu-id="9c558-248">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the `cookieName` attribute to .ASPROLES.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="All" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-249">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-249">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CookiePath">
      <MemberSignature Language="C#" Value="public static string CookiePath { get; }" />
      <MemberSignature Language="ILAsm" Value=".property string CookiePath" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookiePath" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookiePath As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ CookiePath { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.CookiePath : string" Usage="System.Web.Security.Roles.CookiePath" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-250">获取缓存角色名称的 Cookie 的路径。</span><span class="sxs-lookup"><span data-stu-id="9c558-250">Gets the path for the cached role names cookie.</span></span></summary>
        <value><span data-ttu-id="9c558-251">在其中缓存角色名称的 Cookie 的路径。</span><span class="sxs-lookup"><span data-stu-id="9c558-251">The path of the cookie where role names are cached.</span></span> <span data-ttu-id="9c558-252">默认值是 /。</span><span class="sxs-lookup"><span data-stu-id="9c558-252">The default is /.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-253">通过在 `cookiePath` ASP.NET 应用程序的 Web.config 文件中设置属性，可以指定为应用程序缓存角色的 cookie 的路径。</span><span class="sxs-lookup"><span data-stu-id="9c558-253">You can specify the path of the cookie where roles are cached for your application by setting the `cookiePath` attribute in the Web.config file for your ASP.NET application.</span></span> <span data-ttu-id="9c558-254">有关 cookie 路径的详细信息，请参阅 <xref:System.Web.HttpCookie.Path%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-254">For more information on cookie paths, see <xref:System.Web.HttpCookie.Path%2A>.</span></span>



## Examples
 <span data-ttu-id="9c558-255">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-255">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-256">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 `cookiePath` 为/MyApplication。</span><span class="sxs-lookup"><span data-stu-id="9c558-256">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the `cookiePath` attribute to /MyApplication.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/MyApplication"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="All" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-257">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-257">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CookieProtectionValue">
      <MemberSignature Language="C#" Value="public static System.Web.Security.CookieProtection CookieProtectionValue { get; }" />
      <MemberSignature Language="ILAsm" Value=".property valuetype System.Web.Security.CookieProtection CookieProtectionValue" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieProtectionValue" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieProtectionValue As CookieProtection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::Web::Security::CookieProtection CookieProtectionValue { System::Web::Security::CookieProtection get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieProtectionValue : System.Web.Security.CookieProtection" Usage="System.Web.Security.Roles.CookieProtectionValue" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Security.CookieProtection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-258">获取一个指示如何保护在 Cookie 中缓存的角色名称的值。</span><span class="sxs-lookup"><span data-stu-id="9c558-258">Gets a value that indicates how role names cached in a cookie are protected.</span></span></summary>
        <value><span data-ttu-id="9c558-259"><see cref="T:System.Web.Security.CookieProtection" /> 枚举值的其中一个值指示如何保护在 Cookie 中缓存的角色名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-259">One of the <see cref="T:System.Web.Security.CookieProtection" /> enumeration values indicating how role names that are cached in a cookie are protected.</span></span> <span data-ttu-id="9c558-260">默认值为 <see langword="All" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-260">The default is <see langword="All" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-261">通过在 `cookieProtection` ASP.NET 应用程序的 Web.config 文件中设置属性，可以指定为应用程序缓存角色的 cookie 的保护。</span><span class="sxs-lookup"><span data-stu-id="9c558-261">You can specify the protection of the cookie where roles are cached for your application by setting the `cookieProtection` attribute in the Web.config file for your ASP.NET application.</span></span> <span data-ttu-id="9c558-262">`cookieProtection`特性采用一个 <xref:System.Web.Security.CookieProtection> 枚举值，该值指示是否对角色名称进行加密、验证和/或验证。</span><span class="sxs-lookup"><span data-stu-id="9c558-262">The `cookieProtection` attribute takes a <xref:System.Web.Security.CookieProtection> enumeration value that indicates whether the role names are encrypted, validated, both, or neither.</span></span>



## Examples
 <span data-ttu-id="9c558-263">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-263">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-264">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将 `cookieProtection` 属性设置为 `Encrypted` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-264">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets `cookieProtection` attribute to `Encrypted`.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/MyApplication"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="Encrypted" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-265">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-265">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CookieRequireSSL">
      <MemberSignature Language="C#" Value="public static bool CookieRequireSSL { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CookieRequireSSL" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieRequireSSL" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieRequireSSL As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CookieRequireSSL { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieRequireSSL : bool" Usage="System.Web.Security.Roles.CookieRequireSSL" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-266">获取一个值，该值指示角色名称 Cookie 是否需要 SSL 以便返回到服务器。</span><span class="sxs-lookup"><span data-stu-id="9c558-266">Gets a value indicating whether the role names cookie requires SSL in order to be returned to the server.</span></span></summary>
        <value><span data-ttu-id="9c558-267">如果需要 SSL 以便将角色名称 Cookie 返回到服务器，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-267"><see langword="true" /> if SSL is required to return the role names cookie to the server; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="9c558-268">默认值为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-268">The default is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-269">通过 `cookieRequireSSL` 在 ASP.NET 应用程序的 Web.config 文件中设置属性，可以指定是否需要 SSL (安全套接字层) 将角色名称 cookie 返回到应用程序中的服务器。</span><span class="sxs-lookup"><span data-stu-id="9c558-269">You can specify whether SSL (Secure Sockets Layer) is required to return the role names cookie to the server in your application by setting the `cookieRequireSSL` attribute in the Web.config file for your ASP.NET application.</span></span> <span data-ttu-id="9c558-270">有关详细信息，请参阅 <xref:System.Web.HttpCookie.Secure%2A>。</span><span class="sxs-lookup"><span data-stu-id="9c558-270">For more information, see <xref:System.Web.HttpCookie.Secure%2A>.</span></span>



## Examples
 <span data-ttu-id="9c558-271">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-271">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-272">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将设置 `cookieRequireSSL` 为 `true` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-272">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets `cookieRequireSSL` to `true`.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/MyApplication"
  cookieRequireSSL="true"
  cookieSlidingExpiration="true"
  cookieProtection="Encrypted" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-273">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-273">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CookieSlidingExpiration">
      <MemberSignature Language="C#" Value="public static bool CookieSlidingExpiration { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CookieSlidingExpiration" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieSlidingExpiration" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieSlidingExpiration As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CookieSlidingExpiration { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieSlidingExpiration : bool" Usage="System.Web.Security.Roles.CookieSlidingExpiration" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-274">指示是否将要定期重置角色名称 Cookie 的到期日期和时间。</span><span class="sxs-lookup"><span data-stu-id="9c558-274">Indicates whether the role names cookie expiration date and time will be reset periodically.</span></span></summary>
        <value><span data-ttu-id="9c558-275">如果将要定期重置角色名称 Cookie 的到期日期和时间，则为 <see langword="true" />；否则，为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-275"><see langword="true" /> if the role names cookie expiration date and time will be reset periodically; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="9c558-276">默认值为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-276">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-277">你可以使用 `cookieSlidingExpiration` ASP.NET 应用程序的 Web.config 文件中的属性指定是否要使用每个响应重置角色名称 cookie 的到期日期和时间。</span><span class="sxs-lookup"><span data-stu-id="9c558-277">You can specify whether role names cookie expiration date and time will be reset with each response by using the `cookieSlidingExpiration` attribute in the Web.config file for your ASP.NET application.</span></span> <span data-ttu-id="9c558-278">如果 `true` 为，则 cookie 过期时间将最初设置为当前日期和时间加上 <xref:System.Web.Security.Roles.CookieTimeout%2A> 分钟。</span><span class="sxs-lookup"><span data-stu-id="9c558-278">If `true`, the cookie expiration will initially be set to the current date and time plus the <xref:System.Web.Security.Roles.CookieTimeout%2A> in minutes.</span></span> <span data-ttu-id="9c558-279">当用户继续主动使用 ASP.NET 应用程序时，如果剩余的不到一半，则 cookie 的到期日期和时间将自动刷新 <xref:System.Web.Security.Roles.CookieTimeout%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-279">While the user continues to actively use the ASP.NET application, the expiration date and time of the cookie will be automatically refreshed if there is less than half of the <xref:System.Web.Security.Roles.CookieTimeout%2A> remaining.</span></span> <span data-ttu-id="9c558-280">有关更多信息，请参见 <xref:System.Web.HttpCookie.Expires%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="9c558-280">For more information, see the <xref:System.Web.HttpCookie.Expires%2A> property.</span></span>



## Examples
 <span data-ttu-id="9c558-281">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-281">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-282">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 <xref:System.Web.Security.Roles.CookieSlidingExpiration%2A> 为 `false` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-282">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the <xref:System.Web.Security.Roles.CookieSlidingExpiration%2A> property to `false`.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/MyApplication"
  cookieRequireSSL="true"
  cookieSlidingExpiration="false"
  cookieProtection="Encrypted" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-283">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-283">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CookieTimeout">
      <MemberSignature Language="C#" Value="public static int CookieTimeout { get; }" />
      <MemberSignature Language="ILAsm" Value=".property int32 CookieTimeout" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CookieTimeout" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CookieTimeout As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property int CookieTimeout { int get(); };" />
      <MemberSignature Language="F#" Value="member this.CookieTimeout : int" Usage="System.Web.Security.Roles.CookieTimeout" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-284">获取角色 Cookie 到期前的分钟数。</span><span class="sxs-lookup"><span data-stu-id="9c558-284">Gets the number of minutes before the roles cookie expires.</span></span></summary>
        <value><span data-ttu-id="9c558-285">指定角色 Cookie 到期前的分钟数的整数。</span><span class="sxs-lookup"><span data-stu-id="9c558-285">An integer specifying the number of minutes before the roles cookie expires.</span></span> <span data-ttu-id="9c558-286">默认值为 30 分钟。</span><span class="sxs-lookup"><span data-stu-id="9c558-286">The default is 30 minutes.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-287"><xref:System.Web.Security.Roles.CookieTimeout%2A>当属性为时，使用属性 <xref:System.Web.Security.Roles.CookieSlidingExpiration%2A> `true` ，并为角色 cookie 指定生存时间（以分钟为单位）。</span><span class="sxs-lookup"><span data-stu-id="9c558-287">The <xref:System.Web.Security.Roles.CookieTimeout%2A> property is used when the <xref:System.Web.Security.Roles.CookieSlidingExpiration%2A> property is `true` and specifies the time-to-live in minutes for the roles cookie.</span></span> <span data-ttu-id="9c558-288">若要设置 <xref:System.Web.Security.Roles.CookieTimeout%2A> 值，请将 `cookieTimeout` 属性添加到 ASP.NET 应用程序 Web.config 文件中的 [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) 元素，并指定一个整数值。</span><span class="sxs-lookup"><span data-stu-id="9c558-288">To set the <xref:System.Web.Security.Roles.CookieTimeout%2A> value, add the `cookieTimeout` attribute to the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the Web.config file for the ASP.NET application and specify an integer value.</span></span>

 <span data-ttu-id="9c558-289">如果 <xref:System.Web.Security.Roles.CookieSlidingExpiration%2A> 为 `false` ，则忽略此属性。</span><span class="sxs-lookup"><span data-stu-id="9c558-289">If <xref:System.Web.Security.Roles.CookieSlidingExpiration%2A> is `false`, this property is ignored.</span></span>



## Examples
 <span data-ttu-id="9c558-290">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-290">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-291">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 <xref:System.Web.Security.Roles.CookieTimeout%2A> 为30分钟。</span><span class="sxs-lookup"><span data-stu-id="9c558-291">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the <xref:System.Web.Security.Roles.CookieTimeout%2A> property to 30 minutes.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/MyApplication"
  cookieRequireSSL="true"
  cookieSlidingExpiration="true"
  cookieProtection="Encrypted" >
  <providers>
  <add
    name="SqlProvider"
    type="System.Web.Security.SqlRoleProvider"
    connectionStringName="SqlServices"
    applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-292">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-292">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreatePersistentCookie">
      <MemberSignature Language="C#" Value="public static bool CreatePersistentCookie { get; }" />
      <MemberSignature Language="ILAsm" Value=".property bool CreatePersistentCookie" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.CreatePersistentCookie" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property CreatePersistentCookie As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool CreatePersistentCookie { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.CreatePersistentCookie : bool" Usage="System.Web.Security.Roles.CreatePersistentCookie" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-293">获取一个值，该值指示角色名称 Cookie 是基于会话的还是持久性的。</span><span class="sxs-lookup"><span data-stu-id="9c558-293">Gets a value indicating whether the role-names cookie is session-based or persistent.</span></span></summary>
        <value><span data-ttu-id="9c558-294">如果角色名称 Cookie 是持久性 Cookie，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-294"><see langword="true" /> if the role-names cookie is a persistent cookie; otherwise <see langword="false" />.</span></span> <span data-ttu-id="9c558-295">默认值为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-295">The default is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-296"><xref:System.Web.Security.Roles.CreatePersistentCookie%2A>使用 `createPersistentCookie` [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100))配置元素的属性在 ASP.NET 应用程序的配置中设置属性值。</span><span class="sxs-lookup"><span data-stu-id="9c558-296">The <xref:System.Web.Security.Roles.CreatePersistentCookie%2A> property value is set in the configuration for an ASP.NET application using the `createPersistentCookie` attribute of the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) configuration element.</span></span>

 <span data-ttu-id="9c558-297">如果为 `false` ，则角色名称 cookie 是会话 cookie，即关闭浏览器后会丢失 cookie。</span><span class="sxs-lookup"><span data-stu-id="9c558-297">When `false`, the role-names cookie is a session cookie, that is, the cookie is lost when the browser is closed.</span></span> <span data-ttu-id="9c558-298">如果为 `true` ，则角色名称 cookie 是可跨多个浏览器会话使用的持久性 cookie。</span><span class="sxs-lookup"><span data-stu-id="9c558-298">When `true`, the role-names cookie is a persistent cookie that is available across multiple browser sessions.</span></span> <span data-ttu-id="9c558-299">持久性 cookie 的到期日期和时间设置为当前日期和时间加上值， <xref:System.Web.Security.Roles.CookieTimeout%2A> 以分钟为单位。</span><span class="sxs-lookup"><span data-stu-id="9c558-299">The persistent cookie expiration date and time are set to the current date and time plus the <xref:System.Web.Security.Roles.CookieTimeout%2A> value in minutes.</span></span>

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-300">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-300">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateRole">
      <MemberSignature Language="C#" Value="public static void CreateRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void CreateRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.CreateRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub CreateRole (roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void CreateRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member CreateRole : string -&gt; unit" Usage="System.Web.Security.Roles.CreateRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-301">要创建的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-301">The name of the role to create.</span></span></param>
        <summary><span data-ttu-id="9c558-302">将新的角色添加到数据源。</span><span class="sxs-lookup"><span data-stu-id="9c558-302">Adds a new role to the data source.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-303"><xref:System.Web.Security.Roles.CreateRole%2A>方法将角色名称添加到数据源。</span><span class="sxs-lookup"><span data-stu-id="9c558-303">The <xref:System.Web.Security.Roles.CreateRole%2A> method adds a role name to the data source.</span></span> <span data-ttu-id="9c558-304"><xref:System.Web.Security.Roles.CreateRole%2A> 调用 <xref:System.Web.Security.RoleProvider.CreateRole%2A> 默认角色提供程序的方法，将指定的角色添加到数据源。</span><span class="sxs-lookup"><span data-stu-id="9c558-304"><xref:System.Web.Security.Roles.CreateRole%2A> calls the <xref:System.Web.Security.RoleProvider.CreateRole%2A> method of the default role provider to add the specified role to the data source.</span></span>

> [!NOTE]
>  <span data-ttu-id="9c558-305">角色名称不能包含逗号。</span><span class="sxs-lookup"><span data-stu-id="9c558-305">Role names cannot contain commas.</span></span>



## Examples
 <span data-ttu-id="9c558-306">下面的代码示例在数据源中创建一个新的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-306">The following code example creates a new role in the data source.</span></span> <span data-ttu-id="9c558-307">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-307">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="9c558-308">此示例包含一个文本框，该文本框接受用户输入，这是一个潜在的安全威胁。</span><span class="sxs-lookup"><span data-stu-id="9c558-308">This example contains a text box that accepts user input, which is a potential security threat.</span></span> <span data-ttu-id="9c558-309">默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-309">By default, ASP.NET Web pages validate that user input does not include script or HTML elements.</span></span> <span data-ttu-id="9c558-310">有关详细信息，请参阅[脚本侵入概述](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="9c558-310">For more information, see [Script Exploits Overview](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100)).</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-311"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-311"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-312"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="9c558-312"><paramref name="roleName" /> is an empty string.</span></span>

<span data-ttu-id="9c558-313">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-313">-or-</span></span>

 <span data-ttu-id="9c558-314"><paramref name="roleName" /> 包含一个逗号。</span><span class="sxs-lookup"><span data-stu-id="9c558-314"><paramref name="roleName" /> contains a comma.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-315">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-315">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-316">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-316">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DeleteCookie">
      <MemberSignature Language="C#" Value="public static void DeleteCookie ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void DeleteCookie() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.DeleteCookie" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub DeleteCookie ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void DeleteCookie();" />
      <MemberSignature Language="F#" Value="static member DeleteCookie : unit -&gt; unit" Usage="System.Web.Security.Roles.DeleteCookie " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="9c558-317">删除在其中缓存角色名称的 Cookie。</span><span class="sxs-lookup"><span data-stu-id="9c558-317">Deletes the cookie where role names are cached.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-318"><xref:System.Web.Security.Roles.DeleteCookie%2A>方法清除用于缓存角色名称的 cookie 的内容。</span><span class="sxs-lookup"><span data-stu-id="9c558-318">The <xref:System.Web.Security.Roles.DeleteCookie%2A> method clears the contents of the cookie that is used to cache role names.</span></span> <span data-ttu-id="9c558-319">有关缓存角色名称的详细信息，请参阅 <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-319">For more information on caching role names, see <xref:System.Web.Security.Roles.CacheRolesInCookie%2A>.</span></span>



## Examples
 <span data-ttu-id="9c558-320">下面的代码示例调用 <xref:System.Web.Security.Roles.DeleteCookie%2A> 方法，以便在用户登录时清除任何缓存的角色名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-320">The following code example calls the <xref:System.Web.Security.Roles.DeleteCookie%2A> method to clear any cached role names when a user logs in.</span></span> <span data-ttu-id="9c558-321">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-321">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="9c558-322">此示例包含一个文本框，该文本框接受用户输入，这是一个潜在的安全威胁。</span><span class="sxs-lookup"><span data-stu-id="9c558-322">This example contains a text box that accepts user input, which is a potential security threat.</span></span> <span data-ttu-id="9c558-323">默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-323">By default, ASP.NET Web pages validate that user input does not include script or HTML elements.</span></span> <span data-ttu-id="9c558-324">有关详细信息，请参阅[脚本侵入概述](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="9c558-324">For more information, see [Script Exploits Overview](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100)).</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#5](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/logincs.aspx#5)]
 [!code-aspx-vb[System.Web.Security.Roles#5](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/loginvb.aspx#5)]

 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-325">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-325">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-326">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-326">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="DeleteRole">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="9c558-327">从数据源移除一个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-327">Removes a role from the data source.</span></span></summary>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-328">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-328">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="DeleteRole">
      <MemberSignature Language="C#" Value="public static bool DeleteRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool DeleteRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.DeleteRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function DeleteRole (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool DeleteRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member DeleteRole : string -&gt; bool" Usage="System.Web.Security.Roles.DeleteRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-329">要删除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-329">The name of the role to delete.</span></span></param>
        <summary><span data-ttu-id="9c558-330">从数据源移除一个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-330">Removes a role from the data source.</span></span></summary>
        <returns><span data-ttu-id="9c558-331">如果从数据源中删除 <paramref name="roleName" />，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-331"><see langword="true" /> if <paramref name="roleName" /> was deleted from the data source; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-332"><xref:System.Web.Security.Roles.DeleteRole%2A>方法从数据源中删除角色名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-332">The <xref:System.Web.Security.Roles.DeleteRole%2A> method removes a role name from the data source.</span></span> <span data-ttu-id="9c558-333"><xref:System.Web.Security.Roles.DeleteRole%2A> 调用 <xref:System.Web.Security.RoleProvider.DeleteRole%2A> 默认角色提供程序的方法，以便从数据源中删除指定的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-333"><xref:System.Web.Security.Roles.DeleteRole%2A> calls the <xref:System.Web.Security.RoleProvider.DeleteRole%2A> method of the default role provider to remove the specified role from the data source.</span></span>

 <span data-ttu-id="9c558-334">如果由参数标识的角色 `roleName` 具有一个或多个成员，则会引发异常，并且不会删除该角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-334">If the role identified by the `roleName` parameter has one or more members, then an exception will be thrown and the role will not be deleted.</span></span>



## Examples
 <span data-ttu-id="9c558-335">下面的代码示例从数据源中删除一个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-335">The following code example deletes a role from the data source.</span></span> <span data-ttu-id="9c558-336">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-336">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/deleterolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/deleterolevb.aspx#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-337"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-337"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-338"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-338"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-339"><paramref name="roleName" /> 具有一个或多个成员。</span><span class="sxs-lookup"><span data-stu-id="9c558-339"><paramref name="roleName" /> has one or more members.</span></span>

<span data-ttu-id="9c558-340">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-340">-or-</span></span>

<span data-ttu-id="9c558-341">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-341">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-342">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-342">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DeleteRole">
      <MemberSignature Language="C#" Value="public static bool DeleteRole (string roleName, bool throwOnPopulatedRole);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool DeleteRole(string roleName, bool throwOnPopulatedRole) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.DeleteRole(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function DeleteRole (roleName As String, throwOnPopulatedRole As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool DeleteRole(System::String ^ roleName, bool throwOnPopulatedRole);" />
      <MemberSignature Language="F#" Value="static member DeleteRole : string * bool -&gt; bool" Usage="System.Web.Security.Roles.DeleteRole (roleName, throwOnPopulatedRole)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
        <Parameter Name="throwOnPopulatedRole" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-343">要删除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-343">The name of the role to delete.</span></span></param>
        <param name="throwOnPopulatedRole"><span data-ttu-id="9c558-344">如果为 <see langword="true" />，则当 <paramref name="roleName" /> 包含一个或多个成员时将引发异常。</span><span class="sxs-lookup"><span data-stu-id="9c558-344">If <see langword="true" />, throws an exception if <paramref name="roleName" /> has one or more members.</span></span></param>
        <summary><span data-ttu-id="9c558-345">从数据源移除一个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-345">Removes a role from the data source.</span></span></summary>
        <returns><span data-ttu-id="9c558-346">如果从数据源中删除 <paramref name="roleName" />，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-346"><see langword="true" /> if <paramref name="roleName" /> was deleted from the data source; otherwise; <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-347"><xref:System.Web.Security.Roles.DeleteRole%2A>方法从数据源中删除角色名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-347">The <xref:System.Web.Security.Roles.DeleteRole%2A> method removes a role name from the data source.</span></span> <span data-ttu-id="9c558-348"><xref:System.Web.Security.Roles.DeleteRole%2A> 调用 <xref:System.Web.Security.RoleProvider.DeleteRole%2A> 默认角色提供程序的方法，以便从数据源中删除指定的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-348"><xref:System.Web.Security.Roles.DeleteRole%2A> calls the <xref:System.Web.Security.RoleProvider.DeleteRole%2A> method of the default role provider to remove the specified role from the data source.</span></span>

 <span data-ttu-id="9c558-349">如果 `throwOnPopulatedRole` 为 `true` ，则将引发异常，并且如果由参数标识的角色 `roleName` 具有一个或多个成员，则不会删除该角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-349">If `throwOnPopulatedRole` is `true`, then an exception will be thrown and the role will not be deleted if the role identified by the `roleName` parameter has one or more members.</span></span> <span data-ttu-id="9c558-350">如果 `throwOnPopulatedRole` 为 `false` ，则无论角色是否为空，都将被删除。</span><span class="sxs-lookup"><span data-stu-id="9c558-350">If `throwOnPopulatedRole` is `false`, then the role will be deleted whether it is empty or not.</span></span>



## Examples
 <span data-ttu-id="9c558-351">下面的代码示例从数据源中删除一个角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-351">The following code example deletes a role from the data source.</span></span> <span data-ttu-id="9c558-352">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-352">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/deleterolecs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/deleterolevb.aspx#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-353"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-353"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-354"><paramref name="roleName" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="9c558-354"><paramref name="roleName" /> is an empty string.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-355"><paramref name="roleName" /> 具有一个或多个成员且 <paramref name="throwOnPopulatedRole" /> 为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-355"><paramref name="roleName" /> has one or more members and <paramref name="throwOnPopulatedRole" /> is <see langword="true" />.</span></span>

<span data-ttu-id="9c558-356">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-356">-or-</span></span>

<span data-ttu-id="9c558-357">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-357">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-358">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-358">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Domain">
      <MemberSignature Language="C#" Value="public static string Domain { get; }" />
      <MemberSignature Language="ILAsm" Value=".property string Domain" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Domain" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Domain As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::String ^ Domain { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Domain : string" Usage="System.Web.Security.Roles.Domain" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-359">获取角色名称 Cookie 的域的值。</span><span class="sxs-lookup"><span data-stu-id="9c558-359">Gets the value of the domain of the role-names cookie.</span></span></summary>
        <value><span data-ttu-id="9c558-360">角色名称 Cookie 的 <see cref="P:System.Web.HttpCookie.Domain" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-360">The <see cref="P:System.Web.HttpCookie.Domain" /> of the role names cookie.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-361"><xref:System.Web.Security.Roles.Domain%2A>使用 `domain` [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100))配置元素的属性在 ASP.NET 应用程序的配置中设置属性值。</span><span class="sxs-lookup"><span data-stu-id="9c558-361">The <xref:System.Web.Security.Roles.Domain%2A> property value is set in the configuration for an ASP.NET application using the `domain` attribute of the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) configuration element.</span></span>

 <span data-ttu-id="9c558-362">如果未在域特性的配置中指定值，则属性将 <xref:System.Web.Security.Roles.Domain%2A> 返回 `null` ，且角色名称 cookie 域默认为属性的行为 <xref:System.Web.HttpCookie> <xref:System.Web.HttpCookie.Domain%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-362">If no value is specified in the configuration for the domain attribute, the <xref:System.Web.Security.Roles.Domain%2A> property returns `null` and the role-names cookie domain defaults to the behavior of the <xref:System.Web.HttpCookie><xref:System.Web.HttpCookie.Domain%2A> property.</span></span>

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-363">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-363">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Enabled">
      <MemberSignature Language="C#" Value="public static bool Enabled { get; }" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5" />
      <MemberSignature Language="ILAsm" Value=".property bool Enabled" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Enabled" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Enabled As Boolean" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool Enabled { bool get(); };" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5" />
      <MemberSignature Language="F#" Value="member this.Enabled : bool" Usage="System.Web.Security.Roles.Enabled" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5" />
      <MemberSignature Language="C#" Value="public static bool Enabled { get; set; }" FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberSignature Language="VB.NET" Value="Public Shared Property Enabled As Boolean" FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property bool Enabled { bool get(); void set(bool value); };" FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberSignature Language="F#" Value="member this.Enabled : bool with get, set" Usage="System.Web.Security.Roles.Enabled" FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-364">获取或设置用来指示是否为当前 Web 应用程序启用角色管理的值。</span><span class="sxs-lookup"><span data-stu-id="9c558-364">Gets or sets a value indicating whether role management is enabled for the current Web application.</span></span></summary>
        <value><span data-ttu-id="9c558-365">如果启用了角色管理，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-365"><see langword="true" /> if role management is enabled; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="9c558-366">默认值为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-366">The default is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Examples
 <span data-ttu-id="9c558-367">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-367">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-368">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 `enabled` 为 `true` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-368">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the `enabled` attribute to `true`.</span></span>

```
<roleManager defaultProvider="SqlProvider"
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="All" >
  <providers>
    <add
      name="SqlProvider"
      type="System.Web.Security.SqlRoleProvider"
      connectionStringName="SqlServices"
      applicationName="MyApplication" />
  </providers>
</roleManager>
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-369">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-369">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="FindUsersInRole">
      <MemberSignature Language="C#" Value="public static string[] FindUsersInRole (string roleName, string usernameToMatch);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] FindUsersInRole(string roleName, string usernameToMatch) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.FindUsersInRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function FindUsersInRole (roleName As String, usernameToMatch As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ FindUsersInRole(System::String ^ roleName, System::String ^ usernameToMatch);" />
      <MemberSignature Language="F#" Value="static member FindUsersInRole : string * string -&gt; string[]" Usage="System.Web.Security.Roles.FindUsersInRole (roleName, usernameToMatch)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
        <Parameter Name="usernameToMatch" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-370">作为搜索范围的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-370">The role to search in.</span></span></param>
        <param name="usernameToMatch"><span data-ttu-id="9c558-371">要搜索的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-371">The user name to search for.</span></span></param>
        <summary><span data-ttu-id="9c558-372">获取属于指定角色的用户的列表，其中用户名包含要匹配的指定用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-372">Gets a list of users in a specified role where the user name contains the specified user name to match.</span></span></summary>
        <returns><span data-ttu-id="9c558-373">一个字符串数组，包含用户名与 <paramref name="usernameToMatch" /> 匹配且是指定角色的成员的所有用户的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-373">A string array containing the names of all the users whose user name matches <paramref name="usernameToMatch" /> and who are members of the specified role.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-374"><xref:System.Web.Security.Roles.FindUsersInRole%2A> 返回角色中用户的列表，其中用户名包含为配置的提供的的匹配项 `usernameToMatch` `applicationName` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-374"><xref:System.Web.Security.Roles.FindUsersInRole%2A> returns a list of users in a role where the user name contains a match of the supplied `usernameToMatch` for the configured `applicationName`.</span></span> <span data-ttu-id="9c558-375">例如，如果将 `usernameToMatch` 参数设置为 "user"，则返回用户 "user1"、"用户 2"、"user3" 等。</span><span class="sxs-lookup"><span data-stu-id="9c558-375">For example, if the `usernameToMatch` parameter is set to "user," then the users "user1," "user2," "user3," and so on are returned.</span></span> <span data-ttu-id="9c558-376">按用户名按字母顺序返回用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-376">Users are returned in alphabetical order by user name.</span></span>

 <span data-ttu-id="9c558-377"><xref:System.Web.Security.SqlRoleProvider>使用 LIKE 子句对参数执行搜索 `usernameToMatch` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-377">The <xref:System.Web.Security.SqlRoleProvider> performs its search using a LIKE clause against the `usernameToMatch` parameter.</span></span> <span data-ttu-id="9c558-378">可在参数值中使用 LIKE 子句中 SQL Server 支持的任何通配符 `usernameToMatch` 。</span><span class="sxs-lookup"><span data-stu-id="9c558-378">Any wildcards that are supported by SQL Server in LIKE clauses can be used in the `usernameToMatch` parameter value.</span></span>



## Examples
 <span data-ttu-id="9c558-379">下面的代码示例使用 <xref:System.Web.Security.Roles.FindUsersInRole%2A> 方法基于用户输入显示角色成员身份。</span><span class="sxs-lookup"><span data-stu-id="9c558-379">The following code example uses the <xref:System.Web.Security.Roles.FindUsersInRole%2A> method to display role membership based on user input.</span></span> <span data-ttu-id="9c558-380">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-380">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="9c558-381">此示例包含一个文本框，该文本框接受用户输入，这是一个潜在的安全威胁。</span><span class="sxs-lookup"><span data-stu-id="9c558-381">This example contains a text box that accepts user input, which is a potential security threat.</span></span> <span data-ttu-id="9c558-382">默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-382">By default, ASP.NET Web pages validate that user input does not include script or HTML elements.</span></span> <span data-ttu-id="9c558-383">有关详细信息，请参阅[脚本侵入概述](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="9c558-383">For more information, see [Script Exploits Overview](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100)).</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#11](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/FindUsersInRolecs.aspx#11)]
 [!code-aspx-vb[System.Web.Security.Roles#11](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/FindUsersInRolevb.aspx#11)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-384"><paramref name="roleName" /> 为 <see langword="null" />（在 Visual Basic 中为 <see langword="Nothing" />）。</span><span class="sxs-lookup"><span data-stu-id="9c558-384"><paramref name="roleName" /> is <see langword="null" /> (<see langword="Nothing" /> in Visual Basic).</span></span>

<span data-ttu-id="9c558-385">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-385">-or-</span></span>

 <span data-ttu-id="9c558-386"><paramref name="usernameToMatch" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-386"><paramref name="usernameToMatch" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-387"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-387"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-388">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-388">-or-</span></span>

 <span data-ttu-id="9c558-389"><paramref name="usernameToMatch" /> 是一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="9c558-389"><paramref name="usernameToMatch" /> is an empty string.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-390">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-390">Role management is not enabled.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetAllRoles">
      <MemberSignature Language="C#" Value="public static string[] GetAllRoles ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetAllRoles() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetAllRoles" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetAllRoles () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetAllRoles();" />
      <MemberSignature Language="F#" Value="static member GetAllRoles : unit -&gt; string[]" Usage="System.Web.Security.Roles.GetAllRoles " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="9c558-391">获取应用程序的所有角色的列表。</span><span class="sxs-lookup"><span data-stu-id="9c558-391">Gets a list of all the roles for the application.</span></span></summary>
        <returns><span data-ttu-id="9c558-392">一个字符串数组，包含在应用程序的数据源中存储的所有角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-392">A string array containing the names of all the roles stored in the data source for the application.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-393"><xref:System.Web.Security.Roles.GetAllRoles%2A>方法调用 <xref:System.Web.Security.RoleProvider.GetAllRoles%2A?displayProperty=nameWithType> 默认角色提供程序的方法，以获取应用程序的数据源中的所有角色的列表。</span><span class="sxs-lookup"><span data-stu-id="9c558-393">The <xref:System.Web.Security.Roles.GetAllRoles%2A> method calls the <xref:System.Web.Security.RoleProvider.GetAllRoles%2A?displayProperty=nameWithType> method of the default role provider to get a list of all the roles from the data source for an application.</span></span> <span data-ttu-id="9c558-394">仅检索在属性中指定的应用程序的角色 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-394">Only the roles for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property are retrieved.</span></span>



## Examples
 <span data-ttu-id="9c558-395">下面的代码示例使用 <xref:System.Web.Security.Roles.GetAllRoles%2A> 方法获取应用程序的角色列表，并将结果绑定到 <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> 控件。</span><span class="sxs-lookup"><span data-stu-id="9c558-395">The following code example uses the <xref:System.Web.Security.Roles.GetAllRoles%2A> method to get the list of roles for an application and bind the results to a <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> control.</span></span> <span data-ttu-id="9c558-396">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-396">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="9c558-397">此示例包含一个文本框，该文本框接受用户输入，这是一个潜在的安全威胁。</span><span class="sxs-lookup"><span data-stu-id="9c558-397">This example contains a text box that accepts user input, which is a potential security threat.</span></span> <span data-ttu-id="9c558-398">默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-398">By default, ASP.NET Web pages validate that user input does not include script or HTML elements.</span></span> <span data-ttu-id="9c558-399">有关详细信息，请参阅[脚本侵入概述](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="9c558-399">For more information, see [Script Exploits Overview](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100)).</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-400">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-400">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-401">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-401">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetRolesForUser">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="9c558-402">获取一个用户所属角色的列表。</span><span class="sxs-lookup"><span data-stu-id="9c558-402">Gets a list of the roles that a user is in.</span></span></summary>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-403">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-403">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetRolesForUser">
      <MemberSignature Language="C#" Value="public static string[] GetRolesForUser ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetRolesForUser() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetRolesForUser" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetRolesForUser () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetRolesForUser();" />
      <MemberSignature Language="F#" Value="static member GetRolesForUser : unit -&gt; string[]" Usage="System.Web.Security.Roles.GetRolesForUser " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="9c558-404">获取当前登录的用户所属角色的列表。</span><span class="sxs-lookup"><span data-stu-id="9c558-404">Gets a list of the roles that the currently logged-on user is in.</span></span></summary>
        <returns><span data-ttu-id="9c558-405">一个字符串数组，其中包含当前登录的用户所属的所有角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-405">A string array containing the names of all the roles that the currently logged-on user is in.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-406"><xref:System.Web.Security.Roles.GetRolesForUser%2A>方法调用 <xref:System.Web.Security.RoleProvider.GetRolesForUser%2A?displayProperty=nameWithType> 默认角色提供程序的方法，以便从数据源中检索当前已登录用户所在的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-406">The <xref:System.Web.Security.Roles.GetRolesForUser%2A> method calls the <xref:System.Web.Security.RoleProvider.GetRolesForUser%2A?displayProperty=nameWithType> method of the default role provider to retrieve from the data source the roles that the currently logged-on user is in.</span></span> <span data-ttu-id="9c558-407">当前登录的用户由 <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> 当前的属性 <xref:System.Web.HttpContext?displayProperty=nameWithType> 或 <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 非 HTTP 宿主环境标识。</span><span class="sxs-lookup"><span data-stu-id="9c558-407">The currently logged-on user is identified by the <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> property of the current <xref:System.Web.HttpContext?displayProperty=nameWithType>, or by <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> for non-HTTP hosting environments.</span></span> <span data-ttu-id="9c558-408">如果没有用户登录，则会引发异常。</span><span class="sxs-lookup"><span data-stu-id="9c558-408">If no user is logged on, an exception will be thrown.</span></span> <span data-ttu-id="9c558-409">仅检索在属性中指定的应用程序的角色 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-409">Only the roles for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property are retrieved.</span></span>

 <span data-ttu-id="9c558-410">如果 <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> 为 `true` ，则该方法的结果 <xref:System.Web.Security.Roles.GetRolesForUser%2A> 可能从角色缓存而不是指定的角色提供程序返回。</span><span class="sxs-lookup"><span data-stu-id="9c558-410">If <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> is `true`, then the results of the <xref:System.Web.Security.Roles.GetRolesForUser%2A> method may be returned from the role cache rather than the specified role provider.</span></span>



## Examples
 <span data-ttu-id="9c558-411">下面的代码示例使用 <xref:System.Web.Security.Roles.GetRolesForUser%2A> 方法检索指定用户的角色列表，并将返回的角色绑定到 <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> 控件。</span><span class="sxs-lookup"><span data-stu-id="9c558-411">The following code example uses the <xref:System.Web.Security.Roles.GetRolesForUser%2A> method to retrieve a list of roles for a specified user and bind the returned roles to a <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> control.</span></span> <span data-ttu-id="9c558-412">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-412">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.Roles#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/ViewRolesvb.aspx#4)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-413">当前无登录的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-413">There is no current logged-on user.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-414">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-414">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-415">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-415">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetRolesForUser">
      <MemberSignature Language="C#" Value="public static string[] GetRolesForUser (string username);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetRolesForUser(string username) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetRolesForUser(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetRolesForUser (username As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetRolesForUser(System::String ^ username);" />
      <MemberSignature Language="F#" Value="static member GetRolesForUser : string -&gt; string[]" Usage="System.Web.Security.Roles.GetRolesForUser username" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="9c558-416">要为其返回角色列表的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-416">The user to return a list of roles for.</span></span></param>
        <summary><span data-ttu-id="9c558-417">获取一个用户所属角色的列表。</span><span class="sxs-lookup"><span data-stu-id="9c558-417">Gets a list of the roles that a user is in.</span></span></summary>
        <returns><span data-ttu-id="9c558-418">一个字符串数组，其中包含指定用户所属的所有角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-418">A string array containing the names of all the roles that the specified user is in.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-419"><xref:System.Web.Security.Roles.GetRolesForUser%2A>方法调用 <xref:System.Web.Security.RoleProvider.GetRolesForUser%2A?displayProperty=nameWithType> 默认角色提供程序的方法，以便从数据源中检索用户所在的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-419">The <xref:System.Web.Security.Roles.GetRolesForUser%2A> method calls the <xref:System.Web.Security.RoleProvider.GetRolesForUser%2A?displayProperty=nameWithType> method of the default role provider to retrieve from the data source the roles that the user is in.</span></span> <span data-ttu-id="9c558-420">仅检索在属性中指定的应用程序的角色 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-420">Only the roles for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property are retrieved.</span></span>

 <span data-ttu-id="9c558-421">如果 `username` 等于当前已登录用户并且 <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> 为 `true` ，则该方法的结果 <xref:System.Web.Security.Roles.GetRolesForUser%2A> 可能从角色缓存（而不是指定的）返回 <xref:System.Web.Security.Roles.Provider%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-421">If `username` is equal to the current logged-on user and <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> is `true`, the results of the <xref:System.Web.Security.Roles.GetRolesForUser%2A> method may be returned from the role cache rather than the specified <xref:System.Web.Security.Roles.Provider%2A>.</span></span>



## Examples
 <span data-ttu-id="9c558-422">下面的代码示例使用 <xref:System.Web.Security.Roles.GetRolesForUser%2A> 方法检索指定用户的角色列表，并将返回的角色绑定到 <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> 控件。</span><span class="sxs-lookup"><span data-stu-id="9c558-422">The following code example uses the <xref:System.Web.Security.Roles.GetRolesForUser%2A> method to retrieve a list of roles for a specified user and bind the returned roles to a <xref:System.Web.UI.WebControls.GridView?displayProperty=nameWithType> control.</span></span> <span data-ttu-id="9c558-423">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-423">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.Roles#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/ViewRolesvb.aspx#4)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-424"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-424"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-425"><paramref name="username" /> 包含一个逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-425"><paramref name="username" /> contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-426">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-426">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-427">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-427">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetUsersInRole">
      <MemberSignature Language="C#" Value="public static string[] GetUsersInRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] GetUsersInRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.GetUsersInRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetUsersInRole (roleName As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ GetUsersInRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member GetUsersInRole : string -&gt; string[]" Usage="System.Web.Security.Roles.GetUsersInRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-428">要获取其用户列表的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-428">The role to get the list of users for.</span></span></param>
        <summary><span data-ttu-id="9c558-429">获取属于指定角色的用户的列表。</span><span class="sxs-lookup"><span data-stu-id="9c558-429">Gets a list of users in the specified role.</span></span></summary>
        <returns><span data-ttu-id="9c558-430">一个字符串数组，其中包含指定角色拥有的所有成员的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-430">A string array containing the names of all the users who are members of the specified role.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-431"><xref:System.Web.Security.Roles.GetUsersInRole%2A>方法调用 <xref:System.Web.Security.RoleProvider.GetUsersInRole%2A> 默认角色提供程序的方法，以便从数据源检索与角色关联的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-431">The <xref:System.Web.Security.Roles.GetUsersInRole%2A> method calls the <xref:System.Web.Security.RoleProvider.GetUsersInRole%2A> method of the default role provider to retrieve the user names associated with a role from the data source.</span></span> <span data-ttu-id="9c558-432">仅检索在属性中指定的应用程序的角色 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-432">Only the roles for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property are retrieved.</span></span>



## Examples
 <span data-ttu-id="9c558-433">下面的代码示例使用 <xref:System.Web.Security.Roles.GetUsersInRole%2A> 方法获取特定角色中的用户列表，并将结果绑定到 <xref:System.Web.UI.WebControls.GridView> 控件。</span><span class="sxs-lookup"><span data-stu-id="9c558-433">The following code example uses the <xref:System.Web.Security.Roles.GetUsersInRole%2A> method to get a list of the users in a particular role and binds the results to a <xref:System.Web.UI.WebControls.GridView> control.</span></span> <span data-ttu-id="9c558-434">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-434">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-435"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-435"><paramref name="roleName" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-436"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-436"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-437">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-437">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-438">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-438">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="IsUserInRole">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="9c558-439">获取一个指示用户是否属于指定角色的值。</span><span class="sxs-lookup"><span data-stu-id="9c558-439">Gets a value indicating whether a user is in the specified role.</span></span></summary>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-440">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-440">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="IsUserInRole">
      <MemberSignature Language="C#" Value="public static bool IsUserInRole (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsUserInRole(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.IsUserInRole(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsUserInRole (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsUserInRole(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member IsUserInRole : string -&gt; bool" Usage="System.Web.Security.Roles.IsUserInRole roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-441">要搜索的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-441">The name of the role to search in.</span></span></param>
        <summary><span data-ttu-id="9c558-442">获取一个值，该值指示当前登录的用户是否属于指定的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-442">Gets a value indicating whether the currently logged-on user is in the specified role.</span></span> <span data-ttu-id="9c558-443">API 只能在 ASP.NET 请求线程的上下文内进行调用，在该批准的使用情况下，它是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="9c558-443">The API is only intended to be called within the context of an ASP.NET request thread, and in that sanctioned use case it is thread-safe.</span></span></summary>
        <returns><span data-ttu-id="9c558-444">如果当前登录的用户属于指定的角色，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-444"><see langword="true" /> if the currently logged-on user is in the specified role; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-445"><xref:System.Web.Security.Roles.IsUserInRole%2A>方法调用 <xref:System.Web.Security.RoleProvider.IsUserInRole%2A?displayProperty=nameWithType> 默认角色提供程序的方法，以确定当前登录的用户是否与属性中指定的应用程序的数据源中的角色关联 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-445">The <xref:System.Web.Security.Roles.IsUserInRole%2A> method calls the <xref:System.Web.Security.RoleProvider.IsUserInRole%2A?displayProperty=nameWithType> method of the default role provider to determine whether the currently logged-on user is associated with a role from the data source for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property.</span></span> <span data-ttu-id="9c558-446">当前登录的用户由 <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> 当前的属性 <xref:System.Web.HttpContext?displayProperty=nameWithType> 或 <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 非 HTTP 宿主环境标识。</span><span class="sxs-lookup"><span data-stu-id="9c558-446">The currently logged-on user is identified by the <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> property of the current <xref:System.Web.HttpContext?displayProperty=nameWithType>, or by <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> for non-HTTP hosting environments.</span></span> <span data-ttu-id="9c558-447">如果没有用户登录，则会引发异常。</span><span class="sxs-lookup"><span data-stu-id="9c558-447">If no user is logged on, an exception will be thrown.</span></span> <span data-ttu-id="9c558-448">仅检索在属性中指定的应用程序的角色 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-448">Only the roles for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property are retrieved.</span></span>

 <span data-ttu-id="9c558-449">如果 <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> 为 `true` ，则 `roleName` 可以对照角色缓存而不是指定的角色提供程序对其进行检查。</span><span class="sxs-lookup"><span data-stu-id="9c558-449">If <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> is `true`, then `roleName` may be checked against the roles cache rather than the specified role provider.</span></span>



## Examples
 <span data-ttu-id="9c558-450">下面的代码示例以编程方式检查当前登录的用户是否在管理员角色中，然后允许用户查看该应用程序的角色设置。</span><span class="sxs-lookup"><span data-stu-id="9c558-450">The following code example programmatically checks whether the currently logged-on user is in the Administrators role before allowing the user to view roles settings for the application.</span></span> <span data-ttu-id="9c558-451">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-451">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/ViewRolesvb.aspx#4)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-452"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-452"><paramref name="roleName" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-453">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-453">-or-</span></span>

<span data-ttu-id="9c558-454">当前无登录的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-454">There is no current logged-on user.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-455"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-455"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-456">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-456">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-457">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-457">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsUserInRole">
      <MemberSignature Language="C#" Value="public static bool IsUserInRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsUserInRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.IsUserInRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsUserInRole (username As String, roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsUserInRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member IsUserInRole : string * string -&gt; bool" Usage="System.Web.Security.Roles.IsUserInRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="9c558-458">要搜索的用户的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-458">The name of the user to search for.</span></span></param>
        <param name="roleName"><span data-ttu-id="9c558-459">要搜索的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-459">The name of the role to search in.</span></span></param>
        <summary><span data-ttu-id="9c558-460">获取一个指示指定用户是否属于指定角色的值。</span><span class="sxs-lookup"><span data-stu-id="9c558-460">Gets a value indicating whether the specified user is in the specified role.</span></span> <span data-ttu-id="9c558-461">API 只能在 ASP.NET 请求线程的上下文内进行调用，在该批准的使用情况下，它是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="9c558-461">The API is only intended to be called within the context of an ASP.NET request thread, and in that sanctioned use case it is thread-safe.</span></span></summary>
        <returns><span data-ttu-id="9c558-462">如果指定的用户属于指定角色，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-462"><see langword="true" /> if the specified user is in the specified role; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-463"><xref:System.Web.Security.Roles.IsUserInRole%2A>方法调用 <xref:System.Web.Security.RoleProvider.IsUserInRole%2A> 默认角色提供程序的方法，以确定用户名是否与属性中指定的应用程序的数据源中的角色关联 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-463">The <xref:System.Web.Security.Roles.IsUserInRole%2A> method calls the <xref:System.Web.Security.RoleProvider.IsUserInRole%2A> method of the default role provider to determine whether a user name is associated with a role from the data source for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property.</span></span>

 <span data-ttu-id="9c558-464">如果 `username` 与当前登录的用户相等，并且 <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> 属性值为 `true` ，则 `roleName` 可以对照角色缓存（而不是指定的）检查 <xref:System.Web.Security.Roles.Provider%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-464">If `username` is equal to the current logged-on user and the <xref:System.Web.Security.Roles.CacheRolesInCookie%2A> property value is `true`, `roleName` may be checked against the role cache rather than the specified <xref:System.Web.Security.Roles.Provider%2A>.</span></span>



## Examples
 <span data-ttu-id="9c558-465">下面的代码示例以编程方式检查用户是否在管理员角色中，然后允许用户查看应用程序的角色设置。</span><span class="sxs-lookup"><span data-stu-id="9c558-465">The following code example programmatically checks whether a user is in the Administrators role before allowing the user to view roles settings for the application.</span></span> <span data-ttu-id="9c558-466">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-466">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/ViewRolescs.aspx#4)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#4](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/ViewRolesvb.aspx#4)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-467"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-467"><paramref name="roleName" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-468">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-468">-or-</span></span>

 <span data-ttu-id="9c558-469"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-469"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-470"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-470"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-471">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-471">-or-</span></span>

 <span data-ttu-id="9c558-472"><paramref name="username" /> 包含一个逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-472"><paramref name="username" /> contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-473">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-473">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-474">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-474">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="MaxCachedResults">
      <MemberSignature Language="C#" Value="public static int MaxCachedResults { get; }" />
      <MemberSignature Language="ILAsm" Value=".property int32 MaxCachedResults" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.MaxCachedResults" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property MaxCachedResults As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property int MaxCachedResults { int get(); };" />
      <MemberSignature Language="F#" Value="member this.MaxCachedResults : int" Usage="System.Web.Security.Roles.MaxCachedResults" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-475">获取要为用户缓存的角色名称的最大数量。</span><span class="sxs-lookup"><span data-stu-id="9c558-475">Gets the maximum number of role names to be cached for a user.</span></span></summary>
        <value><span data-ttu-id="9c558-476">要为用户缓存的角色名称的最大数量。</span><span class="sxs-lookup"><span data-stu-id="9c558-476">The maximum number of role names to be cached for a user.</span></span> <span data-ttu-id="9c558-477">默认值为 25。</span><span class="sxs-lookup"><span data-stu-id="9c558-477">The default is 25.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-478"><xref:System.Web.Security.Roles.MaxCachedResults%2A>使用 `maxCachedResults` 配置特性设置属性。</span><span class="sxs-lookup"><span data-stu-id="9c558-478">The <xref:System.Web.Security.Roles.MaxCachedResults%2A> property is set using the `maxCachedResults` configuration attribute.</span></span> <span data-ttu-id="9c558-479">配置特性的值 `maxCachedResults` 必须设置为大于零的整数值。</span><span class="sxs-lookup"><span data-stu-id="9c558-479">The value of the `maxCachedResults` configuration attribute must be set to an integer value greater than zero.</span></span>



## Examples
 <span data-ttu-id="9c558-480">下面的示例显示了[roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) `system.web` ASP.NET 应用程序 Web.config 文件的部分中的 roleManager 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-480">The following example shows the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) element in the `system.web` section of the Web.config file for an ASP.NET application.</span></span> <span data-ttu-id="9c558-481">它指定应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 实例，并将属性设置 `maxCachedResults` 为10。</span><span class="sxs-lookup"><span data-stu-id="9c558-481">It specifies that the application uses a <xref:System.Web.Security.SqlRoleProvider> instance and sets the `maxCachedResults` attribute to 10.</span></span>

```
<roleManager
  enabled="true"
  cacheRolesInCookie="true"
  cookieName=".ASPROLES"
  cookieTimeout="30"
  cookiePath="/"
  cookieRequireSSL="false"
  cookieSlidingExpiration="true"
  cookieProtection="All"
  maxCachedResults="10" />
```

 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-482">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-482">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Provider">
      <MemberSignature Language="C#" Value="public static System.Web.Security.RoleProvider Provider { get; }" />
      <MemberSignature Language="ILAsm" Value=".property class System.Web.Security.RoleProvider Provider" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Provider" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Provider As RoleProvider" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::Web::Security::RoleProvider ^ Provider { System::Web::Security::RoleProvider ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Provider : System.Web.Security.RoleProvider" Usage="System.Web.Security.Roles.Provider" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Security.RoleProvider</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-483">获取应用程序的默认角色提供程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-483">Gets the default role provider for the application.</span></span></summary>
        <value><span data-ttu-id="9c558-484">应用程序的默认角色提供程序，作为继承 <see cref="T:System.Web.Security.RoleProvider" /> 抽象类的类公开。</span><span class="sxs-lookup"><span data-stu-id="9c558-484">The default role provider for the application, which is exposed as a class that inherits the <see cref="T:System.Web.Security.RoleProvider" /> abstract class.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-485">使用 <xref:System.Web.Security.Roles.Provider%2A> 属性可以直接引用应用程序的默认角色提供程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-485">The <xref:System.Web.Security.Roles.Provider%2A> property enables you to directly reference the default role provider for an application.</span></span> <span data-ttu-id="9c558-486">这通常用于访问不属于抽象类的角色提供程序的自定义成员 <xref:System.Web.Security.RoleProvider> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-486">This is commonly used to access custom members of the role provider that are not part of the <xref:System.Web.Security.RoleProvider> abstract class.</span></span>

 <span data-ttu-id="9c558-487">例如， <xref:System.Web.Security.WindowsTokenRoleProvider> 类包含方法的重载 <xref:System.Web.Security.WindowsTokenRoleProvider.IsUserInRole%2A> ，该重载使你可以通过使用枚举值来确定用户是否在公共 Windows 角色中 <xref:System.Security.Principal.WindowsBuiltInRole> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-487">For example, the <xref:System.Web.Security.WindowsTokenRoleProvider> class includes an overload of the <xref:System.Web.Security.WindowsTokenRoleProvider.IsUserInRole%2A> method that enables you to determine whether a user is in a common Windows role by using a <xref:System.Security.Principal.WindowsBuiltInRole> enumeration value.</span></span> <span data-ttu-id="9c558-488"><xref:System.Web.Security.WindowsTokenRoleProvider>可以通过使用属性来获取对应用程序的类的引用 <xref:System.Web.Security.Roles.Provider%2A> ，并且可以将其强制转换为， <xref:System.Web.Security.WindowsTokenRoleProvider> 以便引用 <xref:System.Web.Security.WindowsTokenRoleProvider.IsUserInRole%2A> 重载。</span><span class="sxs-lookup"><span data-stu-id="9c558-488">A reference to the <xref:System.Web.Security.WindowsTokenRoleProvider> class for an application can be obtained by using the <xref:System.Web.Security.Roles.Provider%2A> property and can be cast as a <xref:System.Web.Security.WindowsTokenRoleProvider> in order to refer to the <xref:System.Web.Security.WindowsTokenRoleProvider.IsUserInRole%2A> overload.</span></span>

 <span data-ttu-id="9c558-489">如果为应用程序配置了多个角色提供程序，则可以使用集合访问不同的角色提供程序 <xref:System.Web.Security.Roles.Providers%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-489">If multiple role providers are configured for an application, you can access different role providers using the <xref:System.Web.Security.Roles.Providers%2A> collection.</span></span>



## Examples
 <span data-ttu-id="9c558-490">下面的代码示例将默认的角色提供程序强制转换为 <xref:System.Web.Security.WindowsTokenRoleProvider> ，并检查当前登录的用户是否在管理员角色中，然后允许用户查看应用程序的角色设置。</span><span class="sxs-lookup"><span data-stu-id="9c558-490">The following code example casts the default role provider as a <xref:System.Web.Security.WindowsTokenRoleProvider> and checks whether the currently logged-on user is in the Administrators role before allowing the user to view roles settings for the application.</span></span> <span data-ttu-id="9c558-491">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.WindowsTokenRoleProvider> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-491">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.WindowsTokenRoleProvider>.</span></span>

 [!code-aspx-csharp[System.Web.Security.WindowsTokenRoleProvider#2](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.WindowsTokenRoleProvider/CS/ViewRoles2cs.aspx#2)]
 [!code-aspx-vb[System.Web.Security.WindowsTokenRoleProvider#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.WindowsTokenRoleProvider/VB/ViewRoles2vb.aspx#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-492">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-492">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-493">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-493">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Providers">
      <MemberSignature Language="C#" Value="public static System.Web.Security.RoleProviderCollection Providers { get; }" />
      <MemberSignature Language="ILAsm" Value=".property class System.Web.Security.RoleProviderCollection Providers" />
      <MemberSignature Language="DocId" Value="P:System.Web.Security.Roles.Providers" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property Providers As RoleProviderCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property System::Web::Security::RoleProviderCollection ^ Providers { System::Web::Security::RoleProviderCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Providers : System.Web.Security.RoleProviderCollection" Usage="System.Web.Security.Roles.Providers" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Security.RoleProviderCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9c558-494">获取 ASP.NET 应用程序的角色提供程序的集合。</span><span class="sxs-lookup"><span data-stu-id="9c558-494">Gets a collection of the role providers for the ASP.NET application.</span></span></summary>
        <value><span data-ttu-id="9c558-495">包含为 ASP.NET 应用程序配置的角色提供程序的 <see cref="T:System.Web.Security.RoleProviderCollection" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-495">A <see cref="T:System.Web.Security.RoleProviderCollection" /> that contains the role providers configured for the ASP.NET application.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-496"><xref:System.Web.Security.Roles.Providers%2A>属性引用为应用程序启用的所有角色提供程序，包括添加到 Web.config 文件中的任何提供程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-496">The <xref:System.Web.Security.Roles.Providers%2A> property references all the role providers enabled for an application, including any providers added in the Web.config file.</span></span> <span data-ttu-id="9c558-497">通过使用 `providers` 应用程序 Web.config 文件中的 [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) 节的元素，可以控制哪些角色提供程序可用于应用程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-497">You can control which role providers are available for an application by using the `providers` element of the [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v%3dvs.100)) section in the Web.config file for your application.</span></span>

 <span data-ttu-id="9c558-498">下面的示例演示了一个 [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v=vs.100)) 部分，该部分将删除任何现有的提供程序， (如 Machine.config 文件中指定的提供程序) 并添加 <xref:System.Web.Security.SqlRoleProvider> 实例作为应用程序的角色提供程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-498">The following example shows a [roleManager](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms164660(v=vs.100)) section that removes any existing providers (such as those specified in the Machine.config file) and adds a <xref:System.Web.Security.SqlRoleProvider> instance as the role provider for the application.</span></span>

```
<configuration>
  <connectionStrings>
    <add name="SqlServices" connectionString="Data Source=MySqlServer;Integrated Security=SSPI;Initial Catalog=aspnetdb;" />
  </connectionStrings>

  <system.web>
    <roleManager defaultProvider="SqlProvider"
      enabled="true"
      cacheRolesInCookie="true"
      cookieName=".ASPROLES"
      cookieTimeout="30"
      cookiePath="/"
      cookieRequireSSL="false"
      cookieSlidingExpiration="true"
      cookieProtection="Encrypted">

      <providers>
        <clear/>
        <add
          name="SqlProvider"
          type="System.Web.Security.SqlRoleProvider"
          connectionStringName="SqlServices"
          applicationName="MyApplication" />
         </providers>

    </roleManager>
  </system.web>
</configuration>
```

 <span data-ttu-id="9c558-499">可以 <xref:System.Web.Security.Roles.Providers%2A> 通过按名称索引角色提供程序并将其强制转换为所需的类型，从集合中获取对提供程序的强类型引用。</span><span class="sxs-lookup"><span data-stu-id="9c558-499">You can obtain a strongly typed reference to a provider from the <xref:System.Web.Security.Roles.Providers%2A> collection by indexing the role provider by name and casting it as the desired type.</span></span>

 <span data-ttu-id="9c558-500">您可以使用属性获取对应用程序的默认提供程序的引用 <xref:System.Web.Security.Roles.Provider%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-500">You can obtain a reference to the default provider for an application using the <xref:System.Web.Security.Roles.Provider%2A> property.</span></span>



## Examples
 <span data-ttu-id="9c558-501">下面的代码示例列出了为应用程序以及其各自的类型启用的提供程序。</span><span class="sxs-lookup"><span data-stu-id="9c558-501">The following code example lists the providers enabled for an application and their respective types.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#7](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/Providerscs.aspx#7)]
 [!code-aspx-vb[System.Web.Security.Roles#7](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/Providersvb.aspx#7)]

 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-502">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-502">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-503">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-503">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RemoveUserFromRole">
      <MemberSignature Language="C#" Value="public static void RemoveUserFromRole (string username, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUserFromRole(string username, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUserFromRole(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUserFromRole (username As String, roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUserFromRole(System::String ^ username, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member RemoveUserFromRole : string * string -&gt; unit" Usage="System.Web.Security.Roles.RemoveUserFromRole (username, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="9c558-504">要从指定的角色中移除的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-504">The user to remove from the specified role.</span></span></param>
        <param name="roleName"><span data-ttu-id="9c558-505">要从其中移除指定用户的角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-505">The role to remove the specified user from.</span></span></param>
        <summary><span data-ttu-id="9c558-506">从指定的角色中移除指定的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-506">Removes the specified user from the specified role.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-507"><xref:System.Web.Security.Roles.RemoveUserFromRole%2A>方法调用默认的角色提供程序，以从数据源的指定角色中删除指定的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-507">The <xref:System.Web.Security.Roles.RemoveUserFromRole%2A> method calls the default role provider to remove the specified user from the specified role at the data source.</span></span>



## Examples
 <span data-ttu-id="9c558-508">下面的代码示例从角色中删除用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-508">The following code example removes a user from a role.</span></span> <span data-ttu-id="9c558-509">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-509">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/adduserstorolecs.aspx#3)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/adduserstorolevb.aspx#3)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-510"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-510"><paramref name="roleName" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-511">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-511">-or-</span></span>

 <span data-ttu-id="9c558-512"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-512"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-513"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)</span><span class="sxs-lookup"><span data-stu-id="9c558-513"><paramref name="roleName" /> is an empty string or contains a comma (,)</span></span>

 <span data-ttu-id="9c558-514"><paramref name="username" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-514"><paramref name="username" /> is an empty string or contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-515">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-515">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-516">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-516">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RemoveUserFromRoles">
      <MemberSignature Language="C#" Value="public static void RemoveUserFromRoles (string username, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUserFromRoles(string username, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUserFromRoles(System.String,System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUserFromRoles (username As String, roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUserFromRoles(System::String ^ username, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member RemoveUserFromRoles : string * string[] -&gt; unit" Usage="System.Web.Security.Roles.RemoveUserFromRoles (username, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="username" Type="System.String" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="username"><span data-ttu-id="9c558-517">要从指定的角色中移除的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-517">The user to remove from the specified roles.</span></span></param>
        <param name="roleNames"><span data-ttu-id="9c558-518">一个字符串数组，其中包含要将指定的用户从中移除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-518">A string array of role names to remove the specified user from.</span></span></param>
        <summary><span data-ttu-id="9c558-519">从指定的角色中移除指定的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-519">Removes the specified user from the specified roles.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-520"><xref:System.Web.Security.Roles.RemoveUserFromRoles%2A>方法调用默认的角色提供程序，以从数据源的指定角色中删除指定的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-520">The <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A> method calls the default role provider to remove the specified user from the specified roles at the data source.</span></span>

 <span data-ttu-id="9c558-521">如果将应用程序配置为使用 <xref:System.Web.Security.SqlRoleProvider> 类，则在调用方法的过程中执行的数据库更新在 <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A> 事务中进行。</span><span class="sxs-lookup"><span data-stu-id="9c558-521">If the application is configured to use the <xref:System.Web.Security.SqlRoleProvider> class, the database updates that are performed during the call to the <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A> method are made within a transaction.</span></span> <span data-ttu-id="9c558-522">如果遇到错误，如不在指定角色中的用户名，则将回滚该事务，并且不执行任何更新。</span><span class="sxs-lookup"><span data-stu-id="9c558-522">If an error is encountered, such as a user name that is not in a specified role, the transaction is rolled back and no updates are performed.</span></span>



## Examples
 <span data-ttu-id="9c558-523">下面的代码示例使用 <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A> 方法从一个或多个角色中删除用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-523">The following code example uses the <xref:System.Web.Security.Roles.RemoveUserFromRoles%2A> method to remove a user from one or more roles.</span></span> <span data-ttu-id="9c558-524">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-524">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#10](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/RemoveUserFromRolescs.aspx#10)]
 [!code-aspx-vb[System.Web.Security.Roles#10](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/RemoveUserFromRolesvb.aspx#10)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-525"><paramref name="roleNames" /> 中的一个角色为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-525">One of the roles in <paramref name="roleNames" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-526">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-526">-or-</span></span>

 <span data-ttu-id="9c558-527"><paramref name="username" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-527"><paramref name="username" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-528"><paramref name="roleNames" /> 中的一个角色是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-528">One of the roles in <paramref name="roleNames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-529">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-529">-or-</span></span>

 <span data-ttu-id="9c558-530"><paramref name="username" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-530"><paramref name="username" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-531">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-531">-or-</span></span>

 <span data-ttu-id="9c558-532"><paramref name="roleNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-532"><paramref name="roleNames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-533">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-533">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-534">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-534">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RemoveUsersFromRole">
      <MemberSignature Language="C#" Value="public static void RemoveUsersFromRole (string[] usernames, string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUsersFromRole(string[] usernames, string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUsersFromRole(System.String[],System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUsersFromRole (usernames As String(), roleName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUsersFromRole(cli::array &lt;System::String ^&gt; ^ usernames, System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member RemoveUsersFromRole : string[] * string -&gt; unit" Usage="System.Web.Security.Roles.RemoveUsersFromRole (usernames, roleName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="usernames"><span data-ttu-id="9c558-535">一个字符串数组，其中包含要从指定角色中移除的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-535">A string array of user names to remove from the specified roles.</span></span></param>
        <param name="roleName"><span data-ttu-id="9c558-536">要将指定的用户从中移除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-536">The name of the role to remove the specified users from.</span></span></param>
        <summary><span data-ttu-id="9c558-537">从指定的角色中移除指定的用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-537">Removes the specified users from the specified role.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-538"><xref:System.Web.Security.Roles.RemoveUsersFromRole%2A>方法调用默认的角色提供程序，以从数据源的指定角色中删除指定用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-538">The <xref:System.Web.Security.Roles.RemoveUsersFromRole%2A> method calls the default role provider to remove the specified users from the specified role at the data source.</span></span>

 <span data-ttu-id="9c558-539">如果应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 类，则在调用方法的过程中执行的数据库更新在 <xref:System.Web.Security.SqlRoleProvider.RemoveUsersFromRoles%2A> 事务中进行。</span><span class="sxs-lookup"><span data-stu-id="9c558-539">If the application uses the <xref:System.Web.Security.SqlRoleProvider> class, the database updates that are performed during the call to the <xref:System.Web.Security.SqlRoleProvider.RemoveUsersFromRoles%2A> method are made within a transaction.</span></span> <span data-ttu-id="9c558-540">如果遇到错误，如不在指定角色中的用户名，则将回滚该事务，并且不执行任何更新。</span><span class="sxs-lookup"><span data-stu-id="9c558-540">If an error is encountered, such as a user name that is not in a specified role, the transaction is rolled back and no updates are performed.</span></span>



## Examples
 <span data-ttu-id="9c558-541">下面的代码示例使用 <xref:System.Web.Security.Roles.RemoveUsersFromRole%2A> 方法从角色中删除一个或多个用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-541">The following code example uses the <xref:System.Web.Security.Roles.RemoveUsersFromRole%2A> method to remove one or more users from a role.</span></span> <span data-ttu-id="9c558-542">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-542">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#9](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/RemoveUsersFromRolecs.aspx#9)]
 [!code-aspx-vb[System.Web.Security.Roles#9](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/RemoveUsersFromRolevb.aspx#9)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-543"><paramref name="roleName" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-543"><paramref name="roleName" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-544">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-544">-or-</span></span>

<span data-ttu-id="9c558-545"><paramref name="usernames" /> 中的一个用户名为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-545">One of the user names in <paramref name="usernames" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-546"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-546"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-547">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-547">-or-</span></span>

<span data-ttu-id="9c558-548"><paramref name="usernames" /> 中的一个用户名是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-548">One of the user names in <paramref name="usernames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-549">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-549">-or-</span></span>

 <span data-ttu-id="9c558-550"><paramref name="usernames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-550"><paramref name="usernames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-551">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-551">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-552">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-552">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RemoveUsersFromRoles">
      <MemberSignature Language="C#" Value="public static void RemoveUsersFromRoles (string[] usernames, string[] roleNames);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void RemoveUsersFromRoles(string[] usernames, string[] roleNames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RemoveUsersFromRoles(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub RemoveUsersFromRoles (usernames As String(), roleNames As String())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void RemoveUsersFromRoles(cli::array &lt;System::String ^&gt; ^ usernames, cli::array &lt;System::String ^&gt; ^ roleNames);" />
      <MemberSignature Language="F#" Value="static member RemoveUsersFromRoles : string[] * string[] -&gt; unit" Usage="System.Web.Security.Roles.RemoveUsersFromRoles (usernames, roleNames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="usernames" Type="System.String[]" />
        <Parameter Name="roleNames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="usernames"><span data-ttu-id="9c558-553">一个字符串数组，其中包含要从指定角色中移除的用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-553">A string array of user names to remove from the specified roles.</span></span></param>
        <param name="roleNames"><span data-ttu-id="9c558-554">一个字符串数组，其中包含要将指定的用户从中移除的角色的名称。</span><span class="sxs-lookup"><span data-stu-id="9c558-554">A string array of role names to remove the specified users from.</span></span></param>
        <summary><span data-ttu-id="9c558-555">移除指定角色中的指定用户名。</span><span class="sxs-lookup"><span data-stu-id="9c558-555">Removes the specified user names from the specified roles.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-556"><xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A>方法调用默认的角色提供程序，以从数据源的指定角色中删除指定用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-556">The <xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A> method calls the default role provider to remove the specified users from the specified roles at the data source.</span></span>

 <span data-ttu-id="9c558-557">如果应用程序使用 <xref:System.Web.Security.SqlRoleProvider> 类，则在调用方法的过程中执行的数据库更新在 <xref:System.Web.Security.SqlRoleProvider.RemoveUsersFromRoles%2A> 事务中进行。</span><span class="sxs-lookup"><span data-stu-id="9c558-557">If the application uses the <xref:System.Web.Security.SqlRoleProvider> class, the database updates that are performed during the call to the <xref:System.Web.Security.SqlRoleProvider.RemoveUsersFromRoles%2A> method are made within a transaction.</span></span> <span data-ttu-id="9c558-558">如果遇到错误，如不在指定角色中的用户名，则将回滚该事务，并且不执行任何更新。</span><span class="sxs-lookup"><span data-stu-id="9c558-558">If an error is encountered, such as a user name that is not in a specified role, the transaction is rolled back and no updates are performed.</span></span>



## Examples
 <span data-ttu-id="9c558-559">下面的代码示例使用 <xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A> 方法从一个或多个基于用户输入的角色中移除一个或多个用户。</span><span class="sxs-lookup"><span data-stu-id="9c558-559">The following code example uses the <xref:System.Web.Security.Roles.RemoveUsersFromRoles%2A> method to remove one or more users from one or more roles based on user input.</span></span> <span data-ttu-id="9c558-560">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-560">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

 [!code-aspx-csharp[System.Web.Security.Roles#8](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.Roles/CS/RemoveUsersFromRolescs.aspx#8)]
 [!code-aspx-vb[System.Web.Security.Roles#8](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.Roles/VB/RemoveUsersFromRolesvb.aspx#8)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-561"><paramref name="roleNames" /> 中指定的一个角色为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-561">One of the roles specified in <paramref name="roleNames" /> is <see langword="null" />.</span></span>

<span data-ttu-id="9c558-562">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-562">-or-</span></span>

<span data-ttu-id="9c558-563"><paramref name="usernames" /> 中指定的一个用户为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-563">One of the users specified in <paramref name="usernames" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-564"><paramref name="roleNames" /> 中指定的一个角色是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-564">One of the roles specified in <paramref name="roleNames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-565">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-565">-or-</span></span>

<span data-ttu-id="9c558-566"><paramref name="usernames" /> 中指定的一个用户是空字符串或包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-566">One of the users specified in <paramref name="usernames" /> is an empty string or contains a comma (,).</span></span>

<span data-ttu-id="9c558-567">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-567">-or-</span></span>

 <span data-ttu-id="9c558-568"><paramref name="roleNames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-568"><paramref name="roleNames" /> contains a duplicate element.</span></span>

<span data-ttu-id="9c558-569">- 或 -</span><span class="sxs-lookup"><span data-stu-id="9c558-569">-or-</span></span>

 <span data-ttu-id="9c558-570"><paramref name="usernames" /> 包含重复的元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-570"><paramref name="usernames" /> contains a duplicate element.</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-571">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-571">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-572">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-572">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RoleExists">
      <MemberSignature Language="C#" Value="public static bool RoleExists (string roleName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool RoleExists(string roleName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.Roles.RoleExists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function RoleExists (roleName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool RoleExists(System::String ^ roleName);" />
      <MemberSignature Language="F#" Value="static member RoleExists : string -&gt; bool" Usage="System.Web.Security.Roles.RoleExists roleName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="roleName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="roleName"><span data-ttu-id="9c558-573">要在数据源中搜索的角色名。</span><span class="sxs-lookup"><span data-stu-id="9c558-573">The name of the role to search for in the data source.</span></span></param>
        <summary><span data-ttu-id="9c558-574">获取一个值，该值指示指定的角色名称是否已存在于角色数据源中。</span><span class="sxs-lookup"><span data-stu-id="9c558-574">Gets a value indicating whether the specified role name already exists in the role data source.</span></span></summary>
        <returns><span data-ttu-id="9c558-575">如果角色名称已存在于数据源中，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9c558-575"><see langword="true" /> if the role name already exists in the data source; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="9c558-576"><xref:System.Web.Security.Roles.RoleExists%2A>方法调用 `RoleExists` 默认角色提供程序的方法，以确定在属性中指定的应用程序的数据源中是否存在角色名称 <xref:System.Web.Security.Roles.ApplicationName%2A> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-576">The <xref:System.Web.Security.Roles.RoleExists%2A> method calls the `RoleExists` method of the default role provider to determine whether a role name exists in the data source for the application that is specified in the <xref:System.Web.Security.Roles.ApplicationName%2A> property.</span></span>



## Examples
 <span data-ttu-id="9c558-577">下面的代码示例使用 <xref:System.Web.Security.Roles.RoleExists%2A> 方法来确定角色名称是否已存在，然后再创建角色。</span><span class="sxs-lookup"><span data-stu-id="9c558-577">The following code example uses the <xref:System.Web.Security.Roles.RoleExists%2A> method to determine whether a role name already exists before creating the role.</span></span> <span data-ttu-id="9c558-578">有关启用角色管理的 Web.config 文件的示例，请参阅 <xref:System.Web.Security.Roles> 。</span><span class="sxs-lookup"><span data-stu-id="9c558-578">For an example of a Web.config file that enables role management, see <xref:System.Web.Security.Roles>.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="9c558-579">此示例包含一个文本框，该文本框接受用户输入，这是一个潜在的安全威胁。</span><span class="sxs-lookup"><span data-stu-id="9c558-579">This example contains a text box that accepts user input, which is a potential security threat.</span></span> <span data-ttu-id="9c558-580">默认情况下，ASP.NET 网页验证用户输入是否不包含脚本或 HTML 元素。</span><span class="sxs-lookup"><span data-stu-id="9c558-580">By default, ASP.NET Web pages validate that user input does not include script or HTML elements.</span></span> <span data-ttu-id="9c558-581">有关详细信息，请参阅[脚本侵入概述](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="9c558-581">For more information, see [Script Exploits Overview](https://docs.microsoft.com/previous-versions/aspnet/w1sw53ds(v=vs.100)).</span></span>

 [!code-aspx-csharp[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/CS/createrolecs.aspx#1)]
 [!code-aspx-vb[System.Web.Security.SqlRoleProvider#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.Security.SqlRoleProvider/VB/createrolevb.aspx#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="9c558-582"><paramref name="roleName" /> 为 <see langword="null" />（在 Visual Basic 中为 <see langword="Nothing" />）。</span><span class="sxs-lookup"><span data-stu-id="9c558-582"><paramref name="roleName" /> is <see langword="null" /> (<see langword="Nothing" /> in Visual Basic).</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="9c558-583"><paramref name="roleName" /> 为空字符串或者包含逗号 (,)。</span><span class="sxs-lookup"><span data-stu-id="9c558-583"><paramref name="roleName" /> is an empty string or contains a comma (,).</span></span></exception>
        <exception cref="T:System.Configuration.Provider.ProviderException"><span data-ttu-id="9c558-584">未启用角色管理。</span><span class="sxs-lookup"><span data-stu-id="9c558-584">Role management is not enabled.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/5k850zwb(v=vs.100)"><span data-ttu-id="9c558-585">了解 ASP.NET 角色管理</span><span class="sxs-lookup"><span data-stu-id="9c558-585">Understanding ASP.NET Role Management</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>

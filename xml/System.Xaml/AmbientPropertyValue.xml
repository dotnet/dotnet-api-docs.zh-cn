<Type Name="AmbientPropertyValue" FullName="System.Xaml.AmbientPropertyValue">
  <Metadata><Meta Name="ms.openlocfilehash" Value="8d10f0f8347293192581c30a3ea55918d5cb00ba" /><Meta Name="ms.sourcegitcommit" Value="9f423345753728e8cad38d4a22663a109e69ea91" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="03/04/2021" /><Meta Name="ms.locfileid" Value="102057046" /></Metadata><TypeSignature Language="C#" Value="public class AmbientPropertyValue" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit AmbientPropertyValue extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Xaml.AmbientPropertyValue" />
  <TypeSignature Language="VB.NET" Value="Public Class AmbientPropertyValue" />
  <TypeSignature Language="C++ CLI" Value="public ref class AmbientPropertyValue" />
  <TypeSignature Language="F#" Value="type AmbientPropertyValue = class" />
  <AssemblyInfo>
    <AssemblyName>System.Xaml</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="e806d-101">报告有关环境属性的信息，作为 <see cref="T:System.Xaml.IAmbientProvider" /> 实现的一部分。</span><span class="sxs-lookup"><span data-stu-id="e806d-101">Reports information about an ambient property, as part of an <see cref="T:System.Xaml.IAmbientProvider" /> implementation.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e806d-102"><xref:System.Xaml.AmbientPropertyValue> 表示通过调用服务方法返回的信息项 <xref:System.Xaml.IAmbientProvider> 。</span><span class="sxs-lookup"><span data-stu-id="e806d-102"><xref:System.Xaml.AmbientPropertyValue> represents an information item that is returned by calling an <xref:System.Xaml.IAmbientProvider> service method.</span></span> <span data-ttu-id="e806d-103">`GetAll`方法返回项的枚举或数组 <xref:System.Xaml.AmbientPropertyValue> ; `GetFirst` 方法返回单个 <xref:System.Xaml.AmbientPropertyValue> 。</span><span class="sxs-lookup"><span data-stu-id="e806d-103">The `GetAll` methods return enumerations or arrays of <xref:System.Xaml.AmbientPropertyValue> items; the `GetFirst` methods return a single <xref:System.Xaml.AmbientPropertyValue>.</span></span>  
  
## <a name="about-ambient-properties"></a><span data-ttu-id="e806d-104">关于环境属性</span><span class="sxs-lookup"><span data-stu-id="e806d-104">About Ambient Properties</span></span>  
 <span data-ttu-id="e806d-105">环境属性是一个属性，它的属性值应该可用于 XAML 节点结构中的值转换器用法和它下面的对象图。</span><span class="sxs-lookup"><span data-stu-id="e806d-105">An ambient property is a property whose property value should be available to value converter usage in the XAML node structure and to the object graph underneath it.</span></span> <span data-ttu-id="e806d-106">环境概念与 XAML 处理器相关，在加载路径或保存路径的序列化阶段的对象写入阶段。</span><span class="sxs-lookup"><span data-stu-id="e806d-106">The ambient concept  is relevant for a XAML processor during the object-writing phase of the load path or the serialization phase of a save path.</span></span>  
  
 <span data-ttu-id="e806d-107">类型也可以特性化为环境。</span><span class="sxs-lookup"><span data-stu-id="e806d-107">A type can also be attributed as ambient.</span></span> <span data-ttu-id="e806d-108">在这种情况下，使用特性化类型的所有属性都将报告为环境。</span><span class="sxs-lookup"><span data-stu-id="e806d-108">In this case, all properties that use the attributed type are reported as ambient.</span></span>  
  
 <span data-ttu-id="e806d-109">在加载路径情况下，环境属性值可能会影响 XAML 节点结构中存在于其下的其他属性的对象图生成值。</span><span class="sxs-lookup"><span data-stu-id="e806d-109">In the load path case, the ambient property value might influence the object graph produced value of other properties that exist underneath it in a XAML node structure.</span></span> <span data-ttu-id="e806d-110">当处理为 XAML 节点流时，环境概念表示环境属性值必须可用于的类型转换器和标记扩展 `StartObject` `EndObject` 。</span><span class="sxs-lookup"><span data-stu-id="e806d-110">When processed as a XAML node stream, the ambient concept implies that the ambient property value must be available to type converters and markup extensions from `StartObject` to `EndObject`.</span></span> <span data-ttu-id="e806d-111">同样，用于保存路径的类型转换器或标记扩展可以查找环境属性及其值。</span><span class="sxs-lookup"><span data-stu-id="e806d-111">Similarly, a type converter or markup extension that is used for the save path can look up the ambient property and its value.</span></span> <span data-ttu-id="e806d-112">因此，生成的 XAML 是更好的往返表示形式。</span><span class="sxs-lookup"><span data-stu-id="e806d-112">Therefore, the XAML that is produced is a better round-trip representation.</span></span>  
  
 <span data-ttu-id="e806d-113">XAML 不会按照语言定义来指定处理对象成员的顺序。</span><span class="sxs-lookup"><span data-stu-id="e806d-113">By its language definition, XAML does not specify the order in which members of an object must be processed.</span></span> <span data-ttu-id="e806d-114">但是，必须先由 XAML 读取器处理任何环境属性值，以便其他属性中包含的类型转换器和标记扩展用法可以通过服务访问它 <xref:System.Xaml.IAmbientProvider> 。</span><span class="sxs-lookup"><span data-stu-id="e806d-114">However, any ambient property value must be processed first by the XAML reader so that the type converter and markup extension usage that are contained in other properties can access it through the <xref:System.Xaml.IAmbientProvider> service.</span></span>  
  
 <span data-ttu-id="e806d-115"><xref:System.Xaml.XamlMember.DependsOn%2A> 是一个类似的概念，也会影响 XAML 节点处理顺序。</span><span class="sxs-lookup"><span data-stu-id="e806d-115"><xref:System.Xaml.XamlMember.DependsOn%2A> is a similar concept that also influences XAML node-processing order.</span></span> <span data-ttu-id="e806d-116">但是， <xref:System.Xaml.XamlMember.DependsOn%2A> 只能用于对等成员和节点关系，它无法影响所有后代。</span><span class="sxs-lookup"><span data-stu-id="e806d-116">However, <xref:System.Xaml.XamlMember.DependsOn%2A> can only be used for peer member and node relationships; it cannot influence all descendants.</span></span> <span data-ttu-id="e806d-117">同时， <xref:System.Xaml.XamlMember.DependsOn%2A> 直接影响对象图的属性设置，而环境技术依赖于类型转换器或标记扩展。</span><span class="sxs-lookup"><span data-stu-id="e806d-117">Also, <xref:System.Xaml.XamlMember.DependsOn%2A> directly influences object graph property setting, whereas the ambient technique relies on type converters or markup extensions.</span></span> <span data-ttu-id="e806d-118">在环境技术中，还必须有特定的类型转换器或标记扩展定义。</span><span class="sxs-lookup"><span data-stu-id="e806d-118">In the ambient technique, there must also be a specific type converter or markup extension definition.</span></span> <span data-ttu-id="e806d-119">这取决于每个类型转换器或标记扩展，以确定应如何解释环境属性值并将其应用到使用类型转换器或标记扩展的对象图位置。</span><span class="sxs-lookup"><span data-stu-id="e806d-119">It is up to each type converter or markup extension to determine how the ambient property value should be interpreted and applied to the object graph location where the type converter or markup extension is used.</span></span>  
  
## <a name="wpf-usage-notes"></a><span data-ttu-id="e806d-120">WPF 用法说明</span><span class="sxs-lookup"><span data-stu-id="e806d-120">WPF Usage Notes</span></span>  
 <span data-ttu-id="e806d-121">WPF 功能集中阐释的环境属性方案为 <xref:System.Windows.Style.TargetType%2A?displayProperty=nameWithType> ，它可以为其他值限定必需的属性名称查找。</span><span class="sxs-lookup"><span data-stu-id="e806d-121">An ambient property scenario that is illustrated in the WPF feature set is <xref:System.Windows.Style.TargetType%2A?displayProperty=nameWithType>, which can qualify the necessary property name lookups for other values.</span></span> <span data-ttu-id="e806d-122">在这种情况下， <xref:System.Windows.Style.TargetType%2A?displayProperty=nameWithType> 值限定 <xref:System.Windows.Setter.Property%2A?displayProperty=nameWithType> 其下的 XAML 节点中的值。</span><span class="sxs-lookup"><span data-stu-id="e806d-122">In this case, the <xref:System.Windows.Style.TargetType%2A?displayProperty=nameWithType> value qualifies the <xref:System.Windows.Setter.Property%2A?displayProperty=nameWithType> values in the XAML nodes underneath it.</span></span> <span data-ttu-id="e806d-123"><xref:System.Windows.Setter.Property%2A?displayProperty=nameWithType> 使用的类型转换器行为 <xref:System.Windows.DependencyProperty> 。</span><span class="sxs-lookup"><span data-stu-id="e806d-123"><xref:System.Windows.Setter.Property%2A?displayProperty=nameWithType> uses the type converter behavior for a <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="e806d-124">此行为 <xref:System.Windows.Style.TargetType%2A?displayProperty=nameWithType> 通过 <xref:System.Xaml.IAmbientProvider.GetFirstAmbientValue%2A> 从可供类型转换器和标记扩展使用的服务上下文进行查询来访问环境值。</span><span class="sxs-lookup"><span data-stu-id="e806d-124">This behavior accesses the ambient <xref:System.Windows.Style.TargetType%2A?displayProperty=nameWithType> value by querying <xref:System.Xaml.IAmbientProvider.GetFirstAmbientValue%2A> from a service context that is available to type converters and markup extensions.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Xaml.IAmbientProvider" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public AmbientPropertyValue (System.Xaml.XamlMember property, object value);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Xaml.XamlMember property, object value) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Xaml.AmbientPropertyValue.#ctor(System.Xaml.XamlMember,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (property As XamlMember, value As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; AmbientPropertyValue(System::Xaml::XamlMember ^ property, System::Object ^ value);" />
      <MemberSignature Language="F#" Value="new System.Xaml.AmbientPropertyValue : System.Xaml.XamlMember * obj -&gt; System.Xaml.AmbientPropertyValue" Usage="new System.Xaml.AmbientPropertyValue (property, value)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xaml</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="property" Type="System.Xaml.XamlMember" />
        <Parameter Name="value" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="property"><span data-ttu-id="e806d-125">表示环境属性的标识符。</span><span class="sxs-lookup"><span data-stu-id="e806d-125">The identifier that represents the ambient property.</span></span></param>
        <param name="value"><span data-ttu-id="e806d-126">要报告的值。</span><span class="sxs-lookup"><span data-stu-id="e806d-126">The value to report.</span></span></param>
        <summary><span data-ttu-id="e806d-127">初始化 <see cref="T:System.Xaml.AmbientPropertyValue" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="e806d-127">Initializes a new instance of the <see cref="T:System.Xaml.AmbientPropertyValue" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="RetrievedProperty">
      <MemberSignature Language="C#" Value="public System.Xaml.XamlMember RetrievedProperty { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Xaml.XamlMember RetrievedProperty" />
      <MemberSignature Language="DocId" Value="P:System.Xaml.AmbientPropertyValue.RetrievedProperty" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property RetrievedProperty As XamlMember" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Xaml::XamlMember ^ RetrievedProperty { System::Xaml::XamlMember ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.RetrievedProperty : System.Xaml.XamlMember" Usage="System.Xaml.AmbientPropertyValue.RetrievedProperty" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xaml</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Xaml.XamlMember</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e806d-128">获取表示环境属性的 XAML 类型系统标识符 (<see cref="T:System.Xaml.XamlMember" />)。</span><span class="sxs-lookup"><span data-stu-id="e806d-128">Gets the XAML type system identifier (<see cref="T:System.Xaml.XamlMember" />) that represents the ambient property.</span></span></summary>
        <value><span data-ttu-id="e806d-129">表示环境属性的标识符。</span><span class="sxs-lookup"><span data-stu-id="e806d-129">The identifier that represents the ambient property.</span></span></value>
        <remarks>To be added.</remarks>
        <altmember cref="T:System.Windows.Markup.AmbientAttribute" />
      </Docs>
    </Member>
    <Member MemberName="Value">
      <MemberSignature Language="C#" Value="public object Value { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance object Value" />
      <MemberSignature Language="DocId" Value="P:System.Xaml.AmbientPropertyValue.Value" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Value As Object" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Object ^ Value { System::Object ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Value : obj" Usage="System.Xaml.AmbientPropertyValue.Value" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xaml</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Object</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e806d-130">获取环境属性的值。</span><span class="sxs-lookup"><span data-stu-id="e806d-130">Gets the value of the ambient property.</span></span></summary>
        <value><span data-ttu-id="e806d-131">环境属性的值。</span><span class="sxs-lookup"><span data-stu-id="e806d-131">The value of the ambient property.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>

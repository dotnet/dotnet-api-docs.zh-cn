<Type Name="AssemblyKeyFileAttribute" FullName="System.Reflection.AssemblyKeyFileAttribute">
  <Metadata><Meta Name="ms.openlocfilehash" Value="884ce7467263dc6f3b6039feb19fabdfb8adf651" /><Meta Name="ms.sourcegitcommit" Value="11d168140aa8fade0768c2a9dde3e3bcacfdfb7d" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="05/27/2020" /><Meta Name="ms.locfileid" Value="83975317" /></Metadata><TypeSignature Language="C#" Value="public sealed class AssemblyKeyFileAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit AssemblyKeyFileAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Reflection.AssemblyKeyFileAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class AssemblyKeyFileAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class AssemblyKeyFileAttribute sealed : Attribute" />
  <TypeSignature Language="F#" Value="type AssemblyKeyFileAttribute = class&#xA;    inherit Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.2.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <TypeForwardingChain>
    <TypeForwarding From="mscorlib" FromVersion="4.0.0.0" To="System.Runtime" ToVersion="0.0.0.0" FrameworkAlternate="dotnet-uwp-10.0" />
    <TypeForwarding From="netstandard" FromVersion="2.1.0.0" To="System.Runtime" ToVersion="5.0.0.0" FrameworkAlternate="net-5.0" />
  </TypeForwardingChain>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.5;netstandard-1.6;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8;netcore-2.2;dotnet-uwp-10.0;netcore-3.0;netstandard-2.1;netcore-3.1;net-5.0">
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Assembly, Inherited=false)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1">
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Assembly, AllowMultiple=false)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="89990-101">指定包含用于生成强名称的密钥对的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="89990-101">Specifies the name of a file containing the key pair used to generate a strong name.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="89990-102">生成强名称程序集时，作者必须提供此属性或 <xref:System.Reflection.AssemblyKeyNameAttribute>。</span><span class="sxs-lookup"><span data-stu-id="89990-102">When building a strong-named assembly, the author must supply either this attribute or <xref:System.Reflection.AssemblyKeyNameAttribute>.</span></span> <span data-ttu-id="89990-103">如果还指定了 <xref:System.Reflection.AssemblyDelaySignAttribute>，则此文件可能只包含公钥。</span><span class="sxs-lookup"><span data-stu-id="89990-103">If <xref:System.Reflection.AssemblyDelaySignAttribute> has also been specified, it is likely that this file will only contain the public key.</span></span>  
  
 <span data-ttu-id="89990-104">`[assembly:AssemblyKeyFileAttribute("myKey.snk")]`语法的示例。</span><span class="sxs-lookup"><span data-stu-id="89990-104">An example of the syntax is `[assembly:AssemblyKeyFileAttribute("myKey.snk")]`.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="89990-105">由于路径和文件名是持久的，因此请确保用于 `AssemblyKeyFileAttribute` 的字符串不包含敏感信息。</span><span class="sxs-lookup"><span data-stu-id="89990-105">Since the path and file name persist, ensure that the string you use with `AssemblyKeyFileAttribute` does not contain sensitive information.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="89990-106">下面的代码示例演示如何在 <xref:System.Reflection.AssemblyKeyFileAttribute>中使用 <xref:System.Reflection.AssemblyDelaySignAttribute> 特性。</span><span class="sxs-lookup"><span data-stu-id="89990-106">The following code example shows the use of the <xref:System.Reflection.AssemblyDelaySignAttribute> attribute with the <xref:System.Reflection.AssemblyKeyFileAttribute>.</span></span> <span data-ttu-id="89990-107">若要编译此示例，必须使用[sn.exe （强名称工具）](/dotnet/framework/tools/sn-exe-strong-name-tool)创建名为 TestPublicKey 的强名称密钥文件：</span><span class="sxs-lookup"><span data-stu-id="89990-107">To compile this example, you must create a strong-name key file named TestPublicKey.snk using the [Sn.exe (Strong Name Tool)](/dotnet/framework/tools/sn-exe-strong-name-tool):</span></span>  
  
```console  
sn -k TestPublicKey.snk   
```  
  
 <span data-ttu-id="89990-108">将示例编译为 .dll。</span><span class="sxs-lookup"><span data-stu-id="89990-108">Compile the example as a .dll.</span></span> <span data-ttu-id="89990-109">如果从命令行进行编译，请使用C#或 Visual Basic `/t:library` 选项，或使用 Visual C++的 `/LD` 链接器选项。</span><span class="sxs-lookup"><span data-stu-id="89990-109">If you compile from the command line, use the `/t:library` option for C# or Visual Basic, or the `/LD` linker option for Visual C++.</span></span>  
  
 [!code-cpp[AssemblyDelaySignattribute#1](~/samples/snippets/cpp/VS_Snippets_CLR/AssemblyDelaySignAttribute/cpp/source.cpp#1)]
 [!code-csharp[AssemblyDelaySignattribute#1](~/samples/snippets/csharp/VS_Snippets_CLR/AssemblyDelaySignAttribute/cs/source.cs#1)]
 [!code-vb[AssemblyDelaySignattribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/AssemblyDelaySignAttribute/vb/source.vb#1)]  
  
 ]]></format>
    </remarks>
    <related type="Article" href="/dotnet/standard/metadata-and-self-describing-components"><span data-ttu-id="89990-110">元数据和自描述组件</span><span class="sxs-lookup"><span data-stu-id="89990-110">Metadata and Self-Describing Components</span></span></related>
    <related type="Article" href="/dotnet/standard/managed-execution-process"><span data-ttu-id="89990-111">托管执行进程</span><span class="sxs-lookup"><span data-stu-id="89990-111">Managed Execution Process</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public AssemblyKeyFileAttribute (string keyFile);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string keyFile) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Reflection.AssemblyKeyFileAttribute.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (keyFile As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; AssemblyKeyFileAttribute(System::String ^ keyFile);" />
      <MemberSignature Language="F#" Value="new System.Reflection.AssemblyKeyFileAttribute : string -&gt; System.Reflection.AssemblyKeyFileAttribute" Usage="new System.Reflection.AssemblyKeyFileAttribute keyFile" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="keyFile" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="keyFile"><span data-ttu-id="89990-112">包含密钥对的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="89990-112">The name of the file containing the key pair.</span></span></param>
        <summary><span data-ttu-id="89990-113">使用文件的名称初始化 <see langword="AssemblyKeyFileAttribute" /> 类的新实例，该文件包含为正在属性化的程序集生成强名称的密钥对。</span><span class="sxs-lookup"><span data-stu-id="89990-113">Initializes a new instance of the <see langword="AssemblyKeyFileAttribute" /> class with the name of the file containing the key pair to generate a strong name for the assembly being attributed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="89990-114"><xref:System.Reflection.AssemblyKeyFileAttribute> 构造函数没有默认路径。</span><span class="sxs-lookup"><span data-stu-id="89990-114">There is no default path for the <xref:System.Reflection.AssemblyKeyFileAttribute> constructor.</span></span> <span data-ttu-id="89990-115">构造函数设置的值由链接器或 [!INCLUDE[vsprvsext](~/includes/vsprvsext-md.md)]调用链接器来解释。</span><span class="sxs-lookup"><span data-stu-id="89990-115">The value set by the constructor is interpreted by the linker, or by [!INCLUDE[vsprvsext](~/includes/vsprvsext-md.md)], that invokes the linker.</span></span>  
  
 <span data-ttu-id="89990-116">[Al.exe （程序集链接器）](/dotnet/framework/tools/al-exe-assembly-linker)工具的默认设置假定密钥文件位于当前目录中。</span><span class="sxs-lookup"><span data-stu-id="89990-116">The default setting for the [Al.exe (Assembly Linker)](/dotnet/framework/tools/al-exe-assembly-linker) tool assumes that the key file is in the current directory.</span></span> <span data-ttu-id="89990-117">在 [!INCLUDE[vsprvslong](~/includes/vsprvslong-md.md)]中，Visual Basic 和 Visual C#编译器生成并链接到项目目录的子目录，因此，如果将密钥文件放在项目目录中，则相对路径可能是 "..."。\\.。\keyfile.snk "或"。\keyfile.snk "in Visual Basic 或" .。。\\\\。\\\keyfile.snk "或"。\\\keyfile.snk " C#。</span><span class="sxs-lookup"><span data-stu-id="89990-117">In [!INCLUDE[vsprvslong](~/includes/vsprvslong-md.md)], the Visual Basic and Visual C# compilers build and link to subdirectories of the project directory, so if you put the key file in the project directory the relative path might be "..\\..\keyfile.snk" or "..\keyfile.snk" in Visual Basic, or "..\\\\..\\\keyfile.snk" or "..\\\keyfile.snk" in C#.</span></span> <span data-ttu-id="89990-118">对于C#，可以在项目属性中设置此属性。</span><span class="sxs-lookup"><span data-stu-id="89990-118">For C#, this attribute can be set in the project properties.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="89990-119">由于路径和文件名是持久的，因此请确保用于 `AssemblyKeyFileAttribute` 的字符串不包含敏感信息。</span><span class="sxs-lookup"><span data-stu-id="89990-119">Because the path and file name persist, ensure that the string you use with `AssemblyKeyFileAttribute` does not contain sensitive information.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="KeyFile">
      <MemberSignature Language="C#" Value="public string KeyFile { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string KeyFile" />
      <MemberSignature Language="DocId" Value="P:System.Reflection.AssemblyKeyFileAttribute.KeyFile" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property KeyFile As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ KeyFile { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.KeyFile : string" Usage="System.Reflection.AssemblyKeyFileAttribute.KeyFile" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="89990-120">获取文件的名称，该文件包含用于为属性化程序集生成强名称的密钥对。</span><span class="sxs-lookup"><span data-stu-id="89990-120">Gets the name of the file containing the key pair used to generate a strong name for the attributed assembly.</span></span></summary>
        <value><span data-ttu-id="89990-121">包含密钥对所在文件的名称的字符串。</span><span class="sxs-lookup"><span data-stu-id="89990-121">A string containing the name of the file that contains the key pair.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!CAUTION]
>  <span data-ttu-id="89990-122">由于路径和文件名是持久的，因此请确保用于 `AssemblyKeyFileAttribute` 的字符串不包含敏感信息。</span><span class="sxs-lookup"><span data-stu-id="89990-122">Because the path and file name persist, ensure that the string you use with `AssemblyKeyFileAttribute` does not contain sensitive information.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>

<Type Name="SqlMethodAttribute" FullName="Microsoft.SqlServer.Server.SqlMethodAttribute">
  <Metadata><Meta Name="ms.openlocfilehash" Value="aa020f90966e46711dd998d10b537d4b1d7d0e85" /><Meta Name="ms.sourcegitcommit" Value="11d168140aa8fade0768c2a9dde3e3bcacfdfb7d" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="05/27/2020" /><Meta Name="ms.locfileid" Value="83928558" /></Metadata><TypeSignature Language="C#" Value="public sealed class SqlMethodAttribute : Microsoft.SqlServer.Server.SqlFunctionAttribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable sealed beforefieldinit SqlMethodAttribute extends Microsoft.SqlServer.Server.SqlFunctionAttribute" FrameworkAlternate="dotnet-plat-ext-2.1;dotnet-plat-ext-2.2;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="DocId" Value="T:Microsoft.SqlServer.Server.SqlMethodAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SqlMethodAttribute&#xA;Inherits SqlFunctionAttribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlMethodAttribute sealed : Microsoft::SqlServer::Server::SqlFunctionAttribute" />
  <TypeSignature Language="F#" Value="type SqlMethodAttribute = class&#xA;    inherit SqlFunctionAttribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SqlMethodAttribute extends Microsoft.SqlServer.Server.SqlFunctionAttribute" FrameworkAlternate="dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0" />
  <AssemblyInfo>
    <AssemblyName>System.Data</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Data.SqlClient</AssemblyName>
    <AssemblyVersion>4.4.0.0</AssemblyVersion>
    <AssemblyVersion>4.5.0.0</AssemblyVersion>
    <AssemblyVersion>4.6.0.0</AssemblyVersion>
    <AssemblyVersion>4.6.1.0</AssemblyVersion>
    <AssemblyVersion>4.6.1.1</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>Microsoft.SqlServer.Server.SqlFunctionAttribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8;dotnet-plat-ext-2.1;netcore-2.1;netcore-2.2;netcore-3.0;dotnet-plat-ext-2.2;dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0">
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Method, AllowMultiple=false, Inherited=false)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="dotnet-plat-ext-2.1;netcore-2.1;netcore-2.2;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;dotnet-plat-ext-2.2;netcore-3.0">
      <AttributeName>System.Serializable</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="c81df-101">指示用户定义类型 (UDT) 的方法或属性的确定性和数据访问性质。</span><span class="sxs-lookup"><span data-stu-id="c81df-101">Indicates the determinism and data access properties of a method or property on a user-defined type (UDT).</span></span> <span data-ttu-id="c81df-102">该特性的属性反映了向 SQL Server 注册该类型时所使用的实体特性。</span><span class="sxs-lookup"><span data-stu-id="c81df-102">The properties on the attribute reflect the physical characteristics that are used when the type is registered with SQL Server.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c81df-103">对于属性，应直接在 setter 或 getter 上使用 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute>。</span><span class="sxs-lookup"><span data-stu-id="c81df-103">For a property, the <xref:Microsoft.SqlServer.Server.SqlMethodAttribute> should be used on the setter or the getter directly.</span></span>  
  
 <span data-ttu-id="c81df-104"><xref:Microsoft.SqlServer.Server.SqlMethodAttribute> 继承自 <xref:Microsoft.SqlServer.Server.SqlFunctionAttribute>，因此 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute> 从 `TableDefinition` 继承 `FillRowMethodName` 和 <xref:Microsoft.SqlServer.Server.SqlFunctionAttribute>字段。</span><span class="sxs-lookup"><span data-stu-id="c81df-104"><xref:Microsoft.SqlServer.Server.SqlMethodAttribute> inherits from a <xref:Microsoft.SqlServer.Server.SqlFunctionAttribute>, so <xref:Microsoft.SqlServer.Server.SqlMethodAttribute> inherits the `FillRowMethodName` and `TableDefinition` fields from <xref:Microsoft.SqlServer.Server.SqlFunctionAttribute>.</span></span> <span data-ttu-id="c81df-105">请注意，虽然这些字段的名称可能会表明可能，但不能编写表值方法。</span><span class="sxs-lookup"><span data-stu-id="c81df-105">Note that it is not possible to write a table-valued method, although the names of these fields might suggest that it is possible.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="c81df-106">下面的示例演示了一个 UDT 方法，该方法具有以下特性：指示将不会在类型的 null 实例上调用该方法，该方法不会更改该类型的状态，并且在向方法调用提供 `null` 参数时将不会调用此方法。</span><span class="sxs-lookup"><span data-stu-id="c81df-106">The following example shows a UDT method that is attributed to indicate that the method will not be invoked on null instances of the type, that the method will not change the state of the type, and that the method will not be called when `null` parameters are supplied to the method invocation.</span></span>  
  
 [!code-csharp[DataWorks SqlMethodAttribute Sample#1](~/samples/snippets/csharp/VS_Snippets_ADO.NET/DataWorks SqlMethodAttribute Sample/CS/source.cs#1)]
 [!code-vb[DataWorks SqlMethodAttribute Sample#1](~/samples/snippets/visualbasic/VS_Snippets_ADO.NET/DataWorks SqlMethodAttribute Sample/VB/source.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlMethodAttribute ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:Microsoft.SqlServer.Server.SqlMethodAttribute.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlMethodAttribute();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Data.SqlClient</AssemblyName>
        <AssemblyVersion>4.4.0.0</AssemblyVersion>
        <AssemblyVersion>4.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.1</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="c81df-107">用户定义类型 (UDT) 的特性，用于指示 UDT 的方法或属性的确定性和数据访问性质。</span><span class="sxs-lookup"><span data-stu-id="c81df-107">An attribute on a user-defined type (UDT), used to indicate the determinism and data access properties of a method or a property on a UDT.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="InvokeIfReceiverIsNull">
      <MemberSignature Language="C#" Value="public bool InvokeIfReceiverIsNull { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool InvokeIfReceiverIsNull" />
      <MemberSignature Language="DocId" Value="P:Microsoft.SqlServer.Server.SqlMethodAttribute.InvokeIfReceiverIsNull" />
      <MemberSignature Language="VB.NET" Value="Public Property InvokeIfReceiverIsNull As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool InvokeIfReceiverIsNull { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.InvokeIfReceiverIsNull : bool with get, set" Usage="Microsoft.SqlServer.Server.SqlMethodAttribute.InvokeIfReceiverIsNull" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Data.SqlClient</AssemblyName>
        <AssemblyVersion>4.4.0.0</AssemblyVersion>
        <AssemblyVersion>4.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.1</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="c81df-108">指示 SQL Server 是否应在 null 实例上调用此方法。</span><span class="sxs-lookup"><span data-stu-id="c81df-108">Indicates whether SQL Server should invoke the method on null instances.</span></span></summary>
        <value><span data-ttu-id="c81df-109">如果 SQL Server 应在 null 实例上调用此方法，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="c81df-109"><see langword="true" /> if SQL Server should invoke the method on null instances; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="c81df-110">如果无法调用方法（因为方法的属性），将返回 SQL Server <see langword="DbNull" />。</span><span class="sxs-lookup"><span data-stu-id="c81df-110">If the method cannot be invoked (because of an attribute on the method), the SQL Server <see langword="DbNull" /> is returned.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 
<span data-ttu-id="c81df-111">`InvokeIfReceiverIsNull` 属性的默认值为 `false`。</span><span class="sxs-lookup"><span data-stu-id="c81df-111">The default value of the `InvokeIfReceiverIsNull` property is `false`.</span></span> <span data-ttu-id="c81df-112">也就是说，不会在 null 实例上调用方法。</span><span class="sxs-lookup"><span data-stu-id="c81df-112">That is, the method is not invoked on a null instance.</span></span> <span data-ttu-id="c81df-113">如果 `true``InvokeIfReceiverIsNull`，则方法的返回值取决于其类型。</span><span class="sxs-lookup"><span data-stu-id="c81df-113">If `InvokeIfReceiverIsNull` is `true`, the return value of the method depends upon its type.</span></span> <span data-ttu-id="c81df-114">如果该方法的返回类型可以为 null，则返回该类型的可分辨 null 值。</span><span class="sxs-lookup"><span data-stu-id="c81df-114">If the return type of the method is nullable, the distinguished null value for the type is returned.</span></span> <span data-ttu-id="c81df-115">如果返回类型不可以为 null，则返回该类型的默认 CLR 值。</span><span class="sxs-lookup"><span data-stu-id="c81df-115">If the return type is non-nullable, the default CLR value for the type is returned.</span></span> <span data-ttu-id="c81df-116">引用类型的默认值为 `null`。</span><span class="sxs-lookup"><span data-stu-id="c81df-116">The default value for reference types is `null`.</span></span> <span data-ttu-id="c81df-117">值类型的默认值是调用类型的无参数构造函数时返回的值。</span><span class="sxs-lookup"><span data-stu-id="c81df-117">The default value for a value type is the value that is returned when you call the parameterless constructor for the type.</span></span>
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsMutator">
      <MemberSignature Language="C#" Value="public bool IsMutator { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsMutator" />
      <MemberSignature Language="DocId" Value="P:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator" />
      <MemberSignature Language="VB.NET" Value="Public Property IsMutator As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool IsMutator { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.IsMutator : bool with get, set" Usage="Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Data.SqlClient</AssemblyName>
        <AssemblyVersion>4.4.0.0</AssemblyVersion>
        <AssemblyVersion>4.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.1</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="c81df-118">指示用户定义类型 (UDT) 的方法是否为转变器。</span><span class="sxs-lookup"><span data-stu-id="c81df-118">Indicates whether a method on a user-defined type (UDT) is a mutator.</span></span></summary>
        <value><span data-ttu-id="c81df-119">如果该方法是转变器，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="c81df-119"><see langword="true" /> if the method is a mutator; otherwise <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c81df-120">如果 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> 属性设置为 `true` 并且方法的返回类型 `void`，则 SQL Server 会将方法标记为赋值函数。</span><span class="sxs-lookup"><span data-stu-id="c81df-120">If the <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> property is set to `true` and the return type of the method is `void`, SQL Server marks the method as a mutator.</span></span> <span data-ttu-id="c81df-121">赋值函数方法是导致 UDT 实例中的状态发生更改。</span><span class="sxs-lookup"><span data-stu-id="c81df-121">A mutator method is one that causes a state change in the UDT instance.</span></span> <span data-ttu-id="c81df-122">可在赋值语句或数据修改语句中调用赋值函数方法，但不能在查询中使用。</span><span class="sxs-lookup"><span data-stu-id="c81df-122">Mutator methods can be called in assignment statements or data modification statements, but cannot be used in queries.</span></span> <span data-ttu-id="c81df-123">如果方法被标记为赋值函数但不返回 void，则 CREATE TYPE 不会失败并出现错误。</span><span class="sxs-lookup"><span data-stu-id="c81df-123">If a method is marked as a mutator but does not return void, then CREATE TYPE does not fail with an error.</span></span> <span data-ttu-id="c81df-124">即使 `void` 以外的返回值不会引发错误，返回的值也不可访问，因此无法使用。</span><span class="sxs-lookup"><span data-stu-id="c81df-124">Even though a returned value other than `void` does not raise an error, the returned value is not accessible and cannot be used.</span></span>  
  
 <span data-ttu-id="c81df-125"><xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> 属性的默认值为 `false`。</span><span class="sxs-lookup"><span data-stu-id="c81df-125">The default value of the <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> property is `false`.</span></span>  
  
 <span data-ttu-id="c81df-126">如果在资源库中使用 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute>，且 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> 设置为 `true`，则该属性可以为赋值函数。</span><span class="sxs-lookup"><span data-stu-id="c81df-126">A property can be a mutator if <xref:Microsoft.SqlServer.Server.SqlMethodAttribute> is used on the setter and <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> is set to `true`.</span></span> <span data-ttu-id="c81df-127">但是，属性 setter 将隐式视为赋值函数，因此不需要将 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute> 的 <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> 属性设置为 `true`。</span><span class="sxs-lookup"><span data-stu-id="c81df-127">However, a property setter is implicitly treated as a mutator, so it is not necessary to set the <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.IsMutator%2A> property of the <xref:Microsoft.SqlServer.Server.SqlMethodAttribute> to `true`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnNullCall">
      <MemberSignature Language="C#" Value="public bool OnNullCall { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool OnNullCall" />
      <MemberSignature Language="DocId" Value="P:Microsoft.SqlServer.Server.SqlMethodAttribute.OnNullCall" />
      <MemberSignature Language="VB.NET" Value="Public Property OnNullCall As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool OnNullCall { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.OnNullCall : bool with get, set" Usage="Microsoft.SqlServer.Server.SqlMethodAttribute.OnNullCall" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Data.SqlClient</AssemblyName>
        <AssemblyVersion>4.4.0.0</AssemblyVersion>
        <AssemblyVersion>4.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.0.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.0</AssemblyVersion>
        <AssemblyVersion>4.6.1.1</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="c81df-128">在方法调用中使用 <see langword="null" /> 输入参数时指示是否调用用户定义类型 (UDT) 上的方法。</span><span class="sxs-lookup"><span data-stu-id="c81df-128">Indicates whether the method on a user-defined type (UDT) is called when <see langword="null" /> input arguments are specified in the method invocation.</span></span></summary>
        <value><span data-ttu-id="c81df-129">如果 <see langword="null" /> 输入参数在方法调用中指定时，调用了该方法，则为 <see langword="true" />；如果任意输入参数为 <see langword="null" /> 时，该方法返回了 <see langword="null" /> 值，则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="c81df-129"><see langword="true" /> if the method is called when <see langword="null" /> input arguments are specified in the method invocation; <see langword="false" /> if the method returns a <see langword="null" /> value when any of its input parameters are <see langword="null" />.</span></span> <span data-ttu-id="c81df-130">如果无法调用方法（因为方法的属性），将返回 SQL Server <see langword="DbNull" />。</span><span class="sxs-lookup"><span data-stu-id="c81df-130">If the method cannot be invoked (because of an attribute on the method), the SQL Server <see langword="DbNull" /> is returned.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c81df-131"><xref:Microsoft.SqlServer.Server.SqlMethodAttribute.OnNullCall%2A> 属性的默认值为 `true`。</span><span class="sxs-lookup"><span data-stu-id="c81df-131">The default value of the <xref:Microsoft.SqlServer.Server.SqlMethodAttribute.OnNullCall%2A> property is `true`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>

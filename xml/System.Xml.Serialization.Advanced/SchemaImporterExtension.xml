<Type Name="SchemaImporterExtension" FullName="System.Xml.Serialization.Advanced.SchemaImporterExtension">
  <Metadata><Meta Name="ms.openlocfilehash" Value="5e79f79eab760d5119751f575c0b39bc73baceb9" /><Meta Name="ms.sourcegitcommit" Value="c982ad9e10a242d90f1e631b5981570f9e5d9f34" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="09/10/2020" /><Meta Name="ms.locfileid" Value="89694502" /></Metadata><TypeSignature Language="C#" Value="public abstract class SchemaImporterExtension" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit SchemaImporterExtension extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Xml.Serialization.Advanced.SchemaImporterExtension" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class SchemaImporterExtension" />
  <TypeSignature Language="C++ CLI" Value="public ref class SchemaImporterExtension abstract" />
  <TypeSignature Language="F#" Value="type SchemaImporterExtension = class" />
  <AssemblyInfo>
    <AssemblyName>System.Xml</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="44a71-101">允许在使用自动查询工具时自定义从 Web 服务描述语言 (WSDL) 文档生成的代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-101">Allows you to customize the code generated from a Web Services Description Language (WSDL) document when using automated query tools.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="44a71-102">只要通过工具（如 Visual Studio 中的 "添加 Web 引用" 对话框）生成 Web 服务代理，或使用 [Web 服务描述语言工具 ( # A0) ](https://msdn.microsoft.com/library/b9210348-8bc2-4367-8c91-d1a04b403e88)，就会发生架构导入。</span><span class="sxs-lookup"><span data-stu-id="44a71-102">Schema importation occurs whenever a Web service proxy is produced through a tool such as the Add Web Reference dialog box found in Visual Studio, or by using the [Web Services Description Language Tool (Wsdl.exe)](https://msdn.microsoft.com/library/b9210348-8bc2-4367-8c91-d1a04b403e88).</span></span> <span data-ttu-id="44a71-103">使用 XML 架构定义工具时，还会发生架构导入 [ ( # A0) ](/dotnet/standard/serialization/xml-schema-definition-tool-xsd-exe) 从特定的 XSD 文档生成代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-103">Schema importation also occurs when using the [XML Schema Definition Tool (Xsd.exe)](/dotnet/standard/serialization/xml-schema-definition-tool-xsd-exe) to generate code from a specific XSD document.</span></span>  
  
 <span data-ttu-id="44a71-104"><xref:System.Xml.Serialization.Advanced.SchemaImporterExtension>使用此类工具时，可以修改生成的代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-104">The <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> class allows you to modify the code generated when using any of these tools.</span></span> <span data-ttu-id="44a71-105">例如，您可能有一个在系统上处理图书订单的现有类，并且您有一个提供订单的现有 XSD 文档。</span><span class="sxs-lookup"><span data-stu-id="44a71-105">For example, you may have an existing class that processes book orders on a system and you have an existing XSD document that supplies your orders.</span></span> <span data-ttu-id="44a71-106">使用 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> 类，您可以启用其中一个工具来生成使用您的类的代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-106">Using the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> class, you can enable one of the tools to generate code that uses your class.</span></span>  
  
 <span data-ttu-id="44a71-107">若要控制代码的生成，必须使用在命名空间中找到的类 <xref:System.CodeDom> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-107">In order to control the generation of the code, you must use the classes found in the <xref:System.CodeDom> namespace.</span></span> <span data-ttu-id="44a71-108">有关详细信息，请参阅 [使用 codedom](/dotnet/framework/reflection-and-codedom/using-the-codedom) 和 [codedom 快速参考](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx)。</span><span class="sxs-lookup"><span data-stu-id="44a71-108">For more information, see [Using the CodeDOM](/dotnet/framework/reflection-and-codedom/using-the-codedom) and [CodeDOM Quick Reference](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx).</span></span>  
  
 <span data-ttu-id="44a71-109">启用 WSDL.exe 工具 (而其他工具（如 "添加 Web 引用" 对话框) 使用您的扩展）的步骤如下：</span><span class="sxs-lookup"><span data-stu-id="44a71-109">The steps to enabling the WSDL.exe tool (which in turn is used by other tools such as the Add Web Reference dialog box) to use your extension are:</span></span>  
  
1.  <span data-ttu-id="44a71-110">创建类的实现 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-110">Create an implementation of the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> class.</span></span>  
  
2.  <span data-ttu-id="44a71-111">使用 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%2A> 方法为代码生成器编写代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-111">Use the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%2A> method to write code for the code generator.</span></span> <span data-ttu-id="44a71-112">方法包含一些参数，这些参数允许你检查截获的 XSD 类型，并创建用于生成新的 CLR 代码的 CodeDOM 对象。</span><span class="sxs-lookup"><span data-stu-id="44a71-112">The method contains parameters that allow you to examine the intercepted XSD type and create CodeDOM objects that are used to generate the new CLR code.</span></span>  
  
3.  <span data-ttu-id="44a71-113">如果需要，请使用 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportAnyElement%2A> 方法来处理 \<xsd:any> XSD 文档中的元素。</span><span class="sxs-lookup"><span data-stu-id="44a71-113">If required, use the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportAnyElement%2A> method to handle \<xsd:any> elements found in the XSD document.</span></span>  
  
4.  <span data-ttu-id="44a71-114">如果需要，请使用 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportDefaultValue%2A> 方法检查 XSD 文档中找到的默认值并返回不同的默认值。</span><span class="sxs-lookup"><span data-stu-id="44a71-114">If required, use the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportDefaultValue%2A> method to examine default values found in the XSD document and return a different default value.</span></span>  
  
5.  <span data-ttu-id="44a71-115">将扩展编译到库中。</span><span class="sxs-lookup"><span data-stu-id="44a71-115">Compile your extension into a library.</span></span>  
  
6.  <span data-ttu-id="44a71-116">为程序集签名。</span><span class="sxs-lookup"><span data-stu-id="44a71-116">Sign the assembly.</span></span>  
  
7.  <span data-ttu-id="44a71-117">将程序集安装到全局程序集缓存 (GAC) 。</span><span class="sxs-lookup"><span data-stu-id="44a71-117">Install the assembly in the Global Assembly Cache (GAC).</span></span>  
  
8.  <span data-ttu-id="44a71-118">修改 machine.config 文件以包含扩展名。</span><span class="sxs-lookup"><span data-stu-id="44a71-118">Modify the machine.config file to include the extension.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="44a71-119">请参阅 [SchemaImporterExtension 技术示例](/dotnet/standard/serialization/schemaimporterextension-technology-sample)。</span><span class="sxs-lookup"><span data-stu-id="44a71-119">See the [SchemaImporterExtension Technology Sample](/dotnet/standard/serialization/schemaimporterextension-technology-sample).</span></span> <span data-ttu-id="44a71-120">请注意，此示例不包括已签名的程序集。</span><span class="sxs-lookup"><span data-stu-id="44a71-120">Note that this example does not include a signed assembly.</span></span> <span data-ttu-id="44a71-121">相反，它演示了如何在 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> 命令窗口中使用。</span><span class="sxs-lookup"><span data-stu-id="44a71-121">Instead, it demonstrates how to use the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension> with a command window.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected SchemaImporterExtension ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Xml.Serialization.Advanced.SchemaImporterExtension.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; SchemaImporterExtension();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xml</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="44a71-122">初始化 <see cref="T:System.Xml.Serialization.Advanced.SchemaImporterExtension" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="44a71-122">Initializes a new instance of the <see cref="T:System.Xml.Serialization.Advanced.SchemaImporterExtension" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ImportAnyElement">
      <MemberSignature Language="C#" Value="public virtual string ImportAnyElement (System.Xml.Schema.XmlSchemaAny any, bool mixed, System.Xml.Serialization.XmlSchemas schemas, System.Xml.Serialization.XmlSchemaImporter importer, System.CodeDom.CodeCompileUnit compileUnit, System.CodeDom.CodeNamespace mainNamespace, System.Xml.Serialization.CodeGenerationOptions options, System.CodeDom.Compiler.CodeDomProvider codeProvider);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string ImportAnyElement(class System.Xml.Schema.XmlSchemaAny any, bool mixed, class System.Xml.Serialization.XmlSchemas schemas, class System.Xml.Serialization.XmlSchemaImporter importer, class System.CodeDom.CodeCompileUnit compileUnit, class System.CodeDom.CodeNamespace mainNamespace, valuetype System.Xml.Serialization.CodeGenerationOptions options, class System.CodeDom.Compiler.CodeDomProvider codeProvider) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportAnyElement(System.Xml.Schema.XmlSchemaAny,System.Boolean,System.Xml.Serialization.XmlSchemas,System.Xml.Serialization.XmlSchemaImporter,System.CodeDom.CodeCompileUnit,System.CodeDom.CodeNamespace,System.Xml.Serialization.CodeGenerationOptions,System.CodeDom.Compiler.CodeDomProvider)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function ImportAnyElement (any As XmlSchemaAny, mixed As Boolean, schemas As XmlSchemas, importer As XmlSchemaImporter, compileUnit As CodeCompileUnit, mainNamespace As CodeNamespace, options As CodeGenerationOptions, codeProvider As CodeDomProvider) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ ImportAnyElement(System::Xml::Schema::XmlSchemaAny ^ any, bool mixed, System::Xml::Serialization::XmlSchemas ^ schemas, System::Xml::Serialization::XmlSchemaImporter ^ importer, System::CodeDom::CodeCompileUnit ^ compileUnit, System::CodeDom::CodeNamespace ^ mainNamespace, System::Xml::Serialization::CodeGenerationOptions options, System::CodeDom::Compiler::CodeDomProvider ^ codeProvider);" />
      <MemberSignature Language="F#" Value="abstract member ImportAnyElement : System.Xml.Schema.XmlSchemaAny * bool * System.Xml.Serialization.XmlSchemas * System.Xml.Serialization.XmlSchemaImporter * System.CodeDom.CodeCompileUnit * System.CodeDom.CodeNamespace * System.Xml.Serialization.CodeGenerationOptions * System.CodeDom.Compiler.CodeDomProvider -&gt; string&#xA;override this.ImportAnyElement : System.Xml.Schema.XmlSchemaAny * bool * System.Xml.Serialization.XmlSchemas * System.Xml.Serialization.XmlSchemaImporter * System.CodeDom.CodeCompileUnit * System.CodeDom.CodeNamespace * System.Xml.Serialization.CodeGenerationOptions * System.CodeDom.Compiler.CodeDomProvider -&gt; string" Usage="schemaImporterExtension.ImportAnyElement (any, mixed, schemas, importer, compileUnit, mainNamespace, options, codeProvider)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xml</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="any" Type="System.Xml.Schema.XmlSchemaAny" />
        <Parameter Name="mixed" Type="System.Boolean" />
        <Parameter Name="schemas" Type="System.Xml.Serialization.XmlSchemas" />
        <Parameter Name="importer" Type="System.Xml.Serialization.XmlSchemaImporter" />
        <Parameter Name="compileUnit" Type="System.CodeDom.CodeCompileUnit" />
        <Parameter Name="mainNamespace" Type="System.CodeDom.CodeNamespace" />
        <Parameter Name="options" Type="System.Xml.Serialization.CodeGenerationOptions" />
        <Parameter Name="codeProvider" Type="System.CodeDom.Compiler.CodeDomProvider" />
      </Parameters>
      <Docs>
        <param name="any"><span data-ttu-id="44a71-123">在 XML 架构文档 (XSD) 中找到的 <see langword="xsd:any" /> 元素。</span><span class="sxs-lookup"><span data-stu-id="44a71-123">The <see langword="xsd:any" /> element found in the XML Schema Document (XSD).</span></span></param>
        <param name="mixed"><span data-ttu-id="44a71-124">如果 XSD <see langword="complex" /> 特性已设置为“mixed”，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="44a71-124"><see langword="true" /> to indicate the XSD <see langword="complex" /> attribute has been set to "mixed"; otherwise, <see langword="false" />.</span></span></param>
        <param name="schemas"><span data-ttu-id="44a71-125">在 XSD 中找到的架构的集合。</span><span class="sxs-lookup"><span data-stu-id="44a71-125">The collection of schemas found in the XSD.</span></span></param>
        <param name="importer"><span data-ttu-id="44a71-126">正在使用的导入程序。</span><span class="sxs-lookup"><span data-stu-id="44a71-126">The importer being used.</span></span></param>
        <param name="compileUnit"><span data-ttu-id="44a71-127"><see cref="T:System.CodeDom.CodeCompileUnit" />，可向其添加 CodeDOM 结构以生成 XSD 的备选代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-127">A <see cref="T:System.CodeDom.CodeCompileUnit" /> to which you can add CodeDOM structures to generate alternative code for the XSD.</span></span></param>
        <param name="mainNamespace"><span data-ttu-id="44a71-128">元素的当前命名空间。</span><span class="sxs-lookup"><span data-stu-id="44a71-128">The current namespace for the element.</span></span></param>
        <param name="options"><span data-ttu-id="44a71-129">枚举值的按位组合，这些枚举值指定代码编译器上的设置选项。</span><span class="sxs-lookup"><span data-stu-id="44a71-129">A bitwise combination of the enumeration values that specify the setting options on the code compiler.</span></span></param>
        <param name="codeProvider"><span data-ttu-id="44a71-130">用来生成新代码的 CodeDOM 提供程序。</span><span class="sxs-lookup"><span data-stu-id="44a71-130">The CodeDOM provider used to generate the new code.</span></span></param>
        <summary><span data-ttu-id="44a71-131">处理架构中的 &lt;xsd:any&gt; 元素的导入。</span><span class="sxs-lookup"><span data-stu-id="44a71-131">Handles the importation of the &lt;xsd:any&gt; elements in the schema.</span></span></summary>
        <returns><span data-ttu-id="44a71-132">该元素映射到的 CLR 类型的名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-132">The name of the CLR type that the element maps to.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="44a71-133">若要控制代码的生成，必须使用在命名空间中找到的类 <xref:System.CodeDom> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-133">In order to control the generation of the code, you must use the classes found in the <xref:System.CodeDom> namespace.</span></span> <span data-ttu-id="44a71-134">有关详细信息，请参阅 [使用 codedom](/dotnet/framework/reflection-and-codedom/using-the-codedom) 和 [codedom 快速参考](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx)。</span><span class="sxs-lookup"><span data-stu-id="44a71-134">For more information, see [Using the CodeDOM](/dotnet/framework/reflection-and-codedom/using-the-codedom) and [CodeDOM Quick Reference](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ImportDefaultValue">
      <MemberSignature Language="C#" Value="public virtual System.CodeDom.CodeExpression ImportDefaultValue (string value, string type);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.CodeDom.CodeExpression ImportDefaultValue(string value, string type) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportDefaultValue(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function ImportDefaultValue (value As String, type As String) As CodeExpression" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::CodeDom::CodeExpression ^ ImportDefaultValue(System::String ^ value, System::String ^ type);" />
      <MemberSignature Language="F#" Value="abstract member ImportDefaultValue : string * string -&gt; System.CodeDom.CodeExpression&#xA;override this.ImportDefaultValue : string * string -&gt; System.CodeDom.CodeExpression" Usage="schemaImporterExtension.ImportDefaultValue (value, type)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xml</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.CodeDom.CodeExpression</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="value" Type="System.String" />
        <Parameter Name="type" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="value"><span data-ttu-id="44a71-135">原始 XSD 中的值。</span><span class="sxs-lookup"><span data-stu-id="44a71-135">The value found in the original XSD.</span></span></param>
        <param name="type"><span data-ttu-id="44a71-136">XSD 类型名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-136">The XSD type name.</span></span></param>
        <summary><span data-ttu-id="44a71-137">允许为正在导入的 XSD 类型指定默认值。</span><span class="sxs-lookup"><span data-stu-id="44a71-137">Allows you to specify the default value for the XSD type being imported.</span></span></summary>
        <returns><span data-ttu-id="44a71-138">设置新默认值的 <see cref="T:System.CodeDom.CodeExpression" />。</span><span class="sxs-lookup"><span data-stu-id="44a71-138">A <see cref="T:System.CodeDom.CodeExpression" /> setting the new default value.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="44a71-139">若要控制代码的生成，必须使用在命名空间中找到的类 <xref:System.CodeDom> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-139">In order to control the generation of the code, you must use the classes found in the <xref:System.CodeDom> namespace.</span></span> <span data-ttu-id="44a71-140">有关详细信息，请参阅 [使用 codedom](/dotnet/framework/reflection-and-codedom/using-the-codedom) 和 [codedom 快速参考](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx)。</span><span class="sxs-lookup"><span data-stu-id="44a71-140">For more information, see [Using the CodeDOM](/dotnet/framework/reflection-and-codedom/using-the-codedom) and [CodeDOM Quick Reference](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="ImportSchemaType">
      <AssemblyInfo>
        <AssemblyName>System.Xml</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="44a71-141">允许您检查导入的架构并指定该架构映射到的 CLR 类型，从而对生成的代码进行操作。</span><span class="sxs-lookup"><span data-stu-id="44a71-141">Allows you to manipulate the code generated by examining the imported schema and specifying the CLR type that it maps to.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="44a71-142">下面的示例演示方法的简单实现 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%28System.String%2CSystem.String%2CSystem.Xml.Schema.XmlSchemaObject%2CSystem.Xml.Serialization.XmlSchemas%2CSystem.Xml.Serialization.XmlSchemaImporter%2CSystem.CodeDom.CodeCompileUnit%2CSystem.CodeDom.CodeNamespace%2CSystem.Xml.Serialization.CodeGenerationOptions%2CSystem.CodeDom.Compiler.CodeDomProvider%29> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-142">The example below shows a simple implementation of the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%28System.String%2CSystem.String%2CSystem.Xml.Schema.XmlSchemaObject%2CSystem.Xml.Serialization.XmlSchemas%2CSystem.Xml.Serialization.XmlSchemaImporter%2CSystem.CodeDom.CodeCompileUnit%2CSystem.CodeDom.CodeNamespace%2CSystem.Xml.Serialization.CodeGenerationOptions%2CSystem.CodeDom.Compiler.CodeDomProvider%29> method.</span></span> <span data-ttu-id="44a71-143">代码将检查命名空间和名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-143">The code checks the namespace and name.</span></span> <span data-ttu-id="44a71-144">找到正确的值后，它会将自定义程序集的名称添加 ( "Order.dll" ) ，这些程序集必须在生成的代码中引用。</span><span class="sxs-lookup"><span data-stu-id="44a71-144">When the right values are found, it adds the name of a custom assembly ("Order.dll") that must be referenced in the generated code.</span></span> <span data-ttu-id="44a71-145">然后，它将添加一个新的命名空间 ( 在代码中生成的 ") "。</span><span class="sxs-lookup"><span data-stu-id="44a71-145">It then adds a new namespace ("Microsoft.Samples") that is generated in the code.</span></span>  
  
 [!code-csharp[SchemaImporterExtensionExample#1](~/samples/snippets/csharp/VS_Snippets_Remoting/SchemaImporterExtensionExample/CS/SchemaImporterExtensionExample.cs#1)]
 [!code-vb[SchemaImporterExtensionExample#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/SchemaImporterExtensionExample/VB/SchemaImporterExtensionExample.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </MemberGroup>
    <Member MemberName="ImportSchemaType">
      <MemberSignature Language="C#" Value="public virtual string ImportSchemaType (System.Xml.Schema.XmlSchemaType type, System.Xml.Schema.XmlSchemaObject context, System.Xml.Serialization.XmlSchemas schemas, System.Xml.Serialization.XmlSchemaImporter importer, System.CodeDom.CodeCompileUnit compileUnit, System.CodeDom.CodeNamespace mainNamespace, System.Xml.Serialization.CodeGenerationOptions options, System.CodeDom.Compiler.CodeDomProvider codeProvider);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string ImportSchemaType(class System.Xml.Schema.XmlSchemaType type, class System.Xml.Schema.XmlSchemaObject context, class System.Xml.Serialization.XmlSchemas schemas, class System.Xml.Serialization.XmlSchemaImporter importer, class System.CodeDom.CodeCompileUnit compileUnit, class System.CodeDom.CodeNamespace mainNamespace, valuetype System.Xml.Serialization.CodeGenerationOptions options, class System.CodeDom.Compiler.CodeDomProvider codeProvider) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType(System.Xml.Schema.XmlSchemaType,System.Xml.Schema.XmlSchemaObject,System.Xml.Serialization.XmlSchemas,System.Xml.Serialization.XmlSchemaImporter,System.CodeDom.CodeCompileUnit,System.CodeDom.CodeNamespace,System.Xml.Serialization.CodeGenerationOptions,System.CodeDom.Compiler.CodeDomProvider)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function ImportSchemaType (type As XmlSchemaType, context As XmlSchemaObject, schemas As XmlSchemas, importer As XmlSchemaImporter, compileUnit As CodeCompileUnit, mainNamespace As CodeNamespace, options As CodeGenerationOptions, codeProvider As CodeDomProvider) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ ImportSchemaType(System::Xml::Schema::XmlSchemaType ^ type, System::Xml::Schema::XmlSchemaObject ^ context, System::Xml::Serialization::XmlSchemas ^ schemas, System::Xml::Serialization::XmlSchemaImporter ^ importer, System::CodeDom::CodeCompileUnit ^ compileUnit, System::CodeDom::CodeNamespace ^ mainNamespace, System::Xml::Serialization::CodeGenerationOptions options, System::CodeDom::Compiler::CodeDomProvider ^ codeProvider);" />
      <MemberSignature Language="F#" Value="abstract member ImportSchemaType : System.Xml.Schema.XmlSchemaType * System.Xml.Schema.XmlSchemaObject * System.Xml.Serialization.XmlSchemas * System.Xml.Serialization.XmlSchemaImporter * System.CodeDom.CodeCompileUnit * System.CodeDom.CodeNamespace * System.Xml.Serialization.CodeGenerationOptions * System.CodeDom.Compiler.CodeDomProvider -&gt; string&#xA;override this.ImportSchemaType : System.Xml.Schema.XmlSchemaType * System.Xml.Schema.XmlSchemaObject * System.Xml.Serialization.XmlSchemas * System.Xml.Serialization.XmlSchemaImporter * System.CodeDom.CodeCompileUnit * System.CodeDom.CodeNamespace * System.Xml.Serialization.CodeGenerationOptions * System.CodeDom.Compiler.CodeDomProvider -&gt; string" Usage="schemaImporterExtension.ImportSchemaType (type, context, schemas, importer, compileUnit, mainNamespace, options, codeProvider)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xml</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="type" Type="System.Xml.Schema.XmlSchemaType" />
        <Parameter Name="context" Type="System.Xml.Schema.XmlSchemaObject" />
        <Parameter Name="schemas" Type="System.Xml.Serialization.XmlSchemas" />
        <Parameter Name="importer" Type="System.Xml.Serialization.XmlSchemaImporter" />
        <Parameter Name="compileUnit" Type="System.CodeDom.CodeCompileUnit" />
        <Parameter Name="mainNamespace" Type="System.CodeDom.CodeNamespace" />
        <Parameter Name="options" Type="System.Xml.Serialization.CodeGenerationOptions" />
        <Parameter Name="codeProvider" Type="System.CodeDom.Compiler.CodeDomProvider" />
      </Parameters>
      <Docs>
        <param name="type"><span data-ttu-id="44a71-146">XSD 类型。</span><span class="sxs-lookup"><span data-stu-id="44a71-146">The XSD type.</span></span></param>
        <param name="context"><span data-ttu-id="44a71-147">架构信息，如 XML 元素的行号。</span><span class="sxs-lookup"><span data-stu-id="44a71-147">The schema information, such as the line number of the XML element.</span></span></param>
        <param name="schemas"><span data-ttu-id="44a71-148">文档中的架构集合。</span><span class="sxs-lookup"><span data-stu-id="44a71-148">The collection of schemas in the document.</span></span></param>
        <param name="importer"><span data-ttu-id="44a71-149">正在使用的导入程序。</span><span class="sxs-lookup"><span data-stu-id="44a71-149">The importer being used.</span></span></param>
        <param name="compileUnit"><span data-ttu-id="44a71-150"><see cref="T:System.CodeDom.CodeCompileUnit" />，可向其添加 CodeDOM 结构以生成 XSD 的备选代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-150">A <see cref="T:System.CodeDom.CodeCompileUnit" /> to which you can add CodeDOM structures to generate alternative code for the XSD.</span></span></param>
        <param name="mainNamespace"><span data-ttu-id="44a71-151">元素的当前命名空间。</span><span class="sxs-lookup"><span data-stu-id="44a71-151">The current namespace for the element.</span></span></param>
        <param name="options"><span data-ttu-id="44a71-152">枚举值的按位组合，这些枚举值指定代码编译器上的设置选项。</span><span class="sxs-lookup"><span data-stu-id="44a71-152">A bitwise combination of the enumeration values that specify the setting options on the code compiler.</span></span></param>
        <param name="codeProvider"><span data-ttu-id="44a71-153">用来生成新代码的 <see cref="T:System.CodeDom.Compiler.CodeDomProvider" />。</span><span class="sxs-lookup"><span data-stu-id="44a71-153">A <see cref="T:System.CodeDom.Compiler.CodeDomProvider" /> that is used to generate the new code.</span></span></param>
        <summary><span data-ttu-id="44a71-154">允许您检查导入的架构并指定该架构映射到的 CLR 类型，从而对生成的代码进行操作。</span><span class="sxs-lookup"><span data-stu-id="44a71-154">Allows you to manipulate the code generated by examining the imported schema and specifying the CLR type that it maps to.</span></span></summary>
        <returns><span data-ttu-id="44a71-155">此架构映射到的 CLR 类型的名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-155">The name of the CLR type that this maps to.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="44a71-156">下面的示例演示方法的简单实现 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%28System.String%2CSystem.String%2CSystem.Xml.Schema.XmlSchemaObject%2CSystem.Xml.Serialization.XmlSchemas%2CSystem.Xml.Serialization.XmlSchemaImporter%2CSystem.CodeDom.CodeCompileUnit%2CSystem.CodeDom.CodeNamespace%2CSystem.Xml.Serialization.CodeGenerationOptions%2CSystem.CodeDom.Compiler.CodeDomProvider%29> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-156">The example below shows a simple implementation of the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%28System.String%2CSystem.String%2CSystem.Xml.Schema.XmlSchemaObject%2CSystem.Xml.Serialization.XmlSchemas%2CSystem.Xml.Serialization.XmlSchemaImporter%2CSystem.CodeDom.CodeCompileUnit%2CSystem.CodeDom.CodeNamespace%2CSystem.Xml.Serialization.CodeGenerationOptions%2CSystem.CodeDom.Compiler.CodeDomProvider%29> method.</span></span> <span data-ttu-id="44a71-157">代码将检查命名空间和名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-157">The code checks the namespace and name.</span></span> <span data-ttu-id="44a71-158">找到正确的值后，它会将自定义程序集的名称添加 ( "Order.dll" ) ，这些程序集必须在生成的代码中引用。</span><span class="sxs-lookup"><span data-stu-id="44a71-158">When the right values are found, it adds the name of a custom assembly ("Order.dll") that must be referenced in the generated code.</span></span> <span data-ttu-id="44a71-159">然后，它将添加一个新的命名空间 ( 在代码中生成的 ") "。</span><span class="sxs-lookup"><span data-stu-id="44a71-159">It then adds a new namespace ("Microsoft.Samples") that is generated in the code.</span></span>  
  
 [!code-csharp[SchemaImporterExtensionExample#1](~/samples/snippets/csharp/VS_Snippets_Remoting/SchemaImporterExtensionExample/CS/SchemaImporterExtensionExample.cs#1)]
 [!code-vb[SchemaImporterExtensionExample#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/SchemaImporterExtensionExample/VB/SchemaImporterExtensionExample.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ImportSchemaType">
      <MemberSignature Language="C#" Value="public virtual string ImportSchemaType (string name, string ns, System.Xml.Schema.XmlSchemaObject context, System.Xml.Serialization.XmlSchemas schemas, System.Xml.Serialization.XmlSchemaImporter importer, System.CodeDom.CodeCompileUnit compileUnit, System.CodeDom.CodeNamespace mainNamespace, System.Xml.Serialization.CodeGenerationOptions options, System.CodeDom.Compiler.CodeDomProvider codeProvider);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string ImportSchemaType(string name, string ns, class System.Xml.Schema.XmlSchemaObject context, class System.Xml.Serialization.XmlSchemas schemas, class System.Xml.Serialization.XmlSchemaImporter importer, class System.CodeDom.CodeCompileUnit compileUnit, class System.CodeDom.CodeNamespace mainNamespace, valuetype System.Xml.Serialization.CodeGenerationOptions options, class System.CodeDom.Compiler.CodeDomProvider codeProvider) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType(System.String,System.String,System.Xml.Schema.XmlSchemaObject,System.Xml.Serialization.XmlSchemas,System.Xml.Serialization.XmlSchemaImporter,System.CodeDom.CodeCompileUnit,System.CodeDom.CodeNamespace,System.Xml.Serialization.CodeGenerationOptions,System.CodeDom.Compiler.CodeDomProvider)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function ImportSchemaType (name As String, ns As String, context As XmlSchemaObject, schemas As XmlSchemas, importer As XmlSchemaImporter, compileUnit As CodeCompileUnit, mainNamespace As CodeNamespace, options As CodeGenerationOptions, codeProvider As CodeDomProvider) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ ImportSchemaType(System::String ^ name, System::String ^ ns, System::Xml::Schema::XmlSchemaObject ^ context, System::Xml::Serialization::XmlSchemas ^ schemas, System::Xml::Serialization::XmlSchemaImporter ^ importer, System::CodeDom::CodeCompileUnit ^ compileUnit, System::CodeDom::CodeNamespace ^ mainNamespace, System::Xml::Serialization::CodeGenerationOptions options, System::CodeDom::Compiler::CodeDomProvider ^ codeProvider);" />
      <MemberSignature Language="F#" Value="abstract member ImportSchemaType : string * string * System.Xml.Schema.XmlSchemaObject * System.Xml.Serialization.XmlSchemas * System.Xml.Serialization.XmlSchemaImporter * System.CodeDom.CodeCompileUnit * System.CodeDom.CodeNamespace * System.Xml.Serialization.CodeGenerationOptions * System.CodeDom.Compiler.CodeDomProvider -&gt; string&#xA;override this.ImportSchemaType : string * string * System.Xml.Schema.XmlSchemaObject * System.Xml.Serialization.XmlSchemas * System.Xml.Serialization.XmlSchemaImporter * System.CodeDom.CodeCompileUnit * System.CodeDom.CodeNamespace * System.Xml.Serialization.CodeGenerationOptions * System.CodeDom.Compiler.CodeDomProvider -&gt; string" Usage="schemaImporterExtension.ImportSchemaType (name, ns, context, schemas, importer, compileUnit, mainNamespace, options, codeProvider)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Xml</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="ns" Type="System.String" />
        <Parameter Name="context" Type="System.Xml.Schema.XmlSchemaObject" />
        <Parameter Name="schemas" Type="System.Xml.Serialization.XmlSchemas" />
        <Parameter Name="importer" Type="System.Xml.Serialization.XmlSchemaImporter" />
        <Parameter Name="compileUnit" Type="System.CodeDom.CodeCompileUnit" />
        <Parameter Name="mainNamespace" Type="System.CodeDom.CodeNamespace" />
        <Parameter Name="options" Type="System.Xml.Serialization.CodeGenerationOptions" />
        <Parameter Name="codeProvider" Type="System.CodeDom.Compiler.CodeDomProvider" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="44a71-160">元素的名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-160">The name of the element.</span></span></param>
        <param name="ns"><span data-ttu-id="44a71-161">元素的命名空间。</span><span class="sxs-lookup"><span data-stu-id="44a71-161">The namespace of the element.</span></span></param>
        <param name="context"><span data-ttu-id="44a71-162">架构信息，如 XML 元素的行号。</span><span class="sxs-lookup"><span data-stu-id="44a71-162">The schema information, such as the line number of the XML element.</span></span></param>
        <param name="schemas"><span data-ttu-id="44a71-163">文档中的架构集合。</span><span class="sxs-lookup"><span data-stu-id="44a71-163">The collection of schemas in the document.</span></span></param>
        <param name="importer"><span data-ttu-id="44a71-164">正在使用的导入程序。</span><span class="sxs-lookup"><span data-stu-id="44a71-164">The importer being used.</span></span></param>
        <param name="compileUnit"><span data-ttu-id="44a71-165"><see cref="T:System.CodeDom.CodeCompileUnit" />，可向其添加 CodeDOM 结构以生成 XSD 的备选代码。</span><span class="sxs-lookup"><span data-stu-id="44a71-165">A <see cref="T:System.CodeDom.CodeCompileUnit" /> to which you can add CodeDOM structures to generate alternative code for the XSD.</span></span></param>
        <param name="mainNamespace"><span data-ttu-id="44a71-166">元素的当前命名空间。</span><span class="sxs-lookup"><span data-stu-id="44a71-166">The current namespace for the element.</span></span></param>
        <param name="options"><span data-ttu-id="44a71-167">枚举值的按位组合，这些枚举值指定代码编译器上的设置选项。</span><span class="sxs-lookup"><span data-stu-id="44a71-167">A bitwise combination of the enumeration values that specify the setting options on the code compiler.</span></span></param>
        <param name="codeProvider"><span data-ttu-id="44a71-168">用来生成新代码的 <see cref="T:System.CodeDom.Compiler.CodeDomProvider" />。</span><span class="sxs-lookup"><span data-stu-id="44a71-168">A <see cref="T:System.CodeDom.Compiler.CodeDomProvider" /> that is used to generate the new code.</span></span></param>
        <summary><span data-ttu-id="44a71-169">允许您检查导入的架构并指定该架构映射到的 CLR 类型，从而对生成的代码进行操作。</span><span class="sxs-lookup"><span data-stu-id="44a71-169">Allows you to manipulate the code generated by examining the imported schema and specifying the CLR type that it maps to.</span></span></summary>
        <returns><span data-ttu-id="44a71-170">此架构映射到的 CLR 类型的名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-170">The name of the CLR type that this maps to.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="44a71-171">若要控制代码的生成，必须使用在命名空间中找到的类 <xref:System.CodeDom> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-171">In order to control the generation of the code, you must use the classes found in the <xref:System.CodeDom> namespace.</span></span> <span data-ttu-id="44a71-172">有关详细信息，请参阅 [使用 codedom](/dotnet/framework/reflection-and-codedom/using-the-codedom) 和 [codedom 快速参考](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx)。</span><span class="sxs-lookup"><span data-stu-id="44a71-172">For more information, see [Using the CodeDOM](/dotnet/framework/reflection-and-codedom/using-the-codedom) and [CodeDOM Quick Reference](https://msdn.microsoft.com/library/c77b8bfd-0a32-4e36-b59a-4f687f32c524(v=vs.100).aspx).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="44a71-173">下面的示例演示方法的简单实现 <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%28System.String%2CSystem.String%2CSystem.Xml.Schema.XmlSchemaObject%2CSystem.Xml.Serialization.XmlSchemas%2CSystem.Xml.Serialization.XmlSchemaImporter%2CSystem.CodeDom.CodeCompileUnit%2CSystem.CodeDom.CodeNamespace%2CSystem.Xml.Serialization.CodeGenerationOptions%2CSystem.CodeDom.Compiler.CodeDomProvider%29> 。</span><span class="sxs-lookup"><span data-stu-id="44a71-173">The example below shows a simple implementation of the <xref:System.Xml.Serialization.Advanced.SchemaImporterExtension.ImportSchemaType%28System.String%2CSystem.String%2CSystem.Xml.Schema.XmlSchemaObject%2CSystem.Xml.Serialization.XmlSchemas%2CSystem.Xml.Serialization.XmlSchemaImporter%2CSystem.CodeDom.CodeCompileUnit%2CSystem.CodeDom.CodeNamespace%2CSystem.Xml.Serialization.CodeGenerationOptions%2CSystem.CodeDom.Compiler.CodeDomProvider%29> method.</span></span> <span data-ttu-id="44a71-174">代码将检查命名空间和名称。</span><span class="sxs-lookup"><span data-stu-id="44a71-174">The code checks the namespace and name.</span></span> <span data-ttu-id="44a71-175">找到正确的值后，它会将自定义程序集的名称添加 ( "Order.dll" ) ，这些程序集必须在生成的代码中引用。</span><span class="sxs-lookup"><span data-stu-id="44a71-175">When the right values are found, it adds the name of a custom assembly ("Order.dll") that must be referenced in the generated code.</span></span> <span data-ttu-id="44a71-176">然后，它将添加一个新的命名空间 ( 在代码中生成的 ") "。</span><span class="sxs-lookup"><span data-stu-id="44a71-176">It then adds a new namespace ("Microsoft.Samples") that is generated in the code.</span></span>  
  
 [!code-csharp[SchemaImporterExtensionExample#1](~/samples/snippets/csharp/VS_Snippets_Remoting/SchemaImporterExtensionExample/CS/SchemaImporterExtensionExample.cs#1)]
 [!code-vb[SchemaImporterExtensionExample#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/SchemaImporterExtensionExample/VB/SchemaImporterExtensionExample.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>

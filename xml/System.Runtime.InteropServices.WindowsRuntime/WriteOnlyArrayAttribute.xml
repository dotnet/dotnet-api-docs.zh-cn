<Type Name="WriteOnlyArrayAttribute" FullName="System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute">
  <Metadata><Meta Name="ms.openlocfilehash" Value="e4200459cacec99a3f982e268d9d7acc9ea10929" /><Meta Name="ms.sourcegitcommit" Value="c982ad9e10a242d90f1e631b5981570f9e5d9f34" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="09/10/2020" /><Meta Name="ms.locfileid" Value="89951645" /></Metadata><TypeSignature Language="C#" Value="public sealed class WriteOnlyArrayAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit WriteOnlyArrayAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class WriteOnlyArrayAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class WriteOnlyArrayAttribute sealed : Attribute" />
  <TypeSignature Language="F#" Value="type WriteOnlyArrayAttribute = class&#xA;    inherit Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime.InteropServices.WindowsRuntime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.3.0</AssemblyVersion>
    <AssemblyVersion>4.0.4.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <TypeForwardingChain>
    <TypeForwarding From="mscorlib" FromVersion="4.0.0.0" To="System.Runtime.InteropServices.WindowsRuntime" ToVersion="0.0.0.0" FrameworkAlternate="dotnet-uwp-10.0" />
  </TypeForwardingChain>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName Language="C#">[System.AttributeUsage(System.AttributeTargets.Parameter, AllowMultiple=false, Inherited=false)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.AttributeUsage(System.AttributeTargets.Parameter, AllowMultiple=false, Inherited=false)&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="7205a-101">当应用于 Windows 运行时组件中的数组参数时，指定传递到该参数的数组的内容仅用于输出。</span><span class="sxs-lookup"><span data-stu-id="7205a-101">When applied to an array parameter in a Windows Runtime component, specifies that the contents of an array that is passed to that parameter are used only for output.</span></span> <span data-ttu-id="7205a-102">调用方不保证对内容进行了初始化，因此，所调用的方法不应读取内容。</span><span class="sxs-lookup"><span data-stu-id="7205a-102">The caller does not guarantee that the contents are initialized, and the called method should not read the contents.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7205a-103">如果组件中的数组参数 [!INCLUDE[wrt](~/includes/wrt-md.md)] 是通过 Visual Basic) 中的值 (传递的 `ByVal` ，则必须向其应用以下属性之一：</span><span class="sxs-lookup"><span data-stu-id="7205a-103">If an array parameter in your [!INCLUDE[wrt](~/includes/wrt-md.md)] component is passed by value (`ByVal` in Visual Basic), you must apply one of the following attributes to it:</span></span>  
  
-   <span data-ttu-id="7205a-104">如果要将 <xref:System.Runtime.InteropServices.WindowsRuntime.ReadOnlyArrayAttribute> 数组的内容仅用于输入，则应用该特性。</span><span class="sxs-lookup"><span data-stu-id="7205a-104">Apply the <xref:System.Runtime.InteropServices.WindowsRuntime.ReadOnlyArrayAttribute> attribute if you intend the contents of the array to be used for input only.</span></span>  
  
-   <span data-ttu-id="7205a-105">如果要将 <xref:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute> 数组的内容 (仅用于输出，请应用特性，方法设置数组的内容，但不) 读取这些内容。</span><span class="sxs-lookup"><span data-stu-id="7205a-105">Apply the <xref:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute> attribute if you intend the contents of the array to be used for output only (that is, the method sets the contents of the array but does not read them).</span></span>  
  
 <span data-ttu-id="7205a-106">将这两个特性应用于一个参数会导致错误。</span><span class="sxs-lookup"><span data-stu-id="7205a-106">Applying both attributes to a parameter causes an error.</span></span> <span data-ttu-id="7205a-107">有关详细信息，包括对数组进行更改的标准模式，请参阅在 Windows 开发人员中心将 [数组传递到 Windows 运行时组件](https://go.microsoft.com/fwlink/?LinkId=251026) 。</span><span class="sxs-lookup"><span data-stu-id="7205a-107">For more information, including the standard pattern for making changes to an array, see [Passing arrays to a Windows Runtime component](https://go.microsoft.com/fwlink/?LinkId=251026) in the Windows Dev Center.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="7205a-108">具有属性的参数的 <xref:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute> 行为不同，具体取决于调用方是使用本机代码编写还是用托管代码编写的。</span><span class="sxs-lookup"><span data-stu-id="7205a-108">Parameters that have the <xref:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute> attribute behave differently depending on whether the caller is written in native code or managed code.</span></span> <span data-ttu-id="7205a-109">如果调用方是 (JavaScript 或 Visual C++ 组件扩展) 的本机代码，则被调用的方法无法对原始数组的内容进行任何假设。</span><span class="sxs-lookup"><span data-stu-id="7205a-109">If the caller is native code (JavaScript or Visual C++ component extensions), the called method can't make any assumptions about the contents of the original array.</span></span> <span data-ttu-id="7205a-110">例如，方法接收的数组可能未初始化，或可能包含默认值。</span><span class="sxs-lookup"><span data-stu-id="7205a-110">For example, the array the method receives might not be initialized, or might contain default values.</span></span> <span data-ttu-id="7205a-111">方法应在数组中设置所有元素的值。</span><span class="sxs-lookup"><span data-stu-id="7205a-111">The method is expected to set the values of all the elements in the array.</span></span>  
>   
>  <span data-ttu-id="7205a-112">如果调用方是托管代码，则调用方的原始数组将传递给被调用方法，就像在 .NET Framework 的任何方法调用中一样。</span><span class="sxs-lookup"><span data-stu-id="7205a-112">If the caller is managed code, the caller's original array is passed to the called method, as it would be in any method call in the .NET Framework.</span></span> <span data-ttu-id="7205a-113">数组内容在托管代码中是可变的，因此该方法可以有选择地读取和更改这些值。</span><span class="sxs-lookup"><span data-stu-id="7205a-113">Array contents are mutable in managed code, so the method can selectively read and change those values.</span></span> <span data-ttu-id="7205a-114">请务必记住这一点，因为它会影响为 [!INCLUDE[wrt](~/includes/wrt-md.md)] 组件编写的单元测试。</span><span class="sxs-lookup"><span data-stu-id="7205a-114">This is important to remember because it affects unit tests written for a [!INCLUDE[wrt](~/includes/wrt-md.md)] component.</span></span> <span data-ttu-id="7205a-115">如果测试是用托管代码编写的，则在测试过程中数组的内容看起来是可变的，如果稍后从本机代码调用该方法，则结果可能会不同。</span><span class="sxs-lookup"><span data-stu-id="7205a-115">If the tests are written in managed code, the contents of an array will appear to be mutable during testing, and the results are likely to be different if the method is called from native code later.</span></span>  
  
 <span data-ttu-id="7205a-116">如果将此特性应用于 `out` 参数或具有特性的参数，则 <xref:System.Runtime.InteropServices.InAttribute> 在导出模块时将导致错误。</span><span class="sxs-lookup"><span data-stu-id="7205a-116">Applying this attribute to an `out` parameter or to a parameter that has the <xref:System.Runtime.InteropServices.InAttribute> attribute causes an error when the module is exported.</span></span> <span data-ttu-id="7205a-117">将特性应用到具有特性的参数 <xref:System.Runtime.InteropServices.OutAttribute> 会导致错误，除非该参数还具有 Visual Basic `ByRef` 修饰符。</span><span class="sxs-lookup"><span data-stu-id="7205a-117">Applying the attribute to a parameter that has the <xref:System.Runtime.InteropServices.OutAttribute> attribute causes an error unless the parameter also has the Visual Basic `ByRef` modifier.</span></span> <span data-ttu-id="7205a-118">在这种情况下，该属性是冗余的，但允许使用。</span><span class="sxs-lookup"><span data-stu-id="7205a-118">In that case, the attribute is redundant but allowed.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Runtime.InteropServices.WindowsRuntime.ReadOnlyArrayAttribute" />
    <related type="Article" href="/dotnet/framework/tools/winmdexp-exe-windows-runtime-metadata-export-tool"><span data-ttu-id="7205a-119">Winmdexp.exe（Windows 运行时元数据导出工具）</span><span class="sxs-lookup"><span data-stu-id="7205a-119">Winmdexp.exe (Windows Runtime Metadata Export Tool)</span></span></related>
    <related type="ExternalDocumentation" href="https://docs.microsoft.com/previous-versions/windows/apps/br230301(v=vs.140)"><span data-ttu-id="7205a-120">用 C# 和 Visual Basic 创建 Windows 运行时组件</span><span class="sxs-lookup"><span data-stu-id="7205a-120">Creating Windows Runtime Components in C# and Visual Basic</span></span></related>
    <related type="ExternalDocumentation" href="https://docs.microsoft.com/previous-versions/windows/apps/hh975353(v=vs.140)"><span data-ttu-id="7205a-121">将数组传递到 Windows 运行时组件</span><span class="sxs-lookup"><span data-stu-id="7205a-121">Passing arrays to a Windows Runtime component</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WriteOnlyArrayAttribute ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WriteOnlyArrayAttribute();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime.InteropServices.WindowsRuntime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="7205a-122">初始化 <see cref="T:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="7205a-122">Initializes a new instance of the <see cref="T:System.Runtime.InteropServices.WindowsRuntime.WriteOnlyArrayAttribute" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>

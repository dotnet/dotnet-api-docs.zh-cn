<Type Name="IMessageSink" FullName="System.Runtime.Remoting.Messaging.IMessageSink">
  <Metadata><Meta Name="ms.openlocfilehash" Value="9e6979c0fca091a35ee672269d33c55e4631e9d4" /><Meta Name="ms.sourcegitcommit" Value="b53d35b4a410c949742abd4c6a989d1af5357bca" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="07/21/2020" /><Meta Name="ms.locfileid" Value="86758215" /></Metadata><TypeSignature Language="C#" Value="public interface IMessageSink" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IMessageSink" />
  <TypeSignature Language="DocId" Value="T:System.Runtime.Remoting.Messaging.IMessageSink" />
  <TypeSignature Language="VB.NET" Value="Public Interface IMessageSink" />
  <TypeSignature Language="C++ CLI" Value="public interface class IMessageSink" />
  <TypeSignature Language="F#" Value="type IMessageSink = interface" />
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(true)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(true)&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="94451-101">定义消息接收器的接口。</span><span class="sxs-lookup"><span data-stu-id="94451-101">Defines the interface for a message sink.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="94451-102">当对代理进行方法调用时，远程处理基础结构将提供必要的支持，以便跨远程处理边界将实参传递给实际对象，使用参数调用实际对象方法，并将结果返回到代理对象的客户端。</span><span class="sxs-lookup"><span data-stu-id="94451-102">When a method call is made on the proxy, the remoting infrastructure provides the necessary support for passing the arguments to the actual object across the remoting boundaries, calling the actual object method with the arguments, and returning the results back to the client of the proxy object.</span></span>  
  
 <span data-ttu-id="94451-103">远程方法调用是一条消息，该消息将从客户端端发送到服务器端，并可能再次返回。</span><span class="sxs-lookup"><span data-stu-id="94451-103">A remote method call is a message that goes from the client end to the server end and possibly back again.</span></span> <span data-ttu-id="94451-104">由于它在这种情况下跨越远程处理边界，因此远程方法调用会传递一系列 `IMessageSink` 对象。</span><span class="sxs-lookup"><span data-stu-id="94451-104">As it crosses remoting boundaries on the way, the remote method call passes through a chain of `IMessageSink` objects.</span></span> <span data-ttu-id="94451-105">链中的每个接收器接收 message 对象，执行特定操作，并委托给链中的下一个接收器。</span><span class="sxs-lookup"><span data-stu-id="94451-105">Each sink in the chain receives the message object, performs a specific operation, and delegates to the next sink in the chain.</span></span> <span data-ttu-id="94451-106">代理对象包含对从链启动时所需的第一个对象的引用 `IMessageSink` 。</span><span class="sxs-lookup"><span data-stu-id="94451-106">The proxy object contains a reference to the first `IMessageSink` it needs to use to start off the chain.</span></span>  
  
 <span data-ttu-id="94451-107">对于异步调用，在委托时，每个接收器都提供答复接收器 (另一个 `IMessageSink`) ，在答复回复时，下一个接收器将调用此。</span><span class="sxs-lookup"><span data-stu-id="94451-107">For asynchronous calls, at the time of delegation, each sink provides a reply sink (another `IMessageSink`) that will be called by the next sink when the reply is on its way back.</span></span>  
  
 <span data-ttu-id="94451-108">不同类型的接收器执行不同的操作，具体取决于收到的消息对象的类型。</span><span class="sxs-lookup"><span data-stu-id="94451-108">Different types of sinks perform different operations, depending on the type of message object received.</span></span> <span data-ttu-id="94451-109">例如，一个接收器可能导致锁定，另一个接收器可能强制执行调用安全，另一个接收器可能会执行流调用控制和可靠性服务，而另一个接收器可能会传输对不同 <xref:System.AppDomain> 、进程或计算机的调用。</span><span class="sxs-lookup"><span data-stu-id="94451-109">For example, one sink could cause a lock to be taken, another could enforce call security, another could perform flow call control and reliability services, and yet another could transport the call to a different <xref:System.AppDomain>, process, or computer.</span></span> <span data-ttu-id="94451-110">链中的两个或多个消息接收器可以相互交互，就每个特定操作而言。</span><span class="sxs-lookup"><span data-stu-id="94451-110">Two or more message sinks in the chain can interact with each other in regard to each specific action.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="94451-111">下面的代码示例演示接口的实现 <xref:System.Runtime.Remoting.Messaging.IMessageSink> 。</span><span class="sxs-lookup"><span data-stu-id="94451-111">The following code example shows the implementation of the <xref:System.Runtime.Remoting.Messaging.IMessageSink> interface.</span></span> <span data-ttu-id="94451-112">请注意，此示例假定必须提供的类型定义和程序集引用，才能编译该示例。</span><span class="sxs-lookup"><span data-stu-id="94451-112">Note that the sample assumes type definitions and assembly references that must be provided for the sample to compile.</span></span>  
  
 [!code-cpp[IMessageSink_Client#3](~/samples/snippets/cpp/VS_Snippets_Remoting/IMessageSink_Client/CPP/imessagesink_client.cpp#3)]
 [!code-csharp[IMessageSink_Client#3](~/samples/snippets/csharp/VS_Snippets_Remoting/IMessageSink_Client/CS/imessagesink_client.cs#3)]
 [!code-vb[IMessageSink_Client#3](~/samples/snippets/visualbasic/VS_Snippets_Remoting/IMessageSink_Client/VB/imessagesink_client.vb#3)]  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="94451-113">需要注意的是，实现当前接口的代码必须为和提供实现 <see cref="M:System.Runtime.Remoting.Messaging.IMessageSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)" /> <see cref="M:System.Runtime.Remoting.Messaging.IMessageSink.AsyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage,System.Runtime.Remoting.Messaging.IMessageSink)" /> ，因为同步调用可以转换为异步调用，反之亦然。</span><span class="sxs-lookup"><span data-stu-id="94451-113">It is important to note that code implementing the current interface must provide implementations for both <see cref="M:System.Runtime.Remoting.Messaging.IMessageSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)" /> and <see cref="M:System.Runtime.Remoting.Messaging.IMessageSink.AsyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage,System.Runtime.Remoting.Messaging.IMessageSink)" />, since synchronous calls can be converted to asynchronous calls and vice versa.</span></span> <span data-ttu-id="94451-114">即使接收器不支持异步处理，也必须实现这两种方法。</span><span class="sxs-lookup"><span data-stu-id="94451-114">Both methods must be implemented, even if the sink does not support asynchronous processing.</span></span></para></block>
  </Docs>
  <Members>
    <Member MemberName="AsyncProcessMessage">
      <MemberSignature Language="C#" Value="public System.Runtime.Remoting.Messaging.IMessageCtrl AsyncProcessMessage (System.Runtime.Remoting.Messaging.IMessage msg, System.Runtime.Remoting.Messaging.IMessageSink replySink);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Runtime.Remoting.Messaging.IMessageCtrl AsyncProcessMessage(class System.Runtime.Remoting.Messaging.IMessage msg, class System.Runtime.Remoting.Messaging.IMessageSink replySink) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.Remoting.Messaging.IMessageSink.AsyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage,System.Runtime.Remoting.Messaging.IMessageSink)" />
      <MemberSignature Language="VB.NET" Value="Public Function AsyncProcessMessage (msg As IMessage, replySink As IMessageSink) As IMessageCtrl" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Runtime::Remoting::Messaging::IMessageCtrl ^ AsyncProcessMessage(System::Runtime::Remoting::Messaging::IMessage ^ msg, System::Runtime::Remoting::Messaging::IMessageSink ^ replySink);" />
      <MemberSignature Language="F#" Value="abstract member AsyncProcessMessage : System.Runtime.Remoting.Messaging.IMessage * System.Runtime.Remoting.Messaging.IMessageSink -&gt; System.Runtime.Remoting.Messaging.IMessageCtrl" Usage="iMessageSink.AsyncProcessMessage (msg, replySink)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.Security.SecurityCritical]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Security.SecurityCritical&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Runtime.Remoting.Messaging.IMessageCtrl</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="msg" Type="System.Runtime.Remoting.Messaging.IMessage" />
        <Parameter Name="replySink" Type="System.Runtime.Remoting.Messaging.IMessageSink" />
      </Parameters>
      <Docs>
        <param name="msg"><span data-ttu-id="94451-115">要处理的消息。</span><span class="sxs-lookup"><span data-stu-id="94451-115">The message to process.</span></span></param>
        <param name="replySink"><span data-ttu-id="94451-116">答复消息的答复接收器。</span><span class="sxs-lookup"><span data-stu-id="94451-116">The reply sink for the reply message.</span></span></param>
        <summary><span data-ttu-id="94451-117">异步处理给定的消息。</span><span class="sxs-lookup"><span data-stu-id="94451-117">Asynchronously processes the given message.</span></span></summary>
        <returns><span data-ttu-id="94451-118">一个 <see cref="T:System.Runtime.Remoting.Messaging.IMessageCtrl" /> 接口，它提供了一种在调度异步消息之后控制这些消息的方法。</span><span class="sxs-lookup"><span data-stu-id="94451-118">An <see cref="T:System.Runtime.Remoting.Messaging.IMessageCtrl" /> interface that provides a way to control asynchronous messages after they have been dispatched.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="94451-119">远程处理基础结构或之前的异步消息接收器在消息接收器上调用此方法。</span><span class="sxs-lookup"><span data-stu-id="94451-119">This method is invoked on the message sink by the remoting infrastructure or by a previous sink for asynchronous messages.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="94451-120">直接调用方通过引用接口进行调用，且没有基础结构权限。</span><span class="sxs-lookup"><span data-stu-id="94451-120">The immediate caller makes the call through a reference to the interface and does not have infrastructure permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="NextSink">
      <MemberSignature Language="C#" Value="public System.Runtime.Remoting.Messaging.IMessageSink NextSink { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Runtime.Remoting.Messaging.IMessageSink NextSink" />
      <MemberSignature Language="DocId" Value="P:System.Runtime.Remoting.Messaging.IMessageSink.NextSink" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property NextSink As IMessageSink" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Runtime::Remoting::Messaging::IMessageSink ^ NextSink { System::Runtime::Remoting::Messaging::IMessageSink ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.NextSink : System.Runtime.Remoting.Messaging.IMessageSink" Usage="System.Runtime.Remoting.Messaging.IMessageSink.NextSink" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[get: System.Security.SecurityCritical]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Security.SecurityCritical&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Runtime.Remoting.Messaging.IMessageSink</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="94451-121">获取接收器链中的下一个消息接收器。</span><span class="sxs-lookup"><span data-stu-id="94451-121">Gets the next message sink in the sink chain.</span></span></summary>
        <value><span data-ttu-id="94451-122">接收器链中的下一个消息接收器。</span><span class="sxs-lookup"><span data-stu-id="94451-122">The next message sink in the sink chain.</span></span></value>
        <remarks>To be added.</remarks>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="94451-123">直接调用方通过引用接口进行调用，且没有基础结构权限。</span><span class="sxs-lookup"><span data-stu-id="94451-123">The immediate caller makes the call through a reference to the interface and does not have infrastructure permission.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="SyncProcessMessage">
      <MemberSignature Language="C#" Value="public System.Runtime.Remoting.Messaging.IMessage SyncProcessMessage (System.Runtime.Remoting.Messaging.IMessage msg);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Runtime.Remoting.Messaging.IMessage SyncProcessMessage(class System.Runtime.Remoting.Messaging.IMessage msg) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.Remoting.Messaging.IMessageSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)" />
      <MemberSignature Language="VB.NET" Value="Public Function SyncProcessMessage (msg As IMessage) As IMessage" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Runtime::Remoting::Messaging::IMessage ^ SyncProcessMessage(System::Runtime::Remoting::Messaging::IMessage ^ msg);" />
      <MemberSignature Language="F#" Value="abstract member SyncProcessMessage : System.Runtime.Remoting.Messaging.IMessage -&gt; System.Runtime.Remoting.Messaging.IMessage" Usage="iMessageSink.SyncProcessMessage msg" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName Language="C#">[System.Security.SecurityCritical]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Security.SecurityCritical&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Runtime.Remoting.Messaging.IMessage</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="msg" Type="System.Runtime.Remoting.Messaging.IMessage" />
      </Parameters>
      <Docs>
        <param name="msg"><span data-ttu-id="94451-124">要处理的消息。</span><span class="sxs-lookup"><span data-stu-id="94451-124">The message to process.</span></span></param>
        <summary><span data-ttu-id="94451-125">同步处理给定的消息。</span><span class="sxs-lookup"><span data-stu-id="94451-125">Synchronously processes the given message.</span></span></summary>
        <returns><span data-ttu-id="94451-126">响应请求的答复消息。</span><span class="sxs-lookup"><span data-stu-id="94451-126">A reply message in response to the request.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="94451-127">此 <xref:System.Runtime.Remoting.Messaging.IMessageSink.SyncProcessMessage%2A> 方法由远程处理基础结构或由同步消息的上一个接收器在消息接收器上调用。</span><span class="sxs-lookup"><span data-stu-id="94451-127">The <xref:System.Runtime.Remoting.Messaging.IMessageSink.SyncProcessMessage%2A> method is invoked on the message sink by the remoting infrastructure or by a previous sink for synchronous messages.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Security.SecurityException"><span data-ttu-id="94451-128">直接调用方通过引用接口进行调用，且没有基础结构权限。</span><span class="sxs-lookup"><span data-stu-id="94451-128">The immediate caller makes the call through a reference to the interface and does not have infrastructure permission.</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>

<Type Name="WSFederationAuthenticationModule" FullName="System.IdentityModel.Services.WSFederationAuthenticationModule">
  <Metadata><Meta Name="ms.openlocfilehash" Value="ccd9e98c9caf6e7a2c90d60f35251e47ad147e20" /><Meta Name="ms.sourcegitcommit" Value="11d168140aa8fade0768c2a9dde3e3bcacfdfb7d" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="05/27/2020" /><Meta Name="ms.locfileid" Value="83964797" /></Metadata><TypeSignature Language="C#" Value="public class WSFederationAuthenticationModule : System.IdentityModel.Services.HttpModuleBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit WSFederationAuthenticationModule extends System.IdentityModel.Services.HttpModuleBase" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Services.WSFederationAuthenticationModule" />
  <TypeSignature Language="VB.NET" Value="Public Class WSFederationAuthenticationModule&#xA;Inherits HttpModuleBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class WSFederationAuthenticationModule : System::IdentityModel::Services::HttpModuleBase" />
  <TypeSignature Language="F#" Value="type WSFederationAuthenticationModule = class&#xA;    inherit HttpModuleBase" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel.Services</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.IdentityModel.Services.HttpModuleBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="6be38-101"><see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 是一个 HTTP 模块，它通过在传入请求中强制执行联合身份验证设置来保护 ASP.NET 应用程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-101">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> is an HTTP module which is used to secure an ASP.NET application by enforcing  federated authentication settings on incoming requests.</span></span> <span data-ttu-id="6be38-102"><see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 是 WIF 提供的现成可用的主要模块，用于在 ASP.NET 应用程序中处理基于声明的标识访问。</span><span class="sxs-lookup"><span data-stu-id="6be38-102">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> is the main module that WIF offers out of the box for handling claims-based identity access in ASP.NET applications.</span></span>  
  
<span data-ttu-id="6be38-103"><see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 引发几个事件，它允许 ASP.NET 开发人员更改默认行为和控制身份验证和声明处理如何发生的细节。</span><span class="sxs-lookup"><span data-stu-id="6be38-103">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> raises several events, which allows ASP.NET developers to change the default behavior and control the details of how authentication and claims processing take place.</span></span> <span data-ttu-id="6be38-104"><see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 功能被分为任务具体的方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-104">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> functionality is divided into task-specific methods.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-105"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule> 类实现称为 WS 联合身份验证模块（WSFAM）的 HTTP 模块。</span><span class="sxs-lookup"><span data-stu-id="6be38-105">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> class implements an HTTP module known as the WS-Federation Authentication Module (WSFAM).</span></span> <span data-ttu-id="6be38-106">Windows Identity Foundation （WIF）已在 WSFAM 中实现了此方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-106">The WSFAM is implemented out of the box by Windows Identity Foundation (WIF).</span></span> <span data-ttu-id="6be38-107">通过在 web.config 文件中输入项，可以将 WSFAM 添加到 ASP.NET 管道。</span><span class="sxs-lookup"><span data-stu-id="6be38-107">The WSFAM is added to the ASP.NET pipeline by making an entry in the web.config file.</span></span> <span data-ttu-id="6be38-108">它派生自 <xref:System.IdentityModel.Services.HttpModuleBase>，后者实现 <xref:System.Web.IHttpModule>。</span><span class="sxs-lookup"><span data-stu-id="6be38-108">It derives from <xref:System.IdentityModel.Services.HttpModuleBase>, which implements <xref:System.Web.IHttpModule>.</span></span> <span data-ttu-id="6be38-109">它向 ASP.NET 运行时注册，以侦听 <xref:System.Web.HttpApplication.EndRequest> 和 <xref:System.Web.HttpApplication.AuthenticateRequest> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-109">It registers with the ASP.NET runtime to listen for the <xref:System.Web.HttpApplication.EndRequest> and <xref:System.Web.HttpApplication.AuthenticateRequest> events.</span></span> <span data-ttu-id="6be38-110">侦听 <xref:System.Web.HttpApplication.EndRequest> 事件，使 WSFAM 将客户端重定向到 security token service （STS），以便在请求的资源上授权失败时获取安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-110">Listening to the <xref:System.Web.HttpApplication.EndRequest> event, lets the WSFAM redirect clients to a security token service (STS) to obtain a security token when authorization fails on a requested resource.</span></span> <span data-ttu-id="6be38-111">通过侦听 <xref:System.Web.HttpApplication.AuthenticateRequest> 事件，WSFAM 可以监视来自 STS 的响应的 HTTP 请求，其中包含所请求的令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-111">Listening to the <xref:System.Web.HttpApplication.AuthenticateRequest> event enables the WSFAM to monitor HTTP requests for a response from the STS that contains the requested token.</span></span> <span data-ttu-id="6be38-112">如果此类标记存在且有效，它将使用令牌中存在的声明为已经过身份验证的用户创建 <xref:System.Security.Claims.ClaimsPrincipal> 的实例。</span><span class="sxs-lookup"><span data-stu-id="6be38-112">When such a token is present and valid, it creates an instance of <xref:System.Security.Claims.ClaimsPrincipal> for the authenticated user using the claims that are present in the token.</span></span>  
  
 <span data-ttu-id="6be38-113">当使用 WSFAM 时，会话管理由会话身份验证模块（SAM）提供，会话身份验证模块（SAM）是 <xref:System.IdentityModel.Services.SessionAuthenticationModule> 类的实例，或者是派生自的类。</span><span class="sxs-lookup"><span data-stu-id="6be38-113">When using the WSFAM, session management is provided by a session authentication module (SAM), which is an instance of the <xref:System.IdentityModel.Services.SessionAuthenticationModule> class, or a class derived from it.</span></span> <span data-ttu-id="6be38-114">SAM 还会添加到配置文件中的 ASP.NET 管道。</span><span class="sxs-lookup"><span data-stu-id="6be38-114">The SAM is also added to the ASP.NET pipeline in the configuration file.</span></span> <span data-ttu-id="6be38-115">SAM 监视身份验证（会话） cookie 的请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-115">The SAM monitors requests for authentication (session) cookies.</span></span> <span data-ttu-id="6be38-116">如果这些 cookie 存在且有效，则该模块将从 <xref:System.IdentityModel.Tokens.SessionSecurityToken> 中提取经过身份验证的用户的 <xref:System.Security.Claims.ClaimsPrincipal>，并设置 <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> 属性和线程主体 <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-116">When these cookies are present and valid, the module extracts the <xref:System.Security.Claims.ClaimsPrincipal> for the authenticated user from the <xref:System.IdentityModel.Tokens.SessionSecurityToken> and sets the <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> property and the thread principal <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> properties.</span></span>  
  
 <span data-ttu-id="6be38-117">WSFAM 提供：</span><span class="sxs-lookup"><span data-stu-id="6be38-117">The WSFAM provides:</span></span>  
  
-   <span data-ttu-id="6be38-118">ASP.NET 应用程序通过使用 WS 联合身份验证协议将身份验证外包给 security token service （STS）的功能。</span><span class="sxs-lookup"><span data-stu-id="6be38-118">The ability for an ASP.NET application to outsource authentication to a security token service (STS) by using the WS-Federation protocol.</span></span> <span data-ttu-id="6be38-119">标识可跨一个或多个标识领域进行联合，并涉及多个 Sts。</span><span class="sxs-lookup"><span data-stu-id="6be38-119">Identity can be federated across one or more identity realms and involve multiple STSs.</span></span>  
  
-   <span data-ttu-id="6be38-120">ASP.NET 应用程序的基于声明的标识。</span><span class="sxs-lookup"><span data-stu-id="6be38-120">Claims-based identity for ASP.NET applications.</span></span> <span data-ttu-id="6be38-121">在身份验证期间，WSFAM 从 STS 发送的安全令牌中的声明生成一个主体，并将此声明主体设置为线程主体。</span><span class="sxs-lookup"><span data-stu-id="6be38-121">During authentication, the WSFAM builds a principal from the claims in the security token sent by the STS and sets this claims principal as the thread principal.</span></span> <span data-ttu-id="6be38-122">然后，你可以使用此主体对你的代码中所代表的用户进行进一步的授权、演示和逻辑决策。</span><span class="sxs-lookup"><span data-stu-id="6be38-122">You can then use this principal to make further authorization, presentation, and logic decisions about the user it represents in your code.</span></span>  
  
 <span data-ttu-id="6be38-123">WSFAM 公开多个属性，这些属性提供要在 WS-FEDERATION 登录和注销请求中使用的默认消息参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-123">The WSFAM exposes several properties that provide default message parameters to use on WS-Federation sign-in and sign-out requests.</span></span> <span data-ttu-id="6be38-124">这些属性通常是从配置文件中[&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation)元素初始化的。</span><span class="sxs-lookup"><span data-stu-id="6be38-124">These properties are typically initialized from the [&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation) element in a configuration file.</span></span> <span data-ttu-id="6be38-125">这些属性最重要的是：</span><span class="sxs-lookup"><span data-stu-id="6be38-125">The most important of these properties are:</span></span>  
  
-   <span data-ttu-id="6be38-126"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性，指定要向其发送 WS-FEDERATION 登录和注销请求的 security token service （STS）的地址。</span><span class="sxs-lookup"><span data-stu-id="6be38-126">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property, which specifies the address of the security token service (STS) to which to send WS-Federation sign-in and sign-out requests.</span></span>  
  
-   <span data-ttu-id="6be38-127"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A> 属性，该属性指定要在 WS 联合身份验证登录请求中使用的 wtrealm 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-127">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A> property, which specifies the wtrealm parameter to use in WS-Federation sign-in requests.</span></span> <span data-ttu-id="6be38-128">Wtrealm 参数将信赖方（RP）应用程序的安全领域标识到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-128">The wtrealm parameter identifies the security realm of the relying party (RP) application to the STS.</span></span>  
  
 <span data-ttu-id="6be38-129">还可以通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件提供事件处理程序委托，按请求来更改登录消息参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-129">Sign-in message parameters can also be changed on a per-request basis by providing an event-handler delegate for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span>  
  
 <span data-ttu-id="6be38-130">两个属性控制模块的行为。</span><span class="sxs-lookup"><span data-stu-id="6be38-130">Two properties control the behavior of the module.</span></span> <span data-ttu-id="6be38-131">这两个属性通常也是从配置中的 `<wsFederation>` 元素初始化的。</span><span class="sxs-lookup"><span data-stu-id="6be38-131">Both of these properties are also typically initialized from the `<wsFederation>` element in configuration.</span></span>  
  
-   <span data-ttu-id="6be38-132"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> 属性指定该模块是否应执行被动重定向到 STS 进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="6be38-132">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property specifies whether the module should perform passive redirects to the STS for authentication.</span></span>  
  
-   <span data-ttu-id="6be38-133"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects%2A> 属性指定会话是否应为持久性会话。</span><span class="sxs-lookup"><span data-stu-id="6be38-133">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects%2A> property specifies whether sessions should be persistent.</span></span> <span data-ttu-id="6be38-134">如果将此属性设置为 true，则使用 SAM 将会话 cookie 写入客户端。</span><span class="sxs-lookup"><span data-stu-id="6be38-134">If this property is set true, the SAM is used to write a session cookie to the client.</span></span> <span data-ttu-id="6be38-135">在来自客户端的后续请求中，SAM 通过使用会话 cookie 中保留的令牌提供身份验证。</span><span class="sxs-lookup"><span data-stu-id="6be38-135">On subsequent requests from the client, the SAM provides authentication by using the token persisted in the session cookie.</span></span>  
  
 <span data-ttu-id="6be38-136">WSFAM 会在登录和注销期间引发若干事件，这允许 ASP.NET 开发人员更改模块的默认行为，并控制如何进行身份验证和声明处理的详细信息。</span><span class="sxs-lookup"><span data-stu-id="6be38-136">The WSFAM raises several events during sign-in and sign-out, which allow ASP.NET developers to change the default behavior of the module and control the details of how authentication and claims processing take place.</span></span>  
  
 <span data-ttu-id="6be38-137">在将 WS 联合身份验证登录请求发送到 STS 之前，将引发以下事件：</span><span class="sxs-lookup"><span data-stu-id="6be38-137">The following events are raised before the WS-Federation sign-in request is sent to the STS:</span></span>  
  
-   <span data-ttu-id="6be38-138"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed>：在启用被动重定向且授权在请求的资源上失败时引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-138"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed>: Raised when  passive redirect is enabled and authorization fails on a requested resource.</span></span>  
  
-   <span data-ttu-id="6be38-139"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>： WSFAM 在将 WS 联合身份验证登录请求发送到 STS 之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-139"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>: Raised just before the WSFAM sends the WS-Federation sign-in request to the STS.</span></span> <span data-ttu-id="6be38-140">可以使用此事件更改登录请求中的参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-140">You can use this event to change the parameters in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-141">从 STS 收到登录响应（颁发的安全令牌）时将引发以下事件：</span><span class="sxs-lookup"><span data-stu-id="6be38-141">The following events are raised when a sign-in response (issued security token) is received from the STS:</span></span>  
  
-   <span data-ttu-id="6be38-142"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived>：从响应中读取 STS 发送的安全令牌后引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-142"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived>: Raised just after the security token sent by the STS is read from the response.</span></span>  
  
-   <span data-ttu-id="6be38-143"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated>：在验证令牌后立即引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-143"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated>: Raised just after the token has been validated.</span></span> <span data-ttu-id="6be38-144">你可以使用此事件来筛选、转换或添加声明到从安全令牌创建的声明主体（<xref:System.Security.Claims.ClaimsPrincipal>）。</span><span class="sxs-lookup"><span data-stu-id="6be38-144">You can use this event to filter, transform, or add claims to the claims principal (<xref:System.Security.Claims.ClaimsPrincipal>) created from the security token.</span></span>  
  
-   <span data-ttu-id="6be38-145"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>：在使用声明主体创建的会话令牌（<xref:System.IdentityModel.Tokens.SessionSecurityToken>）之前引发，用于设置线程主体和当前用户，并将其写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-145"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>: Raised just before the session token (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) created from the claims principal is used to set the thread principal and current user and is written to the session cookie.</span></span> <span data-ttu-id="6be38-146">使您有机会修改会话令牌或启用或禁用写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-146">Gives you an opportunity to modify the session token or enable or disable writing the session cookie.</span></span>  
  
-   <span data-ttu-id="6be38-147"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn>：在完成身份验证后，就是在设置了线程主体和当前用户之后引发的。</span><span class="sxs-lookup"><span data-stu-id="6be38-147"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn>: Raised at the end of the authentication just after the thread principal and current user have been set.</span></span>  
  
-   <span data-ttu-id="6be38-148"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError>：在登录期间发生异常时引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-148"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError>: Raised if an exception occurs during sign-in.</span></span> <span data-ttu-id="6be38-149">您可以取消该请求并防止异常返回给调用方。</span><span class="sxs-lookup"><span data-stu-id="6be38-149">You can cancel the request and prevent the exception from being returned to the caller.</span></span>  
  
 <span data-ttu-id="6be38-150">当从会话中注销或处理 WS-FEDERATION 注销清理请求（wsignoutcleanup1.0 1.0）时，将引发以下事件：</span><span class="sxs-lookup"><span data-stu-id="6be38-150">When signing out of a session or when processing a WS-Federation sign-out clean-up request (wsignoutcleanup1.0), the following events are raised:</span></span>  
  
-   <span data-ttu-id="6be38-151"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>：在删除会话之前引发，使你能够执行可能依赖于会话或取消注销的任何清理。</span><span class="sxs-lookup"><span data-stu-id="6be38-151"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>: Raised just before the session is deleted to enable you to perform any cleanup that might depend on the session or to cancel sign-out.</span></span>  
  
-   <span data-ttu-id="6be38-152"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>：在删除会话后立即引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-152"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>: Raised just after the session has been deleted.</span></span>  
  
-   <span data-ttu-id="6be38-153"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>：在注销过程中发生异常时引发。您可以取消注销并防止异常返回给调用方。</span><span class="sxs-lookup"><span data-stu-id="6be38-153"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>: Raised if an exception occurs during sign-out. You can cancel sign-out and prevent the exception from being returned to the caller.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6be38-154">在 STS 上注销时，通过调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法，不会引发注销事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-154">The sign-out events are not raised when signing out at the STS by calling the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-155">可以通过两种方式使用 WSFAM 登录到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-155">There are two ways of signing in to an STS using WSFAM.</span></span> <span data-ttu-id="6be38-156">第一种方法是通过 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> 属性启用被动重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-156">The first is by enabling passive redirects through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property.</span></span> <span data-ttu-id="6be38-157">在这种情况下，当请求的资源的授权失败，而不是向客户端返回 `401:Access Denied` 响应时，WSFAM 将从其属性生成 WS-FEDERATION 登录请求消息，并将客户端重定向到 STS 以检索安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-157">In this case, when authorization fails on a requested resource, rather than returning a `401:Access Denied` response to the client, WSFAM builds a WS-Federation sign-in request message from its properties and redirects the client to the STS to retrieve a security token.</span></span> <span data-ttu-id="6be38-158">第二种方法是通过从应用程序中的网页或自定义控件调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> 方法，将客户端显式重定向到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-158">The second way is to explicitly redirect the client to the STS by calling the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method from a web page or custom control in your application.</span></span> <span data-ttu-id="6be38-159"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> 方法还使用 WSFAM 的属性来构造登录请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-159">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method also uses the properties of the WSFAM to construct the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-160">可以使用任何重载的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> 方法从会话中注销。</span><span class="sxs-lookup"><span data-stu-id="6be38-160">Any of the overloaded <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> methods can be used to sign out of the session.</span></span> <span data-ttu-id="6be38-161">这会删除客户端上的会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-161">This deletes the session cookie on the client.</span></span> <span data-ttu-id="6be38-162">它不会将 WS 联合身份验证注销消息（"wsignout1.0 1.0"）发送到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-162">It does not send a WS-Federation sign-out message ("wsignout1.0") to the STS.</span></span> <span data-ttu-id="6be38-163">若要在 STS 中注销，必须使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-163">To sign-out at the STS, you must use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-164">WSFAM 通过删除与客户端的会话来处理 WS 联合身份验证注销清理请求（"wsignoutcleanup1.0 1.0"）。</span><span class="sxs-lookup"><span data-stu-id="6be38-164">The WSFAM handles WS-Federation sign-out clean-up requests ("wsignoutcleanup1.0"), by deleting its session with the client.</span></span> <span data-ttu-id="6be38-165">如果未设置注销清除消息中的 wreply 参数，则 WSFAM 会将绿色复选标记的图像返回到发送该消息的 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-165">If the wreply parameter in the sign-out clean-up message is not set, the WSFAM returns an image of a green check mark to the STS that sent the message.</span></span> <span data-ttu-id="6be38-166">STS 可以使用此功能来确认 RP 是否已完成其注销。</span><span class="sxs-lookup"><span data-stu-id="6be38-166">This feature can be used by an STS as an acknowledgment that the RP has completed its sign-out.</span></span>  
  
 <span data-ttu-id="6be38-167">WSFAM 通过多个任务特定的方法公开其功能，例如，其请求处理管道。</span><span class="sxs-lookup"><span data-stu-id="6be38-167">The WSFAM exposes its functionality -- for example, its request processing pipeline -- through several task-specific methods.</span></span> <span data-ttu-id="6be38-168">可以在派生类中重写这些方法，以更改 WSFAM 的行为。</span><span class="sxs-lookup"><span data-stu-id="6be38-168">You can override these methods in derived classes to alter the behavior of the WSFAM.</span></span>  
  
 <span data-ttu-id="6be38-169">若要使用该模块，必须将其添加到管道中，如下面的 XML 所示：</span><span class="sxs-lookup"><span data-stu-id="6be38-169">To be used, the module must be added to the pipeline as in the following XML:</span></span>  
  
```  
<configuration>  
  <system.webServer>  
    <modules>  
      <add name="WsFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
    </modules>  
  </system.webServer>  
</configuration>  
```  
  
 <span data-ttu-id="6be38-170">配置后，<xref:System.IdentityModel.Services.WSFederationAuthenticationModule> 在处理 HTTP 请求的各个阶段引发事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-170">Once configured, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> raises events at various stages of processing an HTTP request.</span></span> <span data-ttu-id="6be38-171">ASP.NET 开发人员可以处理 global.asax 文件中的这些事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-171">ASP.NET developers can handle these events in the global.asax file.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WSFederationAuthenticationModule ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WSFederationAuthenticationModule();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6be38-172">由派生类中的构造函数调用，用于初始化 <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 类。</span><span class="sxs-lookup"><span data-stu-id="6be38-172">Called by constructors in derived classes to initialize the <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="AuthenticationType">
      <MemberSignature Language="C#" Value="public string AuthenticationType { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string AuthenticationType" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType" />
      <MemberSignature Language="VB.NET" Value="Public Property AuthenticationType As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ AuthenticationType { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.AuthenticationType : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-173">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wauth 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-173">Gets or sets the value of the wauth parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-174">一个认证类型的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-174">A URI that specifies the authentication type.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-175">Wauth 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-175">The wauth parameter is optional.</span></span> <span data-ttu-id="6be38-176">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wauth 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-176">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType%2A> property is set to `null` or an empty string, the wauth parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-177">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-177">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-178">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-178">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-179">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-179">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AuthorizationFailed">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; AuthorizationFailed;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; AuthorizationFailed" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event AuthorizationFailed As EventHandler(Of AuthorizationFailedEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::AuthorizationFailedEventArgs ^&gt; ^ AuthorizationFailed;" />
      <MemberSignature Language="F#" Value="member this.AuthorizationFailed : EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; " Usage="member this.AuthorizationFailed : System.EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event AuthorizationFailed As EventHandler(Of AuthorizationFailedEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-180">当模块确定是否应该重定向用户配置的颁布者验证时发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-180">Occurs when the module is determining whether it should redirect the user to the configured issuer to authenticate.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-181">当 HTTP 请求的授权失败时，将引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-181">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed> event is raised when authorization has failed for an HTTP request.</span></span> <span data-ttu-id="6be38-182">它通过调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthorizationFailed%2A> 方法从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> 事件处理程序委托中引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-182">It is raised from within the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> event-handler delegate through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthorizationFailed%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-183">可以设置 <xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType> 属性来控制是否将请求重定向到标识提供者。</span><span class="sxs-lookup"><span data-stu-id="6be38-183">You can set the <xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType> property to control whether the request is redirected to the identity provider.</span></span> <span data-ttu-id="6be38-184">如果用户已经过身份验证，框架会将此属性初始化为 `false`。</span><span class="sxs-lookup"><span data-stu-id="6be38-184">The framework initializes this property to `false` if the user has already been authenticated.</span></span> <span data-ttu-id="6be38-185">在这种情况下，将属性设置为 `true` 可能会导致与 STS 的循环。</span><span class="sxs-lookup"><span data-stu-id="6be38-185">In this case, setting the property to `true` may cause a circular loop with the STS.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6be38-186"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件可用于修改 URL 或取消重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-186">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event can be used to modify the URL or cancel the redirect.</span></span>  
  
 <span data-ttu-id="6be38-187">若要在 ASP.NET 应用程序中处理此事件，请在 global.asax 文件中创建一个名为 `WSFederationAuthentication_AuthorizationFailed` 的方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-187">To handle this event in an ASP.NET application, create a method named `WSFederationAuthentication_AuthorizationFailed` in the global.asax file.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#7](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#7)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="CanReadSignInResponse">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="6be38-188">返回一个值，该值指示指定 HTTP 请求是否为 WS-Federation 登录响应消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-188">Returns a value that indicates whether the specified HTTP request is a WS-Federation sign-in response message.</span></span> <span data-ttu-id="6be38-189">如果消息为 WS 联合身份验证注销清理消息（“wsignoutcleanup1.0”），此方法处理请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-189">If the message is a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0"), this method processes the request.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-190">登录响应消息将由 security token service （STS）发送给信赖方（RP），以响应登录请求消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-190">A sign-in response message is sent to the relying party (RP) by a security token service (STS) in response to a sign-in request message.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </MemberGroup>
    <Member MemberName="CanReadSignInResponse">
      <MemberSignature Language="C#" Value="public bool CanReadSignInResponse (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool CanReadSignInResponse(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Function CanReadSignInResponse (request As HttpRequestBase) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool CanReadSignInResponse(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="member this.CanReadSignInResponse : System.Web.HttpRequestBase -&gt; bool" Usage="wSFederationAuthenticationModule.CanReadSignInResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="6be38-191">传入的 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-191">The incoming HTTP request.</span></span></param>
        <summary><span data-ttu-id="6be38-192">返回一个值，该值指示指定 HTTP 请求是否为 WS-Federation 登录响应消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-192">Returns a value that indicates whether the specified HTTP request is a WS-Federation sign-in response message.</span></span> <span data-ttu-id="6be38-193">如果消息为 WS 联合身份验证注销清理消息（“wsignoutcleanup1.0”），此方法处理请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-193">If the message is a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0"), this method processes the request.</span></span></summary>
        <returns><span data-ttu-id="6be38-194">如果指定的 HTTP 请求包含 wa 参数设置为“wsignout1.0”并且 wresult 参数不为空的 FORM 发布，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-194"><see langword="true" /> if the specified HTTP request contains a form POST in which the wa parameter is set to "wsignout1.0" and the wresult parameter is not empty; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-195">此方法从请求处理管道中调用，以确定传入的 HTTP 请求是否为包含 WS 联合身份验证登录响应消息的窗体 post。</span><span class="sxs-lookup"><span data-stu-id="6be38-195">This method is invoked from the request processing pipeline to determine whether the incoming HTTP request is a FORM post that contains a WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="6be38-196">它使用 `onPage` 参数集 `false` 调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType> 重载，以指示在处理页时调用不产生。</span><span class="sxs-lookup"><span data-stu-id="6be38-196">It invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType> overload with the `onPage` parameter set `false` to indicate that the call did  not originate while processing a page.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-197"><paramref name="request" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-197"><paramref name="request" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase,System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="CanReadSignInResponse">
      <MemberSignature Language="C#" Value="public virtual bool CanReadSignInResponse (System.Web.HttpRequestBase request, bool onPage);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool CanReadSignInResponse(class System.Web.HttpRequestBase request, bool onPage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function CanReadSignInResponse (request As HttpRequestBase, onPage As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool CanReadSignInResponse(System::Web::HttpRequestBase ^ request, bool onPage);" />
      <MemberSignature Language="F#" Value="abstract member CanReadSignInResponse : System.Web.HttpRequestBase * bool -&gt; bool&#xA;override this.CanReadSignInResponse : System.Web.HttpRequestBase * bool -&gt; bool" Usage="wSFederationAuthenticationModule.CanReadSignInResponse (request, onPage)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
        <Parameter Name="onPage" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="6be38-198">传入的 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-198">The incoming HTTP request.</span></span></param>
        <param name="onPage"><span data-ttu-id="6be38-199">如果在处理页请求时开始调用，则为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-199"><see langword="true" /> if the call originates while processing a page request.</span></span> <span data-ttu-id="6be38-200">如果调用方是 HTTP 模块，则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-200"><see langword="false" /> if the caller is an HTTP module.</span></span> <span data-ttu-id="6be38-201">如果传入消息是 WS 联合身份验证注销清理消息（“wsignoutcleanup1.0 ”），则该参数确定如何停止进程或发送重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-201">This parameter determines how to terminate processing or send redirects if the incoming message is a WS-Federation sign-out cleanup message ("wsignoutcleanup1.0").</span></span></param>
        <summary><span data-ttu-id="6be38-202">返回一个值，该值指示指定 HTTP 请求是否为 WS-Federation 登录响应消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-202">Returns a value that indicates whether the specified HTTP request is a WS-Federation sign-in response message.</span></span> <span data-ttu-id="6be38-203">如果消息为 WS 联合身份验证注销清理消息（“wsignoutcleanup1.0”），此方法处理请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-203">If the message is a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0"), this method processes the request.</span></span></summary>
        <returns><span data-ttu-id="6be38-204">如果指定的 HTTP 请求包含 wa 参数设置为“wsignout1.0”并且 wresult 参数不为空的 FORM 发布，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-204"><see langword="true" /> if the specified HTTP request contains a FORM post in which the wa parameter is set to "wsignout1.0" and the wresult parameter is not empty; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-205">此方法通过 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29?displayProperty=nameWithType> 重载从请求处理管道调用，以确定传入的 HTTP 请求是否为包含 WS 联合身份验证登录响应消息的窗体 POST。</span><span class="sxs-lookup"><span data-stu-id="6be38-205">This method is invoked from the request processing pipeline through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29?displayProperty=nameWithType> overload to determine whether the incoming HTTP request is a form POST that contains a WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="6be38-206">默认实现执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="6be38-206">The default implementation performs the following:</span></span>  
  
-   <span data-ttu-id="6be38-207">如果传入请求是窗体 POST，则会调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.IsSignInResponse%2A> 方法来确定窗体发布是否包含登录响应。</span><span class="sxs-lookup"><span data-stu-id="6be38-207">If the incoming request is a form POST, it calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.IsSignInResponse%2A> method to determine whether the form POST contains a sign-in response.</span></span>  
  
-   <span data-ttu-id="6be38-208">如果传入的请求不是窗体 POST，并且请求包含 WS-FEDERATION 注销清除请求（wa 参数是 "wsignoutcleanup1.0 1.0"），则执行注销清理。</span><span class="sxs-lookup"><span data-stu-id="6be38-208">If the incoming request is not a form POST, and the request contains a WS-Federation sign-out clean-up request (the wa parameter is "wsignoutcleanup1.0"), sign-out clean-up is performed.</span></span> <span data-ttu-id="6be38-209">在这种情况下，将调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法（将参数设置为 "`true`，指示注销清理）。</span><span class="sxs-lookup"><span data-stu-id="6be38-209">In this case, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method is invoked (with the parameter set to `true` to indicate a sign-out clean-up) to sign out of the session.</span></span> <span data-ttu-id="6be38-210">这也会导致引发注销事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-210">This also causes the sign-out events to be raised.</span></span>  
  
     <span data-ttu-id="6be38-211">接下来，如果注销清理请求包含 wreply 参数，则客户端将重定向到 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignOutRedirectUrl%2A> 方法返回的 URL;否则，会将绿色复选标记的图像返回到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-211">Next, if the sign-out clean-up request contains a wreply parameter, the client is redirected to the URL returned by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignOutRedirectUrl%2A> method; otherwise, an image of a green check mark is returned to the STS.</span></span> <span data-ttu-id="6be38-212">此图像的接收可以由 STS 用于确认是否已接收并成功处理了 RP 的注销清理请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-212">The receipt of this image can be used by the STS as a confirmation that the sign-out clean-up request was received and successfully processed by the RP.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-213"><paramref name="request" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-213"><paramref name="request" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase)" />
      </Docs>
    </Member>
    <Member MemberName="CreateSignInRequest">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Services.SignInRequestMessage CreateSignInRequest (string uniqueId, string returnUrl, bool rememberMeSet);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IdentityModel.Services.SignInRequestMessage CreateSignInRequest(string uniqueId, string returnUrl, bool rememberMeSet) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Function CreateSignInRequest (uniqueId As String, returnUrl As String, rememberMeSet As Boolean) As SignInRequestMessage" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IdentityModel::Services::SignInRequestMessage ^ CreateSignInRequest(System::String ^ uniqueId, System::String ^ returnUrl, bool rememberMeSet);" />
      <MemberSignature Language="F#" Value="member this.CreateSignInRequest : string * string * bool -&gt; System.IdentityModel.Services.SignInRequestMessage" Usage="wSFederationAuthenticationModule.CreateSignInRequest (uniqueId, returnUrl, rememberMeSet)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Services.SignInRequestMessage</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="uniqueId" Type="System.String" />
        <Parameter Name="returnUrl" Type="System.String" />
        <Parameter Name="rememberMeSet" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="uniqueId"><span data-ttu-id="6be38-214">WSFAM 保存请求中的 WS-Federation 标志 wctx 参数值; 但是，该模块在处理签入请求或sign-in反应时不使用它。</span><span class="sxs-lookup"><span data-stu-id="6be38-214">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span></span> <span data-ttu-id="6be38-215">您可以将其设置为任何值。</span><span class="sxs-lookup"><span data-stu-id="6be38-215">You can set it to any value.</span></span> <span data-ttu-id="6be38-216">不必是唯一的。</span><span class="sxs-lookup"><span data-stu-id="6be38-216">It does not have to be unique.</span></span></param>
        <param name="returnUrl"><span data-ttu-id="6be38-217">模块应返回在身份验证的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-217">The URL to which the module should return upon authentication.</span></span></param>
        <param name="rememberMeSet"><span data-ttu-id="6be38-218">WSFAM 保存请求中的 WS-Federation 标志 wctx 参数值; 但是，该模块在处理签入请求或sign-in反应时不使用它。</span><span class="sxs-lookup"><span data-stu-id="6be38-218">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span></span> <span data-ttu-id="6be38-219">可以设置该 <see langword="true" /> 或 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-219">You can set it either <see langword="true" /> or <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="6be38-220">使用模块上配置的 WS-Federation 参数，在请求消息中创建 WS-Federation 符号。</span><span class="sxs-lookup"><span data-stu-id="6be38-220">Creates a WS-Federation sign in request message by using the WS-Federation parameters configured on the module.</span></span></summary>
        <returns><span data-ttu-id="6be38-221">WS-Federation 登录请求消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-221">The WS-Federation sign-in request message.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-222">创建由 <xref:System.IdentityModel.Services.SignInRequestMessage> 对象表示的 WS 联合身份验证登录请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-222">Creates a WS-Federation sign-in request that is represented by a <xref:System.IdentityModel.Services.SignInRequestMessage> object.</span></span> <span data-ttu-id="6be38-223">新 <xref:System.IdentityModel.Services.SignInRequestMessage> 对象的属性的设置如下所示：</span><span class="sxs-lookup"><span data-stu-id="6be38-223">The properties of the new <xref:System.IdentityModel.Services.SignInRequestMessage> object are set as follows:</span></span>  
  
-   <span data-ttu-id="6be38-224"><xref:System.IdentityModel.Services.WSFederationMessage.Context%2A> 属性（wctx 参数）设置为使用方法参数创建的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-224">The <xref:System.IdentityModel.Services.WSFederationMessage.Context%2A> property (the wctx parameter) is set to a value created by using the method parameters.</span></span>  
  
-   <span data-ttu-id="6be38-225"><xref:System.IdentityModel.Services.SignInRequestMessage.CurrentTime%2A> 属性（wct 参数）设置为当前时间。</span><span class="sxs-lookup"><span data-stu-id="6be38-225">The <xref:System.IdentityModel.Services.SignInRequestMessage.CurrentTime%2A> property (the wct parameter) is set to the current time.</span></span>  
  
-   <span data-ttu-id="6be38-226">所有其他属性都是使用当前实例的等效属性进行设置的。</span><span class="sxs-lookup"><span data-stu-id="6be38-226">All other properties are set by using the equivalent properties of the current instance.</span></span>  
  
 <span data-ttu-id="6be38-227">传递给方法的参数用于创建 wctx 消息参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-227">The parameters passed to the method are used to create the wctx message parameter.</span></span> <span data-ttu-id="6be38-228">这是具有以下格式的字符串： `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`。</span><span class="sxs-lookup"><span data-stu-id="6be38-228">This is a string with the following format: `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`.</span></span>  
  
-   <span data-ttu-id="6be38-229">`ru` 值设置为传递给方法的 `returnUrl` 参数的值，并指定该模块应将浏览器定向到身份验证成功后的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-229">The `ru` value is set to the value of the `returnUrl` parameter passed in to the method and it specifies the URL that the module should direct the browser to following successful authentication.</span></span> <span data-ttu-id="6be38-230">这是存储在 WSFAM 使用的 wctx 字符串中的唯一值。</span><span class="sxs-lookup"><span data-stu-id="6be38-230">This is the only value stored in the wctx string that is used by the WSFAM.</span></span> <span data-ttu-id="6be38-231">模块调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> 方法，以便在处理 WS 联合身份验证登录响应时从 wctx 参数提取此值。</span><span class="sxs-lookup"><span data-stu-id="6be38-231">The module calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> method to extract this value from the wctx parameter when processing a WS-Federation sign-in response.</span></span> <span data-ttu-id="6be38-232">不应将它与 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> 属性指定的 wreply 消息参数混淆，后者提供了 security token service （STS）应将其响应定向到的 RP 上的地址。</span><span class="sxs-lookup"><span data-stu-id="6be38-232">It should not be confused with the wreply message parameter, which is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> property and which provides the address at the RP to which the security token service (STS) should direct its response.</span></span>  
  
-   <span data-ttu-id="6be38-233">`cx` 参数设置为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> 属性的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-233">The `cx` parameter is set to the value of the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> property.</span></span> <span data-ttu-id="6be38-234">公开此属性是为了使你能够设置应用程序定义的任何应存储在 wctx 字符串中的上下文;但是，WSFAM 不公开方法以便在响应中提取此值。</span><span class="sxs-lookup"><span data-stu-id="6be38-234">This property is exposed to enable you to set any application-defined context that should be stored in the wctx string; however, WSFAM does not expose a method to extract this value in the response.</span></span> <span data-ttu-id="6be38-235">如果应用程序需要该值，则必须提供代码来分析 wctx 字符串并在处理响应时读取此值。</span><span class="sxs-lookup"><span data-stu-id="6be38-235">If the value is needed by your application, you must provide the code to parse the wctx string and read this value when processing the response.</span></span> <span data-ttu-id="6be38-236">您可以通过重写 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> 方法来实现此目的。</span><span class="sxs-lookup"><span data-stu-id="6be38-236">You might accomplish this by overriding the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> method.</span></span>  
  
-   <span data-ttu-id="6be38-237">`rm` 值都不会设置为 `rememberMeSet` 参数的值，也不能使用设置为 `uniqueId` 参数值的 `id` 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-237">Neither the `rm` value, which is set to the value of the `rememberMeSet` parameter, nor the `id` parameter, which is set to the value of the `uniqueId` parameter are used by WSFAM.</span></span> <span data-ttu-id="6be38-238">这些值可以设置为任意值。</span><span class="sxs-lookup"><span data-stu-id="6be38-238">These can be set to any value.</span></span>  
  
 <span data-ttu-id="6be38-239">从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> 方法调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-239">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="6be38-240"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 属性为 <see langword="null" /> 或空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-240">The <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> property is <see langword="null" /> or an empty string.</span></span>  
  
<span data-ttu-id="6be38-241">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-241">-or-</span></span> 
<span data-ttu-id="6be38-242"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 属性为 <see langword="null" /> 或空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-242">The <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> property is <see langword="null" /> or an empty string.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider(System.String,System.String,System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="FederatedSignOut">
      <MemberSignature Language="C#" Value="public static void FederatedSignOut (Uri signOutUrl, Uri replyUrl);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void FederatedSignOut(class System.Uri signOutUrl, class System.Uri replyUrl) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut(System.Uri,System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub FederatedSignOut (signOutUrl As Uri, replyUrl As Uri)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void FederatedSignOut(Uri ^ signOutUrl, Uri ^ replyUrl);" />
      <MemberSignature Language="F#" Value="static member FederatedSignOut : Uri * Uri -&gt; unit" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut (signOutUrl, replyUrl)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="signOutUrl" Type="System.Uri" />
        <Parameter Name="replyUrl" Type="System.Uri" />
      </Parameters>
      <Docs>
        <param name="signOutUrl"><span data-ttu-id="6be38-243">接收 WS-Federation 注销请求消息的 STS 的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-243">The URL of the STS to receive the WS-Federation sign-out request message.</span></span> <span data-ttu-id="6be38-244">不能为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-244">Cannot be <see langword="null" />.</span></span></param>
        <param name="replyUrl"><span data-ttu-id="6be38-245">将作为 wreply 值发送的注销请求消息 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-245">The URL to be sent as the wreply value in the sign-out request message.</span></span></param>
        <summary><span data-ttu-id="6be38-246">使用 WS-Federation 协议，在指定的安全标记的服务 (STS) 中注销。</span><span class="sxs-lookup"><span data-stu-id="6be38-246">Signs out at the specified security token service (STS) by using the WS-Federation protocol.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-247">调用此方法可将 WS 联合身份验证注销请求消息发送到指定的 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-247">Call this method to send a WS-Federation sign-out request message to the specified STS.</span></span> <span data-ttu-id="6be38-248">您可以选择为注销请求中的 wreply 参数提供一个值。</span><span class="sxs-lookup"><span data-stu-id="6be38-248">You can optionally supply a value for the wreply parameter in the sign-out request.</span></span>  
  
 <span data-ttu-id="6be38-249">该方法将执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="6be38-249">The method does the following:</span></span>  
  
1.  <span data-ttu-id="6be38-250">使用指定的参数创建 WS 联合身份验证注销请求消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-250">Creates a WS-Federation sign-out request message by using the specified parameters.</span></span>  
  
2.  <span data-ttu-id="6be38-251">对 SAM 调用 <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType> 方法来删除会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-251">Calls the <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType> method on the SAM to delete the session cookie.</span></span>  
  
3.  <span data-ttu-id="6be38-252">使用第一步中的注销请求消息重定向到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-252">Redirects to the STS using the sign-out request message from the first step.</span></span>  
  
 <span data-ttu-id="6be38-253">此方法不会引发任何注销事件： <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>、<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>或 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>。</span><span class="sxs-lookup"><span data-stu-id="6be38-253">None of the sign-out events: <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>, <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>, or <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> are raised by this method.</span></span> <span data-ttu-id="6be38-254">若要删除会话而不向 STS 发送注销请求消息，请调用重载的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> 方法之一。</span><span class="sxs-lookup"><span data-stu-id="6be38-254">To delete the session without sending a sign-out request message to the STS, call one of the overloaded <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> methods.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6be38-255">若要使用会话令牌执行被动注销，该模块依赖于登录期间在 <xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType> 属性中存储的值。有关详细信息，请参阅 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-255">To perform passive sign-out by using the session token, the module relies on a value that was stored in the <xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType> property during sign-in, for more information, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-256"><paramref name="signOutUrl" /> 不是 <see langword="null" /> 并且不是绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-256"><paramref name="signOutUrl" /> is not <see langword="null" /> and is not an absolute URI.</span></span>  
  
<span data-ttu-id="6be38-257">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-257">-or-</span></span> 
 <span data-ttu-id="6be38-258"><paramref name="replyUrl" /> 不是 <see langword="null" /> 并且不是绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-258"><paramref name="replyUrl" /> is not <see langword="null" /> and is not an absolute URI.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="6be38-259"><paramref name="signOutUrl" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-259"><paramref name="signOutUrl" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut" />
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext" />
      </Docs>
    </Member>
    <Member MemberName="Freshness">
      <MemberSignature Language="C#" Value="public string Freshness { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Freshness" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness" />
      <MemberSignature Language="VB.NET" Value="Public Property Freshness As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Freshness { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Freshness : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-260">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wfresh 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-260">Gets or sets the value of the wfresh parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-261">身份验证请求所需的最大生存期（以分钟为单位）。</span><span class="sxs-lookup"><span data-stu-id="6be38-261">The desired maximum age of authentication requests, in minutes.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-262">Wfresh 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-262">The wfresh parameter is optional.</span></span> <span data-ttu-id="6be38-263">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wfresh 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-263">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness%2A> property is set to `null` or an empty string, the wfresh parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-264">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-264">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-265">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-265">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-266">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-266">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetFederationPassiveSignOutUrl">
      <MemberSignature Language="C#" Value="public static string GetFederationPassiveSignOutUrl (string issuer, string signOutReply, string signOutQueryString);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string GetFederationPassiveSignOutUrl(string issuer, string signOutReply, string signOutQueryString) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetFederationPassiveSignOutUrl (issuer As String, signOutReply As String, signOutQueryString As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ GetFederationPassiveSignOutUrl(System::String ^ issuer, System::String ^ signOutReply, System::String ^ signOutQueryString);" />
      <MemberSignature Language="F#" Value="static member GetFederationPassiveSignOutUrl : string * string * string -&gt; string" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl (issuer, signOutReply, signOutQueryString)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="issuer" Type="System.String" />
        <Parameter Name="signOutReply" Type="System.String" />
        <Parameter Name="signOutQueryString" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="issuer"><span data-ttu-id="6be38-267">颁发者地址。</span><span class="sxs-lookup"><span data-stu-id="6be38-267">The issuer address.</span></span> <span data-ttu-id="6be38-268">要将请求定向到的安全标记服务 (STS) 的地址。</span><span class="sxs-lookup"><span data-stu-id="6be38-268">The address of the security token service (STS) to which to direct the request.</span></span></param>
        <param name="signOutReply"><span data-ttu-id="6be38-269">指定该地址返回到注销后的 URL。这将在注销请求中设置 wreply 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-269">A URL that specifies the address to return to after sign-out. This sets the wreply parameter in the sign-out request.</span></span> <span data-ttu-id="6be38-270">如果没有应包含在生成的注销请求中的 wreply 参数，则可以为 <see langword="null" /> 或空。</span><span class="sxs-lookup"><span data-stu-id="6be38-270">Can be <see langword="null" /> or empty if no wreply parameter should be included in the generated sign-out request.</span></span> <span data-ttu-id="6be38-271">这应该是绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-271">This should be an absolute URI.</span></span></param>
        <param name="signOutQueryString"><span data-ttu-id="6be38-272">注销请求包含的其他查询字符串参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-272">Additional query string parameters to be included in the sign-out request.</span></span> <span data-ttu-id="6be38-273">如果生成的注销请求中没有包含附加参数，则可以为 <see langword="null" /> 或空。</span><span class="sxs-lookup"><span data-stu-id="6be38-273">Can be <see langword="null" /> or empty if no additional to be parameters included in the generated sign-out request.</span></span> <span data-ttu-id="6be38-274">这应该是相对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-274">This should be a relative URI.</span></span></param>
        <summary><span data-ttu-id="6be38-275">返回表示发送到指定的颁发者的 WS-Federation 注销请求，并包含指定的 wreply 参数和指定的附加参数的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-275">Returns a URL that represents a WS-Federation sign-out request addressed to the specified issuer and that contains the specified wreply parameter and the specified additional parameters.</span></span></summary>
        <returns><span data-ttu-id="6be38-276">包含使用指定的参数生成的 WS-Federation 被动标志请求的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-276">A URL that contains a WS-Federation passive sign-out request that is built by using the specified parameters.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-277">在返回的 URL 中：基本 URI 设置为 `issuer`;wa 参数设置为 "wsignout1.0 1.0";wreply 参数设置为 `signOutReply`;`signOutQueryString` 中指定的参数作为附加查询字符串参数存在。</span><span class="sxs-lookup"><span data-stu-id="6be38-277">In the URL that is returned: the base URI is set to `issuer`; the wa parameter is set to "wsignout1.0"; the wreply parameter is set to `signOutReply`; and the parameters specified in `signOutQueryString` are present as additional query string parameters.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-278"><paramref name="issuer" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-278"><paramref name="issuer" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetReferencedResult">
      <MemberSignature Language="C#" Value="protected virtual string GetReferencedResult (string resultPtr);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetReferencedResult(string resultPtr) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReferencedResult(System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetReferencedResult (resultPtr As String) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetReferencedResult(System::String ^ resultPtr);" />
      <MemberSignature Language="F#" Value="abstract member GetReferencedResult : string -&gt; string&#xA;override this.GetReferencedResult : string -&gt; string" Usage="wSFederationAuthenticationModule.GetReferencedResult resultPtr" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="resultPtr" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="resultPtr"><span data-ttu-id="6be38-279">指定颁布结果地址的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-279">The URL that specifies the address of the issuance result.</span></span></param>
        <summary><span data-ttu-id="6be38-280">从指定的 URL 来获取颁发结果 (通常是颁发的令牌)。</span><span class="sxs-lookup"><span data-stu-id="6be38-280">Gets the issuance result (typically the issued token) from the specified URL.</span></span> <span data-ttu-id="6be38-281">解析登录响应消息中在 wresultptr 参数中指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-281">Resolves the URL specified in the wresultptr parameter in a sign-in response message.</span></span></summary>
        <returns><span data-ttu-id="6be38-282">由 URL 引用的颁发结果。</span><span class="sxs-lookup"><span data-stu-id="6be38-282">The issuance result that was referenced by the URL.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-283">由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType> 方法从处理管道中调用，以解析从 security token service （STS）收到的登录响应消息中的 wresultptr 参数中指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-283">Called by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType> method from inside the processing pipeline to resolve the URL specified in the wresultptr parameter in the sign-in response message received from a security token service (STS).</span></span>  
  
 <span data-ttu-id="6be38-284">默认情况下，此方法会引发 <xref:System.NotSupportedException>。</span><span class="sxs-lookup"><span data-stu-id="6be38-284">By default this method throws a <xref:System.NotSupportedException>.</span></span> <span data-ttu-id="6be38-285">在派生类中重写此方法，以支持 wresultptr 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-285">Override this method in a derived class to support the wresultptr parameter.</span></span> <span data-ttu-id="6be38-286">URL 指向颁发结果，该结果应为以下内容之一： `<wst:RequestSecurityTokenResponse>` 元素、`<wst:RequestSecurityTokenResponseCollection>` 元素、SOAP 响应或 SOAP `<S:Fault>` 元素。</span><span class="sxs-lookup"><span data-stu-id="6be38-286">The URL points to the issuance result, which should be one of the following: a `<wst:RequestSecurityTokenResponse>` element, a `<wst:RequestSecurityTokenResponseCollection>` element, a SOAP response, or a SOAP `<S:Fault>` element.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="6be38-287">基类不支持此方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-287">This method is not supported in the base class.</span></span> <span data-ttu-id="6be38-288">必须在派生类中重写它。</span><span class="sxs-lookup"><span data-stu-id="6be38-288">You must override it in a derived class.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetReturnUrlFromResponse">
      <MemberSignature Language="C#" Value="protected virtual string GetReturnUrlFromResponse (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetReturnUrlFromResponse(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetReturnUrlFromResponse (request As HttpRequestBase) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetReturnUrlFromResponse(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetReturnUrlFromResponse : System.Web.HttpRequestBase -&gt; string&#xA;override this.GetReturnUrlFromResponse : System.Web.HttpRequestBase -&gt; string" Usage="wSFederationAuthenticationModule.GetReturnUrlFromResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="6be38-289">包含一窗体 ，包括 WS-Federation 响应消息的 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-289">The HTTP request that contains a form POST, which contains the WS-Federation sign-in response message.</span></span></param>
        <summary><span data-ttu-id="6be38-290">提取登录响应中最初请求的页的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-290">Extracts the URL of the page that was originally requested from the sign-in response.</span></span></summary>
        <returns><span data-ttu-id="6be38-291">用户最初请求的页 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-291">The URL of the page that was originally requested by the client.</span></span> <span data-ttu-id="6be38-292">这是 URL（在依赖方）在成功登录后，客户端应被重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-292">This is the URL (at the relying party) to which the client should be redirected following successful sign-in.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-293">此方法从请求处理管道（<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> 方法）中调用，以获取信赖方（RP）上页面的 URL，以便在成功登录后将客户端定向到该页面。</span><span class="sxs-lookup"><span data-stu-id="6be38-293">This method is called from the request processing pipeline (the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> method) to get the URL of the page at the relying party (RP) to direct the client to after successful sign-in.</span></span> <span data-ttu-id="6be38-294">这通常是客户端最初请求访问的 RP 资源的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-294">This is, typically, the URL of the RP resource to which the client originally requested access.</span></span>  
  
 <span data-ttu-id="6be38-295">默认情况下，WSFAM 会在将 WS 联合身份验证登录请求发送到 security token service （STS）时将返回 URL 保存在 wctx 消息参数内。</span><span class="sxs-lookup"><span data-stu-id="6be38-295">By default, WSFAM saves the return URL inside the wctx message parameter when it sends the WS-Federation sign-in request to the security token service (STS).</span></span> <span data-ttu-id="6be38-296">根据 WS 联合身份验证规范，将在消息通过的实体之间保留 wctx 参数，并在 STS 发送的 WS 联合身份验证登录响应消息中返回未修改的。</span><span class="sxs-lookup"><span data-stu-id="6be38-296">In accordance with the WS-Federation specification, the wctx parameter is preserved across entities through which the message passes and is returned unaltered in the WS-Federation sign-in response message that is sent by the STS.</span></span>  
  
 <span data-ttu-id="6be38-297">默认实现从登录响应中的 wctx 参数获取返回 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-297">The default implementation gets the return URL from the wctx parameter in the sign-in response.</span></span> <span data-ttu-id="6be38-298">有关 WSFAM 使用的 wctx 参数格式的详细信息，请参阅 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-298">For more information about the format of the wctx parameter that is used by WSFAM, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-299"><paramref name="request" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-299"><paramref name="request" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" />
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      </Docs>
    </Member>
    <MemberGroup MemberName="GetSecurityToken">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="6be38-300">从指定的请求读取安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-300">Reads a security token from the specified request.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetSecurityToken">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Tokens.SecurityToken GetSecurityToken (System.IdentityModel.Services.SignInResponseMessage message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityToken GetSecurityToken(class System.IdentityModel.Services.SignInResponseMessage message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken(System.IdentityModel.Services.SignInResponseMessage)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetSecurityToken (message As SignInResponseMessage) As SecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Tokens::SecurityToken ^ GetSecurityToken(System::IdentityModel::Services::SignInResponseMessage ^ message);" />
      <MemberSignature Language="F#" Value="abstract member GetSecurityToken : System.IdentityModel.Services.SignInResponseMessage -&gt; System.IdentityModel.Tokens.SecurityToken&#xA;override this.GetSecurityToken : System.IdentityModel.Services.SignInResponseMessage -&gt; System.IdentityModel.Tokens.SecurityToken" Usage="wSFederationAuthenticationModule.GetSecurityToken message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityToken</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.IdentityModel.Services.SignInResponseMessage" />
      </Parameters>
      <Docs>
        <param name="message"><span data-ttu-id="6be38-301">从登录响应消息中读取标识。</span><span class="sxs-lookup"><span data-stu-id="6be38-301">The sign-in response message from which to read the token.</span></span></param>
        <summary><span data-ttu-id="6be38-302">从指定 WS Federation 登录响应消息读取安全标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-302">Reads a security token from the specified WS Federation sign-in response message.</span></span></summary>
        <returns><span data-ttu-id="6be38-303">从该消息读取的安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-303">The security token that was read from the message.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-304">默认实现调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%2CSystem.IdentityModel.Services.WSFederationSerializer%29?displayProperty=nameWithType> 方法来获取令牌，并使用配置的安全令牌处理程序中的相应处理程序来读取令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-304">The default implementation invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%2CSystem.IdentityModel.Services.WSFederationSerializer%29?displayProperty=nameWithType> method to get the token and reads it by using the appropriate handler from the configured security token handlers.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-305"><paramref name="message" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-305"><paramref name="message" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetSecurityToken">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Tokens.SecurityToken GetSecurityToken (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityToken GetSecurityToken(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetSecurityToken (request As HttpRequestBase) As SecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Tokens::SecurityToken ^ GetSecurityToken(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetSecurityToken : System.Web.HttpRequestBase -&gt; System.IdentityModel.Tokens.SecurityToken&#xA;override this.GetSecurityToken : System.Web.HttpRequestBase -&gt; System.IdentityModel.Tokens.SecurityToken" Usage="wSFederationAuthenticationModule.GetSecurityToken request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityToken</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="6be38-306">从中读取标记的 HTTP。</span><span class="sxs-lookup"><span data-stu-id="6be38-306">The HTTP request from which to read the token.</span></span></param>
        <summary><span data-ttu-id="6be38-307">从指定的 HTTP 请求读取安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-307">Reads a security token from the specified HTTP request.</span></span></summary>
        <returns><span data-ttu-id="6be38-308">读取的安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-308">The security token that was read.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-309">从请求处理管道中调用，以将 WS 联合身份验证登录请求消息作为 <xref:System.IdentityModel.Tokens.SecurityToken> 对象获取。</span><span class="sxs-lookup"><span data-stu-id="6be38-309">Called from the request processing pipeline to get the WS-Federation sign-in request message as a <xref:System.IdentityModel.Tokens.SecurityToken> object.</span></span>  
  
 <span data-ttu-id="6be38-310">默认实现调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignInResponseMessage%2A> 方法来获取 <xref:System.IdentityModel.Services.SignInResponseMessage> 对象，然后调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType> 重载。</span><span class="sxs-lookup"><span data-stu-id="6be38-310">The default implementation invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignInResponseMessage%2A> method to get a <xref:System.IdentityModel.Services.SignInResponseMessage> object and then invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType> overload.</span></span>  
  
 <span data-ttu-id="6be38-311">使用派生类解释特定类型的请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-311">Use a derived class to interpret a specific type of request.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-312"><paramref name="request" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-312"><paramref name="request" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetSessionTokenContext">
      <MemberSignature Language="C#" Value="protected virtual string GetSessionTokenContext ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetSessionTokenContext() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetSessionTokenContext () As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetSessionTokenContext();" />
      <MemberSignature Language="F#" Value="abstract member GetSessionTokenContext : unit -&gt; string&#xA;override this.GetSessionTokenContext : unit -&gt; string" Usage="wSFederationAuthenticationModule.GetSessionTokenContext " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6be38-313">获取在 <see cref="P:System.IdentityModel.Tokens.SessionSecurityToken.Context" /> 属性中应保持会话 Cookie 的字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-313">Gets a string that should be persisted with the session cookie in the <see cref="P:System.IdentityModel.Tokens.SessionSecurityToken.Context" /> property.</span></span></summary>
        <returns><span data-ttu-id="6be38-314">保持的字符串在会话 Cookie 中。</span><span class="sxs-lookup"><span data-stu-id="6be38-314">The string to persist in the session cookie.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-315">在处理 WS-FEDERATION 登录响应消息时，将从请求处理管道调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A> 方法，以获取要存储在会话 cookie 内的 <xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType> 属性中的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-315">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A> method is called from the request processing pipeline when processing a WS-Federation sign-in response message to get the value to store in the <xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType> property inside the session cookie.</span></span>  
  
 <span data-ttu-id="6be38-316">您可以重写此方法以提供应用程序特定的值，以将其存储在 cookie 中。</span><span class="sxs-lookup"><span data-stu-id="6be38-316">You can override this method to provide an application-specific value to be stored in the cookie.</span></span> <span data-ttu-id="6be38-317">WSFAM 不公开任何方法来从 cookie 检索值。</span><span class="sxs-lookup"><span data-stu-id="6be38-317">WSFAM does not expose any methods to retrieve the value from the cookie.</span></span> <span data-ttu-id="6be38-318">如果需要，你必须在应用程序中提供逻辑，以便从 cookie 中读取值。</span><span class="sxs-lookup"><span data-stu-id="6be38-318">You must provide the logic in your application to read the value back from the cookie if it is needed.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-319"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 属性为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-319">The <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> property is <see langword="null" />.</span></span></exception>
        <altmember cref="P:System.IdentityModel.Tokens.SessionSecurityToken.Context" />
      </Docs>
    </Member>
    <Member MemberName="GetSignInResponseMessage">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Services.SignInResponseMessage GetSignInResponseMessage (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Services.SignInResponseMessage GetSignInResponseMessage(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignInResponseMessage(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetSignInResponseMessage (request As HttpRequestBase) As SignInResponseMessage" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Services::SignInResponseMessage ^ GetSignInResponseMessage(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetSignInResponseMessage : System.Web.HttpRequestBase -&gt; System.IdentityModel.Services.SignInResponseMessage&#xA;override this.GetSignInResponseMessage : System.Web.HttpRequestBase -&gt; System.IdentityModel.Services.SignInResponseMessage" Usage="wSFederationAuthenticationModule.GetSignInResponseMessage request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Services.SignInResponseMessage</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="6be38-320">从响应消息中读取符号的 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-320">The HTTP request from which to read the sign-in response message.</span></span> <span data-ttu-id="6be38-321">应表示表格 POST 的请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-321">The request should represent a form POST.</span></span></param>
        <summary><span data-ttu-id="6be38-322">从表示指定 HTTP 请求中表 POST 读取 <see cref="T:System.IdentityModel.Services.SignInResponseMessage" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-322">Reads a <see cref="T:System.IdentityModel.Services.SignInResponseMessage" /> object from the form POST represented by the specified HTTP request.</span></span></summary>
        <returns><span data-ttu-id="6be38-323">生成的登录响应信息。</span><span class="sxs-lookup"><span data-stu-id="6be38-323">The sign-in response message that was created.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-324">从请求处理管道中的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29?displayProperty=nameWithType> 方法调用，以从包含在 HTTP 请求中的窗体 POST 中获取登录响应消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-324">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29?displayProperty=nameWithType> method in the request processing pipeline to get a sign-in response message from the form POST contained in the HTTP request.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-325"><paramref name="request" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-325"><paramref name="request" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="6be38-326">无法从指定的请求中读取登录响应消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-326">A sign-in response message could not be read from the specified request.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetSignOutRedirectUrl">
      <MemberSignature Language="C#" Value="protected virtual string GetSignOutRedirectUrl (System.IdentityModel.Services.SignOutCleanupRequestMessage signOutMessage);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetSignOutRedirectUrl(class System.IdentityModel.Services.SignOutCleanupRequestMessage signOutMessage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignOutRedirectUrl(System.IdentityModel.Services.SignOutCleanupRequestMessage)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetSignOutRedirectUrl (signOutMessage As SignOutCleanupRequestMessage) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetSignOutRedirectUrl(System::IdentityModel::Services::SignOutCleanupRequestMessage ^ signOutMessage);" />
      <MemberSignature Language="F#" Value="abstract member GetSignOutRedirectUrl : System.IdentityModel.Services.SignOutCleanupRequestMessage -&gt; string&#xA;override this.GetSignOutRedirectUrl : System.IdentityModel.Services.SignOutCleanupRequestMessage -&gt; string" Usage="wSFederationAuthenticationModule.GetSignOutRedirectUrl signOutMessage" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="signOutMessage" Type="System.IdentityModel.Services.SignOutCleanupRequestMessage" />
      </Parameters>
      <Docs>
        <param name="signOutMessage"><span data-ttu-id="6be38-327">注销清理请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-327">The sign-out clean-up request.</span></span></param>
        <summary><span data-ttu-id="6be38-328">确定包含 wreply 参数的，处理 WS-Federation 注销清理请求(wsignoutcleanup1.0)的重新定位。</span><span class="sxs-lookup"><span data-stu-id="6be38-328">Determines the URL to which to redirect when processing a WS-Federation sign-out clean-up request (wsignoutcleanup1.0) that contains a wreply parameter.</span></span></summary>
        <returns><span data-ttu-id="6be38-329">要重定向到的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-329">The URL to redirect to.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-330">此方法是从请求处理管道中的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A> 方法调用的，用于确定在处理 WS-FEDERATION 注销清除请求之后要重定向到的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-330">This method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A> method in the request processing pipeline to determine the URL to redirect to after processing a WS-Federation sign-out clean-up request.</span></span> <span data-ttu-id="6be38-331">仅当消息具有 wreply 参数（`signOutMessage` 参数的 <xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A> 属性既不 `null` 也不为空）时，才会调用它。</span><span class="sxs-lookup"><span data-stu-id="6be38-331">It is only invoked if the message has a wreply parameter (the `signOutMessage` parameter has a <xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A> property that is neither `null` nor empty).</span></span>  
  
 <span data-ttu-id="6be38-332">默认实现根据 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定的 security token service （STS）的地址验证消息中包含的回复 URL （<xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A?displayProperty=nameWithType> 属性）。</span><span class="sxs-lookup"><span data-stu-id="6be38-332">The default implementation validates the reply URL contained in the message (the <xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A?displayProperty=nameWithType> property) against the address of the security token service (STS) that is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span> <span data-ttu-id="6be38-333">要使回复 URL 有效，必须满足以下条件：</span><span class="sxs-lookup"><span data-stu-id="6be38-333">The following conditions must be true for the reply URL to be valid:</span></span>  
  
1.  <span data-ttu-id="6be38-334">回复 URL 是绝对 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-334">The reply URL is an absolute URL.</span></span>  
  
2.  <span data-ttu-id="6be38-335">回复 URL 与颁发者的方案相同。</span><span class="sxs-lookup"><span data-stu-id="6be38-335">The reply URL has the same scheme as the issuer.</span></span>  
  
3.  <span data-ttu-id="6be38-336">回复 URL 包含与颁发者相同的端口。</span><span class="sxs-lookup"><span data-stu-id="6be38-336">The reply URL has the same port as the issuer.</span></span>  
  
4.  <span data-ttu-id="6be38-337">回复 URL 与颁发者具有相同的主机，或者 "答复 URL" 指定颁发者的子域。</span><span class="sxs-lookup"><span data-stu-id="6be38-337">Either the reply URL has the same host as the issuer or the reply URL specifies a sub-domain of the issuer.</span></span>  
  
 <span data-ttu-id="6be38-338">如果所有这些条件都为 true，则返回回复 URL （回复）;否则，将返回 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-338">If all of these conditions are true, the reply URL (Reply) is returned; otherwise, the URL specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property is returned.</span></span>  
  
 <span data-ttu-id="6be38-339">重写此方法以为回复 URL 提供额外的验证。</span><span class="sxs-lookup"><span data-stu-id="6be38-339">Override this method to provide additional validation for the reply URL.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-340"><paramref name="signOutMessage" /> 具有一个为 <see langword="null" /> 或为空的 <see cref="P:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply" /> 属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-340"><paramref name="signOutMessage" /> has a <see cref="P:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply" /> property that is <see langword="null" /> or empty.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-341"><paramref name="signOutMessage" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-341"><paramref name="signOutMessage" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetXmlTokenFromMessage">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="6be38-342">从指定 WS-Federation 登录响应消息提取发出标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-342">Extracts the issued token from the specified WS-Federation sign-in response message.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetXmlTokenFromMessage">
      <MemberSignature Language="C#" Value="public virtual string GetXmlTokenFromMessage (System.IdentityModel.Services.SignInResponseMessage message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetXmlTokenFromMessage(class System.IdentityModel.Services.SignInResponseMessage message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage(System.IdentityModel.Services.SignInResponseMessage)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetXmlTokenFromMessage (message As SignInResponseMessage) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetXmlTokenFromMessage(System::IdentityModel::Services::SignInResponseMessage ^ message);" />
      <MemberSignature Language="F#" Value="abstract member GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage -&gt; string&#xA;override this.GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage -&gt; string" Usage="wSFederationAuthenticationModule.GetXmlTokenFromMessage message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.IdentityModel.Services.SignInResponseMessage" />
      </Parameters>
      <Docs>
        <param name="message"><span data-ttu-id="6be38-343">从登录响应消息中提取标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-343">The sign-in response message to extract the token from.</span></span> <span data-ttu-id="6be38-344">以响应包含 STS 问题的标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-344">The sign-in response contains the token issued by the STS.</span></span></param>
        <summary><span data-ttu-id="6be38-345">从指定 WS-Federation 登录响应消息提取发出标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-345">Extracts the issued token from the specified WS-Federation sign-in response message.</span></span></summary>
        <returns><span data-ttu-id="6be38-346">包含表示颁发的令牌的 XML 的字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-346">A string that contains the XML that represents the issued token.</span></span> <span data-ttu-id="6be38-347">这是 <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> 元素。</span><span class="sxs-lookup"><span data-stu-id="6be38-347">This is a <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> element.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-348">如果登录响应消息中没有 wresult 参数，则调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReferencedResult%2A> 方法，尝试使用 wresultptr 参数获取该令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-348">If there is no wresult parameter in the sign-in response message, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReferencedResult%2A> method is called to try to get the token using the wresultptr parameter.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-349"><paramref name="message" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-349"><paramref name="message" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="6be38-350"><paramref name="message" />不包含标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-350"><paramref name="message" /> does not contain a token.</span></span> <span data-ttu-id="6be38-351">（它不包含有效的 wresult 或 wresultptr 参数。）</span><span class="sxs-lookup"><span data-stu-id="6be38-351">(It does not contain a valid wresult or wresultptr parameter.)</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetXmlTokenFromMessage">
      <MemberSignature Language="C#" Value="public virtual string GetXmlTokenFromMessage (System.IdentityModel.Services.SignInResponseMessage message, System.IdentityModel.Services.WSFederationSerializer federationSerializer);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetXmlTokenFromMessage(class System.IdentityModel.Services.SignInResponseMessage message, class System.IdentityModel.Services.WSFederationSerializer federationSerializer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage(System.IdentityModel.Services.SignInResponseMessage,System.IdentityModel.Services.WSFederationSerializer)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetXmlTokenFromMessage (message As SignInResponseMessage, federationSerializer As WSFederationSerializer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetXmlTokenFromMessage(System::IdentityModel::Services::SignInResponseMessage ^ message, System::IdentityModel::Services::WSFederationSerializer ^ federationSerializer);" />
      <MemberSignature Language="F#" Value="abstract member GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage * System.IdentityModel.Services.WSFederationSerializer -&gt; string&#xA;override this.GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage * System.IdentityModel.Services.WSFederationSerializer -&gt; string" Usage="wSFederationAuthenticationModule.GetXmlTokenFromMessage (message, federationSerializer)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.IdentityModel.Services.SignInResponseMessage" />
        <Parameter Name="federationSerializer" Type="System.IdentityModel.Services.WSFederationSerializer" />
      </Parameters>
      <Docs>
        <param name="message"><span data-ttu-id="6be38-352">从登录响应消息中提取标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-352">The sign-in response message to extract the token from.</span></span> <span data-ttu-id="6be38-353">以响应包含 STS 问题的标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-353">The sign-in response contains the token issued by the STS.</span></span></param>
        <param name="federationSerializer"><span data-ttu-id="6be38-354">用于序列化签入响应消息的 WS-Federation 序列化程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-354">The WS-Federation serializer to use to de-serialize the sign-in response message.</span></span></param>
        <summary><span data-ttu-id="6be38-355">使用指定的 WS-Federation 序列化程序从指定的 WS-Federation 登录响应消息以提取颁发的令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-355">Extracts the issued token from the specified WS-Federation sign-in response message by using the specified WS-Federation serializer.</span></span></summary>
        <returns><span data-ttu-id="6be38-356">包含表示颁发的令牌的 XML 的字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-356">A string that contains the XML that represents the issued token.</span></span> <span data-ttu-id="6be38-357">这是 <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> 元素。</span><span class="sxs-lookup"><span data-stu-id="6be38-357">This is a <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> element.</span></span></returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-358"><paramref name="message" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-358"><paramref name="message" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="HomeRealm">
      <MemberSignature Language="C#" Value="public string HomeRealm { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string HomeRealm" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm" />
      <MemberSignature Language="VB.NET" Value="Public Property HomeRealm As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ HomeRealm { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.HomeRealm : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-359">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 whr 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-359">Gets or sets the value of the whr parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-360">身份提供程序的地址。</span><span class="sxs-lookup"><span data-stu-id="6be38-360">The address of the identity provider.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-361">瓦时参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-361">The whr parameter is optional.</span></span> <span data-ttu-id="6be38-362">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm%2A> 属性设置为 `null` 或空字符串，则不会在登录请求中包含瓦时参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-362">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm%2A> property is set to `null` or an empty string, the whr parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-363">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-363">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-364">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-364">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-365">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-365">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InitializeModule">
      <MemberSignature Language="C#" Value="protected override void InitializeModule (System.Web.HttpApplication context);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void InitializeModule(class System.Web.HttpApplication context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializeModule(System.Web.HttpApplication)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub InitializeModule (context As HttpApplication)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void InitializeModule(System::Web::HttpApplication ^ context);" />
      <MemberSignature Language="F#" Value="override this.InitializeModule : System.Web.HttpApplication -&gt; unit" Usage="wSFederationAuthenticationModule.InitializeModule context" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpApplication" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="6be38-366">包含该模块的 HTTP 应用对程序对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-366">The HTTP application object that contains this module.</span></span></param>
        <summary><span data-ttu-id="6be38-367">初始化模块并为其从模块的 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 应用程序对象处理事件做好准备。</span><span class="sxs-lookup"><span data-stu-id="6be38-367">Initializes the module and prepares it to handle events from the module's [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] application object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-368">按照下表为 ASP.NET 管道事件添加处理程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-368">Adds handlers for ASP.NET pipeline events according to the following table.</span></span>  
  
|<span data-ttu-id="6be38-369">事件</span><span class="sxs-lookup"><span data-stu-id="6be38-369">Event</span></span>|<span data-ttu-id="6be38-370">Handler</span><span class="sxs-lookup"><span data-stu-id="6be38-370">Handler</span></span>|  
|-----------|-------------|  
|<xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType>|<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>|  
|<xref:System.Web.HttpApplication.EndRequest?displayProperty=nameWithType>|<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A>|  
|<xref:System.Web.HttpApplication.PostAuthenticateRequest?displayProperty=nameWithType>|<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnPostAuthenticateRequest%2A>|  
  
> [!NOTE]
>  <span data-ttu-id="6be38-371">模块属性（如 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>）从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration%2A> 方法进行初始化。</span><span class="sxs-lookup"><span data-stu-id="6be38-371">The module properties, such as <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> , are initialized from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-372"><paramref name="context" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-372"><paramref name="context" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration" />
      </Docs>
    </Member>
    <Member MemberName="InitializePropertiesFromConfiguration">
      <MemberSignature Language="C#" Value="protected override void InitializePropertiesFromConfiguration ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void InitializePropertiesFromConfiguration() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub InitializePropertiesFromConfiguration ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void InitializePropertiesFromConfiguration();" />
      <MemberSignature Language="F#" Value="override this.InitializePropertiesFromConfiguration : unit -&gt; unit" Usage="wSFederationAuthenticationModule.InitializePropertiesFromConfiguration " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6be38-373">初始化模块属性，该模块属性是基于指定的 <see cref="P:System.IdentityModel.Services.HttpModuleBase.FederationConfiguration" /> 属性的配置。</span><span class="sxs-lookup"><span data-stu-id="6be38-373">Initializes the module properties based on the configuration specified by the <see cref="P:System.IdentityModel.Services.HttpModuleBase.FederationConfiguration" /> property of the module.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-374">模块属性是使用 <xref:System.IdentityModel.Services.Configuration.FederationConfiguration.WsFederationConfiguration%2A?displayProperty=nameWithType> 属性指定的 <xref:System.IdentityModel.Services.Configuration.WsFederationConfiguration> 对象的等效属性进行初始化的。</span><span class="sxs-lookup"><span data-stu-id="6be38-374">Module properties are initialized using the equivalent properties of the <xref:System.IdentityModel.Services.Configuration.WsFederationConfiguration> object specified by the <xref:System.IdentityModel.Services.Configuration.FederationConfiguration.WsFederationConfiguration%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="6be38-375">可以通过[&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation)元素在配置文件中指定设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-375">You can specify settings in a configuration file through the [&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation) element.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsSignInResponse">
      <MemberSignature Language="C#" Value="public virtual bool IsSignInResponse (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool IsSignInResponse(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.IsSignInResponse(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function IsSignInResponse (request As HttpRequestBase) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool IsSignInResponse(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member IsSignInResponse : System.Web.HttpRequestBase -&gt; bool&#xA;override this.IsSignInResponse : System.Web.HttpRequestBase -&gt; bool" Usage="wSFederationAuthenticationModule.IsSignInResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="6be38-376">传入的 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-376">The incoming HTTP request.</span></span></param>
        <summary><span data-ttu-id="6be38-377">获取指示指定请求是否为 WS-Federation 登录响应消息的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-377">Gets a value that indicates whether the specified request is a WS-Federation sign-in response message.</span></span></summary>
        <returns><span data-ttu-id="6be38-378">如果请求为 WS 联合登录响应消息，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-378"><see langword="true" /> if the request is a WS-Federation sign-in response message; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-379">此方法是从请求处理管道中的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A> 方法调用的，用于确定传入的 HTTP 请求是否为 WS-FEDERATION 登录响应消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-379">This method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A> method in the request processing pipeline to determine whether the incoming HTTP request is a WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="6be38-380">如果 wa 参数是 "wsignin1.0 1.0" 且未同时设置 wreq 和 wreqptr 参数，则默认实现将返回 `true`。</span><span class="sxs-lookup"><span data-stu-id="6be38-380">The default implementation returns `true` if the wa parameter is "wsignin1.0" and the wreq and wreqptr parameters are not both set.</span></span>  
  
 <span data-ttu-id="6be38-381">可以在派生类中重写此方法以执行其他验证。</span><span class="sxs-lookup"><span data-stu-id="6be38-381">You can override this method in derived classes to perform additional validation.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-382"><paramref name="request" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-382"><paramref name="request" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Issuer">
      <MemberSignature Language="C#" Value="public string Issuer { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Issuer" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" />
      <MemberSignature Language="VB.NET" Value="Public Property Issuer As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Issuer { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Issuer : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-383">获取或设置标识安全标记的预期颁发者的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-383">Gets or sets a URI that identifies the intended issuer of the security token.</span></span></summary>
        <value><span data-ttu-id="6be38-384">确认安全标记服务 (STS) 的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-384">The URI that identifies the security token service (STS).</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-385">这是必需的属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-385">This is a required property.</span></span> <span data-ttu-id="6be38-386">如果启用了被动重定向，则必须设置该设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-386">It must be set if passive redirects are enabled.</span></span> <span data-ttu-id="6be38-387">它指定 WS 联合身份验证请求应颁发到的 security token service （STS）的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-387">It specifies the URL of the security token service (STS) to which WS-Federation requests should be issued.</span></span>  
  
 <span data-ttu-id="6be38-388">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-388">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-389">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-389">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-390">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-390">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-391">尝试将此属性设置为 <see langword="null" /> 或者空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-391">An attempt to set the property to <see langword="null" /> or an empty string occurs.</span></span>  
  
<span data-ttu-id="6be38-392">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-392">-or-</span></span> 
<span data-ttu-id="6be38-393">尝试设置这个属性为一个值，该值不是有效的绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-393">An attempt to set the property to a value that is not a valid, absolute URI occurs.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OnAuthenticateRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnAuthenticateRequest (object sender, EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAuthenticateRequest(object sender, class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAuthenticateRequest (sender As Object, args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAuthenticateRequest(System::Object ^ sender, EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnAuthenticateRequest : obj * EventArgs -&gt; unit&#xA;override this.OnAuthenticateRequest : obj * EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnAuthenticateRequest (sender, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender"><span data-ttu-id="6be38-394">事件的源。</span><span class="sxs-lookup"><span data-stu-id="6be38-394">The source for the event.</span></span> <span data-ttu-id="6be38-395">这将是 <see cref="T:System.Web.HttpApplication" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-395">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span></span></param>
        <param name="args"><span data-ttu-id="6be38-396">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-396">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-397">从 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 管道中处理的 <see cref="E:System.Web.HttpApplication.AuthenticateRequest" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-397">Handles the <see cref="E:System.Web.HttpApplication.AuthenticateRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-398"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> 方法实现 WS-FEDERATION 请求处理管道。</span><span class="sxs-lookup"><span data-stu-id="6be38-398">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> method implements the WS-Federation request processing pipeline.</span></span> <span data-ttu-id="6be38-399">它通过 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializeModule%2A> 方法添加到 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 管道中的 <xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-399">It is added to the <xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType> event in the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializeModule%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-400">方法执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="6be38-400">The method performs the following:</span></span>  
  
1.  <span data-ttu-id="6be38-401">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29> 方法，以确定是否已收到 WS-FEDERATION 登录响应消息（"wsignin1.0 1.0"）。</span><span class="sxs-lookup"><span data-stu-id="6be38-401">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29> method to determine whether a WS-Federation sign-in response message ("wsignin1.0") has been received.</span></span> <span data-ttu-id="6be38-402">如果响应为 WS 联合身份验证注销清理请求（"wsignoutcleanup1.0 1.0"），<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29> 处理消息，根据请求中的 WS 联合身份验证参数终止请求并重定向客户端。</span><span class="sxs-lookup"><span data-stu-id="6be38-402">If the response is a WS-Federation sign-out clean-up request ("wsignoutcleanup1.0"), <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29> processes the message, terminates the request and redirects the client according to the WS-Federation parameters in the request.</span></span> <span data-ttu-id="6be38-403">如果消息不是登录响应或注销清理请求，则该模块只返回;否则，它将执行以下步骤来处理登录响应。</span><span class="sxs-lookup"><span data-stu-id="6be38-403">If the message is not a sign-in response or a sign-out clean-up request, the module just returns; otherwise it performs the following steps to process the sign-in response.</span></span>  
  
2.  <span data-ttu-id="6be38-404">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29> 方法从请求反序列化 <xref:System.IdentityModel.Tokens.SecurityToken> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-404">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29> method to deserialize a <xref:System.IdentityModel.Tokens.SecurityToken> object from the request.</span></span>  
  
3.  <span data-ttu-id="6be38-405">引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-405">Raises the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> event.</span></span> <span data-ttu-id="6be38-406">您可以在此事件的处理程序中取消进一步处理或修改接收的安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-406">You can cancel further processing or modify the received security token in a handler for this event.</span></span> <span data-ttu-id="6be38-407">处理程序通常用于修改 <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A?displayProperty=nameWithType> 或 <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-407">A handler is typically used to modify the <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A?displayProperty=nameWithType> or <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A?displayProperty=nameWithType> properties.</span></span>  
  
4.  <span data-ttu-id="6be38-408">验证安全令牌，并基于安全令牌中的声明创建一个 <xref:System.Security.Claims.ClaimsPrincipal> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-408">Validates the security token and creates a <xref:System.Security.Claims.ClaimsPrincipal> object from the claims in the security token.</span></span>  
  
5.  <span data-ttu-id="6be38-409">引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-409">Raises the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> event.</span></span> <span data-ttu-id="6be38-410">您可以取消进一步处理或修改此事件的处理程序中的声明主体。</span><span class="sxs-lookup"><span data-stu-id="6be38-410">You can cancel further processing or modify the claims principal in a handler for this event.</span></span>  
  
6.  <span data-ttu-id="6be38-411">使用配置的会话身份验证模块（SAM）创建 <xref:System.IdentityModel.Tokens.SessionSecurityToken> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-411">Uses the configured session authentication module (SAM) to create a <xref:System.IdentityModel.Tokens.SessionSecurityToken> object.</span></span> <span data-ttu-id="6be38-412">（配置的 SAM 是 <xref:System.IdentityModel.Services.FederatedAuthentication.SessionAuthenticationModule%2A?displayProperty=nameWithType> 属性返回的 <xref:System.IdentityModel.Services.SessionAuthenticationModule> 对象。）使用步骤5中返回的声明主体创建会话令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-412">(The configured SAM is the <xref:System.IdentityModel.Services.SessionAuthenticationModule> object returned by the <xref:System.IdentityModel.Services.FederatedAuthentication.SessionAuthenticationModule%2A?displayProperty=nameWithType> property.) The session token is created by using the claims principal returned in step 5.</span></span> <span data-ttu-id="6be38-413"><xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidFrom%2A?displayProperty=nameWithType> 和 <xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidTo%2A?displayProperty=nameWithType> 属性使用步骤3中返回的 <xref:System.IdentityModel.Tokens.SecurityToken> 的 <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A> 和 <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A> 属性进行设置，并根据当前时间和由 WSFAM 使用的令牌处理程序集合中 <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.DefaultTokenLifetime%2A> 对象的 <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.TokenLifetime%2A> 属性指定的令牌生存期进行验证。<xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler></span><span class="sxs-lookup"><span data-stu-id="6be38-413">The <xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidFrom%2A?displayProperty=nameWithType> and <xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidTo%2A?displayProperty=nameWithType> properties are set by using the <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A> and <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A> properties of the <xref:System.IdentityModel.Tokens.SecurityToken> returned in step 3 and are validated against the current time and the token lifetime specified by either the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.DefaultTokenLifetime%2A> or the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.TokenLifetime%2A> property of the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> object in the token handler collection being used by WSFAM.</span></span> <span data-ttu-id="6be38-414">会话令牌处理程序的令牌生存期可通过[&lt;sessionTokenRequirement&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/sessiontokenrequirement)元素在配置中指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-414">The token lifetime on the session token handler can be specified in configuration through the [&lt;sessionTokenRequirement&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/sessiontokenrequirement) element.</span></span> <span data-ttu-id="6be38-415">注意：不使用为 SAM 配置的 cookie 处理程序上的 <xref:System.IdentityModel.Services.CookieHandler.PersistentSessionLifetime%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-415">Note: The <xref:System.IdentityModel.Services.CookieHandler.PersistentSessionLifetime%2A> property on the cookie handler configured for the SAM is not used.</span></span>  
  
7.  <span data-ttu-id="6be38-416">用会话令牌调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A> 方法，以写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-416">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A> method with the session token to write the session cookie.</span></span> <span data-ttu-id="6be38-417"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A> 方法首先引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-417">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A> method first raises the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="6be38-418">你可以更改会话令牌的属性，或更改该 cookie 是否应保留在此事件的处理程序中。</span><span class="sxs-lookup"><span data-stu-id="6be38-418">You can change properties on the session token or change whether the cookie should be persisted in a handler for this event.</span></span> <span data-ttu-id="6be38-419">引发事件后，该方法将使用 SAM 写入 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-419">After the event is raised, the method then writes the cookie using the SAM.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="6be38-420">配置中的 <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> 设置不用于写入 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-420">The <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> set in configuration is not used to write the cookie.</span></span>  
  
8.  <span data-ttu-id="6be38-421">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedIn%2A> 方法以引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-421">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedIn%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn> event.</span></span>  
  
9. <span data-ttu-id="6be38-422">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> 方法，以获取要重定向客户端的 RP 页面。</span><span class="sxs-lookup"><span data-stu-id="6be38-422">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> method to get the RP page to which to redirect the client.</span></span> <span data-ttu-id="6be38-423">默认情况下，此方法从登录响应中的 wctx 参数读取返回 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-423">By default, this method reads the return URL from the wctx parameter in the sign-in response.</span></span> <span data-ttu-id="6be38-424">有关 WSFAM 如何存储返回 URL 的详细信息，请参阅 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-424">For more information about how WSFAM stores the return URL, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnAuthorizationFailed">
      <MemberSignature Language="C#" Value="protected virtual void OnAuthorizationFailed (System.IdentityModel.Services.AuthorizationFailedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAuthorizationFailed(class System.IdentityModel.Services.AuthorizationFailedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthorizationFailed(System.IdentityModel.Services.AuthorizationFailedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAuthorizationFailed (e As AuthorizationFailedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAuthorizationFailed(System::IdentityModel::Services::AuthorizationFailedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnAuthorizationFailed : System.IdentityModel.Services.AuthorizationFailedEventArgs -&gt; unit&#xA;override this.OnAuthorizationFailed : System.IdentityModel.Services.AuthorizationFailedEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnAuthorizationFailed e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.IdentityModel.Services.AuthorizationFailedEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="6be38-425">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-425">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-426">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-426">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-427">当授权失败时，从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> 事件处理程序委托调用。</span><span class="sxs-lookup"><span data-stu-id="6be38-427">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> event-handler delegate when authorization has failed.</span></span>  
  
 <span data-ttu-id="6be38-428">如果用户已经过身份验证，则在引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed> 事件之前初始化 <xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType> 属性，以防循环重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-428">Initializes the <xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType> property before raising the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed> event to prevent circular redirects if the user has already been authenticated.</span></span> <span data-ttu-id="6be38-429">如果用户已经过身份验证，则会将属性初始化为 `false` 阻止重定向;否则，会将其初始化为 `true`。</span><span class="sxs-lookup"><span data-stu-id="6be38-429">If the user is already authenticated, the property is initialized to `false` to prevent redirects; otherwise, it is initialized to `true`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnEndRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnEndRequest (object sender, EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnEndRequest(object sender, class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnEndRequest (sender As Object, args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnEndRequest(System::Object ^ sender, EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnEndRequest : obj * EventArgs -&gt; unit&#xA;override this.OnEndRequest : obj * EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnEndRequest (sender, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender"><span data-ttu-id="6be38-430">事件的源。</span><span class="sxs-lookup"><span data-stu-id="6be38-430">The source for the event.</span></span> <span data-ttu-id="6be38-431">这将是 <see cref="T:System.Web.HttpApplication" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-431">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span></span></param>
        <param name="args"><span data-ttu-id="6be38-432">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-432">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-433">从 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 管道中处理的 <see cref="E:System.Web.HttpApplication.EndRequest" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-433">Handles the <see cref="E:System.Web.HttpApplication.EndRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-434">除非 `true`<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> 属性，否则将忽略此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-434">The event is ignored unless the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property is `true`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnPostAuthenticateRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnPostAuthenticateRequest (object sender, EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnPostAuthenticateRequest(object sender, class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnPostAuthenticateRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnPostAuthenticateRequest (sender As Object, e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnPostAuthenticateRequest(System::Object ^ sender, EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnPostAuthenticateRequest : obj * EventArgs -&gt; unit&#xA;override this.OnPostAuthenticateRequest : obj * EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnPostAuthenticateRequest (sender, e)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender"><span data-ttu-id="6be38-435">事件的源。</span><span class="sxs-lookup"><span data-stu-id="6be38-435">The source for the event.</span></span> <span data-ttu-id="6be38-436">这将是 <see cref="T:System.Web.HttpApplication" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-436">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span></span></param>
        <param name="e"><span data-ttu-id="6be38-437">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-437">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-438">从 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 管道中处理的 <see cref="E:System.Web.HttpApplication.PostAuthenticateRequest" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-438">Handles the <see cref="E:System.Web.HttpApplication.PostAuthenticateRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-439">默认情况下，这是一个空的处理程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-439">By default, this is an empty handler.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnRedirectingToIdentityProvider">
      <MemberSignature Language="C#" Value="protected virtual void OnRedirectingToIdentityProvider (System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnRedirectingToIdentityProvider(class System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider(System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnRedirectingToIdentityProvider (e As RedirectingToIdentityProviderEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnRedirectingToIdentityProvider(System::IdentityModel::Services::RedirectingToIdentityProviderEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnRedirectingToIdentityProvider : System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs -&gt; unit&#xA;override this.OnRedirectingToIdentityProvider : System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnRedirectingToIdentityProvider e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="6be38-440">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-440">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-441">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-441">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider" /> event.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSessionSecurityTokenCreated">
      <MemberSignature Language="C#" Value="protected virtual void OnSessionSecurityTokenCreated (System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSessionSecurityTokenCreated(class System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSessionSecurityTokenCreated(System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSessionSecurityTokenCreated (args As SessionSecurityTokenCreatedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSessionSecurityTokenCreated(System::IdentityModel::Services::SessionSecurityTokenCreatedEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSessionSecurityTokenCreated : System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs -&gt; unit&#xA;override this.OnSessionSecurityTokenCreated : System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSessionSecurityTokenCreated args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="6be38-442">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-442">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-443">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-443">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated" /> event.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSignedIn">
      <MemberSignature Language="C#" Value="protected virtual void OnSignedIn (EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignedIn(class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedIn(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignedIn (args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignedIn(EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignedIn : EventArgs -&gt; unit&#xA;override this.OnSignedIn : EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignedIn args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="6be38-444">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-444">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-445">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-445">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn" /> event.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSignedOut">
      <MemberSignature Language="C#" Value="protected virtual void OnSignedOut (EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignedOut(class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignedOut (args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignedOut(EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignedOut : EventArgs -&gt; unit&#xA;override this.OnSignedOut : EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignedOut args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="6be38-446">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-446">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-447">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-447">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-448">在删除会话后立即从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法调用。</span><span class="sxs-lookup"><span data-stu-id="6be38-448">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method just after the session is deleted.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="OnSignInError">
      <MemberSignature Language="C#" Value="protected virtual void OnSignInError (System.IdentityModel.Services.ErrorEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignInError(class System.IdentityModel.Services.ErrorEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignInError(System.IdentityModel.Services.ErrorEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignInError (args As ErrorEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignInError(System::IdentityModel::Services::ErrorEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignInError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit&#xA;override this.OnSignInError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignInError args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.ErrorEventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="6be38-449">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-449">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-450">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-450">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError" /> event.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSigningOut">
      <MemberSignature Language="C#" Value="protected virtual void OnSigningOut (System.IdentityModel.Services.SigningOutEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSigningOut(class System.IdentityModel.Services.SigningOutEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut(System.IdentityModel.Services.SigningOutEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSigningOut (args As SigningOutEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSigningOut(System::IdentityModel::Services::SigningOutEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSigningOut : System.IdentityModel.Services.SigningOutEventArgs -&gt; unit&#xA;override this.OnSigningOut : System.IdentityModel.Services.SigningOutEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSigningOut args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.SigningOutEventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="6be38-451">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-451">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-452">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-452">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-453">在删除会话之前，从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法调用。</span><span class="sxs-lookup"><span data-stu-id="6be38-453">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method just before the session is deleted.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="OnSignOutError">
      <MemberSignature Language="C#" Value="protected virtual void OnSignOutError (System.IdentityModel.Services.ErrorEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignOutError(class System.IdentityModel.Services.ErrorEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError(System.IdentityModel.Services.ErrorEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignOutError (args As ErrorEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignOutError(System::IdentityModel::Services::ErrorEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignOutError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit&#xA;override this.OnSignOutError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignOutError args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.ErrorEventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="6be38-454">事件的数据。</span><span class="sxs-lookup"><span data-stu-id="6be38-454">The data for the event.</span></span></param>
        <summary><span data-ttu-id="6be38-455">引发 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-455">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-456">如果在处理过程中发生异常，则从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法调用。</span><span class="sxs-lookup"><span data-stu-id="6be38-456">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method if an exception occurs during processing.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="PassiveRedirectEnabled">
      <MemberSignature Language="C#" Value="public bool PassiveRedirectEnabled { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool PassiveRedirectEnabled" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled" />
      <MemberSignature Language="VB.NET" Value="Public Property PassiveRedirectEnabled As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool PassiveRedirectEnabled { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.PassiveRedirectEnabled : bool with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-457">获取或设置指定是否启用模块以启动 WS-Federation 协议重定向的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-457">Gets or sets a value that specifies whether the module is enabled to initiate WS-Federation protocol redirects.</span></span></summary>
        <value><span data-ttu-id="6be38-458">如果启用重定向，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-458"><see langword="true" /> to enable redirects; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-459">如果未启用此模式，该模块将不会启动 WS-FEDERATION 协议重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-459">The module will not initiate WS-Federation protocol redirects when this mode is not enabled.</span></span> <span data-ttu-id="6be38-460">如果 `true`此属性，则必须将 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性设置为应将调用方重定向到的安全令牌服务（STS）的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-460">If this property is `true`, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property must be set to the URL of the Security Token Service (STS) to which the caller should be redirected.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="6be38-461">应用程序代码可以使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> 方法显式发出 WS 联合身份验证登录请求，而不考虑 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> 属性的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-461">Application code can issue WS-Federation sign-in requests explicitly by using the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method, regardless of the value of the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects" />
      </Docs>
    </Member>
    <Member MemberName="PersistentCookiesOnPassiveRedirects">
      <MemberSignature Language="C#" Value="public bool PersistentCookiesOnPassiveRedirects { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool PersistentCookiesOnPassiveRedirects" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects" />
      <MemberSignature Language="VB.NET" Value="Public Property PersistentCookiesOnPassiveRedirects As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool PersistentCookiesOnPassiveRedirects { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.PersistentCookiesOnPassiveRedirects : bool with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-462">获取或设置指定是否对成功的身份验证颁发一致的会话 Cookie 的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-462">Gets or sets a value that specifies whether a persistent session cookie is issued on successful authentication.</span></span></summary>
        <value><span data-ttu-id="6be38-463">如果发出持久性会话验证 Cookie，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-463"><see langword="true" /> to issue a persistent session cookie; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-464">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-464">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="6be38-465">当处理来自 security token service （STS）的 WS 联合身份验证登录响应消息时，将从请求处理管道引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-465">This event is raised from the request processing pipeline when processing a WS-Federation sign-in response message from a security token service (STS).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled" />
      </Docs>
    </Member>
    <Member MemberName="Policy">
      <MemberSignature Language="C#" Value="public string Policy { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Policy" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Policy" />
      <MemberSignature Language="VB.NET" Value="Public Property Policy As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Policy { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Policy : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Policy" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-466">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wp 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-466">Gets or sets the value of the wp parameter to be used in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-467">标识使用策略的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-467">A URL that identifies the policy to use.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-468">Wp 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-468">The wp parameter is optional.</span></span> <span data-ttu-id="6be38-469">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Policy%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wp 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-469">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Policy%2A> property is set to `null` or an empty string, the wp parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-470">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-470">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-471">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-471">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-472">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-472">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Realm">
      <MemberSignature Language="C#" Value="public string Realm { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Realm" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" />
      <MemberSignature Language="VB.NET" Value="Public Property Realm As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Realm { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Realm : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-473">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wtrealm 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-473">Gets or sets the value of the wtrealm parameter to be used for WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-474">标识安全标志服务 (STS)的该依赖方 (RP) 的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-474">A URI that identifies the relying party (RP) to the security token service (STS).</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-475">这是 WS 联合身份验证登录请求的必需属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-475">This is a required property for WS-Federation sign-in requests.</span></span> <span data-ttu-id="6be38-476">如果启用了被动重定向，则必须设置该设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-476">It must be set if passive redirects are enabled.</span></span> <span data-ttu-id="6be38-477">URI 将 RP 标识到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-477">The URI identifies the RP to the STS.</span></span> <span data-ttu-id="6be38-478">（若要将 STS 标识到 RP，请参阅 "<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>" 属性）。</span><span class="sxs-lookup"><span data-stu-id="6be38-478">(For identifying the STS to the RP, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property).</span></span>  
  
 <span data-ttu-id="6be38-479">此属性的值将被序列化为 WS 联合身份验证协议中的 wtrealm 查询字符串参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-479">The value of this property is serialized as the wtrealm query string parameter in WS-Federation protocol.</span></span> <span data-ttu-id="6be38-480">它将 RP 标识到 STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-480">It identifies the RP to the STS.</span></span> <span data-ttu-id="6be38-481">STS 使用它来确定要为令牌颁发应用的策略，以及在令牌颁发后要将用户重定向到的位置。</span><span class="sxs-lookup"><span data-stu-id="6be38-481">It is used by the STS to decide what policy to apply for token issuance and where to redirect the user to after token issuance.</span></span> <span data-ttu-id="6be38-482">（若要识别 RP 的 STS，请参阅 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>。）</span><span class="sxs-lookup"><span data-stu-id="6be38-482">(For identifying the STS to the RP, see <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>.)</span></span>  
  
 <span data-ttu-id="6be38-483">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-483">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-484">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-484">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-485">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-485">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-486">尝试将此属性设置为 <see langword="null" /> 或者空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-486">An attempt to set the property to <see langword="null" /> or an empty string occurs.</span></span>  
  
<span data-ttu-id="6be38-487">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-487">-or-</span></span> 
<span data-ttu-id="6be38-488">尝试设置这个属性为一个值，该值不是有效的绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-488">An attempt to set the property to a value that is not a valid, absolute URI occurs.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="RedirectingToIdentityProvider">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; RedirectingToIdentityProvider;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; RedirectingToIdentityProvider" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event RedirectingToIdentityProvider As EventHandler(Of RedirectingToIdentityProviderEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::RedirectingToIdentityProviderEventArgs ^&gt; ^ RedirectingToIdentityProvider;" />
      <MemberSignature Language="F#" Value="member this.RedirectingToIdentityProvider : EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; " Usage="member this.RedirectingToIdentityProvider : System.EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event RedirectingToIdentityProvider As EventHandler(Of RedirectingToIdentityProviderEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-489">当模块即将重定向用户标识提供程序时发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-489">Occurs when the module is going to redirect the user to the identity provider.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-490">可以通过 <xref:System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs.SignInRequestMessage%2A?displayProperty=nameWithType> 属性访问和修改 WS-FEDERATION 登录请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-490">You can access and modify the WS-Federation sign-in request through the <xref:System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs.SignInRequestMessage%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="6be38-491">例如，你可以修改登录消息中的 <xref:System.IdentityModel.Services.FederationMessage.BaseUri%2A> 属性，以更改将请求重定向到的标识提供者。</span><span class="sxs-lookup"><span data-stu-id="6be38-491">For example, you can modify the <xref:System.IdentityModel.Services.FederationMessage.BaseUri%2A> property in the sign-in message to change the identity provider to which the request will be redirected.</span></span> <span data-ttu-id="6be38-492"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件是一个可取消的事件，你可以将 <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> 属性设置为 `true` 取消重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-492">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event is a cancelable event and you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true` to cancel the redirect.</span></span>  
  
 <span data-ttu-id="6be38-493">事件是通过调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A> 方法从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> 方法内部引发的。</span><span class="sxs-lookup"><span data-stu-id="6be38-493">The event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-494">若要在 ASP.NET 应用程序中处理此事件，请在 global.asax 文件中创建一个名为 `WSFederationAuthentication_RedirectingToIdentityProvider` 的方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-494">To handle this event in an ASP.NET application, create a method called `WSFederationAuthentication_RedirectingToIdentityProvider` in the global.asax file.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="6be38-495">下面的代码演示如何在 global.asax 文件中的 `Application_Init` 事件中为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-495">The following code shows how to add a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event in the `Application_Init` event in the global.asax file.</span></span> <span data-ttu-id="6be38-496">此代码取自 `FederationForWebApps` 示例。</span><span class="sxs-lookup"><span data-stu-id="6be38-496">The code is taken from the `FederationForWebApps` sample.</span></span> <span data-ttu-id="6be38-497">有关此示例的详细信息，请参阅[WIF 代码示例索引](/dotnet/framework/security/wif-code-sample-)。</span><span class="sxs-lookup"><span data-stu-id="6be38-497">For more information about this sample, see [WIF Code Sample Index](/dotnet/framework/security/wif-code-sample-).</span></span>  
  
  
  
 <span data-ttu-id="6be38-498">下面的代码演示 RP 的 global.asa 文件中的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件的处理程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-498">The following code shows the handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event in the in the global.asax file of an RP.</span></span> <span data-ttu-id="6be38-499">该代码将检查传入的 HTTP 请求是否包含一个 $ 零参数，如果它存在，则将此参数设置为要发送到 STS 的 WS 联合身份验证登录请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-499">The code checks to see whether the incoming HTTP request contains a whr parameter, and, if it does, it sets this parameter on the WS-Federation sign-in request that will be sent to the STS.</span></span> <span data-ttu-id="6be38-500">此代码取自 `FederationForWebApps` 示例。</span><span class="sxs-lookup"><span data-stu-id="6be38-500">The code is taken from the `FederationForWebApps` sample.</span></span> <span data-ttu-id="6be38-501">有关此示例的详细信息，请参阅[WIF 代码示例索引](/dotnet/framework/security/wif-code-sample-)。</span><span class="sxs-lookup"><span data-stu-id="6be38-501">For more information about this sample, see [WIF Code Sample Index](/dotnet/framework/security/wif-code-sample-).</span></span>  
  
  
  
 <span data-ttu-id="6be38-502">下面的代码演示联合身份验证提供程序 STS 的 global.asax 文件中的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件的处理程序。</span><span class="sxs-lookup"><span data-stu-id="6be38-502">The following code shows the handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event in the in the global.asax file of a federation provider STS.</span></span> <span data-ttu-id="6be38-503">代码会检查传入的 HTTP 请求是否包含一个里瓦的参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-503">The code checks to see whether the incoming HTTP request contains a whr parameter.</span></span> <span data-ttu-id="6be38-504">如果请求包含瓦时参数，则会将客户端定向到用于登录的 IP-STS;如果不是，则会将客户端定向到 "主领域发现" 页，以选择要登录的 IP-STS。</span><span class="sxs-lookup"><span data-stu-id="6be38-504">If the request contains the whr parameter, the client is directed to the IP-STS for sign-in; if not, the client is directed to a home realm discovery page to select the IP-STS at which to sign in.</span></span> <span data-ttu-id="6be38-505">此代码取自 `FederationForWebApps` 示例。</span><span class="sxs-lookup"><span data-stu-id="6be38-505">The code is taken from the `FederationForWebApps` sample.</span></span> <span data-ttu-id="6be38-506">有关此示例的详细信息，请参阅[WIF 代码示例索引](/dotnet/framework/security/wif-code-sample-)。</span><span class="sxs-lookup"><span data-stu-id="6be38-506">For more information about this sample, see [WIF Code Sample Index](/dotnet/framework/security/wif-code-sample-).</span></span>  
  
  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RedirectToIdentityProvider">
      <MemberSignature Language="C#" Value="public virtual void RedirectToIdentityProvider (string uniqueId, string returnUrl, bool persist);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void RedirectToIdentityProvider(string uniqueId, string returnUrl, bool persist) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider(System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub RedirectToIdentityProvider (uniqueId As String, returnUrl As String, persist As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void RedirectToIdentityProvider(System::String ^ uniqueId, System::String ^ returnUrl, bool persist);" />
      <MemberSignature Language="F#" Value="abstract member RedirectToIdentityProvider : string * string * bool -&gt; unit&#xA;override this.RedirectToIdentityProvider : string * string * bool -&gt; unit" Usage="wSFederationAuthenticationModule.RedirectToIdentityProvider (uniqueId, returnUrl, persist)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="uniqueId" Type="System.String" />
        <Parameter Name="returnUrl" Type="System.String" />
        <Parameter Name="persist" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="uniqueId"><span data-ttu-id="6be38-507">WSFAM 保存请求中的 WS-Federation 标志 wctx 参数值; 但是，该模块在处理签入请求或sign-in反应时不使用它。</span><span class="sxs-lookup"><span data-stu-id="6be38-507">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span></span> <span data-ttu-id="6be38-508">您可以将其设置为任何值。</span><span class="sxs-lookup"><span data-stu-id="6be38-508">You can set it to any value.</span></span> <span data-ttu-id="6be38-509">不必是唯一的。</span><span class="sxs-lookup"><span data-stu-id="6be38-509">It does not have to be unique.</span></span> <span data-ttu-id="6be38-510">有关更多信息，请参见 <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-510">For more information, see the <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> method.</span></span></param>
        <param name="returnUrl"><span data-ttu-id="6be38-511">模块应返回在身份验证的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-511">The URL to which the module should return upon authentication.</span></span></param>
        <param name="persist"><span data-ttu-id="6be38-512">WSFAM 保存请求中的 WS-Federation 标志 wctx 参数值; 但是，该模块在处理签入请求或sign-in反应时不使用它。</span><span class="sxs-lookup"><span data-stu-id="6be38-512">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span></span> <span data-ttu-id="6be38-513">可以设置该 <see langword="true" /> 或 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-513">You can set it either <see langword="true" /> or <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="6be38-514">将用户重定向至 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 属性指定的安全服务标记 (STS)，以使用 WS-Federation 协议获取安全标记。</span><span class="sxs-lookup"><span data-stu-id="6be38-514">Redirects the user to the security token service (STS) specified by the <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> property to obtain a security token using the WS-Federation protocol.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-515">从依赖方（RP）提供的网页或从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> 事件处理程序委托发出请求时，从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> 方法调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> 方法，以便在授权失败时对标识提供者执行被动重定向。</span><span class="sxs-lookup"><span data-stu-id="6be38-515">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method when the request is issued from a web page presented by the relying party (RP) or from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> event-handler delegate to perform a passive redirect to the identity provider on authorization failure.</span></span>  
  
 <span data-ttu-id="6be38-516">传递给方法的参数用于创建 wctx 消息参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-516">The parameters passed to the method are used to create the wctx message parameter.</span></span> <span data-ttu-id="6be38-517">唯一的重要参数是 `returnUrl` 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-517">The only significant parameter is the `returnUrl` parameter.</span></span> <span data-ttu-id="6be38-518">这将指定 RP 应将浏览器定向到身份验证成功后的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-518">This specifies the URL that the RP should direct the browser to following successful authentication.</span></span> <span data-ttu-id="6be38-519">不应将它与 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> 属性指定的 wreply 消息参数混淆，后者提供了 security token service （STS）应将其响应定向到的 RP 上的地址。</span><span class="sxs-lookup"><span data-stu-id="6be38-519">It should not be confused with the wreply message parameter, which is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> property and which provides the address at the RP to which the security token service (STS) should direct its response.</span></span>  
  
 <span data-ttu-id="6be38-520">方法执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="6be38-520">The method performs the following:</span></span>  
  
1.  <span data-ttu-id="6be38-521">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.VerifyProperties%2A> 方法，以确保可以由模块颁发有效的登录请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-521">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.VerifyProperties%2A> method to ensure that a valid sign-in request can be issued by the module.</span></span>  
  
2.  <span data-ttu-id="6be38-522">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 方法，以便从模块上配置的属性创建登录请求。</span><span class="sxs-lookup"><span data-stu-id="6be38-522">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method to create the sign-in request from the properties configured on the module.</span></span>  
  
3.  <span data-ttu-id="6be38-523">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A> 方法以引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-523">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-524">您可以在此事件的事件处理程序中取消重定向或修改登录请求消息。</span><span class="sxs-lookup"><span data-stu-id="6be38-524">You can cancel the redirect or modify the sign-in request message in the event handler for this event.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="6be38-525"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 为 <see langword="null" /> 或空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-525"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> is <see langword="null" /> or an empty string.</span></span>  
  
<span data-ttu-id="6be38-526">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-526">-or-</span></span> 
 <span data-ttu-id="6be38-527"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 为 <see langword="null" /> 或空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-527"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> is <see langword="null" /> or an empty string.</span></span>  
  
<span data-ttu-id="6be38-528">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-528">-or-</span></span> 
<span data-ttu-id="6be38-529"><see cref="P:System.Web.HttpContext.Current" /> 属性为 <see langword="null" /> 或为空。</span><span class="sxs-lookup"><span data-stu-id="6be38-529">The <see cref="P:System.Web.HttpContext.Current" /> property is <see langword="null" /> or empty.</span></span>  
  
<span data-ttu-id="6be38-530">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-530">-or-</span></span> 
<span data-ttu-id="6be38-531">由 <see cref="P:System.Web.HttpContext.Response" />返回的上下文的 <see cref="P:System.Web.HttpContext.Current" /> 属性为 <see langword="null" /> 或空。</span><span class="sxs-lookup"><span data-stu-id="6be38-531">The <see cref="P:System.Web.HttpContext.Response" /> property of the context returned by <see cref="P:System.Web.HttpContext.Current" /> is <see langword="null" /> or empty.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Reply">
      <MemberSignature Language="C#" Value="public string Reply { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Reply" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply" />
      <MemberSignature Language="VB.NET" Value="Public Property Reply As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Reply { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Reply : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Reply" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-532">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wreply 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-532">Gets or sets the value of the wreply parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-533">标识依赖方 (RP) 应用程序的地址的 URL 要接受来自安全标志服务 (STS) 的回复。</span><span class="sxs-lookup"><span data-stu-id="6be38-533">A URL that identifies the address at which the relying party (RP) application would like to receive replies from the Security Token Service (STS).</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-534">Wreply 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-534">The wreply parameter is optional.</span></span> <span data-ttu-id="6be38-535">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wreply 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-535">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> property is set to `null` or an empty string, the wreply parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-536">STS 使用 wreply 参数来决定在令牌颁发后将用户重定向到的位置。</span><span class="sxs-lookup"><span data-stu-id="6be38-536">The wreply parameter is used by the STS to decide where to redirect the user to after token issuance.</span></span> <span data-ttu-id="6be38-537">不建议 STS 使用此地址重定向用户，因为这种重定向会出现安全漏洞。</span><span class="sxs-lookup"><span data-stu-id="6be38-537">It is not advisable for the STS to blindly use this address to redirect the user as such redirection has security vulnerabilities.</span></span> <span data-ttu-id="6be38-538">回复地址必须由 STS 验证（可能通过比较一组预配置的答复地址用于此目的或其他方法），以确保将答复发送到理解良好的已知和安全位置。</span><span class="sxs-lookup"><span data-stu-id="6be38-538">The reply address must be validated by the STS (possibly by comparing to a set of preconfigured reply addresses for the purposes or some other method) to make sure that the reply is being sent to understood well known and secure location.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-539">尝试设置这个属性为一个值，该值不是有效的绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-539">An attempt to set the property to a value that is not a valid, absolute URI occurs.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Request">
      <MemberSignature Language="C#" Value="public string Request { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Request" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Request" />
      <MemberSignature Language="VB.NET" Value="Public Property Request As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Request { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Request : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Request" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-540">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wreq 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-540">Gets or sets the value of the wreq parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-541">令牌颁发请求以 <see langword="&lt;wst:RequestSecurityToken&gt;" /> 元素表示。</span><span class="sxs-lookup"><span data-stu-id="6be38-541">The token issuance request expressed as a <see langword="&lt;wst:RequestSecurityToken&gt;" /> element.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-542">Wreq 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-542">The wreq parameter is optional.</span></span> <span data-ttu-id="6be38-543">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Request%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wreq 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-543">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Request%2A> property is set to `null` or an empty string, the wreq parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-544">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-544">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-545">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-545">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-546">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-546">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RequestPtr">
      <MemberSignature Language="C#" Value="public string RequestPtr { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string RequestPtr" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr" />
      <MemberSignature Language="VB.NET" Value="Public Property RequestPtr As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ RequestPtr { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.RequestPtr : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-547">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wreqptr 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-547">Gets or sets the value of the wreqptr parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-548">一个指定令牌颁发请求位置的 URI，表示为一个 <see langword="&lt;wst:RequestSecurityToken&gt;" /> 元素。</span><span class="sxs-lookup"><span data-stu-id="6be38-548">A URL that specifies the location of the token issuance request expressed as a <see langword="&lt;wst:RequestSecurityToken&gt;" /> element</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-549">Wreqptr 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-549">The wreqptr parameter is optional.</span></span> <span data-ttu-id="6be38-550">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wreq 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-550">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr%2A> property is set to `null` or an empty string, the wreq parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-551">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-551">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-552">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-552">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-553">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-553">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-554">尝试设置这个属性为一个值，该值不是有效的绝对 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-554">An attempt to set the property to a value that is not a valid, absolute URI occurs.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="RequireHttps">
      <MemberSignature Language="C#" Value="public bool RequireHttps { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool RequireHttps" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" />
      <MemberSignature Language="VB.NET" Value="Public Property RequireHttps As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool RequireHttps { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.RequireHttps : bool with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-555">获取或设置指定与安全令牌服务 (STS) 的通信是否必须使用 HTTPS 协议的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-555">Gets or sets a value that specifies whether communication with the security token service (STS) must use HTTPS protocol.</span></span></summary>
        <value><span data-ttu-id="6be38-556">如果必须使用 HTTP 对具有 STS 的通信进行保护，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-556"><see langword="true" /> if communication with the STS must be secured using HTTPS; otherwise, <see langword="false" />.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Resource">
      <MemberSignature Language="C#" Value="public string Resource { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Resource" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Resource" />
      <MemberSignature Language="VB.NET" Value="Public Property Resource As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Resource { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Resource : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Resource" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-557">获取或设置 WS 联合身份验证登录请求（“wsignin1.0”）中使用的 wres 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-557">Gets or sets the value of the wres parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-558">标识访问的资源、依赖方 (RP)和对安全标志服务 (STS) 的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-558">A URI that identifies the resource being accessed, the relying party (RP), to the to the security token service (STS).</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-559">应使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A> 属性设置的 wtrealm 参数，而不是此参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-559">The wtrealm parameter, which is set by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A> property, should be used instead of this parameter.</span></span>  
  
 <span data-ttu-id="6be38-560">Wres 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-560">The wres parameter is optional.</span></span> <span data-ttu-id="6be38-561">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Resource%2A> 属性设置为 `null` 或空字符串，则登录请求中不包含 wres 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-561">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Resource%2A> property is set to `null` or an empty string, the wres parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="6be38-562">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-562">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-563">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-563">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-564">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-564">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenReceived">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; SecurityTokenReceived;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; SecurityTokenReceived" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SecurityTokenReceived As EventHandler(Of SecurityTokenReceivedEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SecurityTokenReceivedEventArgs ^&gt; ^ SecurityTokenReceived;" />
      <MemberSignature Language="F#" Value="member this.SecurityTokenReceived : EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; " Usage="member this.SecurityTokenReceived : System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event SecurityTokenReceived As EventHandler(Of SecurityTokenReceivedEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-565">当安全标记已从安全标记服务 (STS) 获得时发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-565">Occurs when a security token has been received from a security token service (STS).</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-566">你可以添加一个事件处理程序，以便在验证令牌之前修改该令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-566">You can add an event handler to modify the token before it is validated.</span></span> <span data-ttu-id="6be38-567">在事件处理程序中，可以通过 <xref:System.IdentityModel.Services.SecurityTokenReceivedEventArgs.SecurityToken%2A?displayProperty=nameWithType> 属性访问安全令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-567">In the event handler you can access the security token through the <xref:System.IdentityModel.Services.SecurityTokenReceivedEventArgs.SecurityToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="6be38-568"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> 事件是一个可取消的事件，你可以将 <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> 属性设置为事件处理程序中的 `true`，以终止对 WS 联合身份验证登录响应消息的处理。</span><span class="sxs-lookup"><span data-stu-id="6be38-568">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> event is a cancelable event, you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true` in an event handler to terminate processing of the WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="6be38-569">当处理从 security token service （STS）收到的 WS 联合身份验证登录响应消息（"wsignin1.0 1.0"）时，将从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> 事件处理程序委托内部引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-569">This event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate when processing a WS-Federation sign-in response message ("wsignin1.0") received from the security token service (STS).</span></span> <span data-ttu-id="6be38-570">这是在从 wresult 反序列化安全令牌后，或在登录响应消息中的 wresultptr 参数之后、但在验证安全令牌之前引发的。</span><span class="sxs-lookup"><span data-stu-id="6be38-570">It is raised just after a security token has been deserialized from the wresult or the wresultptr parameter in the sign-in response message, but before the security token is validated.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#6](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#6)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.IdentityModel.Services.SecurityTokenReceivedEventArgs" />
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenValidated">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; SecurityTokenValidated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; SecurityTokenValidated" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SecurityTokenValidated As EventHandler(Of SecurityTokenValidatedEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SecurityTokenValidatedEventArgs ^&gt; ^ SecurityTokenValidated;" />
      <MemberSignature Language="F#" Value="member this.SecurityTokenValidated : EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; " Usage="member this.SecurityTokenValidated : System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event SecurityTokenValidated As EventHandler(Of SecurityTokenValidatedEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-571">但是在会话安全标记已创建之前,安全标记服务 (STS) 已被验证的安全标记后发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-571">Occurs after a security token that was received from the security token service (STS) has been validated but before the session security token is created.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-572">可以添加一个事件处理程序，以便在处理 ws-federation 登录响应消息时，从 security token service （STS）处理 ws-federation 登录响应消息，然后将其用于创建会话令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-572">You can add an event handler to modify the principal created while processing a WS-Federation sign-in response message from a security token service (STS) before it is used to create the session token.</span></span> <span data-ttu-id="6be38-573">在事件处理程序中，可以通过 <xref:System.IdentityModel.Services.SecurityTokenValidatedEventArgs.ClaimsPrincipal%2A> 属性访问主体。</span><span class="sxs-lookup"><span data-stu-id="6be38-573">In the event handler, you can access the principal through the <xref:System.IdentityModel.Services.SecurityTokenValidatedEventArgs.ClaimsPrincipal%2A> property.</span></span> <span data-ttu-id="6be38-574"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> 事件是一个可取消的事件，你可以将 <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> 属性设置为事件处理程序中的 `true`，以终止对 WS 联合身份验证登录响应消息的处理。</span><span class="sxs-lookup"><span data-stu-id="6be38-574">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> event is a cancelable event, you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true` in an event handler to terminate processing of the WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="6be38-575">当处理从 security token service （STS）收到的 WS 联合身份验证登录响应消息（"wsignin1.0 1.0"）时，将从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> 事件处理程序委托内部引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-575">This event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate when processing a WS-Federation sign-in response message ("wsignin1.0") received from the security token service (STS).</span></span> <span data-ttu-id="6be38-576">仅在从 wresult 反序列化的安全令牌或登录响应消息中的 wresultptr 参数已经过验证，并且在创建会话安全令牌之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-576">It is raised just after the security token that was deserialized from the wresult or the wresultptr parameter in the sign-in response message has been validated, and before the session security token is created.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#5](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#5)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SessionSecurityTokenCreated">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; SessionSecurityTokenCreated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; SessionSecurityTokenCreated" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SessionSecurityTokenCreated As EventHandler(Of SessionSecurityTokenCreatedEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SessionSecurityTokenCreatedEventArgs ^&gt; ^ SessionSecurityTokenCreated;" />
      <MemberSignature Language="F#" Value="member this.SessionSecurityTokenCreated : EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; " Usage="member this.SessionSecurityTokenCreated : System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event SessionSecurityTokenCreated As EventHandler(Of SessionSecurityTokenCreatedEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-577">当会话安全标记已从安全标记服务标记 (STS) 创建时发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-577">Occurs when a session security token has been created from the security token received from a security token service (STS).</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-578">你可以添加一个事件处理程序来修改会话令牌，然后将其用于设置线程主体并将其写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-578">You can add an event handler to modify the session token before it is used to set the thread principal and is written to the session cookie.</span></span> <span data-ttu-id="6be38-579">在事件处理程序中，可以通过 <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> 属性访问会话令牌。</span><span class="sxs-lookup"><span data-stu-id="6be38-579">In the event handler, you can access the session token through the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="6be38-580">可以通过设置 <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType> 属性来指定是否应写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-580">You can specify whether a session cookie should be written by setting the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="6be38-581">当处理从 security token service （STS）收到的 WS 联合身份验证登录响应消息（"wsignin1.0 1.0"）时，将从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> 事件处理程序委托内部引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-581">This event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate when processing a WS-Federation sign-in response message ("wsignin1.0") received from the security token service (STS).</span></span> <span data-ttu-id="6be38-582">仅在验证了从 wresult 反序列化的安全令牌或登录响应消息中的 wresultptr 参数之后、在 <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 上设置了声明主体（以及 <xref:System.Web.HttpContext.Current%2A?displayProperty=nameWithType>的 <xref:System.Web.HttpContext.User%2A> 属性）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-582">It is raised just after the security token that was deserialized from the wresult or the wresultptr parameter in the sign-in response message has been validated, and before the claims principal is set on the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> (and on the <xref:System.Web.HttpContext.User%2A> property of <xref:System.Web.HttpContext.Current%2A?displayProperty=nameWithType>).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="6be38-583">若要在引用模式下操作会话，Microsoft 建议为 global.asax.cs 文件中的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated?displayProperty=nameWithType> 事件提供处理程序，并在 <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> 属性中传递的令牌上设置 <xref:System.IdentityModel.Tokens.SessionSecurityToken.IsReferenceMode%2A?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-583">To operate sessions in reference mode, Microsoft recommends providing a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated?displayProperty=nameWithType> event in the global.asax.cs file and setting the <xref:System.IdentityModel.Tokens.SessionSecurityToken.IsReferenceMode%2A?displayProperty=nameWithType> property on the token passed in the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="6be38-584">这将确保会话令牌在每个请求的引用模式下运行，并且优于仅设置会话身份验证模块上的 <xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-584">This will ensure that the session token operates in reference mode for every request and is favored over merely setting the <xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A?displayProperty=nameWithType> property on the Session Authentication Module.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#4)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SetPrincipalAndWriteSessionToken">
      <MemberSignature Language="C#" Value="public void SetPrincipalAndWriteSessionToken (System.IdentityModel.Tokens.SessionSecurityToken sessionToken, bool isSession);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void SetPrincipalAndWriteSessionToken(class System.IdentityModel.Tokens.SessionSecurityToken sessionToken, bool isSession) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken(System.IdentityModel.Tokens.SessionSecurityToken,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub SetPrincipalAndWriteSessionToken (sessionToken As SessionSecurityToken, isSession As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SetPrincipalAndWriteSessionToken(System::IdentityModel::Tokens::SessionSecurityToken ^ sessionToken, bool isSession);" />
      <MemberSignature Language="F#" Value="member this.SetPrincipalAndWriteSessionToken : System.IdentityModel.Tokens.SessionSecurityToken * bool -&gt; unit" Usage="wSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken (sessionToken, isSession)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" />
        <Parameter Name="isSession" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="sessionToken"><span data-ttu-id="6be38-585">从 STS 的 WS-Federation 登录响应消息生成的会话安全标识。</span><span class="sxs-lookup"><span data-stu-id="6be38-585">The session security token that was created from the WS-Federation sign-in response message from the STS.</span></span></param>
        <param name="isSession"><span data-ttu-id="6be38-586">编写表示会话的包含该响应 cookie，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-586"><see langword="true" /> to write a cookie that represents the session included with the response; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="6be38-587">设置线程用户和选择写入会话 Cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-587">Sets the thread principal and optionally writes the session cookie.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-588">从在 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> 事件处理程序委托中实现的请求处理管道中调用。</span><span class="sxs-lookup"><span data-stu-id="6be38-588">Called from the request processing pipeline implemented in the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate.</span></span> <span data-ttu-id="6be38-589">此方法执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="6be38-589">This method does the following:</span></span>  
  
1.  <span data-ttu-id="6be38-590">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSessionSecurityTokenCreated%2A> 方法以引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-590">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSessionSecurityTokenCreated%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="6be38-591">你可以使用此事件来修改会话令牌，然后将其用于设置线程主体并写入会话 cookie，并指定是否应写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-591">You can use this event to modify the session token before it is used to set the thread principal and written to the session cookie and to specify whether the session cookie should be written.</span></span>  
  
2.  <span data-ttu-id="6be38-592">在配置的会话身份验证模块（<xref:System.IdentityModel.Services.SessionAuthenticationModule>）上调用 <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> 方法来设置线程主体，还可以选择写入会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-592">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> method on the configured session authentication module (<xref:System.IdentityModel.Services.SessionAuthenticationModule>) to set the thread principal and optionally write the session cookie.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-593"><paramref name="sessionToken" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-593"><paramref name="sessionToken" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      </Docs>
    </Member>
    <Member MemberName="SignedIn">
      <MemberSignature Language="C#" Value="public event EventHandler SignedIn;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler SignedIn" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SignedIn As EventHandler " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ SignedIn;" />
      <MemberSignature Language="F#" Value="member this.SignedIn : EventHandler " Usage="member this.SignedIn : System.EventHandler " />
      <MemberSignature Language="VB.NET" Value="Public Event SignedIn As EventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-594">在用于登录之后发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-594">Occurs after the user is signed in.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-595">如果请求发布到登录页，则页面上的控件将引发此事件，而不是此模块。</span><span class="sxs-lookup"><span data-stu-id="6be38-595">If the request is posted to the login page, a control on the page will raise this event, not this module.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#3)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignedOut">
      <MemberSignature Language="C#" Value="public event EventHandler SignedOut;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler SignedOut" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SignedOut As EventHandler " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ SignedOut;" />
      <MemberSignature Language="F#" Value="member this.SignedOut : EventHandler " Usage="member this.SignedOut : System.EventHandler " />
      <MemberSignature Language="VB.NET" Value="Public Event SignedOut As EventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-596">只在注销期间删除会话后发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-596">Occurs just after deleting the session during sign-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-597">从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法内部调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A> 方法，同时从信赖方（RP）注销会话时，将引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-597">This event is raised through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A> method from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method while signing out of the session at the relying party (RP).</span></span> <span data-ttu-id="6be38-598">通过 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法执行联合注销时不引发该事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-598">The event is not raised when doing federated sign-out through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-599">你可以添加一个事件处理程序，以在删除会话 cookie 后执行应用程序所需的任何其他处理。</span><span class="sxs-lookup"><span data-stu-id="6be38-599">You can add an event handler to perform any additional processing that is needed by your application after the session cookie has been deleted.</span></span>  
  
 <span data-ttu-id="6be38-600">不保证每个会话都要调用此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-600">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="6be38-601">例如，可能会在客户端删除 cookie，因此永远不会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-601">Cookies may be deleted at the client side, for example, so this event would never be raised.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignIn">
      <MemberSignature Language="C#" Value="public virtual void SignIn (string ControlId);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignIn(string ControlId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignIn (ControlId As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignIn(System::String ^ ControlId);" />
      <MemberSignature Language="F#" Value="abstract member SignIn : string -&gt; unit&#xA;override this.SignIn : string -&gt; unit" Usage="wSFederationAuthenticationModule.SignIn ControlId" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="ControlId" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="ControlId"><span data-ttu-id="6be38-602">WSFAM 保存请求中的 WS-Federation 标志 wctx 参数值; 但是，该模块在处理签入请求或sign-in反应时不使用它。</span><span class="sxs-lookup"><span data-stu-id="6be38-602">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span></span> <span data-ttu-id="6be38-603">您可以将其设置为任何值。</span><span class="sxs-lookup"><span data-stu-id="6be38-603">You can set it to any value.</span></span> <span data-ttu-id="6be38-604">不必是唯一的。</span><span class="sxs-lookup"><span data-stu-id="6be38-604">It does not have to be unique.</span></span> <span data-ttu-id="6be38-605">有关更多信息，请参见 <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-605">For more information, see the <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> method.</span></span></param>
        <summary><span data-ttu-id="6be38-606">通过 WS-Federation 协议执行登录到安全标记服务 (STS) 的操作。</span><span class="sxs-lookup"><span data-stu-id="6be38-606">Performs sign-in to a security token service (STS) through the WS-Federation protocol.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-607">默认实现调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> 方法来执行登录。</span><span class="sxs-lookup"><span data-stu-id="6be38-607">The default implementation invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method to perform the sign-in.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignInContext">
      <MemberSignature Language="C#" Value="public string SignInContext { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignInContext" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext" />
      <MemberSignature Language="VB.NET" Value="Public Property SignInContext As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignInContext { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignInContext : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-608">获取或设置应用程序的特定上下文值，该值包含在 WS 联合身份验证登录请求的 wctx 参数中。</span><span class="sxs-lookup"><span data-stu-id="6be38-608">Gets or sets an application specific context value to be included in the wctx parameter in WS-Federation sign-in requests.</span></span></summary>
        <value><span data-ttu-id="6be38-609">登录请求中的 wctx 参数，要包含应用程序的特定上下文值。</span><span class="sxs-lookup"><span data-stu-id="6be38-609">The application specific context value to be included in the wctx parameter for sign-in requests.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-610">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 方法时，所生成的登录消息将包含具有以下格式的 wctx 参数： `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`。</span><span class="sxs-lookup"><span data-stu-id="6be38-610">When the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method is invoked, the sign-in message that is generated contains a wctx parameter that has the following format: `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`.</span></span> <span data-ttu-id="6be38-611"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> 的值存储在 `cx` 参数中。</span><span class="sxs-lookup"><span data-stu-id="6be38-611">The value of the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> is stored in the `cx` parameter.</span></span> <span data-ttu-id="6be38-612">可以直接从代码调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>。</span><span class="sxs-lookup"><span data-stu-id="6be38-612"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> can be called directly from your code.</span></span> <span data-ttu-id="6be38-613">它还会在 WSFAM 执行被动重定向时调用，同时也会在应用程序代码调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> 方法或 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> 方法时进行调用。</span><span class="sxs-lookup"><span data-stu-id="6be38-613">It is also called when the WSFAM is performing passive redirects and also when either the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method or the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method is invoked by application code.</span></span>  
  
 <span data-ttu-id="6be38-614">尽管 WSFAM 将 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> 值保存在登录请求消息中，但如果你的应用程序在响应处理期间使用该值，则必须提供从登录响应消息中的 wctx 参数提取的逻辑。</span><span class="sxs-lookup"><span data-stu-id="6be38-614">Although the WSFAM saves the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> value in sign-in request messages, if the value is used by your application during response processing, you must provide the logic for extracting it from the wctx parameter in the sign-in response message.</span></span>  
  
 <span data-ttu-id="6be38-615">有关 wctx 参数的格式和处理的详细信息，请参阅 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-615">For more information about the format and processing of the wctx parameter, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="SignInError">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; SignInError;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.ErrorEventArgs&gt; SignInError" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SignInError As EventHandler(Of ErrorEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::ErrorEventArgs ^&gt; ^ SignInError;" />
      <MemberSignature Language="F#" Value="member this.SignInError : EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " Usage="member this.SignInError : System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event SignInError As EventHandler(Of ErrorEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-616">当登录过程中出现错误时引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-616">Raised when an error during sign-in occurs.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-617">如果请求发布到登录页，则页面上的控件将引发此事件，而不是此模块。</span><span class="sxs-lookup"><span data-stu-id="6be38-617">If the request is posted to the login page, a control on the page will raise this event, not this module.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SigningOut">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; SigningOut;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SigningOutEventArgs&gt; SigningOut" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SigningOut As EventHandler(Of SigningOutEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SigningOutEventArgs ^&gt; ^ SigningOut;" />
      <MemberSignature Language="F#" Value="member this.SigningOut : EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; " Usage="member this.SigningOut : System.EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event SigningOut As EventHandler(Of SigningOutEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-618">在注销期间删除会话前发生。</span><span class="sxs-lookup"><span data-stu-id="6be38-618">Occurs before deleting the session during sign-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-619">从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法内部调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A> 方法，同时从信赖方（RP）注销会话时，将引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-619">This event is raised through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A> method from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method while signing out of the session at the relying party (RP).</span></span> <span data-ttu-id="6be38-620">通过 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法执行联合注销时不引发该事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-620">The event is not raised when doing federated sign-out through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-621">您可以添加一个事件处理程序，以执行您的应用程序在删除会话 cookie 之前所需的任何其他处理。</span><span class="sxs-lookup"><span data-stu-id="6be38-621">You can add an event handler to perform any additional processing that is needed by your application before the session cookie is deleted.</span></span> <span data-ttu-id="6be38-622">您可以在事件处理程序中读取 <xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated*> 属性，以确定注销是否是从 security token service （STS）接收 WS 联合身份验证注销清除请求消息（"wsignoutcleanup1.0 1.0"）的结果，或者是否是在 RP 中启动的。</span><span class="sxs-lookup"><span data-stu-id="6be38-622">You can read the <xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated*> property in the event handler to determine whether the sign-out is the result of receiving a WS-Federation sign-out clean-up request message ("wsignoutcleanup1.0") from a security token service (STS) or whether it was initiated at the RP.</span></span>  
  
 <span data-ttu-id="6be38-623">不保证每个会话都要调用此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-623">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="6be38-624">例如，可能会在客户端删除 cookie，因此永远不会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-624">Cookies may be deleted at the client side, for example, so this event would never be raised.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignInQueryString">
      <MemberSignature Language="C#" Value="public string SignInQueryString { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignInQueryString" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInQueryString" />
      <MemberSignature Language="VB.NET" Value="Public Property SignInQueryString As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignInQueryString { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignInQueryString : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignInQueryString" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-625">获取或设置包含要在 WS 联合身份验证登录请求（“wsignin1.0”）中发送的额外参数的查询字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-625">Gets or sets a query string that contains any additional parameters to be sent in WS-Federation sign-in requests ("wsignin1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-626">一个 URL 片段，其中包含采用以下格式的其他消息参数： <c>param1 = value1&amp;param2 = value2&amp;paramN = valueN</c>。</span><span class="sxs-lookup"><span data-stu-id="6be38-626">A URL fragment that contains the additional message parameters in the following format: <c>param1=value1&amp;param2=value2&amp;paramN=valueN</c>.</span></span> <span data-ttu-id="6be38-627">默认值为一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-627">The default is an empty string.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-628">您可以使用此属性在登录请求中发送其他参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-628">You can use this property to send additional parameters in a sign-in request.</span></span> <span data-ttu-id="6be38-629">这些是特定于应用程序的参数，这些参数不是 WS-FEDERATION 协议指定的参数之一。</span><span class="sxs-lookup"><span data-stu-id="6be38-629">These would be application-specific parameters that are not one of the parameters that are specified by the WS-Federation protocol.</span></span> <span data-ttu-id="6be38-630">若要从请求中删除其他参数，请将属性设置为空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-630">To remove additional parameters from the request set the property to an empty string.</span></span>  
  
 <span data-ttu-id="6be38-631">通过为 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> 事件添加处理程序，可以在每个 HTTP 请求上覆盖此设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-631">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="6be38-632">此事件恰好在模块使用 WS 联合身份验证登录请求消息重定向到 security token service （STS）之前引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-632">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="6be38-633">STS 由 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> 属性指定。</span><span class="sxs-lookup"><span data-stu-id="6be38-633">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-634">尝试将该属性设置为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-634">An attempt to set the property to <see langword="null" /> occurs.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="SignOut">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="6be38-635">注册当前对话。</span><span class="sxs-lookup"><span data-stu-id="6be38-635">Signs out of the current session.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-636">删除当前会话。</span><span class="sxs-lookup"><span data-stu-id="6be38-636">Deletes the current session.</span></span>  
  
 <span data-ttu-id="6be38-637">不会将任何注销请求消息（"wsignout1.0 1.0"）发送到 security token service （STS）。</span><span class="sxs-lookup"><span data-stu-id="6be38-637">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="6be38-638">若要使用 WS 联合身份验证协议在 STS 上注销，请使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-638">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </MemberGroup>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut();" />
      <MemberSignature Language="F#" Value="abstract member SignOut : unit -&gt; unit&#xA;override this.SignOut : unit -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6be38-639">当前会话的注销并要求重定向回在当前 HTTP 指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-639">Signs out of the current session and requests a redirect back to the URL specified in the current HTTP request.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-640">删除当前会话，并将浏览器重定向回当前 HTTP 请求中指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-640">Deletes the current session and redirects the browser back to the URL specified in the current HTTP request.</span></span>  
  
 <span data-ttu-id="6be38-641">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%29?displayProperty=nameWithType> 方法，并将 `redirectUrl` 参数设置为当前请求的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-641">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%29?displayProperty=nameWithType> method with the `redirectUrl` parameter set to the URL of the current request.</span></span>  
  
 <span data-ttu-id="6be38-642">不会将任何注销请求消息（"wsignout1.0 1.0"）发送到 security token service （STS）。</span><span class="sxs-lookup"><span data-stu-id="6be38-642">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="6be38-643">若要使用 WS 联合身份验证协议在 STS 上注销，请使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-643">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut (bool isIPRequest);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut(bool isIPRequest) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut (isIPRequest As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut(bool isIPRequest);" />
      <MemberSignature Language="F#" Value="abstract member SignOut : bool -&gt; unit&#xA;override this.SignOut : bool -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut isIPRequest" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="isIPRequest" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="isIPRequest"><span data-ttu-id="6be38-644">如果由 IP-STS 通过 WS 联合身份验证注销清理请求消息（“wsignoutcleanup1.0”）启动请求，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-644"><see langword="true" /> if the request was initiated by the IP-STS via a WS-Federation sign-out cleanup request message ("wsignoutcleanup1.0"); otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="6be38-645">当前会话的注销并引发相应事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-645">Signs out of the current session and raises the appropriate events.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-646">此方法执行删除当前会话并引发适当的注销事件的实际工作。</span><span class="sxs-lookup"><span data-stu-id="6be38-646">This method performs the actual work of deleting the current session and raising the appropriate sign-out events.</span></span> <span data-ttu-id="6be38-647">该方法将执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="6be38-647">The method does the following:</span></span>  
  
1.  <span data-ttu-id="6be38-648">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A> 方法以引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-648">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut> event.</span></span> <span data-ttu-id="6be38-649">在删除会话之前，事件处理程序可以提供任何必要的处理。</span><span class="sxs-lookup"><span data-stu-id="6be38-649">An event handler can provide any necessary processing before the session is deleted.</span></span> <span data-ttu-id="6be38-650"><xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated%2A?displayProperty=nameWithType> 属性根据 `isIPRequest` 参数设置。</span><span class="sxs-lookup"><span data-stu-id="6be38-650">The <xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated%2A?displayProperty=nameWithType> property is set according to the `isIPRequest` parameter.</span></span>  
  
2.  <span data-ttu-id="6be38-651">对当前会话身份验证管理器调用 <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType> 方法，以删除会话 cookie。</span><span class="sxs-lookup"><span data-stu-id="6be38-651">Calls the <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType> method on the current session authentication manager to delete the session cookie.</span></span>  
  
     <span data-ttu-id="6be38-652">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A> 方法以引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-652">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut> event.</span></span>  
  
3.  <span data-ttu-id="6be38-653">如果在注销处理过程中发生错误，则调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A> 方法来引发 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> 事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-653">If an error occurs during sign-out processing, invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> event.</span></span> <span data-ttu-id="6be38-654">事件处理程序可以取消处理并防止异常返回到的调用方 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A></span><span class="sxs-lookup"><span data-stu-id="6be38-654">An event handler can cancel the processing and prevent an exception from being returned to the caller of <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A></span></span>  
  
 <span data-ttu-id="6be38-655">您可以使用 `isIPRequest` 参数集调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A?displayProperty=nameWithType> 方法，`false` 在不执行重定向的情况下注销会话。</span><span class="sxs-lookup"><span data-stu-id="6be38-655">You can call the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A?displayProperty=nameWithType> method with the `isIPRequest` parameter set `false` to sign out of a session without performing a redirect.</span></span> <span data-ttu-id="6be38-656">方法最终由其他所有重载 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> 方法（将 `isIPRequest` 参数设置为 `false`）调用，以执行注销处理。</span><span class="sxs-lookup"><span data-stu-id="6be38-656">The method is ultimately called by all of the other overloaded <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> methods (with the `isIPRequest` parameter set to `false`) to perform the sign out handling.</span></span> <span data-ttu-id="6be38-657">方法从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType> 方法中调用，其 `isIPRequest` 参数 `true` 设置为在处理 WS-FEDERATION 注销清除消息（"wsignoutcleanup1.0 1.0"）时从会话中注销。</span><span class="sxs-lookup"><span data-stu-id="6be38-657">The method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType> method with the `isIPRequest` parameter set `true` to sign out of the session when it is processing a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0").</span></span>  
  
 <span data-ttu-id="6be38-658">不会将任何注销请求消息（"wsignout1.0 1.0"）发送到 security token service （STS）。</span><span class="sxs-lookup"><span data-stu-id="6be38-658">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="6be38-659">若要使用 WS 联合身份验证协议在 STS 上注销，请使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-659">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut (string redirectUrl);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut(string redirectUrl) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut (redirectUrl As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut(System::String ^ redirectUrl);" />
      <MemberSignature Language="F#" Value="abstract member SignOut : string -&gt; unit&#xA;override this.SignOut : string -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut redirectUrl" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="redirectUrl" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="redirectUrl"><span data-ttu-id="6be38-660">会话删除后浏览器应被重定向到 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-660">The URL to which the browser should be redirected after the session is deleted.</span></span></param>
        <summary><span data-ttu-id="6be38-661">当前会话的注销并要求重定向回指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-661">Signs out of the current session and requests a redirect back to the specified URL.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-662">删除当前会话，并将浏览器重定向回指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-662">Deletes the current session and redirects the browser back to the specified URL.</span></span>  
  
 <span data-ttu-id="6be38-663">调用具有 `redirectUrl` 参数的 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> 方法，并 `initiateSignoutCleanup` 设置 `false`。</span><span class="sxs-lookup"><span data-stu-id="6be38-663">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> method with the `redirectUrl` parameter and with the `initiateSignoutCleanup` set `false`.</span></span>  
  
 <span data-ttu-id="6be38-664">不会将任何注销请求消息（"wsignout1.0 1.0"）发送到 security token service （STS）。</span><span class="sxs-lookup"><span data-stu-id="6be38-664">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="6be38-665">若要使用 WS 联合身份验证协议在 STS 上注销，请使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-665">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-666"><paramref name="redirectUrl" /> 不是有效的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-666"><paramref name="redirectUrl" /> is not a valid URI.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut (string redirectUrl, bool initiateSignoutCleanup);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut(string redirectUrl, bool initiateSignoutCleanup) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut (redirectUrl As String, initiateSignoutCleanup As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut(System::String ^ redirectUrl, bool initiateSignoutCleanup);" />
      <MemberSignature Language="F#" Value="abstract member SignOut : string * bool -&gt; unit&#xA;override this.SignOut : string * bool -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut (redirectUrl, initiateSignoutCleanup)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="redirectUrl" Type="System.String" />
        <Parameter Name="initiateSignoutCleanup" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="redirectUrl"><span data-ttu-id="6be38-667">注销后浏览器应被重定向到 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-667">The URL to which the browser should be redirected after sign-out.</span></span></param>
        <param name="initiateSignoutCleanup"><span data-ttu-id="6be38-668">始终设置 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-668">Always set <see langword="false" />.</span></span> <span data-ttu-id="6be38-669">不支持设置此参数到 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-669">Setting this parameter to <see langword="true" /> is not supported.</span></span></param>
        <summary><span data-ttu-id="6be38-670">当前会话的注销并要求重定向回指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-670">Signs out of the current session and requests a redirect back to the specified URL.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-671">删除当前会话，并将浏览器重定向回指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-671">Deletes the current session and redirects the browser back to the specified URL.</span></span>  
  
 <span data-ttu-id="6be38-672">调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法，并将 `initiateSignoutCleanup` 参数设置 `false`。</span><span class="sxs-lookup"><span data-stu-id="6be38-672">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method with the `initiateSignoutCleanup` parameter set `false`.</span></span>  
  
 <span data-ttu-id="6be38-673">不会将任何注销请求消息（"wsignout1.0 1.0"）发送到 security token service （STS）。</span><span class="sxs-lookup"><span data-stu-id="6be38-673">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="6be38-674">若要使用 WS 联合身份验证协议在 STS 上注销，请使用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="6be38-674">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="6be38-675"><paramref name="redirectUrl" /> 不是有效的 URI。</span><span class="sxs-lookup"><span data-stu-id="6be38-675"><paramref name="redirectUrl" /> is not a valid URI.</span></span></exception>
        <exception cref="T:System.NotImplementedException"><span data-ttu-id="6be38-676">如果 <paramref name="initiateSignoutCleanup" /> 是 <see langword="true" />则引发该异常的 <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 类。</span><span class="sxs-lookup"><span data-stu-id="6be38-676">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> class throws this exception if <paramref name="initiateSignoutCleanup" /> is <see langword="true" />.</span></span> <span data-ttu-id="6be38-677">不要将参数设置为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-677">Do not set this parameter to <see langword="true" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="SignOutError">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; SignOutError;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.ErrorEventArgs&gt; SignOutError" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SignOutError As EventHandler(Of ErrorEventArgs) " FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::ErrorEventArgs ^&gt; ^ SignOutError;" />
      <MemberSignature Language="F#" Value="member this.SignOutError : EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " Usage="member this.SignOutError : System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " />
      <MemberSignature Language="VB.NET" Value="Public Event SignOutError As EventHandler(Of ErrorEventArgs) " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-678">当注销过程中出现错误时引发。</span><span class="sxs-lookup"><span data-stu-id="6be38-678">Raised when an error occurs during sign-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-679">从 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> 方法内部调用 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A> 方法，同时从信赖方（RP）注销会话时，将引发此事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-679">This event is raised through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A> method from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method while signing out of the session at the relying party (RP).</span></span> <span data-ttu-id="6be38-680">通过 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法执行联合注销时不引发该事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-680">The event is not raised when doing federated sign-out through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="6be38-681"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> 事件是可取消事件。</span><span class="sxs-lookup"><span data-stu-id="6be38-681">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> event is a cancellable event.</span></span> <span data-ttu-id="6be38-682">您可以在事件处理程序中设置 <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> 属性，以防止导致错误的异常返回到注销的发起方。</span><span class="sxs-lookup"><span data-stu-id="6be38-682">You can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property in an event handler to prevent the exception that caused the error from being returned to the initiator of the sign-out.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOutQueryString">
      <MemberSignature Language="C#" Value="public string SignOutQueryString { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignOutQueryString" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutQueryString" />
      <MemberSignature Language="VB.NET" Value="Public Property SignOutQueryString As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignOutQueryString { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignOutQueryString : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutQueryString" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-683">获取或设置询问字符串，该字符串包含 WS 联合身份验证注销请求（“wsignout1.0”）中将被发送的额外参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-683">Gets or sets a query string that contains any additional parameters to be sent in WS-Federation sign-out requests ("wsignout1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-684">一个 URL 片段，其中包含采用以下格式的其他消息参数： <c>param1 = value1&amp;param2 = value2&amp;paramN = valueN</c>。</span><span class="sxs-lookup"><span data-stu-id="6be38-684">A URL fragment that contains the additional message parameters in the following format: <c>param1=value1&amp;param2=value2&amp;paramN=valueN</c>.</span></span> <span data-ttu-id="6be38-685">默认值为一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-685">The default is an empty string.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-686">默认情况下，此属性是从配置文件中[&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation)元素的 `signOutQueryString` 属性进行初始化的。</span><span class="sxs-lookup"><span data-stu-id="6be38-686">By default, this property is initialized from the `signOutQueryString` attribute of the [&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation) element in the configuration file.</span></span> <span data-ttu-id="6be38-687">它旨在包含要在 WS 联合身份验证注销请求中发送的任何特定于应用程序的参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-687">It is intended to contain any application-specific parameters to be sent in a WS-Federation sign-out request.</span></span> <span data-ttu-id="6be38-688">若要删除这些参数，可以将属性设置为空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-688">To remove these parameters, you can set the property to an empty string.</span></span>  
  
 <span data-ttu-id="6be38-689">WSFAM 不会直接使用此属性;但是，你可以将其传递给 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A> 方法，以创建可供你的代码使用的完整 WS-FEDERATION 注销 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-689">The WSFAM does not use this property directly; however, you can pass it to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A> method to create a complete WS-Federation sign-out URL that can then be used by your code.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-690">尝试将该属性设置为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-690">An attempt to set the property to <see langword="null" /> occurs.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="SignOutReply">
      <MemberSignature Language="C#" Value="public string SignOutReply { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignOutReply" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply" />
      <MemberSignature Language="VB.NET" Value="Public Property SignOutReply As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignOutReply { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignOutReply : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-691">获取或设置在 WS 联合身份验证注销请求（“wsignout1.0”）期间使用的 wreply 参数的值。</span><span class="sxs-lookup"><span data-stu-id="6be38-691">Gets or sets the value of the wreply parameter to use during WS-Federation sign-out requests ("wsignout1.0").</span></span></summary>
        <value><span data-ttu-id="6be38-692">通过注销以下 WS-Federation 协议，该客户端应由安全标记服务 (STS) 的重定向到 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-692">The URL to which the client should be redirected by the security token service (STS) following sign-out through the WS-Federation protocol.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="6be38-693">默认情况下，此属性是从配置文件中[&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation)元素的 `signOutReply` 属性进行初始化的。</span><span class="sxs-lookup"><span data-stu-id="6be38-693">By default, this property is initialized from the `signOutReply` attribute of the [&lt;wsFederation&gt;](/dotnet/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation) element in the configuration file.</span></span> <span data-ttu-id="6be38-694">它用于表示 WS 联合身份验证注销请求中的 wreply 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-694">It is intended to represent the wreply parameter in a WS-Federation sign-out request.</span></span>  
  
 <span data-ttu-id="6be38-695">Wreply 参数是可选的。</span><span class="sxs-lookup"><span data-stu-id="6be38-695">The wreply parameter is optional.</span></span> <span data-ttu-id="6be38-696">如果 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply%2A> 属性设置为 `null` 或空字符串，则在注销请求中不包含 wreply 参数。</span><span class="sxs-lookup"><span data-stu-id="6be38-696">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply%2A> property is set to `null` or an empty string, the wreply parameter is not included in the sign-out request.</span></span>  
  
 <span data-ttu-id="6be38-697">WSFAM 不会直接使用此属性。</span><span class="sxs-lookup"><span data-stu-id="6be38-697">The WSFAM does not use this property directly.</span></span> <span data-ttu-id="6be38-698">但是，在从代码执行 WS-FEDERATION 注销时，可以将其传递给 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> 方法，也可以将其传递给 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A> 方法以创建完整的 WS 联合身份验证注销 URL。</span><span class="sxs-lookup"><span data-stu-id="6be38-698">However, you can pass it to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method when performing WS-Federation sign-out from your code or you can pass it to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A> method to create a complete WS-Federation sign-out URL.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="VerifyProperties">
      <MemberSignature Language="C#" Value="public void VerifyProperties ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void VerifyProperties() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.VerifyProperties" />
      <MemberSignature Language="VB.NET" Value="Public Sub VerifyProperties ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void VerifyProperties();" />
      <MemberSignature Language="F#" Value="member this.VerifyProperties : unit -&gt; unit" Usage="wSFederationAuthenticationModule.VerifyProperties " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="6be38-699">验证 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 和 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 属性为非空，和如果 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> 属性是否为 <see langword="true" /> 以及为 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 和 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 指定的 URI 遵循 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="6be38-699">Verifies that the <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> properties are non-empty, and, that, if the <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> property is <see langword="true" />, that the URIs specified for <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> are HTTPS-compliant.</span></span></summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="6be38-700"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 为 <see langword="null" /> 或空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-700"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> is <see langword="null" /> or an empty string.</span></span>  
  
<span data-ttu-id="6be38-701">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-701">-or-</span></span> 
 <span data-ttu-id="6be38-702"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 为 <see langword="null" /> 或空字符串。</span><span class="sxs-lookup"><span data-stu-id="6be38-702"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> is <see langword="null" /> or an empty string.</span></span>  
  
<span data-ttu-id="6be38-703">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-703">-or-</span></span> 
 <span data-ttu-id="6be38-704"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> 为 <see langword="true" />，且 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 不兼容 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="6be38-704"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> is <see langword="true" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> not HTTPS-compliant.</span></span>  
  
<span data-ttu-id="6be38-705">- 或 -</span><span class="sxs-lookup"><span data-stu-id="6be38-705">-or-</span></span> 
 <span data-ttu-id="6be38-706"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> 为 <see langword="true" />，且 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 不兼容 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="6be38-706"><see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> is <see langword="true" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> not HTTPS-compliant.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="XmlDictionaryReaderQuotas">
      <MemberSignature Language="C#" Value="public System.Xml.XmlDictionaryReaderQuotas XmlDictionaryReaderQuotas { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Xml.XmlDictionaryReaderQuotas XmlDictionaryReaderQuotas" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.XmlDictionaryReaderQuotas" />
      <MemberSignature Language="VB.NET" Value="Public Property XmlDictionaryReaderQuotas As XmlDictionaryReaderQuotas" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Xml::XmlDictionaryReaderQuotas ^ XmlDictionaryReaderQuotas { System::Xml::XmlDictionaryReaderQuotas ^ get(); void set(System::Xml::XmlDictionaryReaderQuotas ^ value); };" />
      <MemberSignature Language="F#" Value="member this.XmlDictionaryReaderQuotas : System.Xml.XmlDictionaryReaderQuotas with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.XmlDictionaryReaderQuotas" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Xml.XmlDictionaryReaderQuotas</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="6be38-707">获取设置序列化 WS-Federation 响应消息以获取安全令牌服务 (STS) 使用的令牌时要使用的 <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-707">Gets or sets the <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> object to use when deserializing WS-Federation sign-in response messages to get the token issued by the security token service (STS).</span></span></summary>
        <value><span data-ttu-id="6be38-708">序列化 WS-Federation 响应消息以获取安全标记服务 (STS) 使用的标记时要使用的 <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="6be38-708">The <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> object to use when deserializing WS-Federation sign-in response messages to get the token issued by the security token service (STS).</span></span></value>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="6be38-709">尝试将该属性设置为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="6be38-709">An attempt to set the property to <see langword="null" /> occurs.</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>

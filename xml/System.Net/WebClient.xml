<Type Name="WebClient" FullName="System.Net.WebClient">
  <Metadata><Meta Name="ms.openlocfilehash" Value="5d54e230777ffb0233aa58561b67a87e8ab61a60" /><Meta Name="ms.sourcegitcommit" Value="943c8cdbe5b47c6c296a6f4b73038bbd43da0dd2" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="02/12/2021" /><Meta Name="ms.locfileid" Value="100297025" /></Metadata><TypeSignature Language="C#" Value="public class WebClient : System.ComponentModel.Component" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit WebClient extends System.ComponentModel.Component" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="DocId" Value="T:System.Net.WebClient" />
  <TypeSignature Language="VB.NET" Value="Public Class WebClient&#xA;Inherits Component" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="C++ CLI" Value="public ref class WebClient : System::ComponentModel::Component" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="F#" Value="type WebClient = class&#xA;    inherit Component" />
  <TypeSignature Language="C#" Value="public sealed class WebClient : System.ComponentModel.Component" FrameworkAlternate="netframework-1.1" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit WebClient extends System.ComponentModel.Component" FrameworkAlternate="netframework-1.1" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class WebClient&#xA;Inherits Component" FrameworkAlternate="netframework-1.1" />
  <TypeSignature Language="C++ CLI" Value="public ref class WebClient sealed : System::ComponentModel::Component" FrameworkAlternate="netframework-1.1" />
  <AssemblyInfo>
    <AssemblyName>System</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Net.WebClient</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Net</AssemblyName>
  </AssemblyInfo>
  <TypeForwardingChain>
    <TypeForwarding From="netstandard" FromVersion="2.1.0.0" To="System.Net.WebClient" ToVersion="5.0.0.0" FrameworkAlternate="net-5.0" />
    <TypeForwarding From="System.Net" FromVersion="4.0.0.0" To="System" ToVersion="4.0.0.0" FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
  </TypeForwardingChain>
  <Base>
    <BaseTypeName>System.ComponentModel.Component</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(true)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(true)&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="20fd1-101">提供用于将数据发送到由 URI 标识的资源及从这样的资源接收数据的常用方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-101">Provides common methods for sending data to and receiving data from a resource identified by a URI.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[

## Remarks

> [!IMPORTANT]
> <span data-ttu-id="20fd1-102">不建议使用 `WebClient` 类进行新的开发。</span><span class="sxs-lookup"><span data-stu-id="20fd1-102">We don't recommend that you use the `WebClient` class for new development.</span></span> <span data-ttu-id="20fd1-103">而应使用 <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> 类。</span><span class="sxs-lookup"><span data-stu-id="20fd1-103">Instead, use the <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> class.</span></span>

 <span data-ttu-id="20fd1-104"><xref:System.Net.WebClient>类提供用于向由 URI 标识的任何本地、intranet 或 Internet 资源发送数据或从其接收数据的常用方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-104">The <xref:System.Net.WebClient> class provides common methods for sending data to or receiving data from any local, intranet, or Internet resource identified by a URI.</span></span>

 <span data-ttu-id="20fd1-105"><xref:System.Net.WebClient>类使用 <xref:System.Net.WebRequest> 类提供对资源的访问权限。</span><span class="sxs-lookup"><span data-stu-id="20fd1-105">The <xref:System.Net.WebClient> class uses the <xref:System.Net.WebRequest> class to provide access to resources.</span></span> <span data-ttu-id="20fd1-106"><xref:System.Net.WebClient> 实例可以使用通过方法注册的任何子代来访问数据 <xref:System.Net.WebRequest> <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-106"><xref:System.Net.WebClient> instances can access data with any <xref:System.Net.WebRequest> descendant registered with the <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> method.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-107">默认情况下，.NET Framework 支持以 `http:` 、 `https:` 、 `ftp:` 和 `file:` 方案标识符开头的 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-107">By default, .NET Framework supports URIs that begin with `http:`, `https:`, `ftp:`, and `file:` scheme identifiers.</span></span>

 <span data-ttu-id="20fd1-108">下表介绍 <xref:System.Net.WebClient> 用于将数据上载到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-108">The following table describes <xref:System.Net.WebClient> methods for uploading data to a resource.</span></span>

|<span data-ttu-id="20fd1-109">方法</span><span class="sxs-lookup"><span data-stu-id="20fd1-109">Method</span></span>|<span data-ttu-id="20fd1-110">说明</span><span class="sxs-lookup"><span data-stu-id="20fd1-110">Description</span></span>|
|------------|-----------------|
|<xref:System.Net.WebClient.OpenWrite%2A>|<span data-ttu-id="20fd1-111">检索 <xref:System.IO.Stream> 用于将数据发送到资源的。</span><span class="sxs-lookup"><span data-stu-id="20fd1-111">Retrieves a <xref:System.IO.Stream> used to send data to the resource.</span></span>|
|<xref:System.Net.WebClient.OpenWriteAsync%2A>|<span data-ttu-id="20fd1-112">检索 <xref:System.IO.Stream> 用于将数据发送到资源的，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-112">Retrieves a <xref:System.IO.Stream> used to send data to the resource, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.UploadData%2A>|<span data-ttu-id="20fd1-113">将字节数组发送到资源，并返回 <xref:System.Byte> 包含任何响应的数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-113">Sends a byte array to the resource and returns a <xref:System.Byte> array containing any response.</span></span>|
|<xref:System.Net.WebClient.UploadDataAsync%2A>|<span data-ttu-id="20fd1-114"><xref:System.Byte>向资源发送数组，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-114">Sends a <xref:System.Byte> array to the resource, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.UploadFile%2A>|<span data-ttu-id="20fd1-115">向资源发送本地文件，并返回 <xref:System.Byte> 包含任何响应的数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-115">Sends a local file to the resource and returns a <xref:System.Byte> array containing any response.</span></span>|
|<xref:System.Net.WebClient.UploadFileAsync%2A>|<span data-ttu-id="20fd1-116">向资源发送本地文件，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-116">Sends a local file to the resource, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.UploadValues%2A>|<span data-ttu-id="20fd1-117"><xref:System.Collections.Specialized.NameValueCollection>向资源发送，并返回 <xref:System.Byte> 包含任何响应的数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-117">Sends a <xref:System.Collections.Specialized.NameValueCollection> to the resource and returns a <xref:System.Byte> array containing any response.</span></span>|
|<xref:System.Net.WebClient.UploadValuesAsync%2A>|<span data-ttu-id="20fd1-118"><xref:System.Collections.Specialized.NameValueCollection>向资源发送并返回 <xref:System.Byte> 包含任何响应的数组，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-118">Sends a <xref:System.Collections.Specialized.NameValueCollection> to the resource and returns a <xref:System.Byte> array containing any response, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.UploadString%2A>|<span data-ttu-id="20fd1-119"><xref:System.String>向资源发送并返回 <xref:System.String> 包含任何响应的。</span><span class="sxs-lookup"><span data-stu-id="20fd1-119">Sends a <xref:System.String> to the resource and returns a <xref:System.String> containing any response.</span></span>|
|<xref:System.Net.WebClient.UploadStringAsync%2A>|<span data-ttu-id="20fd1-120">将发送 <xref:System.String> 到资源，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-120">Sends a <xref:System.String> to the resource, without blocking the calling thread.</span></span>|

 <span data-ttu-id="20fd1-121">下表描述了 <xref:System.Net.WebClient> 用于从资源下载数据的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-121">The following table describes <xref:System.Net.WebClient> methods for downloading data from a resource.</span></span>

|<span data-ttu-id="20fd1-122">方法</span><span class="sxs-lookup"><span data-stu-id="20fd1-122">Method</span></span>|<span data-ttu-id="20fd1-123">说明</span><span class="sxs-lookup"><span data-stu-id="20fd1-123">Description</span></span>|
|------------|-----------------|
|<xref:System.Net.WebClient.OpenRead%2A>|<span data-ttu-id="20fd1-124">以的形式返回资源中的数据 <xref:System.IO.Stream> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-124">Returns the data from a resource as a <xref:System.IO.Stream>.</span></span>|
|<xref:System.Net.WebClient.OpenReadAsync%2A>|<span data-ttu-id="20fd1-125">返回资源中的数据，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-125">Returns the data from a resource, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.DownloadData%2A>|<span data-ttu-id="20fd1-126">从资源下载数据并返回一个 <xref:System.Byte> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-126">Downloads data from a resource and returns a <xref:System.Byte> array.</span></span>|
|<xref:System.Net.WebClient.DownloadDataAsync%2A>|<span data-ttu-id="20fd1-127">从资源下载数据并返回 <xref:System.Byte> 数组，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-127">Downloads data from a resource and returns a <xref:System.Byte> array, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.DownloadFile%2A>|<span data-ttu-id="20fd1-128">将数据从资源下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-128">Downloads data from a resource to a local file.</span></span>|
|<xref:System.Net.WebClient.DownloadFileAsync%2A>|<span data-ttu-id="20fd1-129">将数据从资源下载到本地文件，而不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-129">Downloads data from a resource to a local file, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.DownloadString%2A>|<span data-ttu-id="20fd1-130"><xref:System.String>从资源下载，并返回 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-130">Downloads a <xref:System.String> from a resource and returns a <xref:System.String>.</span></span>|
|<xref:System.Net.WebClient.DownloadStringAsync%2A>|<span data-ttu-id="20fd1-131"><xref:System.String>从资源下载，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-131">Downloads a <xref:System.String> from a resource, without blocking the calling thread.</span></span>|

 <span data-ttu-id="20fd1-132">您可以使用 <xref:System.Net.WebClient.CancelAsync%2A> 方法来尝试取消异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-132">You can use the <xref:System.Net.WebClient.CancelAsync%2A> method to attempt to cancel asynchronous operations.</span></span>

 <span data-ttu-id="20fd1-133"><xref:System.Net.WebClient>默认情况下，实例不发送可选的 HTTP 标头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-133">A <xref:System.Net.WebClient> instance does not send optional HTTP headers by default.</span></span> <span data-ttu-id="20fd1-134">如果您的请求需要一个可选的标头，则必须将该标头添加到 <xref:System.Net.WebClient.Headers%2A> 集合中。</span><span class="sxs-lookup"><span data-stu-id="20fd1-134">If your request requires an optional header, you must add the header to the <xref:System.Net.WebClient.Headers%2A> collection.</span></span> <span data-ttu-id="20fd1-135">例如，若要在响应中保留查询，则必须添加用户代理标头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-135">For example, to retain queries in the response, you must add a user-agent header.</span></span> <span data-ttu-id="20fd1-136">此外，如果缺少用户代理标头，服务器可能会返回 500 (内部服务器错误) 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-136">Also, servers may return 500 (Internal Server Error) if the user agent header is missing.</span></span>

 <span data-ttu-id="20fd1-137"><xref:System.Net.HttpWebRequest.AllowAutoRedirect%2A>`true`在实例中设置为 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-137"><xref:System.Net.HttpWebRequest.AllowAutoRedirect%2A> is set to `true` in <xref:System.Net.WebClient> instances.</span></span>

## Examples
 <span data-ttu-id="20fd1-138">下面的代码示例使用资源的 URI，检索该资源并显示响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-138">The following code example takes the URI of a resource, retrieves it, and displays the response.</span></span>

 [!code-cpp[NCLWebClientUserAgent#1](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientUserAgent/CPP/useragent.cpp#1)]
 [!code-csharp[NCLWebClientUserAgent#1](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientUserAgent/CS/useragent.cs#1)]
 [!code-vb[NCLWebClientUserAgent#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientUserAgent/VB/useragent.vb#1)]

 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-139">派生类应调用的基类实现 <see cref="T:System.Net.WebClient" /> ，以确保派生类按预期方式工作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-139">Derived classes should call the base class implementation of <see cref="T:System.Net.WebClient" /> to ensure the derived class works as expected.</span></span></para></block>
    <altmember cref="T:System.Net.WebRequest" />
    <altmember cref="T:System.Net.WebResponse" />
    <altmember cref="T:System.Net.HttpWebRequest" />
    <altmember cref="T:System.Net.HttpWebResponse" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebClient ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebClient();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="20fd1-140">初始化 <see cref="T:System.Net.WebClient" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="20fd1-140">Initializes a new instance of the <see cref="T:System.Net.WebClient" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-141">无参数构造函数创建类的新实例 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-141">The parameterless constructor creates a new instance of the <xref:System.Net.WebClient> class.</span></span> <span data-ttu-id="20fd1-142">默认 HTTP 方法为 GET。</span><span class="sxs-lookup"><span data-stu-id="20fd1-142">The default HTTP method is GET.</span></span> <span data-ttu-id="20fd1-143">默认 FTP 方法为 RETR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-143">The default FTP method is RETR.</span></span> <span data-ttu-id="20fd1-144">默认 <xref:System.Net.WebClient.Encoding%2A> 为 <xref:System.Text.Encoding.Default%2A>。</span><span class="sxs-lookup"><span data-stu-id="20fd1-144">The default <xref:System.Net.WebClient.Encoding%2A> is <xref:System.Text.Encoding.Default%2A>.</span></span> <span data-ttu-id="20fd1-145"><xref:System.Net.HttpWebRequest.AllowAutoRedirect%2A> 的默认值为 `true`。</span><span class="sxs-lookup"><span data-stu-id="20fd1-145">The default value of <xref:System.Net.HttpWebRequest.AllowAutoRedirect%2A> is `true`.</span></span>



## Examples
 <span data-ttu-id="20fd1-146">下面的代码示例创建一个 <xref:System.Net.WebClient> 实例，然后使用它从服务器下载数据并将其显示在系统控制台上，从服务器下载数据并将其写入文件，并将窗体值上载到服务器并接收响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-146">The following code example creates a <xref:System.Net.WebClient> instance and then uses it to download data from a server and display it on the system console, to download data from a server and write it to a file, and to upload form values to a server and receive the response.</span></span>

 [!code-cpp[WebClient#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient/CPP/webclient.cpp#1)]
 [!code-csharp[WebClient#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient/CS/webclient.cs#1)]
 [!code-vb[WebClient#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient/VB/webclient.vb#1)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AllowReadStreamBuffering">
      <MemberSignature Language="C#" Value="public bool AllowReadStreamBuffering { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AllowReadStreamBuffering" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.AllowReadStreamBuffering" />
      <MemberSignature Language="VB.NET" Value="Public Property AllowReadStreamBuffering As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool AllowReadStreamBuffering { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.AllowReadStreamBuffering : bool with get, set" Usage="System.Net.WebClient.AllowReadStreamBuffering" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-147">获取或设置一个值，该值指示是否对从某一 <see cref="T:System.Net.WebClient" /> 实例的 Internet 资源读取的数据进行缓冲处理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-147">Gets or sets a value that indicates whether to buffer the data read from the Internet resource for a <see cref="T:System.Net.WebClient" /> instance.</span></span></summary>
        <value><span data-ttu-id="20fd1-148">如果为 <see langword="true" />，则启用对从 Internet 资源接收的数据进行缓冲处理；如果为 <see langword="false" />，则禁用缓冲处理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-148"><see langword="true" /> to enable buffering of the data received from the Internet resource; <see langword="false" /> to disable buffering.</span></span> <span data-ttu-id="20fd1-149">默认值为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-149">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-150">当 <xref:System.Net.WebClient.AllowReadStreamBuffering%2A> 属性为时 `true` ，将在内存中缓冲数据，以使应用程序可以读取数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-150">When the <xref:System.Net.WebClient.AllowReadStreamBuffering%2A> property is `true`, the data is buffered in memory so it is ready to be read by the app.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AllowWriteStreamBuffering">
      <MemberSignature Language="C#" Value="public bool AllowWriteStreamBuffering { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AllowWriteStreamBuffering" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.AllowWriteStreamBuffering" />
      <MemberSignature Language="VB.NET" Value="Public Property AllowWriteStreamBuffering As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool AllowWriteStreamBuffering { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.AllowWriteStreamBuffering : bool with get, set" Usage="System.Net.WebClient.AllowWriteStreamBuffering" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-151">获取或设置一个值，该值指示是否对写入到 <see cref="T:System.Net.WebClient" /> 实例的 Internet 资源的数据进行缓冲处理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-151">Gets or sets a value that indicates whether to buffer the data written to the Internet resource for a <see cref="T:System.Net.WebClient" /> instance.</span></span></summary>
        <value><span data-ttu-id="20fd1-152"><see langword="true" /> 允许对写入到 Internet 资源的数据进行缓冲处理；<see langword="false" /> 禁用缓冲处理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-152"><see langword="true" /> to enable buffering of the data written to the Internet resource; <see langword="false" /> to disable buffering.</span></span> <span data-ttu-id="20fd1-153">默认值为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-153">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-154">当 <xref:System.Net.WebClient.AllowWriteStreamBuffering%2A> 属性为时 `true` ，将在内存中缓冲数据，以便可以更有效地将数据写入更大块的 Internet 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-154">When the <xref:System.Net.WebClient.AllowWriteStreamBuffering%2A> property is `true`, the data is buffered in memory so it can be written more efficiently to the Internet resource in larger chunks.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BaseAddress">
      <MemberSignature Language="C#" Value="public string BaseAddress { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string BaseAddress" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.BaseAddress" />
      <MemberSignature Language="VB.NET" Value="Public Property BaseAddress As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ BaseAddress { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.BaseAddress : string with get, set" Usage="System.Net.WebClient.BaseAddress" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-155">获取或设置 <see cref="T:System.Net.WebClient" /> 发出请求的基 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-155">Gets or sets the base URI for requests made by a <see cref="T:System.Net.WebClient" />.</span></span></summary>
        <value><span data-ttu-id="20fd1-156"><see cref="T:System.String" />，包含 <see cref="T:System.Net.WebClient" /> 请求的基 URI；如果尚未指定基地址，则为 <see cref="F:System.String.Empty" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-156">A <see cref="T:System.String" /> containing the base URI for requests made by a <see cref="T:System.Net.WebClient" /> or <see cref="F:System.String.Empty" /> if no base address has been specified.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-157"><xref:System.Net.WebClient.BaseAddress%2A>属性包含与相对地址组合在一起的基 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-157">The <xref:System.Net.WebClient.BaseAddress%2A> property contains a base URI that is combined with a relative address.</span></span> <span data-ttu-id="20fd1-158">当调用用于上传或下载数据的方法时， <xref:System.Net.WebClient> 对象会将此基本 URI 与在方法调用中指定的相对地址组合在一起。</span><span class="sxs-lookup"><span data-stu-id="20fd1-158">When you call a method that uploads or downloads data, the <xref:System.Net.WebClient> object combines this base URI with the relative address you specify in the method call.</span></span> <span data-ttu-id="20fd1-159">如果指定一个绝对 URI，则不 <xref:System.Net.WebClient> 使用 <xref:System.Net.WebClient.BaseAddress%2A> 属性值。</span><span class="sxs-lookup"><span data-stu-id="20fd1-159">If you specify an absolute URI, <xref:System.Net.WebClient> does not use the <xref:System.Net.WebClient.BaseAddress%2A> property value.</span></span>

 <span data-ttu-id="20fd1-160">若要删除以前设置的值，请将此属性设置为 `null` 或空字符串 ( "" ) 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-160">To remove a previously set value, set this property to `null` or an empty string ("").</span></span>



## Examples
 <span data-ttu-id="20fd1-161">下面的代码示例从 Internet 服务器下载数据，并将其显示在控制台上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-161">The following code example downloads data from an Internet server and displays it on the console.</span></span> <span data-ttu-id="20fd1-162">它假定服务器的地址 (例如， http://www.contoso.com) 在中， `hostUri` 资源 (的路径（如/default.htm) 位于中） `uriSuffix` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-162">It assumes that the server's address (such as http://www.contoso.com) is in `hostUri` and that the path to the resource (such as /default.htm) is in `uriSuffix`.</span></span>

 [!code-cpp[WebClient_BaseAddress_ResponseHeaders#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_BaseAddress_ResponseHeaders/CPP/webclient_baseaddress_responseheaders.cpp#1)]
 [!code-csharp[WebClient_BaseAddress_ResponseHeaders#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_BaseAddress_ResponseHeaders/CS/webclient_baseaddress_responseheaders.cs#1)]
 [!code-vb[WebClient_BaseAddress_ResponseHeaders#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_BaseAddress_ResponseHeaders/VB/webclient_baseaddress_responseheaders.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="20fd1-163"><see cref="P:System.Net.WebClient.BaseAddress" /> 被设置为无效的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-163"><see cref="P:System.Net.WebClient.BaseAddress" /> is set to an invalid URI.</span></span> <span data-ttu-id="20fd1-164">内部异常可能包含有助于找到错误的信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-164">The inner exception may contain information that will help you locate the error.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="CachePolicy">
      <MemberSignature Language="C#" Value="public System.Net.Cache.RequestCachePolicy? CachePolicy { get; set; }" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.Cache.RequestCachePolicy CachePolicy" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.CachePolicy" />
      <MemberSignature Language="VB.NET" Value="Public Property CachePolicy As RequestCachePolicy" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::Cache::RequestCachePolicy ^ CachePolicy { System::Net::Cache::RequestCachePolicy ^ get(); void set(System::Net::Cache::RequestCachePolicy ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CachePolicy : System.Net.Cache.RequestCachePolicy with get, set" Usage="System.Net.WebClient.CachePolicy" />
      <MemberSignature Language="C#" Value="public System.Net.Cache.RequestCachePolicy CachePolicy { get; set; }" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Net.Cache.RequestCachePolicy</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-165">对于此 WebClient 实例使用 <see cref="T:System.Net.WebRequest" /> 对象获得的任何资源，获取或设置应用程序的缓存策略。</span><span class="sxs-lookup"><span data-stu-id="20fd1-165">Gets or sets the application's cache policy for any resources obtained by this WebClient instance using <see cref="T:System.Net.WebRequest" /> objects.</span></span></summary>
        <value><span data-ttu-id="20fd1-166">一个 <see cref="T:System.Net.Cache.RequestCachePolicy" /> 对象，表示应用程序的缓存要求。</span><span class="sxs-lookup"><span data-stu-id="20fd1-166">A <see cref="T:System.Net.Cache.RequestCachePolicy" /> object that represents the application's caching requirements.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="CancelAsync">
      <MemberSignature Language="C#" Value="public void CancelAsync ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void CancelAsync() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.CancelAsync" />
      <MemberSignature Language="VB.NET" Value="Public Sub CancelAsync ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void CancelAsync();" />
      <MemberSignature Language="F#" Value="member this.CancelAsync : unit -&gt; unit" Usage="webClient.CancelAsync " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="20fd1-167">取消一个挂起的异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-167">Cancels a pending asynchronous operation.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-168">如果操作挂起，则此方法 <xref:System.Net.WebRequest.Abort%2A> 将对基础调用 <xref:System.Net.WebRequest> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-168">If an operation is pending, this method calls <xref:System.Net.WebRequest.Abort%2A> on the underlying <xref:System.Net.WebRequest>.</span></span>

 > [!NOTE]
 > <span data-ttu-id="20fd1-169">从 .NET Core 2.0 开始， <xref:System.Net.WebClient.CancelAsync%2A> 如果响应已开始提取，则不会立即取消请求。</span><span class="sxs-lookup"><span data-stu-id="20fd1-169">Starting in .NET Core 2.0, <xref:System.Net.WebClient.CancelAsync%2A> doesn't cancel the request immediately if the response has started to fetch.</span></span> <span data-ttu-id="20fd1-170">要获得最佳取消行为，请使用 <xref:System.Net.Http.HttpClient> 类，而不是 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-170">For optimum cancellation behavior, use the <xref:System.Net.Http.HttpClient> class instead of <xref:System.Net.WebClient>.</span></span>

 <span data-ttu-id="20fd1-171">调用时 <xref:System.Net.WebClient.CancelAsync%2A> ，应用程序仍会接收与操作关联的完成事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-171">When you call <xref:System.Net.WebClient.CancelAsync%2A>, your application still receives the completion event associated with the operation.</span></span> <span data-ttu-id="20fd1-172">例如，当你调用 <xref:System.Net.WebClient.CancelAsync%2A> 以取消操作时 <xref:System.Net.WebClient.DownloadStringAsync%2A> ，如果已为事件指定事件处理程序，则 <xref:System.Net.WebClient.DownloadStringCompleted> 事件处理程序将收到操作已结束的通知。</span><span class="sxs-lookup"><span data-stu-id="20fd1-172">For example, when you call <xref:System.Net.WebClient.CancelAsync%2A> to cancel a <xref:System.Net.WebClient.DownloadStringAsync%2A> operation, if you have specified an event handler for the <xref:System.Net.WebClient.DownloadStringCompleted> event, your event handler receives notification that the operation has ended.</span></span> <span data-ttu-id="20fd1-173">若要了解操作是否已成功完成，请检查 <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> <xref:System.Net.DownloadDataCompletedEventArgs> 传递到事件处理程序的事件数据对象中的基类的属性。</span><span class="sxs-lookup"><span data-stu-id="20fd1-173">To learn whether the operation completed successfully, check the <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> property on the base class of <xref:System.Net.DownloadDataCompletedEventArgs> in the event data object passed to the event handler.</span></span>

 <span data-ttu-id="20fd1-174">如果没有正在进行的异步操作，则此方法不执行任何操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-174">If no asynchronous operation is in progress, this method does nothing.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Credentials">
      <MemberSignature Language="C#" Value="public System.Net.ICredentials? Credentials { get; set; }" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.ICredentials Credentials" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.Credentials" />
      <MemberSignature Language="VB.NET" Value="Public Property Credentials As ICredentials" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::ICredentials ^ Credentials { System::Net::ICredentials ^ get(); void set(System::Net::ICredentials ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Credentials : System.Net.ICredentials with get, set" Usage="System.Net.WebClient.Credentials" />
      <MemberSignature Language="C#" Value="public System.Net.ICredentials Credentials { get; set; }" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Net.ICredentials</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-175">获取或设置发送到主机并用于对请求进行身份验证的网络凭据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-175">Gets or sets the network credentials that are sent to the host and used to authenticate the request.</span></span></summary>
        <value><span data-ttu-id="20fd1-176">一个 <see cref="T:System.Net.ICredentials" />，包含该请求的身份验证凭据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-176">An <see cref="T:System.Net.ICredentials" /> containing the authentication credentials for the request.</span></span> <span data-ttu-id="20fd1-177">默认值为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-177">The default is <see langword="null" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-178"><xref:System.Net.WebClient.Credentials%2A>属性包含用于访问主机上的资源的身份验证凭据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-178">The <xref:System.Net.WebClient.Credentials%2A> property contains the authentication credentials used to access a resource on a host.</span></span> <span data-ttu-id="20fd1-179">在大多数客户端方案中，应使用 <xref:System.Net.CredentialCache.DefaultCredentials%2A> ，这是当前已登录用户的凭据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-179">In most client-side scenarios, you should use the <xref:System.Net.CredentialCache.DefaultCredentials%2A>, which are the credentials of the currently logged on user.</span></span> <span data-ttu-id="20fd1-180">为此，请将 <xref:System.Net.WebClient.UseDefaultCredentials%2A> 属性设置为， `true` 而不是设置此属性。</span><span class="sxs-lookup"><span data-stu-id="20fd1-180">To do this, set the <xref:System.Net.WebClient.UseDefaultCredentials%2A> property to `true` instead of setting this property.</span></span>

 <span data-ttu-id="20fd1-181">如果 <xref:System.Net.WebClient> 类正用于中间层应用程序（如 ASP.NET 应用程序），则 <xref:System.Net.CredentialCache.DefaultCredentials%2A> 属于运行 ASP 页的帐户 (服务器端凭据) 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-181">If the <xref:System.Net.WebClient> class is being used in a middle tier application, such as an ASP.NET application, the <xref:System.Net.CredentialCache.DefaultCredentials%2A> belong to the account running the ASP page (the server-side credentials).</span></span> <span data-ttu-id="20fd1-182">通常情况下，会将此属性设置为代表其发出请求的客户端的凭据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-182">Typically, you would set this property to the credentials of the client on whose behalf the request is made.</span></span>

 <span data-ttu-id="20fd1-183">出于安全原因，在自动重定向后，将需要包含在重定向中的凭据存储在中， <xref:System.Net.CredentialCache> 并将其分配给此属性。</span><span class="sxs-lookup"><span data-stu-id="20fd1-183">For security reasons, when automatically following redirects, store the credentials that you want to be included in the redirect in a <xref:System.Net.CredentialCache> and assign it to this property.</span></span> <span data-ttu-id="20fd1-184">如果此属性 `null` 包含除之外的任何内容，则此属性将在重定向时自动设置为 <xref:System.Net.CredentialCache> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-184">This property will automatically be set to `null` upon redirection if it contains anything except a <xref:System.Net.CredentialCache>.</span></span> <span data-ttu-id="20fd1-185">在这些条件下，将此属性值自动设置为会 `null` 阻止将凭据发送到任何意外的目标。</span><span class="sxs-lookup"><span data-stu-id="20fd1-185">Having this property value be automatically set to `null` under those conditions prevents credentials from being sent to any unintended destination.</span></span>

## Examples
 <span data-ttu-id="20fd1-186">下面的代码示例使用用户的系统凭据来对请求进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="20fd1-186">The following code example uses the user's system credentials to authenticate a request.</span></span>

 [!code-cpp[WebClientAuthentication#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClientAuthentication/CPP/webclientauth.cpp#1)]
 [!code-csharp[WebClientAuthentication#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClientAuthentication/CS/webclientauth.cs#1)]
 [!code-vb[WebClientAuthentication#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClientAuthentication/VB/webclientauth.vb#1)]

 ]]></format>
        </remarks>
        <altmember cref="T:System.Net.NetworkCredential" />
        <altmember cref="T:System.Net.CredentialCache" />
        <altmember cref="P:System.Net.WebRequest.Credentials" />
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadData">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-187">从指定 URI 下载资源作为 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-187">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadData">
      <MemberSignature Language="C#" Value="public byte[] DownloadData (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] DownloadData(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadData(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadData (address As String) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ DownloadData(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadData : string -&gt; byte[]" Usage="webClient.DownloadData address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-188">从中下载数据的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-188">The URI from which to download data.</span></span></param>
        <summary><span data-ttu-id="20fd1-189">从指定 URI 下载资源作为 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-189">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified.</span></span></summary>
        <returns><span data-ttu-id="20fd1-190">一个 <see cref="T:System.Byte" /> 数组，其中包含下载的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-190">A <see cref="T:System.Byte" /> array containing the downloaded resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-191"><xref:System.Net.WebClient.DownloadData%2A>方法使用参数指定的 URI 下载资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-191">The <xref:System.Net.WebClient.DownloadData%2A> method downloads the resource with the URI specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-192">此方法在下载资源时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-192">This method blocks while downloading the resource.</span></span> <span data-ttu-id="20fd1-193">若要下载资源并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.DownloadDataAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-193">To download a resource and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-194">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-194">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-195">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-195">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-196">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-196">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-197">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-197">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-198">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-198">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-199">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-199">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-200">下面的代码示例请求服务器中的数据，并显示返回的数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-200">The following code example requests data from a server and displays the data returned.</span></span> <span data-ttu-id="20fd1-201">它假定 `remoteUri` 包含所请求数据的有效 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-201">It assumes that `remoteUri` contains a valid URI for the requested data.</span></span>

 [!code-cpp[WebClient_DownloadData#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_DownloadData/CPP/webclient_downloaddata.cpp#1)]
 [!code-csharp[WebClient_DownloadData#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_DownloadData/CS/webclient_downloaddata.cs#1)]
 [!code-vb[WebClient_DownloadData#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_DownloadData/VB/webclient_downloaddata.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-202"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-202">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-203">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-203">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-204">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-204">-or-</span></span>

<span data-ttu-id="20fd1-205">下载数据时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-205">An error occurred while downloading data.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="20fd1-206">该方法已在多个线程上同时调用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-206">The method has been called simultaneously on multiple threads.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadData">
      <MemberSignature Language="C#" Value="public byte[] DownloadData (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] DownloadData(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadData(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadData (address As Uri) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ DownloadData(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadData : Uri -&gt; byte[]" Usage="webClient.DownloadData address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-207">由 <see cref="T:System.Uri" /> 对象表示的 URI，可从中下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-207">The URI represented by the <see cref="T:System.Uri" /> object, from which to download data.</span></span></param>
        <summary><span data-ttu-id="20fd1-208">从指定 URI 下载资源作为 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-208">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified.</span></span></summary>
        <returns><span data-ttu-id="20fd1-209">一个 <see cref="T:System.Byte" /> 数组，其中包含下载的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-209">A <see cref="T:System.Byte" /> array containing the downloaded resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-210"><xref:System.Net.WebClient.DownloadData%2A>方法使用参数指定的 URI 下载资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-210">The <xref:System.Net.WebClient.DownloadData%2A> method downloads the resource with the URI specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-211">此方法在下载资源时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-211">This method blocks while downloading the resource.</span></span> <span data-ttu-id="20fd1-212">若要下载资源并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.DownloadDataAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-212">To download a resource and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-213">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-213">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-214">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-214">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-215">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-215">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-216">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-216">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-217">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-217">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-218">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-218">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-219"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-219">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadDataAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-220">从指定 URI 中将资源作为 <see cref="T:System.Byte" /> 数组下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-220">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified as an asynchronous operation.</span></span> <span data-ttu-id="20fd1-221">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-221">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadDataAsync">
      <MemberSignature Language="C#" Value="public void DownloadDataAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadDataAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadDataAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadDataAsync (address As Uri)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadDataAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadDataAsync : Uri -&gt; unit" Usage="webClient.DownloadDataAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-222">包含要下载的 URI 的 <see cref="T:System.Uri" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-222">A <see cref="T:System.Uri" /> containing the URI to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-223">从指定 URI 中将资源作为 <see cref="T:System.Byte" /> 数组下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-223">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified as an asynchronous operation.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-224">此方法使用与中指定的 URI 方案关联的协议的默认方法检索指定的资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-224">This method retrieves the specified resource using the default method for the protocol associated with the URI scheme specified in `address`.</span></span> <span data-ttu-id="20fd1-225">使用自动从线程池分配的线程资源异步下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-225">The data is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-226">此方法在下载资源时不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-226">This method does not block the calling thread while downloading the resource.</span></span> <span data-ttu-id="20fd1-227">若要下载资源并在等待服务器响应时阻止，请使用其中一种 <xref:System.Net.WebClient.DownloadData%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-227">To download a resource and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadData%2A> methods.</span></span> <span data-ttu-id="20fd1-228">下载完成后， <xref:System.Net.WebClient.DownloadDataCompleted> 会引发事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-228">When the download completes, the <xref:System.Net.WebClient.DownloadDataCompleted> event is raised.</span></span> <span data-ttu-id="20fd1-229">应用程序必须处理此事件才能接收通知。</span><span class="sxs-lookup"><span data-stu-id="20fd1-229">Your application must handle this event to receive notification.</span></span> <span data-ttu-id="20fd1-230">已下载的数据在属性中可用 <xref:System.Net.DownloadDataCompletedEventArgs.Result%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-230">The downloaded data is available in the <xref:System.Net.DownloadDataCompletedEventArgs.Result%2A> property.</span></span>

 <span data-ttu-id="20fd1-231">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-231">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-232">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-232">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-233">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-233">For an HTTP resource, the GET method is used.</span></span>

 <span data-ttu-id="20fd1-234">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-234">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-235">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-235">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-236">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-236">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-237">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-237">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-238"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-238">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-239">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-239">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-240">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-240">-or-</span></span>

<span data-ttu-id="20fd1-241">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-241">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadDataAsync">
      <MemberSignature Language="C#" Value="public void DownloadDataAsync (Uri address, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadDataAsync(class System.Uri address, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadDataAsync(System.Uri,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadDataAsync (address As Uri, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadDataAsync(Uri ^ address, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.DownloadDataAsync : Uri * obj -&gt; unit" Usage="webClient.DownloadDataAsync (address, userToken)" />
      <MemberSignature Language="C#" Value="public void DownloadDataAsync (Uri address, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-242">包含要下载的 URI 的 <see cref="T:System.Uri" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-242">A <see cref="T:System.Uri" /> containing the URI to download.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-243">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-243">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-244">从指定 URI 中将资源作为 <see cref="T:System.Byte" /> 数组下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-244">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified as an asynchronous operation.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-245">此方法使用与中指定的 URI 方案关联的协议的默认方法检索指定的资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-245">This method retrieves the specified resource using the default method for the protocol associated with the URI scheme specified in `address`.</span></span> <span data-ttu-id="20fd1-246">使用自动从线程池分配的线程资源异步下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-246">The data is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-247">此方法在下载资源时不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-247">This method does not block the calling thread while downloading the resource.</span></span> <span data-ttu-id="20fd1-248">若要下载资源并在等待服务器响应时阻止，请使用其中一种 <xref:System.Net.WebClient.DownloadData%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-248">To download a resource and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadData%2A> methods.</span></span> <span data-ttu-id="20fd1-249">下载完成后， <xref:System.Net.WebClient.DownloadDataCompleted> 会引发事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-249">When the download completes, the <xref:System.Net.WebClient.DownloadDataCompleted> event is raised.</span></span> <span data-ttu-id="20fd1-250">应用程序必须处理此事件才能接收通知。</span><span class="sxs-lookup"><span data-stu-id="20fd1-250">Your application must handle this event to receive notification.</span></span> <span data-ttu-id="20fd1-251">已下载的数据在属性中可用 <xref:System.Net.DownloadDataCompletedEventArgs.Result%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-251">The downloaded data is available in the <xref:System.Net.DownloadDataCompletedEventArgs.Result%2A> property.</span></span>

 <span data-ttu-id="20fd1-252">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-252">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-253">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-253">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-254">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-254">For an HTTP resource, the GET method is used.</span></span>

 <span data-ttu-id="20fd1-255">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-255">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-256">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-256">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-257">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-257">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-258">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-258">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-259"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-259">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-260">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-260">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-261">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-261">-or-</span></span>

<span data-ttu-id="20fd1-262">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-262">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadDataCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.DownloadDataCompletedEventHandler? DownloadDataCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.DownloadDataCompletedEventHandler DownloadDataCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.DownloadDataCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event DownloadDataCompleted As DownloadDataCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::DownloadDataCompletedEventHandler ^ DownloadDataCompleted;" />
      <MemberSignature Language="F#" Value="member this.DownloadDataCompleted : System.Net.DownloadDataCompletedEventHandler " Usage="member this.DownloadDataCompleted : System.Net.DownloadDataCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.DownloadDataCompletedEventHandler DownloadDataCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event DownloadDataCompleted As DownloadDataCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.DownloadDataCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-263">在异步数据下载操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-263">Occurs when an asynchronous data download operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-264">每次异步数据下载操作完成时都会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-264">This event is raised each time an asynchronous data download operation completes.</span></span> <span data-ttu-id="20fd1-265">异步数据下载通过调用方法来启动 <xref:System.Net.WebClient.DownloadDataAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-265">Asynchronous data downloads are started by calling the <xref:System.Net.WebClient.DownloadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-266"><xref:System.Net.DownloadDataCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-266">The <xref:System.Net.DownloadDataCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-267"><xref:System.Net.DownloadDataCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-267">The <xref:System.Net.DownloadDataCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-268">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-268">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-269">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-269">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#21](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#21)]
 [!code-csharp[NCLWebClientAsync#21](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#21)]
 [!code-vb[NCLWebClientAsync#21](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#21)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadDataTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-270">使用任务对象从指定 URI 中将资源作为 <see cref="T:System.Byte" /> 数组下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-270">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-271">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-271">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadDataTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; DownloadDataTaskAsync (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; DownloadDataTaskAsync(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadDataTaskAsync(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadDataTaskAsync (address As String) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ DownloadDataTaskAsync(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadDataTaskAsync : string -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.DownloadDataTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-272">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-272">The URI of the resource to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-273">使用任务对象从指定 URI 中将资源作为 <see cref="T:System.Byte" /> 数组下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-273">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-274">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-274">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-275">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含下载的资源的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-275">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the downloaded resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-276">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-276">This operation will not block.</span></span> <span data-ttu-id="20fd1-277"><xref:System.Threading.Tasks.Task%601>下载数据资源后，将完成返回的对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-277">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the data resource has been downloaded.</span></span>

 <span data-ttu-id="20fd1-278">此方法使用与参数中指定的 URI 方案关联的协议的默认方法检索指定的资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-278">This method retrieves the specified resource using the default method for the protocol associated with the URI scheme specified in the `address` parameter.</span></span> <span data-ttu-id="20fd1-279">使用自动从线程池分配的线程资源异步下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-279">The data is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-280">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-280">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-281">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-281">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-282">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-282">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-283">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-283">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-284">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-284">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-285">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-285">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-286">下面的代码示例请求服务器中的数据，并显示返回的数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-286">The following code example requests data from a server and displays the data returned.</span></span> <span data-ttu-id="20fd1-287">它假定 `remoteUri` 包含所请求数据的有效 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-287">It assumes that `remoteUri` contains a valid URI for the requested data.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-288"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-288">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-289">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-289">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-290">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-290">-or-</span></span>

<span data-ttu-id="20fd1-291">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-291">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadDataTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; DownloadDataTaskAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; DownloadDataTaskAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadDataTaskAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadDataTaskAsync (address As Uri) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ DownloadDataTaskAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadDataTaskAsync : Uri -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.DownloadDataTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-292">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-292">The URI of the resource to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-293">使用任务对象从指定 URI 中将资源作为 <see cref="T:System.Byte" /> 数组下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-293">Downloads the resource as a <see cref="T:System.Byte" /> array from the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-294">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-294">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-295">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含下载的资源的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-295">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the downloaded resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-296">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-296">This operation will not block.</span></span> <span data-ttu-id="20fd1-297"><xref:System.Threading.Tasks.Task%601>下载数据资源后，将完成返回的对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-297">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the data resource has been downloaded.</span></span>

 <span data-ttu-id="20fd1-298">此方法使用与参数中指定的 URI 方案关联的协议的默认方法检索指定的资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-298">This method retrieves the specified resource using the default method for the protocol associated with the URI scheme specified in the `address` parameter.</span></span> <span data-ttu-id="20fd1-299">使用自动从线程池分配的线程资源异步下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-299">The data is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-300">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-300">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-301">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-301">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-302">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-302">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-303">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-303">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-304">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-304">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-305">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-305">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-306"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-306">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-307">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-307">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-308">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-308">-or-</span></span>

<span data-ttu-id="20fd1-309">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-309">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadFile">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-310">将具有指定 URI 的资源下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-310">Downloads the resource with the specified URI to a local file.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadFile">
      <MemberSignature Language="C#" Value="public void DownloadFile (string address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadFile(string address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadFile(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadFile (address As String, fileName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadFile(System::String ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.DownloadFile : string * string -&gt; unit" Usage="webClient.DownloadFile (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="fileName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-311">从中下载数据的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-311">The URI from which to download data.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-312">要接收数据的本地文件的名称。</span><span class="sxs-lookup"><span data-stu-id="20fd1-312">The name of the local file that is to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-313">将具有指定 URI 的资源下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-313">Downloads the resource with the specified URI to a local file.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-314"><xref:System.Net.WebClient.DownloadFile%2A>方法从参数中指定的 URI 下载到本地文件数据 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-314">The <xref:System.Net.WebClient.DownloadFile%2A> method downloads to a local file data from the URI specified by in the `address` parameter.</span></span> <span data-ttu-id="20fd1-315">此方法在下载资源时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-315">This method blocks while downloading the resource.</span></span> <span data-ttu-id="20fd1-316">若要下载资源并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.DownloadFileAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-316">To download a resource and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-317">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-317">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-318">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-318">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-319">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-319">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-320">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-320">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-321">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-321">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-322">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-322">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-323">在中间层应用程序中使用此方法时，例如 ASP.NET 页，如果执行应用程序的帐户没有访问该文件的权限，则会收到错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-323">When using this method in a middle tier application, such as an ASP.NET page, you will receive an error if the account under which the application executes does not have permission to access the file.</span></span>

## Examples
 <span data-ttu-id="20fd1-324">下面的代码示例将文件从下载 http://www.contoso.com 到本地硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="20fd1-324">The following code example downloads a file from http://www.contoso.com to the local hard drive.</span></span>

 [!code-cpp[WebClient_DownloadFile#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_DownloadFile/CPP/webclient_downloadfile.cpp#1)]
 [!code-csharp[WebClient_DownloadFile#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_DownloadFile/CS/webclient_downloadfile.cs#1)]
 [!code-vb[WebClient_DownloadFile#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_DownloadFile/VB/webclient_downloadfile.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-325"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-325">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-326">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-326">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-327">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-327">-or-</span></span>

 <span data-ttu-id="20fd1-328"><paramref name="filename" /> 是 <see langword="null" /> 或 <see cref="F:System.String.Empty" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-328"><paramref name="filename" /> is <see langword="null" /> or <see cref="F:System.String.Empty" />.</span></span>

<span data-ttu-id="20fd1-329">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-329">-or-</span></span>

<span data-ttu-id="20fd1-330">文件不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-330">The file does not exist.</span></span>

<span data-ttu-id="20fd1-331">- 或 - 下载数据时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-331">-or- An error occurred while downloading data.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="20fd1-332">该方法已在多个线程上同时调用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-332">The method has been called simultaneously on multiple threads.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadFile">
      <MemberSignature Language="C#" Value="public void DownloadFile (Uri address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadFile(class System.Uri address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadFile(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadFile (address As Uri, fileName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadFile(Uri ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.DownloadFile : Uri * string -&gt; unit" Usage="webClient.DownloadFile (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-333">以 <see cref="T:System.String" /> 形式指定的 URI，将从中下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-333">The URI specified as a <see cref="T:System.String" />, from which to download data.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-334">要接收数据的本地文件的名称。</span><span class="sxs-lookup"><span data-stu-id="20fd1-334">The name of the local file that is to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-335">将具有指定 URI 的资源下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-335">Downloads the resource with the specified URI to a local file.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-336"><xref:System.Net.WebClient.DownloadFile%2A>方法从参数中指定的 URI 下载到本地文件数据 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-336">The <xref:System.Net.WebClient.DownloadFile%2A> method downloads to a local file data from the URI specified by in the `address` parameter.</span></span> <span data-ttu-id="20fd1-337">此方法在下载资源时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-337">This method blocks while downloading the resource.</span></span> <span data-ttu-id="20fd1-338">若要下载资源并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.DownloadFileAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-338">To download a resource and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-339">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-339">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-340">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-340">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-341">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-341">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-342">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-342">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-343">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-343">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-344">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-344">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-345">在中间层应用程序中使用此方法时，例如 ASP.NET 页，如果执行应用程序的帐户没有访问该文件的权限，则会收到错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-345">When using this method in a middle tier application, such as an ASP.NET page, you will receive an error if the account under which the application executes does not have permission to access the file.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-346"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-346">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-347">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-347">-or-</span></span>

<span data-ttu-id="20fd1-348"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-348">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-349">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-349">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-350">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-350">-or-</span></span>

 <span data-ttu-id="20fd1-351"><paramref name="filename" /> 是 <see langword="null" /> 或 <see cref="F:System.String.Empty" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-351"><paramref name="filename" /> is <see langword="null" /> or <see cref="F:System.String.Empty" />.</span></span>

<span data-ttu-id="20fd1-352">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-352">-or-</span></span>

<span data-ttu-id="20fd1-353">文件不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-353">The file does not exist.</span></span>

<span data-ttu-id="20fd1-354">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-354">-or-</span></span>

<span data-ttu-id="20fd1-355">下载数据时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-355">An error occurred while downloading data.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="20fd1-356">该方法已在多个线程上同时调用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-356">The method has been called simultaneously on multiple threads.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadFileAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-357">将指定资源下载到本地文件以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-357">Downloads the specified resource to a local file as an asynchronous operation.</span></span> <span data-ttu-id="20fd1-358">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-358">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadFileAsync">
      <MemberSignature Language="C#" Value="public void DownloadFileAsync (Uri address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadFileAsync(class System.Uri address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadFileAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadFileAsync (address As Uri, fileName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadFileAsync(Uri ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.DownloadFileAsync : Uri * string -&gt; unit" Usage="webClient.DownloadFileAsync (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-359">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-359">The URI of the resource to download.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-360">要放在本地计算机上的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="20fd1-360">The name of the file to be placed on the local computer.</span></span></param>
        <summary><span data-ttu-id="20fd1-361">将具有指定 URI 的资源下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-361">Downloads, to a local file, the resource with the specified URI.</span></span> <span data-ttu-id="20fd1-362">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-362">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-363">此方法在参数中由指定的 URI 处下载资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-363">This method downloads the resource at the URI specified by in the `address` parameter.</span></span> <span data-ttu-id="20fd1-364">下载成功完成后，会在本地计算机上对下载的文件进行命名 `fileName` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-364">When the download completes successfully, the downloaded file is named `fileName` on the local computer.</span></span> <span data-ttu-id="20fd1-365">文件使用自动从线程池分配的线程资源进行异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-365">The file is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-366">若要在文件可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.DownloadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-366">To receive notification when the file is available, add an event handler to the <xref:System.Net.WebClient.DownloadFileCompleted> event.</span></span>

 <span data-ttu-id="20fd1-367">在下载资源时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-367">This method does not block the calling thread while the resource is being downloaded.</span></span> <span data-ttu-id="20fd1-368">若要在等待下载完成时阻止，请使用其中一种 <xref:System.Net.WebClient.DownloadFile%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-368">To block while waiting for the download to complete, use one of the <xref:System.Net.WebClient.DownloadFile%2A> methods.</span></span>

 <span data-ttu-id="20fd1-369">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-369">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-370">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-370">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-371">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-371">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-372">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-372">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-373">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-373">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-374">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-374">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-375">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-375">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-376">在 ASP.NET 页中使用此方法时，如果所执行的帐户不具有访问本地文件的权限，则会收到错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-376">When using this method in an ASP.NET page, you will receive an error if the account that the page executes under does not have permission to access the local file.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-377"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-377">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-378">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-378">-or-</span></span>

<span data-ttu-id="20fd1-379"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-379">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-380">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-380">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-381">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-381">-or-</span></span>

<span data-ttu-id="20fd1-382">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-382">An error occurred while downloading the resource.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="20fd1-383"><paramref name="fileName" /> 指定的本地文件正由另一个线程使用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-383">The local file specified by <paramref name="fileName" /> is in use by another thread.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadFileAsync">
      <MemberSignature Language="C#" Value="public void DownloadFileAsync (Uri address, string fileName, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadFileAsync(class System.Uri address, string fileName, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadFileAsync(System.Uri,System.String,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadFileAsync (address As Uri, fileName As String, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadFileAsync(Uri ^ address, System::String ^ fileName, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.DownloadFileAsync : Uri * string * obj -&gt; unit" Usage="webClient.DownloadFileAsync (address, fileName, userToken)" />
      <MemberSignature Language="C#" Value="public void DownloadFileAsync (Uri address, string fileName, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-384">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-384">The URI of the resource to download.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-385">要放在本地计算机上的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="20fd1-385">The name of the file to be placed on the local computer.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-386">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-386">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-387">将具有指定 URI 的资源下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-387">Downloads, to a local file, the resource with the specified URI.</span></span> <span data-ttu-id="20fd1-388">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-388">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-389">此方法在参数中由指定的 URI 处下载资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-389">This method downloads the resource at the URI specified by in the `address` parameter.</span></span> <span data-ttu-id="20fd1-390">下载成功完成后，会在本地计算机上对下载的文件进行命名 `fileName` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-390">When the download completes successfully, the downloaded file is named `fileName` on the local computer.</span></span> <span data-ttu-id="20fd1-391">文件使用自动从线程池分配的线程资源进行异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-391">The file is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-392">若要在文件可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.DownloadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-392">To receive notification when the file is available, add an event handler to the <xref:System.Net.WebClient.DownloadFileCompleted> event.</span></span>

 <span data-ttu-id="20fd1-393">在下载资源时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-393">This method does not block the calling thread while the resource is being downloaded.</span></span> <span data-ttu-id="20fd1-394">若要在等待下载完成时阻止，请使用其中一种 <xref:System.Net.WebClient.DownloadFile%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-394">To block while waiting for the download to complete, use one of the <xref:System.Net.WebClient.DownloadFile%2A> methods.</span></span>

 <span data-ttu-id="20fd1-395">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-395">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-396">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-396">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-397">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-397">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-398">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-398">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-399">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-399">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-400">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-400">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-401">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-401">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-402">在 ASP.NET 页中使用此方法时，如果所执行的帐户不具有访问本地文件的权限，则会收到错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-402">When using this method in an ASP.NET page, you will receive an error if the account that the page executes under does not have permission to access the local file.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-403"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-403">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-404">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-404">-or-</span></span>

<span data-ttu-id="20fd1-405"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-405">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-406">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-406">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-407">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-407">-or-</span></span>

<span data-ttu-id="20fd1-408">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-408">An error occurred while downloading the resource.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="20fd1-409"><paramref name="fileName" /> 指定的本地文件正由另一个线程使用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-409">The local file specified by <paramref name="fileName" /> is in use by another thread.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadFileCompleted">
      <MemberSignature Language="C#" Value="public event System.ComponentModel.AsyncCompletedEventHandler? DownloadFileCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.ComponentModel.AsyncCompletedEventHandler DownloadFileCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.DownloadFileCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event DownloadFileCompleted As AsyncCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::ComponentModel::AsyncCompletedEventHandler ^ DownloadFileCompleted;" />
      <MemberSignature Language="F#" Value="member this.DownloadFileCompleted : System.ComponentModel.AsyncCompletedEventHandler " Usage="member this.DownloadFileCompleted : System.ComponentModel.AsyncCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.ComponentModel.AsyncCompletedEventHandler DownloadFileCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event DownloadFileCompleted As AsyncCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ComponentModel.AsyncCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-410">在异步文件下载操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-410">Occurs when an asynchronous file download operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-411">每次异步文件下载操作完成时都会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-411">This event is raised each time an asynchronous file download operation completes.</span></span> <span data-ttu-id="20fd1-412">异步文件下载通过调用方法来启动 <xref:System.Net.WebClient.DownloadFileAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-412">Asynchronous file downloads are started by calling the <xref:System.Net.WebClient.DownloadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-413"><xref:System.ComponentModel.AsyncCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-413">The <xref:System.ComponentModel.AsyncCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-414"><xref:System.ComponentModel.AsyncCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-414">The <xref:System.ComponentModel.AsyncCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-415">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-415">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

## Examples
 <span data-ttu-id="20fd1-416">下面的代码示例演示如何设置事件的事件处理程序 `DownloadFileCompleted` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-416">The following code example demonstrates setting an event handler for the `DownloadFileCompleted` event.</span></span>

 [!code-cpp[NCLWebClientAsync#19](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#19)]
 [!code-csharp[NCLWebClientAsync#19](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#19)]
 [!code-vb[NCLWebClientAsync#19](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#19)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadFileTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-417">使用任务对象将指定资源下载到本地文件以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-417">Downloads the specified resource to a local file as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-418">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-418">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadFileTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task DownloadFileTaskAsync (string address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task DownloadFileTaskAsync(string address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadFileTaskAsync(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadFileTaskAsync (address As String, fileName As String) As Task" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task ^ DownloadFileTaskAsync(System::String ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.DownloadFileTaskAsync : string * string -&gt; System.Threading.Tasks.Task" Usage="webClient.DownloadFileTaskAsync (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-419">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-419">The URI of the resource to download.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-420">要放在本地计算机上的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="20fd1-420">The name of the file to be placed on the local computer.</span></span></param>
        <summary><span data-ttu-id="20fd1-421">使用任务对象将指定资源下载到本地文件以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-421">Downloads the specified resource to a local file as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-422">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-422">The task object representing the asynchronous operation.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-423">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-423">This operation will not block.</span></span> <span data-ttu-id="20fd1-424"><xref:System.Threading.Tasks.Task>下载数据资源后，将完成返回的对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-424">The returned <xref:System.Threading.Tasks.Task> object will complete after the data resource has been downloaded.</span></span>

 <span data-ttu-id="20fd1-425">此方法在参数中由指定的 URI 处下载资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-425">This method downloads the resource at the URI specified by in the `address` parameter.</span></span> <span data-ttu-id="20fd1-426">下载成功完成后，会在本地计算机上对下载的文件进行命名 `fileName` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-426">When the download completes successfully, the downloaded file is named `fileName` on the local computer.</span></span> <span data-ttu-id="20fd1-427">文件使用自动从线程池分配的线程资源进行异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-427">The file is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-428">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-428">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-429">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-429">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-430">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-430">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-431">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-431">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-432">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-432">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-433">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-433">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-434">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-434">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-435">在 ASP.NET 页中使用此方法时，如果所执行的帐户不具有访问本地文件的权限，则会收到错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-435">When using this method in an ASP.NET page, you will receive an error if the account that the page executes under does not have permission to access the local file.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-436"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-436">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-437">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-437">-or-</span></span>

<span data-ttu-id="20fd1-438"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-438">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-439">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-439">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-440">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-440">-or-</span></span>

<span data-ttu-id="20fd1-441">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-441">An error occurred while downloading the resource.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="20fd1-442"><paramref name="fileName" /> 指定的本地文件正由另一个线程使用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-442">The local file specified by <paramref name="fileName" /> is in use by another thread.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadFileTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task DownloadFileTaskAsync (Uri address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task DownloadFileTaskAsync(class System.Uri address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadFileTaskAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadFileTaskAsync (address As Uri, fileName As String) As Task" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task ^ DownloadFileTaskAsync(Uri ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.DownloadFileTaskAsync : Uri * string -&gt; System.Threading.Tasks.Task" Usage="webClient.DownloadFileTaskAsync (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-443">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-443">The URI of the resource to download.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-444">要放在本地计算机上的文件的名称。</span><span class="sxs-lookup"><span data-stu-id="20fd1-444">The name of the file to be placed on the local computer.</span></span></param>
        <summary><span data-ttu-id="20fd1-445">使用任务对象将指定资源下载到本地文件以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-445">Downloads the specified resource to a local file as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-446">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-446">The task object representing the asynchronous operation.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-447">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-447">This operation will not block.</span></span> <span data-ttu-id="20fd1-448"><xref:System.Threading.Tasks.Task>下载数据资源后，将完成返回的对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-448">The returned <xref:System.Threading.Tasks.Task> object will complete after the data resource has been downloaded.</span></span>

 <span data-ttu-id="20fd1-449">此方法在参数中由指定的 URI 处下载资源 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-449">This method downloads the resource at the URI specified by in the `address` parameter.</span></span> <span data-ttu-id="20fd1-450">下载成功完成后，会在本地计算机上对下载的文件进行命名 `fileName` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-450">When the download completes successfully, the downloaded file is named `fileName` on the local computer.</span></span> <span data-ttu-id="20fd1-451">文件使用自动从线程池分配的线程资源进行异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-451">The file is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-452">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-452">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-453">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-453">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-454">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-454">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-455">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-455">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-456">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-456">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-457">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-457">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-458">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-458">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 <span data-ttu-id="20fd1-459">在 ASP.NET 页中使用此方法时，如果所执行的帐户不具有访问本地文件的权限，则会收到错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-459">When using this method in an ASP.NET page, you will receive an error if the account that the page executes under does not have permission to access the local file.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-460"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-460">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-461">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-461">-or-</span></span>

<span data-ttu-id="20fd1-462"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-462">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-463">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-463">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-464">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-464">-or-</span></span>

<span data-ttu-id="20fd1-465">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-465">An error occurred while downloading the resource.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="20fd1-466"><paramref name="fileName" /> 指定的本地文件正由另一个线程使用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-466">The local file specified by <paramref name="fileName" /> is in use by another thread.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadProgressChanged">
      <MemberSignature Language="C#" Value="public event System.Net.DownloadProgressChangedEventHandler? DownloadProgressChanged;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.DownloadProgressChangedEventHandler DownloadProgressChanged" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.DownloadProgressChanged" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event DownloadProgressChanged As DownloadProgressChangedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::DownloadProgressChangedEventHandler ^ DownloadProgressChanged;" />
      <MemberSignature Language="F#" Value="member this.DownloadProgressChanged : System.Net.DownloadProgressChangedEventHandler " Usage="member this.DownloadProgressChanged : System.Net.DownloadProgressChangedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.DownloadProgressChangedEventHandler DownloadProgressChanged;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event DownloadProgressChanged As DownloadProgressChangedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.DownloadProgressChangedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-467">在异步下载操作成功传输部分或全部数据后发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-467">Occurs when an asynchronous download operation successfully transfers some or all of the data.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-468">此事件在每次异步下载执行进度时引发。</span><span class="sxs-lookup"><span data-stu-id="20fd1-468">This event is raised each time an asynchronous download makes progress.</span></span> <span data-ttu-id="20fd1-469">使用以下任一方法启动下载时，将引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-469">This event is raised when downloads are started using any of the following methods.</span></span>

|<span data-ttu-id="20fd1-470">方法</span><span class="sxs-lookup"><span data-stu-id="20fd1-470">Method</span></span>|<span data-ttu-id="20fd1-471">说明</span><span class="sxs-lookup"><span data-stu-id="20fd1-471">Description</span></span>|
|------------|-----------------|
|<xref:System.Net.WebClient.DownloadDataAsync%2A>|<span data-ttu-id="20fd1-472">从资源下载数据并返回 <xref:System.Byte> 数组，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-472">Downloads data from a resource and returns a <xref:System.Byte> array, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.DownloadFileAsync%2A>|<span data-ttu-id="20fd1-473">将数据从资源下载到本地文件，而不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-473">Downloads data from a resource to a local file, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.OpenReadAsync%2A>|<span data-ttu-id="20fd1-474">返回资源中的数据，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-474">Returns the data from a resource, without blocking the calling thread.</span></span>|

 <span data-ttu-id="20fd1-475"><xref:System.Net.DownloadProgressChangedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-475">The <xref:System.Net.DownloadProgressChangedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-476"><xref:System.Net.DownloadProgressChangedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-476">The <xref:System.Net.DownloadProgressChangedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-477">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-477">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-478">被动 FTP 文件传输将始终显示进度百分比为零，因为服务器未发送文件大小。</span><span class="sxs-lookup"><span data-stu-id="20fd1-478">A passive FTP file transfer will always show a progress percentage of zero, since the server did not send the file size.</span></span> <span data-ttu-id="20fd1-479">若要显示进度，可以通过重写虚拟方法将 FTP 连接更改为活动 <xref:System.Web.Services.Protocols.WebClientProtocol.GetWebRequest(System.Uri)> ：</span><span class="sxs-lookup"><span data-stu-id="20fd1-479">To show progress, you can change the FTP connection to active by overriding the <xref:System.Web.Services.Protocols.WebClientProtocol.GetWebRequest(System.Uri)> virtual method:</span></span>

```csharp
internal class MyWebClient : WebClientProtocol
{
    protected override WebRequest GetWebRequest(Uri address)
    {
        FtpWebRequest req = (FtpWebRequest)base.GetWebRequest(address);
        req.UsePassive = false;
        return req;
    }
}
```

## Examples
 <span data-ttu-id="20fd1-480">下面的代码示例演示如何设置事件的事件处理程序 `DownloadProgressChanged` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-480">The following code example demonstrates setting an event handler for the `DownloadProgressChanged` event.</span></span>

[!code-cpp[DownloadProgressChanged](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#SnippetDownloadProgressChanged)]
[!code-csharp[DownloadProgressChanged](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#SnippetDownloadProgressChanged)]
[!code-vb[DownloadProgressChanged](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#SnippetDownloadProgressChanged)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadString">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-481">以 <see cref="T:System.String" /> 形式下载请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-481">Downloads the requested resource as a <see cref="T:System.String" />.</span></span> <span data-ttu-id="20fd1-482">可以以包含 URI 的 <see cref="T:System.String" /> 或 <see cref="T:System.Uri" /> 的形式指定要下载的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-482">The resource to download may be specified as either <see cref="T:System.String" /> containing the URI or a <see cref="T:System.Uri" />.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadString">
      <MemberSignature Language="C#" Value="public string DownloadString (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string DownloadString(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadString(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadString (address As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ DownloadString(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadString : string -&gt; string" Usage="webClient.DownloadString address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-483">包含要下载的 URI 的 <see cref="T:System.String" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-483">A <see cref="T:System.String" /> containing the URI to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-484">以 <see cref="T:System.String" /> 形式下载请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-484">Downloads the requested resource as a <see cref="T:System.String" />.</span></span> <span data-ttu-id="20fd1-485">以包含 URI 的 <see cref="T:System.String" /> 的形式指定要下载的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-485">The resource to download is specified as a <see cref="T:System.String" /> containing the URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-486">一个 <see cref="T:System.String" />，其中包含请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-486">A <see cref="T:System.String" /> containing the requested resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-487">此方法检索指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-487">This method retrieves the specified resource.</span></span> <span data-ttu-id="20fd1-488">下载资源后，该方法将使用在属性中指定的编码 <xref:System.Net.WebClient.Encoding%2A> 将资源转换为 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-488">After it downloads the resource, the method uses the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property to convert the resource to a <xref:System.String>.</span></span> <span data-ttu-id="20fd1-489">此方法在下载资源时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-489">This method blocks while downloading the resource.</span></span> <span data-ttu-id="20fd1-490">若要下载资源并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.DownloadStringAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-490">To download a resource and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-491">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-491">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-492">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-492">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-493">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-493">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-494">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-494">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-495">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-495">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-496">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-496">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-497">下面的代码示例演示如何调用此方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-497">The following code example demonstrates calling this method.</span></span>

 [!code-cpp[NCLWebClientAsync#25](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#25)]
 [!code-csharp[NCLWebClientAsync#25](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#25)]
 [!code-vb[NCLWebClientAsync#25](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#25)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-498"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-498">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-499">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-499">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-500">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-500">-or-</span></span>

<span data-ttu-id="20fd1-501">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-501">An error occurred while downloading the resource.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="20fd1-502">该方法已在多个线程上同时调用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-502">The method has been called simultaneously on multiple threads.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadString">
      <MemberSignature Language="C#" Value="public string DownloadString (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string DownloadString(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadString(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadString (address As Uri) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ DownloadString(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadString : Uri -&gt; string" Usage="webClient.DownloadString address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-503">一个 <see cref="T:System.Uri" /> 对象，其中包含要下载的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-503">A <see cref="T:System.Uri" /> object containing the URI to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-504">以 <see cref="T:System.String" /> 形式下载请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-504">Downloads the requested resource as a <see cref="T:System.String" />.</span></span> <span data-ttu-id="20fd1-505">以 <see cref="T:System.Uri" /> 形式指定要下载的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-505">The resource to download is specified as a <see cref="T:System.Uri" />.</span></span></summary>
        <returns><span data-ttu-id="20fd1-506">一个 <see cref="T:System.String" />，其中包含请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-506">A <see cref="T:System.String" /> containing the requested resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-507">此方法检索指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-507">This method retrieves the specified resource.</span></span> <span data-ttu-id="20fd1-508">下载资源后，该方法将使用在属性中指定的编码 <xref:System.Net.WebClient.Encoding%2A> 将资源转换为 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-508">After it downloads the resource, the method uses the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property to convert the resource to a <xref:System.String>.</span></span> <span data-ttu-id="20fd1-509">此方法在下载资源时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-509">This method blocks while downloading the resource.</span></span> <span data-ttu-id="20fd1-510">若要下载资源并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.DownloadStringAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-510">To download a resource and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.DownloadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-511">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-511">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-512">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-512">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-513">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-513">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-514">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-514">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-515">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-515">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-516">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-516">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-517"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-517">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-518">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-518">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-519">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-519">-or-</span></span>

<span data-ttu-id="20fd1-520">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-520">An error occurred while downloading the resource.</span></span></exception>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="20fd1-521">该方法已在多个线程上同时调用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-521">The method has been called simultaneously on multiple threads.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadStringAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-522">下载以 <see cref="T:System.String" /> 或 <see cref="T:System.Uri" /> 形式指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-522">Downloads the resource specified as a <see cref="T:System.String" /> or a <see cref="T:System.Uri" />.</span></span> <span data-ttu-id="20fd1-523">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-523">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadStringAsync">
      <MemberSignature Language="C#" Value="public void DownloadStringAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadStringAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadStringAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadStringAsync (address As Uri)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadStringAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadStringAsync : Uri -&gt; unit" Usage="webClient.DownloadStringAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-524">包含要下载的 URI 的 <see cref="T:System.Uri" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-524">A <see cref="T:System.Uri" /> containing the URI to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-525">下载以 <see cref="T:System.Uri" /> 形式指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-525">Downloads the resource specified as a <see cref="T:System.Uri" />.</span></span> <span data-ttu-id="20fd1-526">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-526">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-527">资源使用自动从线程池分配的线程资源异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-527">The resource is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-528">下载资源后，此方法将使用在属性中指定的编码 <xref:System.Net.WebClient.Encoding%2A> 将资源转换为 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-528">After downloading the resource, this method uses the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property to convert the resource to a <xref:System.String>.</span></span> <span data-ttu-id="20fd1-529">此方法在下载资源时不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-529">This method does not block the calling thread while downloading the resource.</span></span> <span data-ttu-id="20fd1-530">若要下载资源并在等待服务器响应时阻止，请使用 <xref:System.Net.WebClient.DownloadString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-530">To download a resource and block while waiting for the server's response, use the <xref:System.Net.WebClient.DownloadString%2A> method.</span></span> <span data-ttu-id="20fd1-531">下载完成后， <xref:System.Net.WebClient.DownloadStringCompleted> 会引发事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-531">When the download completes, the <xref:System.Net.WebClient.DownloadStringCompleted> event is raised.</span></span> <span data-ttu-id="20fd1-532">应用程序必须处理此事件才能接收通知。</span><span class="sxs-lookup"><span data-stu-id="20fd1-532">Your application must handle this event to receive notification.</span></span> <span data-ttu-id="20fd1-533">下载的字符串在属性中提供 <xref:System.Net.DownloadStringCompletedEventArgs.Result%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-533">The downloaded string is available in the <xref:System.Net.DownloadStringCompletedEventArgs.Result%2A> property.</span></span>

 <span data-ttu-id="20fd1-534">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-534">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-535">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-535">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-536">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-536">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-537">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-537">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-538">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-538">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-539">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-539">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-540">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-540">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-541"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-541">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-542">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-542">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-543">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-543">-or-</span></span>

<span data-ttu-id="20fd1-544">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-544">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadStringAsync">
      <MemberSignature Language="C#" Value="public void DownloadStringAsync (Uri address, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DownloadStringAsync(class System.Uri address, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadStringAsync(System.Uri,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DownloadStringAsync (address As Uri, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DownloadStringAsync(Uri ^ address, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.DownloadStringAsync : Uri * obj -&gt; unit" Usage="webClient.DownloadStringAsync (address, userToken)" />
      <MemberSignature Language="C#" Value="public void DownloadStringAsync (Uri address, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-545">包含要下载的 URI 的 <see cref="T:System.Uri" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-545">A <see cref="T:System.Uri" /> containing the URI to download.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-546">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-546">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-547">将指定的字符串下载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-547">Downloads the specified string to the specified resource.</span></span> <span data-ttu-id="20fd1-548">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-548">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-549">资源使用自动从线程池分配的线程资源异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-549">The resource is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-550">下载资源后，此方法将使用在属性中指定的编码 <xref:System.Net.WebClient.Encoding%2A> 将资源转换为 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-550">After downloading the resource, this method uses the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property to convert the resource to a <xref:System.String>.</span></span> <span data-ttu-id="20fd1-551">此方法在下载资源时不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-551">This method does not block the calling thread while downloading the resource.</span></span> <span data-ttu-id="20fd1-552">若要下载资源并在等待服务器响应时阻止，请使用 <xref:System.Net.WebClient.DownloadString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-552">To download a resource and block while waiting for the server's response, use the <xref:System.Net.WebClient.DownloadString%2A> method.</span></span> <span data-ttu-id="20fd1-553">下载完成后， <xref:System.Net.WebClient.DownloadStringCompleted> 会引发事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-553">When the download completes, the <xref:System.Net.WebClient.DownloadStringCompleted> event is raised.</span></span> <span data-ttu-id="20fd1-554">应用程序必须处理此事件才能接收通知。</span><span class="sxs-lookup"><span data-stu-id="20fd1-554">Your application must handle this event to receive notification.</span></span> <span data-ttu-id="20fd1-555">下载的字符串在属性中提供 <xref:System.Net.DownloadStringCompletedEventArgs.Result%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-555">The downloaded string is available in the <xref:System.Net.DownloadStringCompletedEventArgs.Result%2A> property.</span></span>

 <span data-ttu-id="20fd1-556">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-556">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-557">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-557">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-558">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-558">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-559">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-559">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-560">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-560">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-561">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-561">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-562">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-562">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-563"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-563">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-564">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-564">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-565">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-565">-or-</span></span>

<span data-ttu-id="20fd1-566">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-566">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadStringCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.DownloadStringCompletedEventHandler? DownloadStringCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.DownloadStringCompletedEventHandler DownloadStringCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.DownloadStringCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event DownloadStringCompleted As DownloadStringCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::DownloadStringCompletedEventHandler ^ DownloadStringCompleted;" />
      <MemberSignature Language="F#" Value="member this.DownloadStringCompleted : System.Net.DownloadStringCompletedEventHandler " Usage="member this.DownloadStringCompleted : System.Net.DownloadStringCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.DownloadStringCompletedEventHandler DownloadStringCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event DownloadStringCompleted As DownloadStringCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.DownloadStringCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-567">在异步资源下载操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-567">Occurs when an asynchronous resource-download operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-568">每次异步操作以字符串的形式下载资源时都会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-568">This event is raised each time an asynchronous operation to download a resource as a string completes.</span></span> <span data-ttu-id="20fd1-569">这些操作通过调用方法来启动 <xref:System.Net.WebClient.DownloadStringAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-569">These operations are started by calling the <xref:System.Net.WebClient.DownloadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-570"><xref:System.Net.DownloadStringCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-570">The <xref:System.Net.DownloadStringCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-571"><xref:System.Net.DownloadStringCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-571">The <xref:System.Net.DownloadStringCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-572">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-572">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-573">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-573">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#28](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#28)]
 [!code-csharp[NCLWebClientAsync#28](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#28)]
 [!code-vb[NCLWebClientAsync#28](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#28)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="DownloadStringTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-574">使用任务对象从指定 URI 中将资源作为 <see cref="T:System.String" /> 下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-574">Downloads the resource as a <see cref="T:System.String" /> from the URI specified as an asynchronous operation using a task object.</span></span>  <span data-ttu-id="20fd1-575">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-575">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="DownloadStringTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; DownloadStringTaskAsync (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;string&gt; DownloadStringTaskAsync(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadStringTaskAsync(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadStringTaskAsync (address As String) As Task(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::String ^&gt; ^ DownloadStringTaskAsync(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadStringTaskAsync : string -&gt; System.Threading.Tasks.Task&lt;string&gt;" Usage="webClient.DownloadStringTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-576">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-576">The URI of the resource to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-577">使用任务对象从指定 URI 中将资源作为 <see cref="T:System.String" /> 下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-577">Downloads the resource as a <see cref="T:System.String" /> from the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-578">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-578">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-579">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含下载的资源的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-579">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the downloaded resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-580">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-580">This operation will not block.</span></span> <span data-ttu-id="20fd1-581"><xref:System.Threading.Tasks.Task%601>下载数据资源后，将完成返回的对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-581">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the data resource has been downloaded.</span></span>  <span data-ttu-id="20fd1-582">资源使用自动从线程池分配的线程资源异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-582">The resource is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-583">下载资源后，此方法将使用在属性中指定的编码 <xref:System.Net.WebClient.Encoding%2A> 将资源转换为 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-583">After downloading the resource, this method uses the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property to convert the resource to a <xref:System.String>.</span></span> <span data-ttu-id="20fd1-584">此方法在下载资源时不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-584">This method does not block the calling thread while downloading the resource.</span></span>

 <span data-ttu-id="20fd1-585">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-585">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-586">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-586">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-587">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-587">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-588">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-588">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-589">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-589">For an HTTP resource, the GET method is used.</span></span>

 <span data-ttu-id="20fd1-590">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-590">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-591">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-591">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-592"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-592">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-593">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-593">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-594">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-594">-or-</span></span>

<span data-ttu-id="20fd1-595">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-595">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DownloadStringTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; DownloadStringTaskAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;string&gt; DownloadStringTaskAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.DownloadStringTaskAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function DownloadStringTaskAsync (address As Uri) As Task(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::String ^&gt; ^ DownloadStringTaskAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.DownloadStringTaskAsync : Uri -&gt; System.Threading.Tasks.Task&lt;string&gt;" Usage="webClient.DownloadStringTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-596">要下载的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-596">The URI of the resource to download.</span></span></param>
        <summary><span data-ttu-id="20fd1-597">使用任务对象从指定 URI 中将资源作为 <see cref="T:System.String" /> 下载以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-597">Downloads the resource as a <see cref="T:System.String" /> from the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-598">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-598">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-599">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含下载的资源的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-599">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the downloaded resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-600">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-600">This operation will not block.</span></span> <span data-ttu-id="20fd1-601"><xref:System.Threading.Tasks.Task%601>下载数据资源后，将完成返回的对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-601">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the data resource has been downloaded.</span></span> <span data-ttu-id="20fd1-602">资源使用自动从线程池分配的线程资源异步下载。</span><span class="sxs-lookup"><span data-stu-id="20fd1-602">The resource is downloaded asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-603">下载资源后，此方法将使用在属性中指定的编码 <xref:System.Net.WebClient.Encoding%2A> 将资源转换为 <xref:System.String> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-603">After downloading the resource, this method uses the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property to convert the resource to a <xref:System.String>.</span></span> <span data-ttu-id="20fd1-604">此方法在下载资源时不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-604">This method does not block the calling thread while downloading the resource.</span></span>

 <span data-ttu-id="20fd1-605">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-605">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-606">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-606">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-607">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-607">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-608">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-608">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-609">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-609">For an HTTP resource, the GET method is used.</span></span>

 <span data-ttu-id="20fd1-610">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-610">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-611">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-611">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-612"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-612">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-613">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-613">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-614">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-614">-or-</span></span>

<span data-ttu-id="20fd1-615">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-615">An error occurred while downloading the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Encoding">
      <MemberSignature Language="C#" Value="public System.Text.Encoding Encoding { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Text.Encoding Encoding" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.Encoding" />
      <MemberSignature Language="VB.NET" Value="Public Property Encoding As Encoding" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Text::Encoding ^ Encoding { System::Text::Encoding ^ get(); void set(System::Text::Encoding ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Encoding : System.Text.Encoding with get, set" Usage="System.Net.WebClient.Encoding" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Text.Encoding</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-616">获取或设置用于上传和下载字符串的 <see cref="T:System.Text.Encoding" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-616">Gets or sets the <see cref="T:System.Text.Encoding" /> used to upload and download strings.</span></span></summary>
        <value><span data-ttu-id="20fd1-617">用于对字符串进行编码的 <see cref="T:System.Text.Encoding" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-617">A <see cref="T:System.Text.Encoding" /> that is used to encode strings.</span></span> <span data-ttu-id="20fd1-618">此属性的默认值为 <see cref="P:System.Text.Encoding.Default" /> 返回的编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-618">The default value of this property is the encoding returned by <see cref="P:System.Text.Encoding.Default" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-619"><xref:System.Net.WebClient.UploadString%2A>和 <xref:System.Net.WebClient.UploadStringAsync%2A> 方法使用此属性在上载字符串之前将指定的字符串转换为 <xref:System.Byte> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-619">The <xref:System.Net.WebClient.UploadString%2A> and <xref:System.Net.WebClient.UploadStringAsync%2A> methods use this property to convert the specified string to a <xref:System.Byte> array before uploading the string.</span></span> <span data-ttu-id="20fd1-620">有关其他信息，请参见 <xref:System.Text.Encoding.GetBytes%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-620">For additional information, see the <xref:System.Text.Encoding.GetBytes%2A> method.</span></span>

 <span data-ttu-id="20fd1-621">使用或方法下载字符串时 <xref:System.Net.WebClient.DownloadString%2A> ，将 <xref:System.Net.WebClient.DownloadStringAsync%2A> 使用由此 <xref:System.Net.WebClient> 返回的 <xref:System.Text.Encoding> 来将下载的数组转换为 <xref:System.Byte> 字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-621">When a string is downloaded using the <xref:System.Net.WebClient.DownloadString%2A> or <xref:System.Net.WebClient.DownloadStringAsync%2A> methods, <xref:System.Net.WebClient> uses the <xref:System.Text.Encoding> returned by this to convert the downloaded <xref:System.Byte> array into a string.</span></span> <span data-ttu-id="20fd1-622">有关其他信息，请参见 <xref:System.Text.Encoding.GetString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-622">For additional information, see the <xref:System.Text.Encoding.GetString%2A> method.</span></span>



## Examples
 <span data-ttu-id="20fd1-623">下面的代码示例演示如何设置此属性的值。</span><span class="sxs-lookup"><span data-stu-id="20fd1-623">The following code example demonstrates setting the value of this property.</span></span>

 [!code-cpp[NCLWebClientAsync#1](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#1)]
 [!code-csharp[NCLWebClientAsync#1](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#1)]
 [!code-vb[NCLWebClientAsync#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#1)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetWebRequest">
      <MemberSignature Language="C#" Value="protected virtual System.Net.WebRequest GetWebRequest (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Net.WebRequest GetWebRequest(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.GetWebRequest(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetWebRequest (address As Uri) As WebRequest" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Net::WebRequest ^ GetWebRequest(Uri ^ address);" />
      <MemberSignature Language="F#" Value="abstract member GetWebRequest : Uri -&gt; System.Net.WebRequest&#xA;override this.GetWebRequest : Uri -&gt; System.Net.WebRequest" Usage="webClient.GetWebRequest address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.WebRequest</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-624">一个 <see cref="T:System.Uri" />，用于标识要请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-624">A <see cref="T:System.Uri" /> that identifies the resource to request.</span></span></param>
        <summary><span data-ttu-id="20fd1-625">为指定资源返回一个 <see cref="T:System.Net.WebRequest" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-625">Returns a <see cref="T:System.Net.WebRequest" /> object for the specified resource.</span></span></summary>
        <returns><span data-ttu-id="20fd1-626">一个新的 <see cref="T:System.Net.WebRequest" /> 对象，用于指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-626">A new <see cref="T:System.Net.WebRequest" /> object for the specified resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-627">此方法将现有的 <xref:System.Net.WebClient.Headers%2A> 、 <xref:System.Net.WebClient.Credentials%2A> 和方法复制到新创建的 <xref:System.Net.WebRequest> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-627">This method copies the existing <xref:System.Net.WebClient.Headers%2A>, <xref:System.Net.WebClient.Credentials%2A>, and method to the newly created <xref:System.Net.WebRequest> object.</span></span>

 <span data-ttu-id="20fd1-628">此方法只能由继承自的类调用 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-628">This method can be called only by classes that inherit from <xref:System.Net.WebClient>.</span></span> <span data-ttu-id="20fd1-629">提供此方法是为了向继承者提供对基础对象的访问权限 <xref:System.Net.WebRequest> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-629">It is provided to give inheritors access to the underlying <xref:System.Net.WebRequest> object.</span></span> <span data-ttu-id="20fd1-630">派生类应调用的基类实现 <xref:System.Net.WebClient.GetWebRequest%2A> ，以确保方法按预期方式工作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-630">Derived classes should call the base class implementation of <xref:System.Net.WebClient.GetWebRequest%2A> to ensure the method works as expected.</span></span>



## Examples
 <span data-ttu-id="20fd1-631">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-631">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#1](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#1)]
 [!code-csharp[NCLCustomWebClient#1](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#1)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetWebResponse">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-632">返回指定 <see cref="T:System.Net.WebResponse" /> 的 <see cref="T:System.Net.WebRequest" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-632">Returns the <see cref="T:System.Net.WebResponse" /> for the specified <see cref="T:System.Net.WebRequest" />.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetWebResponse">
      <MemberSignature Language="C#" Value="protected virtual System.Net.WebResponse GetWebResponse (System.Net.WebRequest request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Net.WebResponse GetWebResponse(class System.Net.WebRequest request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.GetWebResponse(System.Net.WebRequest)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetWebResponse (request As WebRequest) As WebResponse" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Net::WebResponse ^ GetWebResponse(System::Net::WebRequest ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetWebResponse : System.Net.WebRequest -&gt; System.Net.WebResponse&#xA;override this.GetWebResponse : System.Net.WebRequest -&gt; System.Net.WebResponse" Usage="webClient.GetWebResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.WebResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Net.WebRequest" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="20fd1-633">用于获取响应的 <see cref="T:System.Net.WebRequest" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-633">A <see cref="T:System.Net.WebRequest" /> that is used to obtain the response.</span></span></param>
        <summary><span data-ttu-id="20fd1-634">返回指定 <see cref="T:System.Net.WebResponse" /> 的 <see cref="T:System.Net.WebRequest" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-634">Returns the <see cref="T:System.Net.WebResponse" /> for the specified <see cref="T:System.Net.WebRequest" />.</span></span></summary>
        <returns><span data-ttu-id="20fd1-635"><see cref="T:System.Net.WebResponse" /> 包含对指定 <see cref="T:System.Net.WebRequest" /> 的响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-635">A <see cref="T:System.Net.WebResponse" /> containing the response for the specified <see cref="T:System.Net.WebRequest" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-636">此方法返回的对象是通过 <xref:System.Net.WebRequest.GetResponse%2A> 对指定的对象调用方法获取的 <xref:System.Net.WebRequest> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-636">The object returned by this method is obtained by calling the <xref:System.Net.WebRequest.GetResponse%2A> method on the specified <xref:System.Net.WebRequest> object.</span></span>

 <span data-ttu-id="20fd1-637">此方法只能由继承自的类调用 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-637">This method can be called only by classes that inherit from <xref:System.Net.WebClient>.</span></span> <span data-ttu-id="20fd1-638">提供此方法是为了向继承者提供对基础对象的访问权限 <xref:System.Net.WebResponse> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-638">It is provided to give inheritors access to the underlying <xref:System.Net.WebResponse> object.</span></span>



## Examples
 <span data-ttu-id="20fd1-639">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-639">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#2](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#2)]
 [!code-csharp[NCLCustomWebClient#2](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#2)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetWebResponse">
      <MemberSignature Language="C#" Value="protected virtual System.Net.WebResponse GetWebResponse (System.Net.WebRequest request, IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Net.WebResponse GetWebResponse(class System.Net.WebRequest request, class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.GetWebResponse(System.Net.WebRequest,System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetWebResponse (request As WebRequest, result As IAsyncResult) As WebResponse" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Net::WebResponse ^ GetWebResponse(System::Net::WebRequest ^ request, IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member GetWebResponse : System.Net.WebRequest * IAsyncResult -&gt; System.Net.WebResponse&#xA;override this.GetWebResponse : System.Net.WebRequest * IAsyncResult -&gt; System.Net.WebResponse" Usage="webClient.GetWebResponse (request, result)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.WebResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Net.WebRequest" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="result" Type="System.IAsyncResult" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="request"><span data-ttu-id="20fd1-640">用于获取响应的 <see cref="T:System.Net.WebRequest" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-640">A <see cref="T:System.Net.WebRequest" /> that is used to obtain the response.</span></span></param>
        <param name="result"><span data-ttu-id="20fd1-641">一个 <see cref="T:System.IAsyncResult" /> 对象，来自以前对 <see cref="M:System.Net.WebRequest.BeginGetResponse(System.AsyncCallback,System.Object)" /> 的调用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-641">An <see cref="T:System.IAsyncResult" /> object obtained from a previous call to <see cref="M:System.Net.WebRequest.BeginGetResponse(System.AsyncCallback,System.Object)" /> .</span></span></param>
        <summary><span data-ttu-id="20fd1-642">使用指定的 <see cref="T:System.Net.WebResponse" /> 获取对指定 <see cref="T:System.Net.WebRequest" /> 的 <see cref="T:System.IAsyncResult" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-642">Returns the <see cref="T:System.Net.WebResponse" /> for the specified <see cref="T:System.Net.WebRequest" /> using the specified <see cref="T:System.IAsyncResult" />.</span></span></summary>
        <returns><span data-ttu-id="20fd1-643"><see cref="T:System.Net.WebResponse" /> 包含对指定 <see cref="T:System.Net.WebRequest" /> 的响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-643">A <see cref="T:System.Net.WebResponse" /> containing the response for the specified <see cref="T:System.Net.WebRequest" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-644">此方法返回的对象是通过 <xref:System.Net.WebRequest.EndGetResponse%2A> 对指定的对象调用方法获取的 <xref:System.Net.WebRequest> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-644">The object returned by this method is obtained by calling the <xref:System.Net.WebRequest.EndGetResponse%2A> method on the specified <xref:System.Net.WebRequest> object.</span></span>

 <span data-ttu-id="20fd1-645">此方法只能由继承自的类调用 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-645">This method can be called only by classes that inherit from <xref:System.Net.WebClient>.</span></span> <span data-ttu-id="20fd1-646">提供此方法是为了向继承者提供对基础对象的访问权限 <xref:System.Net.WebResponse> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-646">It is provided to give inheritors access to the underlying <xref:System.Net.WebResponse> object.</span></span>



## Examples
 <span data-ttu-id="20fd1-647">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-647">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#3](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#3)]
 [!code-csharp[NCLCustomWebClient#3](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#3)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Headers">
      <MemberSignature Language="C#" Value="public System.Net.WebHeaderCollection Headers { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.WebHeaderCollection Headers" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.Headers" />
      <MemberSignature Language="VB.NET" Value="Public Property Headers As WebHeaderCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::WebHeaderCollection ^ Headers { System::Net::WebHeaderCollection ^ get(); void set(System::Net::WebHeaderCollection ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Headers : System.Net.WebHeaderCollection with get, set" Usage="System.Net.WebClient.Headers" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Net.WebHeaderCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-648">获取或设置与请求关联的标头名称/值对集合。</span><span class="sxs-lookup"><span data-stu-id="20fd1-648">Gets or sets a collection of header name/value pairs associated with the request.</span></span></summary>
        <value><span data-ttu-id="20fd1-649">一个 <see cref="T:System.Net.WebHeaderCollection" />，包含与此请求关联的标头名称/值对。</span><span class="sxs-lookup"><span data-stu-id="20fd1-649">A <see cref="T:System.Net.WebHeaderCollection" /> containing header name/value pairs associated with this request.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-650"><xref:System.Net.WebClient.Headers%2A>属性包含一个实例，该 <xref:System.Net.WebHeaderCollection> 实例包含 <xref:System.Net.WebClient> 与请求一起发送的协议标头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-650">The <xref:System.Net.WebClient.Headers%2A> property contains a <xref:System.Net.WebHeaderCollection> instance containing protocol headers that the <xref:System.Net.WebClient> sends with the request.</span></span>

 <span data-ttu-id="20fd1-651">某些常用标头被视为受限制，并受系统保护，无法在对象中设置或更改 <xref:System.Net.WebHeaderCollection> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-651">Some common headers are considered restricted and are protected by the system and cannot be set or changed in a <xref:System.Net.WebHeaderCollection> object.</span></span> <span data-ttu-id="20fd1-652">尝试发送请求时，任何在与对象关联的对象中设置其中一个受限制的标头的尝试 <xref:System.Net.WebHeaderCollection> <xref:System.Net.WebClient> 都将引发异常 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-652">Any attempt to set one of these restricted headers in the <xref:System.Net.WebHeaderCollection> object associated with a <xref:System.Net.WebClient> object will throw an exception later when attempting to send the <xref:System.Net.WebClient> request.</span></span>

 <span data-ttu-id="20fd1-653">受限制的系统标头包括但不限于以下各项：</span><span class="sxs-lookup"><span data-stu-id="20fd1-653">Restricted headers protected by the system include, but are not limited to the following:</span></span>

-   <span data-ttu-id="20fd1-654">Date</span><span class="sxs-lookup"><span data-stu-id="20fd1-654">Date</span></span>

-   <span data-ttu-id="20fd1-655">主机</span><span class="sxs-lookup"><span data-stu-id="20fd1-655">Host</span></span>

 <span data-ttu-id="20fd1-656">此外，在使用对象时，还限制了其他一些标头 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-656">In addition, some other headers are also restricted when using a <xref:System.Net.WebClient> object.</span></span> <span data-ttu-id="20fd1-657">这些受限制的标头包括但不限于以下各项：</span><span class="sxs-lookup"><span data-stu-id="20fd1-657">These restricted headers include, but are not limited to the following:</span></span>

-   <span data-ttu-id="20fd1-658">Accept</span><span class="sxs-lookup"><span data-stu-id="20fd1-658">Accept</span></span>

-   <span data-ttu-id="20fd1-659">连接</span><span class="sxs-lookup"><span data-stu-id="20fd1-659">Connection</span></span>

-   <span data-ttu-id="20fd1-660">Content-Length</span><span class="sxs-lookup"><span data-stu-id="20fd1-660">Content-Length</span></span>

-   <span data-ttu-id="20fd1-661">如果将值设置为 "100-continue"，则应 (</span><span class="sxs-lookup"><span data-stu-id="20fd1-661">Expect (when the value is set to "100-continue"</span></span>

-   <span data-ttu-id="20fd1-662">If-Modified-Since</span><span class="sxs-lookup"><span data-stu-id="20fd1-662">If-Modified-Since</span></span>

-   <span data-ttu-id="20fd1-663">范围</span><span class="sxs-lookup"><span data-stu-id="20fd1-663">Range</span></span>

-   <span data-ttu-id="20fd1-664">Transfer-Encoding</span><span class="sxs-lookup"><span data-stu-id="20fd1-664">Transfer-Encoding</span></span>

 <span data-ttu-id="20fd1-665"><xref:System.Net.HttpWebRequest>类具有设置上述一些标头的属性。</span><span class="sxs-lookup"><span data-stu-id="20fd1-665">The <xref:System.Net.HttpWebRequest> class has properties for setting some of the above headers.</span></span> <span data-ttu-id="20fd1-666">如果对应用程序设置这些标头很重要，则 <xref:System.Net.HttpWebRequest> 应使用类，而不是 <xref:System.Net.WebRequest> 类。</span><span class="sxs-lookup"><span data-stu-id="20fd1-666">If it is important for an application to set these headers, then the <xref:System.Net.HttpWebRequest> class should be used instead of the <xref:System.Net.WebRequest> class.</span></span>

 <span data-ttu-id="20fd1-667">不应假定标头值保持不变，因为 Web 服务器和缓存可能会更改或向 Web 请求添加标头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-667">You should not assume that the header values will remain unchanged, because Web servers and caches may change or add headers to a Web request.</span></span>



## Examples
 <span data-ttu-id="20fd1-668">下面的代码示例使用 <xref:System.Net.WebClient.Headers%2A> 集合将 HTTP `Content-Type` 标头设置为， `application/x-www-form-urlencoded,` 以通知服务器窗体数据已附加到 post。</span><span class="sxs-lookup"><span data-stu-id="20fd1-668">The following code example uses the <xref:System.Net.WebClient.Headers%2A> collection to set the HTTP `Content-Type` header to `application/x-www-form-urlencoded,` to notify the server that form data is attached to the post.</span></span>

 [!code-cpp[WebClient_UpLoadData_Headers#2](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UpLoadData_Headers/CPP/webclient_uploaddata_headers.cpp#2)]
 [!code-csharp[WebClient_UpLoadData_Headers#2](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UpLoadData_Headers/CS/webclient_uploaddata_headers.cs#2)]
 [!code-vb[WebClient_UpLoadData_Headers#2](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UpLoadData_Headers/VB/webclient_uploaddata_headers.vb#2)]

 ]]></format>
        </remarks>
        <altmember cref="P:System.Net.WebRequest.Headers" />
        <altmember cref="P:System.Net.HttpWebRequest.Headers" />
      </Docs>
    </Member>
    <Member MemberName="IsBusy">
      <MemberSignature Language="C#" Value="public bool IsBusy { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsBusy" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.IsBusy" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property IsBusy As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool IsBusy { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.IsBusy : bool" Usage="System.Net.WebClient.IsBusy" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-669">了解是否存在进行中的 Web 请求。</span><span class="sxs-lookup"><span data-stu-id="20fd1-669">Gets whether a Web request is in progress.</span></span></summary>
        <value><span data-ttu-id="20fd1-670">如果存在进行中的 Web 请求，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-670"><see langword="true" /> if the Web request is still in progress; otherwise <see langword="false" />.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnDownloadDataCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnDownloadDataCompleted (System.Net.DownloadDataCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnDownloadDataCompleted(class System.Net.DownloadDataCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnDownloadDataCompleted(System.Net.DownloadDataCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnDownloadDataCompleted (e As DownloadDataCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnDownloadDataCompleted(System::Net::DownloadDataCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnDownloadDataCompleted : System.Net.DownloadDataCompletedEventArgs -&gt; unit&#xA;override this.OnDownloadDataCompleted : System.Net.DownloadDataCompletedEventArgs -&gt; unit" Usage="webClient.OnDownloadDataCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.DownloadDataCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-671">包含事件数据的 <see cref="T:System.Net.DownloadDataCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-671">A <see cref="T:System.Net.DownloadDataCompletedEventArgs" /> object that contains event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-672">引发 <see cref="E:System.Net.WebClient.DownloadDataCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-672">Raises the <see cref="E:System.Net.WebClient.DownloadDataCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-673">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.DownloadDataCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-673">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.DownloadDataCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-674">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-674">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-675">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)</span><span class="sxs-lookup"><span data-stu-id="20fd1-675">For more information, see [Handling and Raising Events](/dotnet/standard/events/)</span></span>

 <span data-ttu-id="20fd1-676"><xref:System.Net.WebClient.OnDownloadDataCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-676">The <xref:System.Net.WebClient.OnDownloadDataCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-677">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-677">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-678">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-678">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#4](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#4)]
 [!code-csharp[NCLCustomWebClient#4](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#4)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-679">当 <see cref="M:System.Net.WebClient.OnDownloadDataCompleted(System.Net.DownloadDataCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnDownloadDataCompleted(System.Net.DownloadDataCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-679">When overriding <see cref="M:System.Net.WebClient.OnDownloadDataCompleted(System.Net.DownloadDataCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnDownloadDataCompleted(System.Net.DownloadDataCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnDownloadFileCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnDownloadFileCompleted (System.ComponentModel.AsyncCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnDownloadFileCompleted(class System.ComponentModel.AsyncCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnDownloadFileCompleted(System.ComponentModel.AsyncCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnDownloadFileCompleted (e As AsyncCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnDownloadFileCompleted(System::ComponentModel::AsyncCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnDownloadFileCompleted : System.ComponentModel.AsyncCompletedEventArgs -&gt; unit&#xA;override this.OnDownloadFileCompleted : System.ComponentModel.AsyncCompletedEventArgs -&gt; unit" Usage="webClient.OnDownloadFileCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.ComponentModel.AsyncCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-680">包含事件数据的 <see cref="T:System.ComponentModel.AsyncCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-680">An <see cref="T:System.ComponentModel.AsyncCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-681">引发 <see cref="E:System.Net.WebClient.DownloadFileCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-681">Raises the <see cref="E:System.Net.WebClient.DownloadFileCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-682">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.DownloadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-682">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.DownloadFileCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-683">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-683">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-684">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-684">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-685"><xref:System.Net.WebClient.OnDownloadFileCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-685">The <xref:System.Net.WebClient.OnDownloadFileCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-686">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-686">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-687">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-687">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#5](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#5)]
 [!code-csharp[NCLCustomWebClient#5](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#5)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-688">当 <see cref="M:System.Net.WebClient.OnDownloadFileCompleted(System.ComponentModel.AsyncCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnDownloadFileCompleted(System.ComponentModel.AsyncCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-688">When overriding <see cref="M:System.Net.WebClient.OnDownloadFileCompleted(System.ComponentModel.AsyncCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnDownloadFileCompleted(System.ComponentModel.AsyncCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnDownloadProgressChanged">
      <MemberSignature Language="C#" Value="protected virtual void OnDownloadProgressChanged (System.Net.DownloadProgressChangedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnDownloadProgressChanged(class System.Net.DownloadProgressChangedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnDownloadProgressChanged(System.Net.DownloadProgressChangedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnDownloadProgressChanged (e As DownloadProgressChangedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnDownloadProgressChanged(System::Net::DownloadProgressChangedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnDownloadProgressChanged : System.Net.DownloadProgressChangedEventArgs -&gt; unit&#xA;override this.OnDownloadProgressChanged : System.Net.DownloadProgressChangedEventArgs -&gt; unit" Usage="webClient.OnDownloadProgressChanged e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.DownloadProgressChangedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-689">包含事件数据的 <see cref="T:System.Net.DownloadProgressChangedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-689">A <see cref="T:System.Net.DownloadProgressChangedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-690">引发 <see cref="E:System.Net.WebClient.DownloadProgressChanged" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-690">Raises the <see cref="E:System.Net.WebClient.DownloadProgressChanged" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-691">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.DownloadProgressChanged> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-691">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.DownloadProgressChanged> event occurs.</span></span>

 <span data-ttu-id="20fd1-692">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-692">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-693">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-693">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-694"><xref:System.Net.WebClient.OnDownloadProgressChanged%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-694">The <xref:System.Net.WebClient.OnDownloadProgressChanged%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-695">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-695">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-696">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-696">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#12](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#12)]
 [!code-csharp[NCLCustomWebClient#12](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#12)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-697">当 <see cref="M:System.Net.WebClient.OnDownloadProgressChanged(System.Net.DownloadProgressChangedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnDownloadProgressChanged(System.Net.DownloadProgressChangedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-697">When overriding <see cref="M:System.Net.WebClient.OnDownloadProgressChanged(System.Net.DownloadProgressChangedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnDownloadProgressChanged(System.Net.DownloadProgressChangedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnDownloadStringCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnDownloadStringCompleted (System.Net.DownloadStringCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnDownloadStringCompleted(class System.Net.DownloadStringCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnDownloadStringCompleted(System.Net.DownloadStringCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnDownloadStringCompleted (e As DownloadStringCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnDownloadStringCompleted(System::Net::DownloadStringCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnDownloadStringCompleted : System.Net.DownloadStringCompletedEventArgs -&gt; unit&#xA;override this.OnDownloadStringCompleted : System.Net.DownloadStringCompletedEventArgs -&gt; unit" Usage="webClient.OnDownloadStringCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.DownloadStringCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-698">包含事件数据的 <see cref="T:System.Net.DownloadStringCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-698">A <see cref="T:System.Net.DownloadStringCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-699">引发 <see cref="E:System.Net.WebClient.DownloadStringCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-699">Raises the <see cref="E:System.Net.WebClient.DownloadStringCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-700">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.DownloadStringCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-700">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.DownloadStringCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-701">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-701">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-702">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-702">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-703"><xref:System.Net.WebClient.OnDownloadStringCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-703">The <xref:System.Net.WebClient.OnDownloadStringCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-704">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-704">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-705">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-705">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#6](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#6)]
 [!code-csharp[NCLCustomWebClient#6](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#6)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-706">当 <see cref="M:System.Net.WebClient.OnDownloadStringCompleted(System.Net.DownloadStringCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnDownloadStringCompleted(System.Net.DownloadStringCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-706">When overriding <see cref="M:System.Net.WebClient.OnDownloadStringCompleted(System.Net.DownloadStringCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnDownloadStringCompleted(System.Net.DownloadStringCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnOpenReadCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnOpenReadCompleted (System.Net.OpenReadCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnOpenReadCompleted(class System.Net.OpenReadCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnOpenReadCompleted(System.Net.OpenReadCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnOpenReadCompleted (e As OpenReadCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnOpenReadCompleted(System::Net::OpenReadCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnOpenReadCompleted : System.Net.OpenReadCompletedEventArgs -&gt; unit&#xA;override this.OnOpenReadCompleted : System.Net.OpenReadCompletedEventArgs -&gt; unit" Usage="webClient.OnOpenReadCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.OpenReadCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-707">包含事件数据的 <see cref="T:System.Net.OpenReadCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-707">A <see cref="T:System.Net.OpenReadCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-708">引发 <see cref="E:System.Net.WebClient.OpenReadCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-708">Raises the <see cref="E:System.Net.WebClient.OpenReadCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-709">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.OpenReadCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-709">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.OpenReadCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-710">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-710">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-711">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-711">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-712"><xref:System.Net.WebClient.OnOpenReadCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-712">The <xref:System.Net.WebClient.OnOpenReadCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-713">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-713">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-714">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-714">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#7](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#7)]
 [!code-csharp[NCLCustomWebClient#7](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#7)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-715">当 <see cref="M:System.Net.WebClient.OnOpenReadCompleted(System.Net.OpenReadCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnOpenReadCompleted(System.Net.OpenReadCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-715">When overriding <see cref="M:System.Net.WebClient.OnOpenReadCompleted(System.Net.OpenReadCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnOpenReadCompleted(System.Net.OpenReadCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnOpenWriteCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnOpenWriteCompleted (System.Net.OpenWriteCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnOpenWriteCompleted(class System.Net.OpenWriteCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnOpenWriteCompleted(System.Net.OpenWriteCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnOpenWriteCompleted (e As OpenWriteCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnOpenWriteCompleted(System::Net::OpenWriteCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnOpenWriteCompleted : System.Net.OpenWriteCompletedEventArgs -&gt; unit&#xA;override this.OnOpenWriteCompleted : System.Net.OpenWriteCompletedEventArgs -&gt; unit" Usage="webClient.OnOpenWriteCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.OpenWriteCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-716">包含事件数据的 <see cref="T:System.Net.OpenWriteCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-716">A <see cref="T:System.Net.OpenWriteCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-717">引发 <see cref="E:System.Net.WebClient.OpenWriteCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-717">Raises the <see cref="E:System.Net.WebClient.OpenWriteCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-718">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.OpenWriteCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-718">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.OpenWriteCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-719">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-719">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-720">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-720">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-721"><xref:System.Net.WebClient.OnOpenWriteCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-721">The <xref:System.Net.WebClient.OnOpenWriteCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-722">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-722">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-723">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-723">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#8](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#8)]
 [!code-csharp[NCLCustomWebClient#8](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#8)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-724">当 <see cref="M:System.Net.WebClient.OnOpenWriteCompleted(System.Net.OpenWriteCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnOpenWriteCompleted(System.Net.OpenWriteCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-724">When overriding <see cref="M:System.Net.WebClient.OnOpenWriteCompleted(System.Net.OpenWriteCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnOpenWriteCompleted(System.Net.OpenWriteCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnUploadDataCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnUploadDataCompleted (System.Net.UploadDataCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnUploadDataCompleted(class System.Net.UploadDataCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnUploadDataCompleted(System.Net.UploadDataCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnUploadDataCompleted (e As UploadDataCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnUploadDataCompleted(System::Net::UploadDataCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnUploadDataCompleted : System.Net.UploadDataCompletedEventArgs -&gt; unit&#xA;override this.OnUploadDataCompleted : System.Net.UploadDataCompletedEventArgs -&gt; unit" Usage="webClient.OnUploadDataCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.UploadDataCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-725">包含事件数据的 <see cref="T:System.Net.UploadDataCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-725">A <see cref="T:System.Net.UploadDataCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-726">引发 <see cref="E:System.Net.WebClient.UploadDataCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-726">Raises the <see cref="E:System.Net.WebClient.UploadDataCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-727">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.UploadDataCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-727">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.UploadDataCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-728">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-728">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-729">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-729">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-730"><xref:System.Net.WebClient.OnUploadDataCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-730">The <xref:System.Net.WebClient.OnUploadDataCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-731">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-731">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-732">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-732">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#9](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#9)]
 [!code-csharp[NCLCustomWebClient#9](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#9)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-733">当 <see cref="M:System.Net.WebClient.OnUploadDataCompleted(System.Net.UploadDataCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnUploadDataCompleted(System.Net.UploadDataCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-733">When overriding <see cref="M:System.Net.WebClient.OnUploadDataCompleted(System.Net.UploadDataCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnUploadDataCompleted(System.Net.UploadDataCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnUploadFileCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnUploadFileCompleted (System.Net.UploadFileCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnUploadFileCompleted(class System.Net.UploadFileCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnUploadFileCompleted(System.Net.UploadFileCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnUploadFileCompleted (e As UploadFileCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnUploadFileCompleted(System::Net::UploadFileCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnUploadFileCompleted : System.Net.UploadFileCompletedEventArgs -&gt; unit&#xA;override this.OnUploadFileCompleted : System.Net.UploadFileCompletedEventArgs -&gt; unit" Usage="webClient.OnUploadFileCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.UploadFileCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-734">包含事件数据的 <see cref="T:System.Net.UploadFileCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-734">An <see cref="T:System.Net.UploadFileCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-735">引发 <see cref="E:System.Net.WebClient.UploadFileCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-735">Raises the <see cref="E:System.Net.WebClient.UploadFileCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-736">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.UploadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-736">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.UploadFileCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-737">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-737">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-738">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-738">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-739"><xref:System.Net.WebClient.OnUploadFileCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-739">The <xref:System.Net.WebClient.OnUploadFileCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-740">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-740">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-741">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-741">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#10](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#10)]
 [!code-csharp[NCLCustomWebClient#10](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#10)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-742">当 <see cref="M:System.Net.WebClient.OnUploadFileCompleted(System.Net.UploadFileCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnUploadFileCompleted(System.Net.UploadFileCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-742">When overriding <see cref="M:System.Net.WebClient.OnUploadFileCompleted(System.Net.UploadFileCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnUploadFileCompleted(System.Net.UploadFileCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnUploadProgressChanged">
      <MemberSignature Language="C#" Value="protected virtual void OnUploadProgressChanged (System.Net.UploadProgressChangedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnUploadProgressChanged(class System.Net.UploadProgressChangedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnUploadProgressChanged(System.Net.UploadProgressChangedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnUploadProgressChanged (e As UploadProgressChangedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnUploadProgressChanged(System::Net::UploadProgressChangedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnUploadProgressChanged : System.Net.UploadProgressChangedEventArgs -&gt; unit&#xA;override this.OnUploadProgressChanged : System.Net.UploadProgressChangedEventArgs -&gt; unit" Usage="webClient.OnUploadProgressChanged e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.UploadProgressChangedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-743">包含事件数据的 <see cref="T:System.Net.UploadProgressChangedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-743">An <see cref="T:System.Net.UploadProgressChangedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-744">引发 <see cref="E:System.Net.WebClient.UploadProgressChanged" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-744">Raises the <see cref="E:System.Net.WebClient.UploadProgressChanged" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-745">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.UploadProgressChanged> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-745">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.UploadProgressChanged> event occurs.</span></span>

 <span data-ttu-id="20fd1-746">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-746">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-747">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-747">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-748"><xref:System.Net.WebClient.OnUploadProgressChanged%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-748">The <xref:System.Net.WebClient.OnUploadProgressChanged%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-749">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-749">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-750">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-750">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#13](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#13)]
 [!code-csharp[NCLCustomWebClient#13](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#13)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-751">当 <see cref="M:System.Net.WebClient.OnUploadProgressChanged(System.Net.UploadProgressChangedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnUploadProgressChanged(System.Net.UploadProgressChangedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-751">When overriding <see cref="M:System.Net.WebClient.OnUploadProgressChanged(System.Net.UploadProgressChangedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnUploadProgressChanged(System.Net.UploadProgressChangedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnUploadStringCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnUploadStringCompleted (System.Net.UploadStringCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnUploadStringCompleted(class System.Net.UploadStringCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnUploadStringCompleted(System.Net.UploadStringCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnUploadStringCompleted (e As UploadStringCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnUploadStringCompleted(System::Net::UploadStringCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnUploadStringCompleted : System.Net.UploadStringCompletedEventArgs -&gt; unit&#xA;override this.OnUploadStringCompleted : System.Net.UploadStringCompletedEventArgs -&gt; unit" Usage="webClient.OnUploadStringCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.UploadStringCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-752">包含事件数据的 <see cref="T:System.Net.UploadStringCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-752">An <see cref="T:System.Net.UploadStringCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-753">引发 <see cref="E:System.Net.WebClient.UploadStringCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-753">Raises the <see cref="E:System.Net.WebClient.UploadStringCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-754">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.UploadStringCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-754">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.UploadStringCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-755">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-755">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-756">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-756">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-757"><xref:System.Net.WebClient.OnUploadStringCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-757">The <xref:System.Net.WebClient.OnUploadStringCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-758">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-758">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-759">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-759">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#11](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#11)]
 [!code-csharp[NCLCustomWebClient#11](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#11)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-760">当 <see cref="M:System.Net.WebClient.OnUploadStringCompleted(System.Net.UploadStringCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnUploadStringCompleted(System.Net.UploadStringCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-760">When overriding <see cref="M:System.Net.WebClient.OnUploadStringCompleted(System.Net.UploadStringCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnUploadStringCompleted(System.Net.UploadStringCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnUploadValuesCompleted">
      <MemberSignature Language="C#" Value="protected virtual void OnUploadValuesCompleted (System.Net.UploadValuesCompletedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnUploadValuesCompleted(class System.Net.UploadValuesCompletedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnUploadValuesCompleted(System.Net.UploadValuesCompletedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnUploadValuesCompleted (e As UploadValuesCompletedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnUploadValuesCompleted(System::Net::UploadValuesCompletedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnUploadValuesCompleted : System.Net.UploadValuesCompletedEventArgs -&gt; unit&#xA;override this.OnUploadValuesCompleted : System.Net.UploadValuesCompletedEventArgs -&gt; unit" Usage="webClient.OnUploadValuesCompleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.UploadValuesCompletedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-761">包含事件数据的 <see cref="T:System.Net.UploadValuesCompletedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-761">A <see cref="T:System.Net.UploadValuesCompletedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-762">引发 <see cref="E:System.Net.WebClient.UploadValuesCompleted" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-762">Raises the <see cref="E:System.Net.WebClient.UploadValuesCompleted" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-763">从此类继承的类可以重写此方法，以便在事件发生时执行其他任务 <xref:System.Net.WebClient.UploadValuesCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-763">Classes that inherit from this class can override this method to perform additional tasks when the <xref:System.Net.WebClient.UploadValuesCompleted> event occurs.</span></span>

 <span data-ttu-id="20fd1-764">引发事件时，将通过委托调用事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-764">Raising an event invokes the event handler through a delegate.</span></span> <span data-ttu-id="20fd1-765">有关详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-765">For more information, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 <span data-ttu-id="20fd1-766"><xref:System.Net.WebClient.OnUploadValuesCompleted%2A> 方法还允许派生类对事件进行处理而不必附加委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-766">The <xref:System.Net.WebClient.OnUploadValuesCompleted%2A> method also allows derived classes to handle the event without attaching a delegate.</span></span> <span data-ttu-id="20fd1-767">这是在派生类中处理事件的首选技术。</span><span class="sxs-lookup"><span data-stu-id="20fd1-767">This is the preferred technique for handling the event in a derived class.</span></span>



## Examples
 <span data-ttu-id="20fd1-768">下面的代码示例演示了此方法的一个实现，该实现可由派生自的类进行自定义 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-768">The following code example shows an implementation of this method that can be customized by a class derived from <xref:System.Net.WebClient>.</span></span>

 [!code-cpp[NCLCustomWebClient#14](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLCustomWebClient/CPP/mywebclient.cpp#14)]
 [!code-csharp[NCLCustomWebClient#14](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLCustomWebClient/CS/mywebclient.cs#14)]

 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="20fd1-769">当 <see cref="M:System.Net.WebClient.OnUploadValuesCompleted(System.Net.UploadValuesCompletedEventArgs)" /> 在派生类中重写时，请确保调用基类的 <see cref="M:System.Net.WebClient.OnUploadValuesCompleted(System.Net.UploadValuesCompletedEventArgs)" /> 方法，以便注册的委托接收事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-769">When overriding <see cref="M:System.Net.WebClient.OnUploadValuesCompleted(System.Net.UploadValuesCompletedEventArgs)" /> in a derived class, be sure to call the base class' <see cref="M:System.Net.WebClient.OnUploadValuesCompleted(System.Net.UploadValuesCompletedEventArgs)" /> method so that registered delegates receive the event.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="OnWriteStreamClosed">
      <MemberSignature Language="C#" Value="protected virtual void OnWriteStreamClosed (System.Net.WriteStreamClosedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWriteStreamClosed(class System.Net.WriteStreamClosedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OnWriteStreamClosed(System.Net.WriteStreamClosedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWriteStreamClosed (e As WriteStreamClosedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWriteStreamClosed(System::Net::WriteStreamClosedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWriteStreamClosed : System.Net.WriteStreamClosedEventArgs -&gt; unit&#xA;override this.OnWriteStreamClosed : System.Net.WriteStreamClosedEventArgs -&gt; unit" Usage="webClient.OnWriteStreamClosed e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Net.WriteStreamClosedEventArgs" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="20fd1-770">包含事件数据的 <see cref="T:System.Net.WriteStreamClosedEventArgs" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-770">A <see cref="T:System.Net.WriteStreamClosedEventArgs" /> object containing event data.</span></span></param>
        <summary><span data-ttu-id="20fd1-771">引发 <see cref="E:System.Net.WebClient.WriteStreamClosed" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-771">Raises the <see cref="E:System.Net.WebClient.WriteStreamClosed" /> event.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="OpenRead">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-772">为从具有指定 URI 的资源下载的数据打开一个可读的流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-772">Opens a readable stream for the data downloaded from a resource with the specified URI.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="OpenRead">
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenRead (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.Stream OpenRead(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenRead(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenRead (address As String) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ OpenRead(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenRead : string -&gt; System.IO.Stream" Usage="webClient.OpenRead address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-773">以 <see cref="T:System.String" /> 形式指定的 URI，将从中下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-773">The URI specified as a <see cref="T:System.String" /> from which to download data.</span></span></param>
        <summary><span data-ttu-id="20fd1-774">为从具有 <see cref="T:System.String" /> 指定的 URI 的资源下载的数据打开一个可读的流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-774">Opens a readable stream for the data downloaded from a resource with the URI specified as a <see cref="T:System.String" />.</span></span></summary>
        <returns><span data-ttu-id="20fd1-775">一个 <see cref="T:System.IO.Stream" />，用于从资源读取数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-775">A <see cref="T:System.IO.Stream" /> used to read data from a resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-776"><xref:System.Net.WebClient.OpenRead%2A>方法创建一个实例，该 <xref:System.IO.Stream> 实例用于读取参数指定的资源的内容 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-776">The <xref:System.Net.WebClient.OpenRead%2A> method creates a <xref:System.IO.Stream> instance used to read the contents of the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-777">此方法在打开流时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-777">This method blocks while opening the stream.</span></span> <span data-ttu-id="20fd1-778">若要在等待流时继续执行，请使用其中一种 <xref:System.Net.WebClient.OpenReadAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-778">To continue executing while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenReadAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-779">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-779">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-780">如果 <xref:System.Net.WebClient.QueryString%2A> 属性不为 `null` ，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-780">If the <xref:System.Net.WebClient.QueryString%2A> property is not `null`, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-781">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-781">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-782">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-782">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-783"><xref:System.IO.Stream.Close%2A?displayProperty=nameWithType>当完成时，必须调用 <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-783">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-784">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-784">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-785">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-785">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-786">下面的代码示例打开由标识的资源 `uriString` 并在系统控制台上显示结果。</span><span class="sxs-lookup"><span data-stu-id="20fd1-786">The following code example opens the resource identified by `uriString` and displays the results on the system console.</span></span> <span data-ttu-id="20fd1-787"><xref:System.IO.Stream>读取数据时，由返回的 <xref:System.Net.WebClient.OpenRead%2A> 会关闭。</span><span class="sxs-lookup"><span data-stu-id="20fd1-787">The <xref:System.IO.Stream> returned by <xref:System.Net.WebClient.OpenRead%2A> is closed when the data has been read.</span></span>

 [!code-cpp[WebClient_OpenRead#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_OpenRead/CPP/webclient_openread.cpp#1)]
 [!code-csharp[WebClient_OpenRead#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_OpenRead/CS/webclient_openread.cs#1)]
 [!code-vb[WebClient_OpenRead#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_OpenRead/VB/webclient_openread.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-788"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-788">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-789">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-789">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-790">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-790">-or-</span></span>

<span data-ttu-id="20fd1-791">下载数据时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-791">An error occurred while downloading data.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenRead">
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenRead (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.Stream OpenRead(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenRead(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenRead (address As Uri) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ OpenRead(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenRead : Uri -&gt; System.IO.Stream" Usage="webClient.OpenRead address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-792">以 <see cref="T:System.Uri" /> 形式指定的 URI，将从中下载数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-792">The URI specified as a <see cref="T:System.Uri" /> from which to download data.</span></span></param>
        <summary><span data-ttu-id="20fd1-793">为从具有 <see cref="T:System.Uri" /> 指定的 URI 的资源下载的数据打开一个可读的流</span><span class="sxs-lookup"><span data-stu-id="20fd1-793">Opens a readable stream for the data downloaded from a resource with the URI specified as a <see cref="T:System.Uri" /></span></span></summary>
        <returns><span data-ttu-id="20fd1-794">一个 <see cref="T:System.IO.Stream" />，用于从资源读取数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-794">A <see cref="T:System.IO.Stream" /> used to read data from a resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-795"><xref:System.Net.WebClient.OpenRead%2A>方法创建一个实例，该 <xref:System.IO.Stream> 实例用于读取参数指定的资源的内容 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-795">The <xref:System.Net.WebClient.OpenRead%2A> method creates a <xref:System.IO.Stream> instance used to read the contents of the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-796">此方法在打开流时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-796">This method blocks while opening the stream.</span></span> <span data-ttu-id="20fd1-797">若要在等待流时继续执行，请使用其中一种 <xref:System.Net.WebClient.OpenReadAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-797">To continue executing while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenReadAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-798">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-798">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-799">如果 <xref:System.Net.WebClient.QueryString%2A> 属性不为 `null` ，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-799">If the <xref:System.Net.WebClient.QueryString%2A> property is not `null`, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-800">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-800">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-801">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-801">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-802"><xref:System.IO.Stream.Close%2A?displayProperty=nameWithType>当完成时，必须调用 <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-802">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-803">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-803">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-804">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-804">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-805"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-805">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-806">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-806">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-807">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-807">-or-</span></span>

<span data-ttu-id="20fd1-808">下载数据时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-808">An error occurred while downloading data.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="OpenReadAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-809">打开包含指定资源的可读流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-809">Opens a readable stream containing the specified resource.</span></span> <span data-ttu-id="20fd1-810">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-810">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="OpenReadAsync">
      <MemberSignature Language="C#" Value="public void OpenReadAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void OpenReadAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenReadAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Sub OpenReadAsync (address As Uri)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void OpenReadAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenReadAsync : Uri -&gt; unit" Usage="webClient.OpenReadAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-811">要检索的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-811">The URI of the resource to retrieve.</span></span></param>
        <summary><span data-ttu-id="20fd1-812">打开包含指定资源的可读流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-812">Opens a readable stream containing the specified resource.</span></span> <span data-ttu-id="20fd1-813">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-813">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-814">此方法检索 <xref:System.IO.Stream> 用于访问参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-814">This method retrieves a <xref:System.IO.Stream> instance used to access the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-815">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-815">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-816">若要在流可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.OpenReadCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-816">To receive notification when the stream is available, add an event handler to the <xref:System.Net.WebClient.OpenReadCompleted> event.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-817">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-817">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-818">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-818">This method does not block the calling thread while the stream is opening.</span></span> <span data-ttu-id="20fd1-819">若要在等待流时阻止，请使用 <xref:System.Net.WebClient.OpenReadAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-819">To block while waiting for the stream, use the <xref:System.Net.WebClient.OpenReadAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-820">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-820">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-821">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求资源的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-821">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested resource.</span></span> <span data-ttu-id="20fd1-822">如果 <xref:System.Net.WebClient.QueryString%2A> 属性不为 `null` ，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-822">If the <xref:System.Net.WebClient.QueryString%2A> property is not `null`, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-823">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-823">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-824">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-824">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-825">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-825">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-826">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-826">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-827"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-827">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-828">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 address 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-828">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and address is invalid.</span></span>

<span data-ttu-id="20fd1-829">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-829">-or-</span></span>

<span data-ttu-id="20fd1-830">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-830">An error occurred while downloading the resource.</span></span>

<span data-ttu-id="20fd1-831">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-831">-or-</span></span>

<span data-ttu-id="20fd1-832">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-832">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenReadAsync">
      <MemberSignature Language="C#" Value="public void OpenReadAsync (Uri address, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void OpenReadAsync(class System.Uri address, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenReadAsync(System.Uri,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub OpenReadAsync (address As Uri, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void OpenReadAsync(Uri ^ address, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.OpenReadAsync : Uri * obj -&gt; unit" Usage="webClient.OpenReadAsync (address, userToken)" />
      <MemberSignature Language="C#" Value="public void OpenReadAsync (Uri address, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-833">要检索的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-833">The URI of the resource to retrieve.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-834">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-834">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-835">打开包含指定资源的可读流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-835">Opens a readable stream containing the specified resource.</span></span> <span data-ttu-id="20fd1-836">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-836">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-837">此方法检索 <xref:System.IO.Stream> 用于访问参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-837">This method retrieves a <xref:System.IO.Stream> instance used to access the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-838">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-838">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-839">若要在流可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.OpenReadCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-839">To receive notification when the stream is available, add an event handler to the <xref:System.Net.WebClient.OpenReadCompleted> event.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-840">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-840">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-841">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-841">This method does not block the calling thread while the stream is opening.</span></span> <span data-ttu-id="20fd1-842">若要在等待流时阻止，请使用 <xref:System.Net.WebClient.OpenRead%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-842">To block while waiting for the stream, use the <xref:System.Net.WebClient.OpenRead%2A> method.</span></span>

 <span data-ttu-id="20fd1-843">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-843">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-844">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求资源的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-844">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested resource.</span></span> <span data-ttu-id="20fd1-845">如果 <xref:System.Net.WebClient.QueryString%2A> 属性不为 `null` ，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-845">If the <xref:System.Net.WebClient.QueryString%2A> property is not `null`, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-846">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-846">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-847">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-847">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-848">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-848">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-849">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-849">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-850"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-850">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-851">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 address 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-851">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and address is invalid.</span></span>

<span data-ttu-id="20fd1-852">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-852">-or-</span></span>

<span data-ttu-id="20fd1-853">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-853">An error occurred while downloading the resource.</span></span>

<span data-ttu-id="20fd1-854">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-854">-or-</span></span>

<span data-ttu-id="20fd1-855">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-855">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenReadCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.OpenReadCompletedEventHandler? OpenReadCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.OpenReadCompletedEventHandler OpenReadCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.OpenReadCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event OpenReadCompleted As OpenReadCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::OpenReadCompletedEventHandler ^ OpenReadCompleted;" />
      <MemberSignature Language="F#" Value="member this.OpenReadCompleted : System.Net.OpenReadCompletedEventHandler " Usage="member this.OpenReadCompleted : System.Net.OpenReadCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.OpenReadCompletedEventHandler OpenReadCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event OpenReadCompleted As OpenReadCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.OpenReadCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-856">在以下异步操作完成时发生，该操作打开包含某个资源的流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-856">Occurs when an asynchronous operation to open a stream containing a resource completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-857">此事件在每次打开包含资源的流的异步操作完成时引发。</span><span class="sxs-lookup"><span data-stu-id="20fd1-857">This event is raised each time an asynchronous operation to open a stream containing a resource completes.</span></span> <span data-ttu-id="20fd1-858">这些操作通过调用方法来启动 <xref:System.Net.WebClient.OpenReadAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-858">These operations are started by calling the <xref:System.Net.WebClient.OpenReadAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-859"><xref:System.Net.OpenReadCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-859">The <xref:System.Net.OpenReadCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-860"><xref:System.Net.OpenReadCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-860">The <xref:System.Net.OpenReadCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-861">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-861">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-862">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-862">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#30](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#30)]
 [!code-csharp[NCLWebClientAsync#30](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#30)]
 [!code-vb[NCLWebClientAsync#30](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#30)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="OpenReadTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-863">使用任务对象打开包含指定资源的可读流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-863">Opens a readable stream containing the specified resource as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-864">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-864">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="OpenReadTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenReadTaskAsync (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;class System.IO.Stream&gt; OpenReadTaskAsync(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenReadTaskAsync(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenReadTaskAsync (address As String) As Task(Of Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::IO::Stream ^&gt; ^ OpenReadTaskAsync(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenReadTaskAsync : string -&gt; System.Threading.Tasks.Task&lt;System.IO.Stream&gt;" Usage="webClient.OpenReadTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.IO.Stream&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-865">要检索的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-865">The URI of the resource to retrieve.</span></span></param>
        <summary><span data-ttu-id="20fd1-866">使用任务对象打开包含指定资源的可读流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-866">Opens a readable stream containing the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-867">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-867">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-868">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回用于读取资源中的数据的 <see cref="T:System.IO.Stream" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-868">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.IO.Stream" /> used to read data from a resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-869">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-869">This operation will not block.</span></span> <span data-ttu-id="20fd1-870">在 <xref:System.Threading.Tasks.Task%601> 打开数据资源的可读流后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-870">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a readable stream to the data resource has been opened.</span></span> <span data-ttu-id="20fd1-871">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-871">This method does not block the calling thread while the stream is opening.</span></span>

 <span data-ttu-id="20fd1-872">此方法检索 <xref:System.IO.Stream> 用于访问参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-872">This method retrieves a <xref:System.IO.Stream> instance used to access the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-873">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-873">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-874">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-874">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-875">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-875">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-876">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求资源的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-876">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested resource.</span></span> <span data-ttu-id="20fd1-877">如果 <xref:System.Net.WebClient.QueryString%2A> 属性不为 `null` ，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-877">If the <xref:System.Net.WebClient.QueryString%2A> property is not `null`, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-878">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-878">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-879">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-879">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-880">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-880">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-881">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-881">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-882"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-882">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-883">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 address 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-883">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and address is invalid.</span></span>

<span data-ttu-id="20fd1-884">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-884">-or-</span></span>

<span data-ttu-id="20fd1-885">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-885">An error occurred while downloading the resource.</span></span>

<span data-ttu-id="20fd1-886">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-886">-or-</span></span>

<span data-ttu-id="20fd1-887">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-887">An error occurred while opening the stream.</span></span></exception>
        <altmember cref="T:System.IO.Stream" />
      </Docs>
    </Member>
    <Member MemberName="OpenReadTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenReadTaskAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;class System.IO.Stream&gt; OpenReadTaskAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenReadTaskAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenReadTaskAsync (address As Uri) As Task(Of Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::IO::Stream ^&gt; ^ OpenReadTaskAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenReadTaskAsync : Uri -&gt; System.Threading.Tasks.Task&lt;System.IO.Stream&gt;" Usage="webClient.OpenReadTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.IO.Stream&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-888">要检索的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-888">The URI of the resource to retrieve.</span></span></param>
        <summary><span data-ttu-id="20fd1-889">使用任务对象打开包含指定资源的可读流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-889">Opens a readable stream containing the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-890">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-890">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-891">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回用于读取资源中的数据的 <see cref="T:System.IO.Stream" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-891">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.IO.Stream" /> used to read data from a resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-892">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-892">This operation will not block.</span></span> <span data-ttu-id="20fd1-893">在 <xref:System.Threading.Tasks.Task%601> 打开数据资源的可读流后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-893">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a readable stream to the data resource has been opened.</span></span> <span data-ttu-id="20fd1-894">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-894">This method does not block the calling thread while the stream is opening.</span></span>

 <span data-ttu-id="20fd1-895">此方法检索 <xref:System.IO.Stream> 用于访问参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-895">This method retrieves a <xref:System.IO.Stream> instance used to access the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-896">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-896">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-897">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-897">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-898">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-898">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-899">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求资源的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-899">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested resource.</span></span> <span data-ttu-id="20fd1-900">如果 <xref:System.Net.WebClient.QueryString%2A> 属性不为 `null` ，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-900">If the <xref:System.Net.WebClient.QueryString%2A> property is not `null`, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-901">此方法使用 RETR 命令下载 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-901">This method uses the RETR command to download an FTP resource.</span></span> <span data-ttu-id="20fd1-902">对于 HTTP 资源，使用 GET 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-902">For an HTTP resource, the GET method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-903">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-903">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-904">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-904">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-905"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-905">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-906">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 address 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-906">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and address is invalid.</span></span>

<span data-ttu-id="20fd1-907">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-907">-or-</span></span>

<span data-ttu-id="20fd1-908">下载资源时出现错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-908">An error occurred while downloading the resource.</span></span>

<span data-ttu-id="20fd1-909">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-909">-or-</span></span>

<span data-ttu-id="20fd1-910">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-910">An error occurred while opening the stream.</span></span></exception>
        <altmember cref="T:System.IO.Stream" />
      </Docs>
    </Member>
    <MemberGroup MemberName="OpenWrite">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-911">打开一个流以将数据写入具有指定 URI 的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-911">Opens a stream for writing data to a resource with the specified URI.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="OpenWrite">
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenWrite (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.Stream OpenWrite(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWrite(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWrite (address As String) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ OpenWrite(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenWrite : string -&gt; System.IO.Stream" Usage="webClient.OpenWrite address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-912">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-912">The URI of the resource to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-913">打开一个流以将数据写入指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-913">Opens a stream for writing data to the specified resource.</span></span></summary>
        <returns><span data-ttu-id="20fd1-914">用于将数据写入资源的 <see cref="T:System.IO.Stream" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-914">A <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-915"><xref:System.Net.WebClient.OpenWrite%2A>方法返回用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-915">The <xref:System.Net.WebClient.OpenWrite%2A> method returns a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-916">此方法在打开流时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-916">This method blocks while opening the stream.</span></span> <span data-ttu-id="20fd1-917">若要在等待流时继续执行，请使用其中一种 <xref:System.Net.WebClient.OpenWriteAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-917">To continue executing while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWriteAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-918">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-918">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-919">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-919">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-920">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-920">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-921">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-921">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-922">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-922">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-923">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-923">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-924">下面的代码示例从命令行读取数据，并使用 <xref:System.Net.WebClient.OpenWrite%2A> 获取用于写入数据的流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-924">The following code example reads data from the command line and uses <xref:System.Net.WebClient.OpenWrite%2A> to obtain a stream for writing the data.</span></span> <span data-ttu-id="20fd1-925"><xref:System.IO.Stream> <xref:System.Net.WebClient.OpenWrite%2A> 发送数据后，将关闭返回的。</span><span class="sxs-lookup"><span data-stu-id="20fd1-925">The <xref:System.IO.Stream> returned by <xref:System.Net.WebClient.OpenWrite%2A> is closed after the data is sent.</span></span>

 [!code-cpp[WebClient_OpenWrite2#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_OpenWrite2/CPP/webclient_openwrite2.cpp#1)]
 [!code-csharp[WebClient_OpenWrite2#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_OpenWrite2/CS/webclient_openwrite2.cs#1)]
 [!code-vb[WebClient_OpenWrite2#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_OpenWrite2/VB/webclient_openwrite2.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-926"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-926">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-927">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-927">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-928">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-928">-or-</span></span>

<span data-ttu-id="20fd1-929">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-929">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWrite">
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenWrite (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.Stream OpenWrite(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWrite(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWrite (address As Uri) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ OpenWrite(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenWrite : Uri -&gt; System.IO.Stream" Usage="webClient.OpenWrite address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-930">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-930">The URI of the resource to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-931">打开一个流以将数据写入指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-931">Opens a stream for writing data to the specified resource.</span></span></summary>
        <returns><span data-ttu-id="20fd1-932">用于将数据写入资源的 <see cref="T:System.IO.Stream" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-932">A <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-933"><xref:System.Net.WebClient.OpenWrite%2A>方法返回用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-933">The <xref:System.Net.WebClient.OpenWrite%2A> method returns a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-934">此方法在打开流时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-934">This method blocks while opening the stream.</span></span> <span data-ttu-id="20fd1-935">若要在等待流时继续执行，请使用其中一种 <xref:System.Net.WebClient.OpenWriteAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-935">To continue executing while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWriteAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-936">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-936">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-937">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-937">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-938">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-938">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-939">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-939">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-940">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-940">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-941">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-941">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-942"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-942">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-943">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-943">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-944">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-944">-or-</span></span>

<span data-ttu-id="20fd1-945">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-945">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWrite">
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenWrite (string address, string? method);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.Stream OpenWrite(string address, string method) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWrite(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWrite (address As String, method As String) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ OpenWrite(System::String ^ address, System::String ^ method);" />
      <MemberSignature Language="F#" Value="member this.OpenWrite : string * string -&gt; System.IO.Stream" Usage="webClient.OpenWrite (address, method)" />
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenWrite (string address, string method);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="method" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-946">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-946">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-947">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-947">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-948">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-948">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <summary><span data-ttu-id="20fd1-949">打开一个流以使用指定的方法向指定的资源写入数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-949">Opens a stream for writing data to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-950">用于将数据写入资源的 <see cref="T:System.IO.Stream" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-950">A <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-951"><xref:System.Net.WebClient.OpenWrite%2A>方法返回用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-951">The <xref:System.Net.WebClient.OpenWrite%2A> method returns a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-952">基础请求是通过参数中指定的方法发出的 `method` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-952">The underlying request is made with the method specified in the `method` parameter.</span></span> <span data-ttu-id="20fd1-953">关闭流时，会将数据发送到服务器。</span><span class="sxs-lookup"><span data-stu-id="20fd1-953">The data is sent to the server when you close the stream.</span></span> <span data-ttu-id="20fd1-954">此方法在打开流时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-954">This method blocks while opening the stream.</span></span> <span data-ttu-id="20fd1-955">若要在等待流时继续执行，请使用其中一种 <xref:System.Net.WebClient.OpenWriteAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-955">To continue executing while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWriteAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-956">如果 `method` 参数指定的方法不能被服务器识别，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-956">If the `method` parameter specifies a method that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-957">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-957">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-958">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且 `address` 未指定绝对地址， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-958">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not specify an absolute address, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-959">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-959">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-960">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-960">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-961">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-961">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-962">下面的代码示例从命令行读取数据，并使用 <xref:System.Net.WebClient.OpenWrite%2A> 来获取用于写入数据的流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-962">The following code example reads data from the command line and uses <xref:System.Net.WebClient.OpenWrite%2A> to obtain a stream used to write the data.</span></span> <span data-ttu-id="20fd1-963"><xref:System.IO.Stream>返回的 <xref:System.Net.WebClient.OpenWrite%2A> 必须关闭才能发送数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-963">The <xref:System.IO.Stream> returned by <xref:System.Net.WebClient.OpenWrite%2A> must be closed to send the data.</span></span>

 [!code-cpp[WebClient_OpenWrite#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_OpenWrite/CPP/webclient_openwrite.cpp#1)]
 [!code-csharp[WebClient_OpenWrite#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_OpenWrite/CS/webclient_openwrite.cs#1)]
 [!code-vb[WebClient_OpenWrite#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_OpenWrite/VB/webclient_openwrite.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-964"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-964">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-965">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-965">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-966">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-966">-or-</span></span>

<span data-ttu-id="20fd1-967">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-967">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWrite">
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenWrite (Uri address, string? method);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.Stream OpenWrite(class System.Uri address, string method) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWrite(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWrite (address As Uri, method As String) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ OpenWrite(Uri ^ address, System::String ^ method);" />
      <MemberSignature Language="F#" Value="member this.OpenWrite : Uri * string -&gt; System.IO.Stream" Usage="webClient.OpenWrite (address, method)" />
      <MemberSignature Language="C#" Value="public System.IO.Stream OpenWrite (Uri address, string method);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-968">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-968">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-969">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-969">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-970">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-970">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <summary><span data-ttu-id="20fd1-971">打开一个流以使用指定的方法将数据写入指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-971">Opens a stream for writing data to the specified resource, by using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-972">用于将数据写入资源的 <see cref="T:System.IO.Stream" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-972">A <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-973"><xref:System.Net.WebClient.OpenWrite%2A>方法返回用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-973">The <xref:System.Net.WebClient.OpenWrite%2A> method returns a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-974">此方法在打开流时阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-974">This method blocks while opening the stream.</span></span> <span data-ttu-id="20fd1-975">若要在等待流时继续执行，请使用其中一种 <xref:System.Net.WebClient.OpenWriteAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-975">To continue executing while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWriteAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-976">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-976">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-977">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-977">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-978">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-978">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-979">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-979">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-980"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-980">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-981">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-981">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-982">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-982">-or-</span></span>

<span data-ttu-id="20fd1-983">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-983">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="OpenWriteAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-984">打开一个流以将数据写入指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-984">Opens a stream for writing data to the specified resource.</span></span> <span data-ttu-id="20fd1-985">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-985">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="OpenWriteAsync">
      <MemberSignature Language="C#" Value="public void OpenWriteAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void OpenWriteAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Sub OpenWriteAsync (address As Uri)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void OpenWriteAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteAsync : Uri -&gt; unit" Usage="webClient.OpenWriteAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-986">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-986">The URI of the resource to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-987">打开一个流以将数据写入指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-987">Opens a stream for writing data to the specified resource.</span></span> <span data-ttu-id="20fd1-988">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-988">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-989">此方法检索用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-989">This method retrieves a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-990">使用从线程池自动分配的线程资源来检索流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-990">The stream is retrieved using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-991">若要在流可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.OpenWriteCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-991">To receive notification when the stream is available, add an event handler to the <xref:System.Net.WebClient.OpenWriteCompleted> event.</span></span> <span data-ttu-id="20fd1-992">关闭流时，将阻止线程，直到将请求发送到 `address` ，并收到响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-992">When you close the stream, the thread blocks until the request is sent to `address` and a response is received.</span></span>

 <span data-ttu-id="20fd1-993">当打开流时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-993">This method does not block the calling thread while the stream is being opened.</span></span> <span data-ttu-id="20fd1-994">若要在等待流时阻止，请使用其中一种 <xref:System.Net.WebClient.OpenWrite%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-994">To block while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWrite%2A> methods.</span></span>

 <span data-ttu-id="20fd1-995">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-995">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-996">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-996">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-997">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-997">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-998">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-998">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-999">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-999">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1000">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1000">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1001"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1001">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWriteAsync">
      <MemberSignature Language="C#" Value="public void OpenWriteAsync (Uri address, string? method);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void OpenWriteAsync(class System.Uri address, string method) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub OpenWriteAsync (address As Uri, method As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void OpenWriteAsync(Uri ^ address, System::String ^ method);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteAsync : Uri * string -&gt; unit" Usage="webClient.OpenWriteAsync (address, method)" />
      <MemberSignature Language="C#" Value="public void OpenWriteAsync (Uri address, string method);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1002">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1002">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1003">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1003">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1004">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1004">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <summary><span data-ttu-id="20fd1-1005">打开一个流以将数据写入指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1005">Opens a stream for writing data to the specified resource.</span></span> <span data-ttu-id="20fd1-1006">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1006">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1007">此方法检索用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1007">This method retrieves a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-1008">使用从线程池自动分配的线程资源来检索流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1008">The stream is retrieved using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1009">若要在流可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.OpenWriteCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1009">To receive notification when the stream is available, add an event handler to the <xref:System.Net.WebClient.OpenWriteCompleted> event.</span></span> <span data-ttu-id="20fd1-1010">关闭流时，将阻止线程，直到将请求发送到 `address` ，并收到响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1010">When you close the stream, the thread blocks until the request is sent to `address` and a response is received.</span></span>

 <span data-ttu-id="20fd1-1011">当打开流时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1011">This method does not block the calling thread while the stream is being opened.</span></span> <span data-ttu-id="20fd1-1012">若要在等待流时阻止，请使用其中一种 <xref:System.Net.WebClient.OpenWrite%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1012">To block while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWrite%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1013">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1013">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1014">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1014">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1015">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1015">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1016">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1016">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1017"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1017">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWriteAsync">
      <MemberSignature Language="C#" Value="public void OpenWriteAsync (Uri address, string? method, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void OpenWriteAsync(class System.Uri address, string method, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteAsync(System.Uri,System.String,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub OpenWriteAsync (address As Uri, method As String, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void OpenWriteAsync(Uri ^ address, System::String ^ method, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteAsync : Uri * string * obj -&gt; unit" Usage="webClient.OpenWriteAsync (address, method, userToken)" />
      <MemberSignature Language="C#" Value="public void OpenWriteAsync (Uri address, string method, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1018">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1018">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1019">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1019">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1020">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1020">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-1021">一个用户定义对象，此对象将被传递给完成异步操作时所调用的方法</span><span class="sxs-lookup"><span data-stu-id="20fd1-1021">A user-defined object that is passed to the method invoked when the asynchronous operation completes</span></span></param>
        <summary><span data-ttu-id="20fd1-1022">打开一个流以使用指定的方法向指定的资源写入数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1022">Opens a stream for writing data to the specified resource, using the specified method.</span></span> <span data-ttu-id="20fd1-1023">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1023">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1024">此方法检索用于将数据发送到资源的可写流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1024">This method retrieves a writable stream that is used to send data to a resource.</span></span> <span data-ttu-id="20fd1-1025">使用自动从线程池分配的线程资源异步检索流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1025">The stream is retrieved asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1026">若要在流可用时接收通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.OpenWriteCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1026">To receive notification when the stream is available, add an event handler to the <xref:System.Net.WebClient.OpenWriteCompleted> event.</span></span> <span data-ttu-id="20fd1-1027">关闭流时，会将流的内容发送到服务器。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1027">The contents of the stream are sent to the server when you close the stream.</span></span>

 <span data-ttu-id="20fd1-1028">如果 `method` 参数指定的方法不能被服务器识别，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1028">If the `method` parameter specifies a method that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1029">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1029">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1030">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1030">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1031">当打开流时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1031">This method does not block the calling thread while the stream is being opened.</span></span> <span data-ttu-id="20fd1-1032">若要在等待流时阻止，请使用其中一种 <xref:System.Net.WebClient.OpenWrite%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1032">To block while waiting for the stream, use one of the <xref:System.Net.WebClient.OpenWrite%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1033">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1033">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1034">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1034">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1035">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1035">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1036">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1036">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1037"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1037">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1038">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1038">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1039">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1039">-or-</span></span>

<span data-ttu-id="20fd1-1040">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1040">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWriteCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.OpenWriteCompletedEventHandler? OpenWriteCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.OpenWriteCompletedEventHandler OpenWriteCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.OpenWriteCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event OpenWriteCompleted As OpenWriteCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::OpenWriteCompletedEventHandler ^ OpenWriteCompleted;" />
      <MemberSignature Language="F#" Value="member this.OpenWriteCompleted : System.Net.OpenWriteCompletedEventHandler " Usage="member this.OpenWriteCompleted : System.Net.OpenWriteCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.OpenWriteCompletedEventHandler OpenWriteCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event OpenWriteCompleted As OpenWriteCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.OpenWriteCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1041">在打开流以将数据写入资源的异步操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1041">Occurs when an asynchronous operation to open a stream to write data to a resource completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1042">每次打开用于将数据发送到资源的流的异步操作完成时，都会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1042">This event is raised each time an asynchronous operation to open a stream that is used to send data to a resource completes.</span></span> <span data-ttu-id="20fd1-1043">这些操作通过调用方法来启动 <xref:System.Net.WebClient.OpenWriteAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1043">These operations are started by calling the <xref:System.Net.WebClient.OpenWriteAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1044"><xref:System.Net.OpenWriteCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1044">The <xref:System.Net.OpenWriteCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-1045"><xref:System.Net.OpenWriteCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1045">The <xref:System.Net.OpenWriteCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-1046">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1046">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-1047">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1047">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#14](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#14)]
 [!code-csharp[NCLWebClientAsync#14](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#14)]
 [!code-vb[NCLWebClientAsync#14](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#14)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="OpenWriteTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1048">使用任务对象打开用于将数据写入指定资源的流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1048">Opens a stream for writing data to the specified resource as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-1049">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1049">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="OpenWriteTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenWriteTaskAsync (string address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;class System.IO.Stream&gt; OpenWriteTaskAsync(string address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteTaskAsync(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWriteTaskAsync (address As String) As Task(Of Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::IO::Stream ^&gt; ^ OpenWriteTaskAsync(System::String ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteTaskAsync : string -&gt; System.Threading.Tasks.Task&lt;System.IO.Stream&gt;" Usage="webClient.OpenWriteTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.IO.Stream&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1050">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1050">The URI of the resource to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-1051">使用任务对象打开用于将数据写入指定资源的流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1051">Opens a stream for writing data to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1052">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1052">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1053">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回用于将数据写入资源的 <see cref="T:System.IO.Stream" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1053">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1054">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1054">This operation will not block.</span></span> <span data-ttu-id="20fd1-1055">在 <xref:System.Threading.Tasks.Task%601> 打开数据资源的可写流后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1055">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a writable stream to the data resource has been opened.</span></span> <span data-ttu-id="20fd1-1056">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1056">This method does not block the calling thread while the stream is opening.</span></span>

 <span data-ttu-id="20fd1-1057">此方法检索 <xref:System.IO.Stream> 用于将数据写入到参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1057">This method retrieves a <xref:System.IO.Stream> instance used to write data to the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-1058">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1058">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1059">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1059">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-1060">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1060">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1061">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1061">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1062">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1062">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1063">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1063">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1064">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1064">For an HTTP resource, the POST method is used.</span></span>

 <span data-ttu-id="20fd1-1065">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1065">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1066">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1066">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1067"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1067">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1068">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1068">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1069">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1069">-or-</span></span>

<span data-ttu-id="20fd1-1070">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1070">An error occurred while opening the stream.</span></span></exception>
        <altmember cref="T:System.IO.Stream" />
      </Docs>
    </Member>
    <Member MemberName="OpenWriteTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenWriteTaskAsync (Uri address);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;class System.IO.Stream&gt; OpenWriteTaskAsync(class System.Uri address) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteTaskAsync(System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWriteTaskAsync (address As Uri) As Task(Of Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::IO::Stream ^&gt; ^ OpenWriteTaskAsync(Uri ^ address);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteTaskAsync : Uri -&gt; System.Threading.Tasks.Task&lt;System.IO.Stream&gt;" Usage="webClient.OpenWriteTaskAsync address" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.IO.Stream&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1071">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1071">The URI of the resource to receive the data.</span></span></param>
        <summary><span data-ttu-id="20fd1-1072">使用任务对象打开用于将数据写入指定资源的流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1072">Opens a stream for writing data to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1073">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1073">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1074">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回用于将数据写入资源的 <see cref="T:System.IO.Stream" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1074">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1075">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1075">This operation will not block.</span></span> <span data-ttu-id="20fd1-1076">在 <xref:System.Threading.Tasks.Task%601> 打开数据资源的可写流后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1076">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a writable stream to the data resource has been opened.</span></span> <span data-ttu-id="20fd1-1077">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1077">This method does not block the calling thread while the stream is opening.</span></span>

 <span data-ttu-id="20fd1-1078">此方法检索 <xref:System.IO.Stream> 用于将数据写入到参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1078">This method retrieves a <xref:System.IO.Stream> instance used to write data to the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-1079">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1079">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1080">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1080">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-1081">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1081">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1082">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1082">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1083">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1083">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1084">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1084">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1085">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1085">For an HTTP resource, the POST method is used.</span></span>

 <span data-ttu-id="20fd1-1086">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1086">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1087">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1087">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1088"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1088">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1089">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1089">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1090">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1090">-or-</span></span>

<span data-ttu-id="20fd1-1091">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1091">An error occurred while opening the stream.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OpenWriteTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenWriteTaskAsync (string address, string? method);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;class System.IO.Stream&gt; OpenWriteTaskAsync(string address, string method) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteTaskAsync(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWriteTaskAsync (address As String, method As String) As Task(Of Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::IO::Stream ^&gt; ^ OpenWriteTaskAsync(System::String ^ address, System::String ^ method);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteTaskAsync : string * string -&gt; System.Threading.Tasks.Task&lt;System.IO.Stream&gt;" Usage="webClient.OpenWriteTaskAsync (address, method)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenWriteTaskAsync (string address, string method);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.IO.Stream&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1092">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1092">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1093">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1093">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1094">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1094">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <summary><span data-ttu-id="20fd1-1095">使用任务对象打开用于将数据写入指定资源的流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1095">Opens a stream for writing data to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1096">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1096">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1097">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回用于将数据写入资源的 <see cref="T:System.IO.Stream" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1097">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1098">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1098">This operation will not block.</span></span> <span data-ttu-id="20fd1-1099">在 <xref:System.Threading.Tasks.Task%601> 打开数据资源的可写流后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1099">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a writable stream to the data resource has been opened.</span></span> <span data-ttu-id="20fd1-1100">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1100">This method does not block the calling thread while the stream is opening.</span></span>

 <span data-ttu-id="20fd1-1101">此方法检索 <xref:System.IO.Stream> 用于将数据写入到参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1101">This method retrieves a <xref:System.IO.Stream> instance used to write data to the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-1102">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1102">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1103">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1103">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-1104">如果 `method` 参数指定的方法不能被服务器识别，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1104">If the `method` parameter specifies a method that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1105">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1105">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1106">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1106">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1107">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1107">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1108">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1108">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1109">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1109">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1110">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1110">For an HTTP resource, the POST method is used.</span></span>

 <span data-ttu-id="20fd1-1111">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1111">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1112">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1112">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1113"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1113">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1114">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1114">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1115">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1115">-or-</span></span>

<span data-ttu-id="20fd1-1116">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1116">An error occurred while opening the stream.</span></span></exception>
        <altmember cref="T:System.IO.Stream" />
      </Docs>
    </Member>
    <Member MemberName="OpenWriteTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenWriteTaskAsync (Uri address, string? method);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;class System.IO.Stream&gt; OpenWriteTaskAsync(class System.Uri address, string method) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.OpenWriteTaskAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function OpenWriteTaskAsync (address As Uri, method As String) As Task(Of Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::IO::Stream ^&gt; ^ OpenWriteTaskAsync(Uri ^ address, System::String ^ method);" />
      <MemberSignature Language="F#" Value="member this.OpenWriteTaskAsync : Uri * string -&gt; System.Threading.Tasks.Task&lt;System.IO.Stream&gt;" Usage="webClient.OpenWriteTaskAsync (address, method)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;System.IO.Stream&gt; OpenWriteTaskAsync (Uri address, string method);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.IO.Stream&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1117">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1117">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1118">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1118">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1119">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1119">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <summary><span data-ttu-id="20fd1-1120">使用任务对象打开用于将数据写入指定资源的流以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1120">Opens a stream for writing data to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1121">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1121">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1122">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回用于将数据写入资源的 <see cref="T:System.IO.Stream" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1122">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.IO.Stream" /> used to write data to the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1123">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1123">This operation will not block.</span></span> <span data-ttu-id="20fd1-1124">在 <xref:System.Threading.Tasks.Task%601> 打开数据资源的可写流后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1124">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a writable stream to the data resource has been opened.</span></span> <span data-ttu-id="20fd1-1125">当流打开时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1125">This method does not block the calling thread while the stream is opening.</span></span>

 <span data-ttu-id="20fd1-1126">此方法检索 <xref:System.IO.Stream> 用于将数据写入到参数指定的资源的实例 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1126">This method retrieves a <xref:System.IO.Stream> instance used to write data to the resource specified by the `address` parameter.</span></span> <span data-ttu-id="20fd1-1127">使用从线程池自动分配的线程资源来获取流。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1127">The stream is obtained using thread resources that are automatically allocated from the thread pool.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1128">完成后，必须调用 <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> <xref:System.IO.Stream> 以避免系统资源不足。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1128">You must call <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> when you are finished with the <xref:System.IO.Stream> to avoid running out of system resources.</span></span>

 <span data-ttu-id="20fd1-1129">如果 `method` 参数指定的方法不能被服务器识别，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1129">If the `method` parameter specifies a method that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1130">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1130">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1131">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1131">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1132">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1132">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1133">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1133">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1134">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1134">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1135">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1135">For an HTTP resource, the POST method is used.</span></span>

 <span data-ttu-id="20fd1-1136">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1136">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1137">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1137">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1138"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1138">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1139">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1139">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1140">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1140">-or-</span></span>

<span data-ttu-id="20fd1-1141">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1141">An error occurred while opening the stream.</span></span></exception>
        <altmember cref="T:System.IO.Stream" />
      </Docs>
    </Member>
    <Member MemberName="Proxy">
      <MemberSignature Language="C#" Value="public System.Net.IWebProxy? Proxy { get; set; }" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.IWebProxy Proxy" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.Proxy" />
      <MemberSignature Language="VB.NET" Value="Public Property Proxy As IWebProxy" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::IWebProxy ^ Proxy { System::Net::IWebProxy ^ get(); void set(System::Net::IWebProxy ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Proxy : System.Net.IWebProxy with get, set" Usage="System.Net.WebClient.Proxy" />
      <MemberSignature Language="C#" Value="public System.Net.IWebProxy Proxy { get; set; }" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.IWebProxy</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1142">获取或设置此 <see cref="T:System.Net.WebClient" /> 对象使用的代理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1142">Gets or sets the proxy used by this <see cref="T:System.Net.WebClient" /> object.</span></span></summary>
        <value><span data-ttu-id="20fd1-1143">用于发送请求的 <see cref="T:System.Net.IWebProxy" /> 实例。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1143">An <see cref="T:System.Net.IWebProxy" /> instance used to send requests.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1144"><xref:System.Net.WebClient.Proxy%2A>属性标识 <xref:System.Net.IWebProxy> 代表此对象与远程服务器通信的实例 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1144">The <xref:System.Net.WebClient.Proxy%2A> property identifies the <xref:System.Net.IWebProxy> instance that communicates with remote servers on behalf of this <xref:System.Net.WebClient> object.</span></span> <span data-ttu-id="20fd1-1145">代理由系统使用配置文件和 Internet Explorer 局域网设置进行设置。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1145">The proxy is set by the system using configuration files and the Internet Explorer Local Area Network settings.</span></span> <span data-ttu-id="20fd1-1146">若要指定不应使用代理，请将 <xref:System.Net.WebClient.Proxy%2A> 属性设置为 `null` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1146">To specify that no proxy should be used, set the <xref:System.Net.WebClient.Proxy%2A> property to `null`.</span></span>

 <span data-ttu-id="20fd1-1147">有关自动代理检测的信息，请参阅 [自动代理检测](/dotnet/framework/network-programming/automatic-proxy-detection)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1147">For information on automatic proxy detection, see [Automatic Proxy Detection](/dotnet/framework/network-programming/automatic-proxy-detection).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1148">将 <see cref="P:System.Net.WebClient.Proxy" /> 设置为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1148"><see cref="P:System.Net.WebClient.Proxy" /> is set to <see langword="null" />.</span></span></exception>
        <altmember cref="T:System.Net.WebRequest" />
        <altmember cref="T:System.Net.WebResponse" />
        <altmember cref="T:System.Net.HttpWebRequest" />
        <altmember cref="T:System.Net.HttpWebResponse" />
        <altmember cref="T:System.Net.FtpWebRequest" />
        <altmember cref="T:System.Net.FtpWebResponse" />
        <altmember cref="T:System.Net.GlobalProxySelection" />
        <altmember cref="T:System.Net.WebProxy" />
      </Docs>
    </Member>
    <Member MemberName="QueryString">
      <MemberSignature Language="C#" Value="public System.Collections.Specialized.NameValueCollection QueryString { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Collections.Specialized.NameValueCollection QueryString" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.QueryString" />
      <MemberSignature Language="VB.NET" Value="Public Property QueryString As NameValueCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Collections::Specialized::NameValueCollection ^ QueryString { System::Collections::Specialized::NameValueCollection ^ get(); void set(System::Collections::Specialized::NameValueCollection ^ value); };" />
      <MemberSignature Language="F#" Value="member this.QueryString : System.Collections.Specialized.NameValueCollection with get, set" Usage="System.Net.WebClient.QueryString" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;set: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.Specialized.NameValueCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1149">获取或设置与请求关联的查询名称/值对集合。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1149">Gets or sets a collection of query name/value pairs associated with the request.</span></span></summary>
        <value><span data-ttu-id="20fd1-1150">一个 <see cref="T:System.Collections.Specialized.NameValueCollection" />，包含与请求关联的查询名称/值对。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1150">A <see cref="T:System.Collections.Specialized.NameValueCollection" /> that contains query name/value pairs associated with the request.</span></span> <span data-ttu-id="20fd1-1151">如果没有与请求关联的名称/值对，则值为空的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1151">If no pairs are associated with the request, the value is an empty <see cref="T:System.Collections.Specialized.NameValueCollection" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1152"><xref:System.Net.WebClient.QueryString%2A>属性包含 <xref:System.Collections.Specialized.NameValueCollection> 包含名称/值对的实例，这些名称/值对作为查询字符串追加到 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1152">The <xref:System.Net.WebClient.QueryString%2A> property contains a <xref:System.Collections.Specialized.NameValueCollection> instance containing name/value pairs that are appended to the URI as a query string.</span></span> <span data-ttu-id="20fd1-1153">该属性的内容 <xref:System.Net.WebClient.QueryString%2A> 前面有一个问号 (？ ) ，名称/值对由 "and" 符 (&) 彼此分隔。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1153">The contents of the <xref:System.Net.WebClient.QueryString%2A> property are preceded by a question mark (?), and name/value pairs are separated from one another by an ampersand (&).</span></span>



## Examples
 <span data-ttu-id="20fd1-1154">下面的代码示例使用命令行中的用户输入，并生成 <xref:System.Collections.Specialized.NameValueCollection> 分配给该属性的 <xref:System.Net.WebClient.QueryString%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1154">The following code example takes user input from the command line and builds a <xref:System.Collections.Specialized.NameValueCollection> that is assigned to the <xref:System.Net.WebClient.QueryString%2A> property.</span></span> <span data-ttu-id="20fd1-1155">然后，它会将服务器的响应下载到本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1155">It then downloads the response from the server to a local file.</span></span>

 [!code-cpp[WebClient_QueryString#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_QueryString/CPP/webclient_querystring.cpp#1)]
 [!code-csharp[WebClient_QueryString#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_QueryString/CS/webclient_querystring.cs#1)]
 [!code-vb[WebClient_QueryString#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_QueryString/VB/webclient_querystring.vb#1)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResponseHeaders">
      <MemberSignature Language="C#" Value="public System.Net.WebHeaderCollection? ResponseHeaders { get; }" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.WebHeaderCollection ResponseHeaders" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.ResponseHeaders" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property ResponseHeaders As WebHeaderCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::WebHeaderCollection ^ ResponseHeaders { System::Net::WebHeaderCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.ResponseHeaders : System.Net.WebHeaderCollection" Usage="System.Net.WebClient.ResponseHeaders" />
      <MemberSignature Language="C#" Value="public System.Net.WebHeaderCollection ResponseHeaders { get; }" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.WebHeaderCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1156">获取与响应关联的标头名称/值对集合。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1156">Gets a collection of header name/value pairs associated with the response.</span></span></summary>
        <value><span data-ttu-id="20fd1-1157"><see cref="T:System.Net.WebHeaderCollection" />，包含与响应关联的标头名称/值对；如果尚未收到任何响应，则为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1157">A <see cref="T:System.Net.WebHeaderCollection" /> containing header name/value pairs associated with the response, or <see langword="null" /> if no response has been received.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1158"><xref:System.Net.WebClient.ResponseHeaders%2A>属性包含一个 <xref:System.Net.WebHeaderCollection> 实例，该实例包含接收到响应的标头信息 <xref:System.Net.WebClient> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1158">The <xref:System.Net.WebClient.ResponseHeaders%2A> property contains a <xref:System.Net.WebHeaderCollection> instance containing header information the <xref:System.Net.WebClient> receives with the response.</span></span>



## Examples
 <span data-ttu-id="20fd1-1159">下面的代码示例将下载并显示 <xref:System.Net.WebClient.ResponseHeaders%2A> 服务器返回的。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1159">The following code example downloads and displays the <xref:System.Net.WebClient.ResponseHeaders%2A> returned by a server.</span></span>

 [!code-cpp[WebClient_BaseAddress_ResponseHeaders#2](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_BaseAddress_ResponseHeaders/CPP/webclient_baseaddress_responseheaders.cpp#2)]
 [!code-csharp[WebClient_BaseAddress_ResponseHeaders#2](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_BaseAddress_ResponseHeaders/CS/webclient_baseaddress_responseheaders.cs#2)]
 [!code-vb[WebClient_BaseAddress_ResponseHeaders#2](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_BaseAddress_ResponseHeaders/VB/webclient_baseaddress_responseheaders.vb#2)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadData">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1160">将数据缓冲区上载到具有指定 URI 的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1160">Uploads a data buffer to a resource with the specified URI.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadData">
      <MemberSignature Language="C#" Value="public byte[] UploadData (string address, byte[] data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadData(string address, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadData(System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadData (address As String, data As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadData(System::String ^ address, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadData : string * byte[] -&gt; byte[]" Usage="webClient.UploadData (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="data" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1161">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1161">The URI of the resource to receive the data.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1162">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1162">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1163">将数据缓冲区上载到由 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1163">Uploads a data buffer to a resource identified by a URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1164">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1164">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1165"><xref:System.Net.WebClient.UploadData%2A>方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1165">The <xref:System.Net.WebClient.UploadData%2A> method sends a data buffer to a resource.</span></span>

 <span data-ttu-id="20fd1-1166">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1166">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1167">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1167">For an HTTP resource, the POST method is used.</span></span> <span data-ttu-id="20fd1-1168">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1168">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1169">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1169">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1170"><xref:System.Net.WebClient.UploadData%2A>方法将的内容发送 `data` 到服务器而不对其进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1170">The <xref:System.Net.WebClient.UploadData%2A> method sends the content of `data` to the server without encoding it.</span></span> <span data-ttu-id="20fd1-1171">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1171">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-1172">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadDataAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1172">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1173">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1173">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1174">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1174">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1175">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1175">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1176">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1176">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-1177">下面的代码示例将从控制台输入的字符串转换为 <xref:System.Byte> 数组，并使用将数组发送到指定的服务器 <xref:System.Net.WebClient.UploadData%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1177">The following code example converts a string entered from the console to a <xref:System.Byte> array and posts the array to the specified server using <xref:System.Net.WebClient.UploadData%2A>.</span></span> <span data-ttu-id="20fd1-1178">服务器的任何响应都会显示到控制台。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1178">Any response from the server is displayed to the console.</span></span>

 [!code-cpp[WebClient_UpLoadData2#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UpLoadData2/CPP/webclient_uploaddata2.cpp#1)]
 [!code-csharp[WebClient_UpLoadData2#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UpLoadData2/CS/webclient_uploaddata2.cs#1)]
 [!code-vb[WebClient_UpLoadData2#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UpLoadData2/VB/webclient_uploaddata2.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1179"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1179">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1180">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1180">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1181">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1181">-or-</span></span>

 <span data-ttu-id="20fd1-1182"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1182"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1183">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1183">-or-</span></span>

<span data-ttu-id="20fd1-1184">发送数据时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1184">An error occurred while sending the data.</span></span>

<span data-ttu-id="20fd1-1185">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1185">-or-</span></span>

<span data-ttu-id="20fd1-1186">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1186">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadData">
      <MemberSignature Language="C#" Value="public byte[] UploadData (Uri address, byte[] data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadData(class System.Uri address, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadData(System.Uri,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadData (address As Uri, data As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadData(Uri ^ address, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadData : Uri * byte[] -&gt; byte[]" Usage="webClient.UploadData (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1187">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1187">The URI of the resource to receive the data.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1188">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1188">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1189">将数据缓冲区上载到由 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1189">Uploads a data buffer to a resource identified by a URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1190">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1190">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1191"><xref:System.Net.WebClient.UploadData%2A>方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1191">The <xref:System.Net.WebClient.UploadData%2A> method sends a data buffer to a resource.</span></span>

 <span data-ttu-id="20fd1-1192">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1192">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1193">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1193">For an HTTP resource, the POST method is used.</span></span> <span data-ttu-id="20fd1-1194">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1194">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1195">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1195">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1196"><xref:System.Net.WebClient.UploadData%2A>方法将的内容发送 `data` 到服务器而不对其进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1196">The <xref:System.Net.WebClient.UploadData%2A> method sends the content of `data` to the server without encoding it.</span></span> <span data-ttu-id="20fd1-1197">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1197">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-1198">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadDataAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1198">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1199">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1199">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1200">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1200">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1201">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1201">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1202">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1202">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1203"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1203">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1204">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1204">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1205">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1205">-or-</span></span>

 <span data-ttu-id="20fd1-1206"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1206"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1207">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1207">-or-</span></span>

<span data-ttu-id="20fd1-1208">发送数据时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1208">An error occurred while sending the data.</span></span>

<span data-ttu-id="20fd1-1209">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1209">-or-</span></span>

<span data-ttu-id="20fd1-1210">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1210">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadData">
      <MemberSignature Language="C#" Value="public byte[] UploadData (string address, string? method, byte[] data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadData(string address, string method, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadData(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadData (address As String, method As String, data As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadData(System::String ^ address, System::String ^ method, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadData : string * string * byte[] -&gt; byte[]" Usage="webClient.UploadData (address, method, data)" />
      <MemberSignature Language="C#" Value="public byte[] UploadData (string address, string method, byte[] data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="method" Type="System.String" />
        <Parameter Name="data" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1211">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1211">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1212">用于将数据发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1212">The HTTP method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1213">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1213">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1214">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1214">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1215">使用指定的方法将数据缓冲区上载到指定资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1215">Uploads a data buffer to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1216">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1216">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1217"><xref:System.Net.WebClient.UploadData%2A>方法使用参数中指定的 HTTP 方法将数据缓冲区发送到资源 `method` ，并返回来自服务器的任何响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1217">The <xref:System.Net.WebClient.UploadData%2A> method sends a data buffer to a resource using the HTTP method specified in the `method` parameter, and returns any response from the server.</span></span> <span data-ttu-id="20fd1-1218">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1218">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-1219">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadDataAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1219">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1220"><xref:System.Net.WebClient.UploadData%2A>方法将的内容发送 `data` 到服务器而不对其进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1220">The <xref:System.Net.WebClient.UploadData%2A> method sends the content of `data` to the server without encoding it.</span></span>

 <span data-ttu-id="20fd1-1221">如果 `method` 参数指定了服务器无法理解的谓词，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1221">If the `method` parameter specifies a verb that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1222">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1222">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1223">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1223">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1224">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1224">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1225">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1225">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1226">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1226">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-1227">下面的代码示例将从控制台输入的字符串转换为字节数组，并使用将该数组发送到指定的服务器 <xref:System.Net.WebClient.UploadData%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1227">The following code example converts a string entered from the console into a byte array and posts the array to the specified server using <xref:System.Net.WebClient.UploadData%2A>.</span></span> <span data-ttu-id="20fd1-1228">服务器的任何响应都会显示到控制台。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1228">Any response from the server is displayed to the console.</span></span>

 [!code-cpp[WebClient_UpLoadData_Headers#2](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UpLoadData_Headers/CPP/webclient_uploaddata_headers.cpp#2)]
 [!code-csharp[WebClient_UpLoadData_Headers#2](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UpLoadData_Headers/CS/webclient_uploaddata_headers.cs#2)]
 [!code-vb[WebClient_UpLoadData_Headers#2](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UpLoadData_Headers/VB/webclient_uploaddata_headers.vb#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1229"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1229">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1230">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1230">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1231">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1231">-or-</span></span>

 <span data-ttu-id="20fd1-1232"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1232"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1233">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1233">-or-</span></span>

<span data-ttu-id="20fd1-1234">上载数据时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1234">An error occurred while uploading the data.</span></span>

<span data-ttu-id="20fd1-1235">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1235">-or-</span></span>

<span data-ttu-id="20fd1-1236">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1236">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadData">
      <MemberSignature Language="C#" Value="public byte[] UploadData (Uri address, string? method, byte[] data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadData(class System.Uri address, string method, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadData(System.Uri,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadData (address As Uri, method As String, data As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadData(Uri ^ address, System::String ^ method, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadData : Uri * string * byte[] -&gt; byte[]" Usage="webClient.UploadData (address, method, data)" />
      <MemberSignature Language="C#" Value="public byte[] UploadData (Uri address, string method, byte[] data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1237">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1237">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1238">用于将数据发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1238">The HTTP method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1239">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1239">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1240">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1240">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1241">使用指定的方法将数据缓冲区上载到指定资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1241">Uploads a data buffer to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1242">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1242">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1243"><xref:System.Net.WebClient.UploadData%2A>方法使用参数中指定的 HTTP 方法将数据缓冲区发送到资源 `method` ，并返回来自服务器的任何响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1243">The <xref:System.Net.WebClient.UploadData%2A> method sends a data buffer to a resource using the HTTP method specified in the `method` parameter, and returns any response from the server.</span></span> <span data-ttu-id="20fd1-1244">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1244">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-1245">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadDataAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1245">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1246"><xref:System.Net.WebClient.UploadData%2A>方法将的内容发送 `data` 到服务器而不对其进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1246">The <xref:System.Net.WebClient.UploadData%2A> method sends the content of `data` to the server without encoding it.</span></span>

 <span data-ttu-id="20fd1-1247">如果 `method` 参数指定了服务器无法理解的谓词，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1247">If the `method` parameter specifies a verb that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1248">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1248">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1249">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1249">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1250">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1250">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1251">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1251">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1252">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1252">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1253"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1253">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1254">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1254">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1255">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1255">-or-</span></span>

 <span data-ttu-id="20fd1-1256"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1256"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1257">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1257">-or-</span></span>

<span data-ttu-id="20fd1-1258">上载数据时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1258">An error occurred while uploading the data.</span></span>

<span data-ttu-id="20fd1-1259">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1259">-or-</span></span>

<span data-ttu-id="20fd1-1260">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1260">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadDataAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1261">将数据缓冲区上载到由 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1261">Uploads a data buffer to a resource identified by a URI.</span></span> <span data-ttu-id="20fd1-1262">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1262">This method does not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadDataAsync">
      <MemberSignature Language="C#" Value="public void UploadDataAsync (Uri address, byte[] data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadDataAsync(class System.Uri address, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataAsync(System.Uri,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadDataAsync (address As Uri, data As Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadDataAsync(Uri ^ address, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadDataAsync : Uri * byte[] -&gt; unit" Usage="webClient.UploadDataAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1263">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1263">The URI of the resource to receive the data.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1264">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1264">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1265">使用 POST 方法将数据缓冲区上载到由 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1265">Uploads a data buffer to a resource identified by a URI, using the POST method.</span></span> <span data-ttu-id="20fd1-1266">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1266">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1267">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1267">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1268">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1268">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1269">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1269">The data is not encoded.</span></span> <span data-ttu-id="20fd1-1270">若要在数据上传完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadDataCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1270">To receive notification when the data upload completes, add an event handler to the <xref:System.Net.WebClient.UploadDataCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1271">在发送数据时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1271">This method does not block the calling thread while the data is being sent.</span></span> <span data-ttu-id="20fd1-1272">若要在等待服务器响应的同时发送数据和块，请使用其中一种 <xref:System.Net.WebClient.UploadData%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1272">To send data and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadData%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1273">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1273">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1274">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1274">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1275">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1275">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1276">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1276">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1277">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1277">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1278">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1278">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1279">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1279">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1280"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1280">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1281">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1281">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1282">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1282">-or-</span></span>

<span data-ttu-id="20fd1-1283">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1283">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1284">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1284">-or-</span></span>

<span data-ttu-id="20fd1-1285">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1285">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadDataAsync">
      <MemberSignature Language="C#" Value="public void UploadDataAsync (Uri address, string? method, byte[] data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadDataAsync(class System.Uri address, string method, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataAsync(System.Uri,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadDataAsync (address As Uri, method As String, data As Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadDataAsync(Uri ^ address, System::String ^ method, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadDataAsync : Uri * string * byte[] -&gt; unit" Usage="webClient.UploadDataAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public void UploadDataAsync (Uri address, string method, byte[] data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1286">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1286">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1287">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1287">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1288">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1288">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1289">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1289">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1290">使用指定的方法将数据缓冲区上载到由 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1290">Uploads a data buffer to a resource identified by a URI, using the specified method.</span></span> <span data-ttu-id="20fd1-1291">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1291">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1292">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1292">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1293">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1293">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1294">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1294">The data is not encoded.</span></span> <span data-ttu-id="20fd1-1295">若要在数据上传完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadDataCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1295">To receive notification when the data upload completes, add an event handler to the <xref:System.Net.WebClient.UploadDataCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1296">在发送数据时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1296">This method does not block the calling thread while the data is being sent.</span></span> <span data-ttu-id="20fd1-1297">若要在等待服务器响应的同时发送数据和块，请使用其中一种 <xref:System.Net.WebClient.UploadData%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1297">To send data and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadData%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1298">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1298">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1299">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1299">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1300">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1300">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1301">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1301">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1302">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1302">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1303"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1303">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1304">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1304">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1305">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1305">-or-</span></span>

<span data-ttu-id="20fd1-1306">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1306">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1307">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1307">-or-</span></span>

<span data-ttu-id="20fd1-1308">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1308">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadDataAsync">
      <MemberSignature Language="C#" Value="public void UploadDataAsync (Uri address, string? method, byte[] data, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadDataAsync(class System.Uri address, string method, unsigned int8[] data, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataAsync(System.Uri,System.String,System.Byte[],System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadDataAsync (address As Uri, method As String, data As Byte(), userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadDataAsync(Uri ^ address, System::String ^ method, cli::array &lt;System::Byte&gt; ^ data, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.UploadDataAsync : Uri * string * byte[] * obj -&gt; unit" Usage="webClient.UploadDataAsync (address, method, data, userToken)" />
      <MemberSignature Language="C#" Value="public void UploadDataAsync (Uri address, string method, byte[] data, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="3" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1309">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1309">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1310">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1310">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1311">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1311">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1312">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1312">The data buffer to send to the resource.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-1313">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1313">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-1314">使用指定的方法和标识标记将数据缓冲区上载到由 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1314">Uploads a data buffer to a resource identified by a URI, using the specified method and identifying token.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1315">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1315">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1316">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1316">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1317">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1317">The data is not encoded.</span></span> <span data-ttu-id="20fd1-1318">若要在数据上传完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadDataCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1318">To receive notification when the data upload completes, add an event handler to the <xref:System.Net.WebClient.UploadDataCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1319">在发送数据时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1319">This method does not block the calling thread while the data is being sent.</span></span> <span data-ttu-id="20fd1-1320">若要在等待服务器响应的同时发送数据和块，请使用其中一种 <xref:System.Net.WebClient.UploadData%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1320">To send data and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadData%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1321">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1321">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1322">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1322">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1323">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1323">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1324">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1324">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1325">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1325">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1326"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1326">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1327">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1327">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1328">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1328">-or-</span></span>

<span data-ttu-id="20fd1-1329">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1329">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1330">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1330">-or-</span></span>

<span data-ttu-id="20fd1-1331">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1331">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadDataCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.UploadDataCompletedEventHandler? UploadDataCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.UploadDataCompletedEventHandler UploadDataCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.UploadDataCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event UploadDataCompleted As UploadDataCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::UploadDataCompletedEventHandler ^ UploadDataCompleted;" />
      <MemberSignature Language="F#" Value="member this.UploadDataCompleted : System.Net.UploadDataCompletedEventHandler " Usage="member this.UploadDataCompleted : System.Net.UploadDataCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.UploadDataCompletedEventHandler UploadDataCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event UploadDataCompleted As UploadDataCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.UploadDataCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1332">在异步数据上载操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1332">Occurs when an asynchronous data-upload operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1333">每次异步数据上传操作完成时都会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1333">This event is raised each time an asynchronous data upload operation completes.</span></span> <span data-ttu-id="20fd1-1334">异步数据上传通过调用方法来启动 <xref:System.Net.WebClient.UploadDataAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1334">Asynchronous data uploads are started by calling the <xref:System.Net.WebClient.UploadDataAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1335"><xref:System.Net.UploadDataCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1335">The <xref:System.Net.UploadDataCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-1336"><xref:System.Net.UploadDataCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1336">The <xref:System.Net.UploadDataCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-1337">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1337">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-1338">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1338">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#36](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#36)]
 [!code-csharp[NCLWebClientAsync#36](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#36)]
 [!code-vb[NCLWebClientAsync#36](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#36)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadDataTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1339">使用任务对象将包含 <see cref="T:System.Byte" /> 数组的数据缓冲区上载到指定 URI 以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1339">Uploads a data buffer that contains a <see cref="T:System.Byte" /> array to the URI specified as an asynchronous operation using a task object.</span></span>  <span data-ttu-id="20fd1-1340">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1340">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadDataTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadDataTaskAsync (string address, byte[] data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadDataTaskAsync(string address, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataTaskAsync(System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadDataTaskAsync (address As String, data As Byte()) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadDataTaskAsync(System::String ^ address, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadDataTaskAsync : string * byte[] -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadDataTaskAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1341">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1341">The URI of the resource to receive the data.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1342">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1342">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1343">使用任务对象将包含 <see cref="T:System.Byte" /> 数组的数据缓冲区上载到指定 URI 以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1343">Uploads a data buffer that contains a <see cref="T:System.Byte" /> array to the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1344">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1344">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1345">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载数据缓冲区时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1345">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the data buffer was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1346">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1346">This operation will not block.</span></span> <span data-ttu-id="20fd1-1347">将 <xref:System.Threading.Tasks.Task%601> 数据缓冲区上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1347">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a data buffer has been uploaded to the resource.</span></span>

 <span data-ttu-id="20fd1-1348">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1348">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1349">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1349">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1350">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1350">The data is not encoded.</span></span>

 <span data-ttu-id="20fd1-1351">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1351">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1352">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1352">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1353">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1353">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1354">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1354">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1355">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1355">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1356">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1356">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1357">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1357">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1358"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1358">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1359">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1359">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1360">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1360">-or-</span></span>

<span data-ttu-id="20fd1-1361">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1361">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1362">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1362">-or-</span></span>

<span data-ttu-id="20fd1-1363">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1363">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadDataTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadDataTaskAsync (Uri address, byte[] data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadDataTaskAsync(class System.Uri address, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataTaskAsync(System.Uri,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadDataTaskAsync (address As Uri, data As Byte()) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadDataTaskAsync(Uri ^ address, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadDataTaskAsync : Uri * byte[] -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadDataTaskAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1364">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1364">The URI of the resource to receive the data.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1365">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1365">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1366">使用任务对象将包含 <see cref="T:System.Byte" /> 数组的数据缓冲区上载到指定 URI 以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1366">Uploads a data buffer that contains a <see cref="T:System.Byte" /> array to the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1367">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1367">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1368">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载数据缓冲区时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1368">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the data buffer was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1369">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1369">This operation will not block.</span></span> <span data-ttu-id="20fd1-1370">将 <xref:System.Threading.Tasks.Task%601> 数据缓冲区上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1370">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a data buffer has been uploaded to the resource.</span></span>

 <span data-ttu-id="20fd1-1371">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1371">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1372">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1372">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1373">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1373">The data is not encoded.</span></span>

 <span data-ttu-id="20fd1-1374">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1374">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1375">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1375">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1376">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1376">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1377">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1377">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1378">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1378">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1379">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1379">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1380">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1380">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1381"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1381">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1382">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1382">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1383">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1383">-or-</span></span>

<span data-ttu-id="20fd1-1384">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1384">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1385">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1385">-or-</span></span>

<span data-ttu-id="20fd1-1386">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1386">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadDataTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadDataTaskAsync (string address, string? method, byte[] data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadDataTaskAsync(string address, string method, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataTaskAsync(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadDataTaskAsync (address As String, method As String, data As Byte()) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadDataTaskAsync(System::String ^ address, System::String ^ method, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadDataTaskAsync : string * string * byte[] -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadDataTaskAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadDataTaskAsync (string address, string method, byte[] data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1387">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1387">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1388">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1388">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1389">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1389">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1390">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1390">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1391">使用任务对象将包含 <see cref="T:System.Byte" /> 数组的数据缓冲区上载到指定 URI 以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1391">Uploads a data buffer that contains a <see cref="T:System.Byte" /> array to the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1392">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1392">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1393">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载数据缓冲区时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1393">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the data buffer was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1394">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1394">This operation will not block.</span></span> <span data-ttu-id="20fd1-1395">将 <xref:System.Threading.Tasks.Task%601> 数据缓冲区上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1395">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a data buffer has been uploaded to the resource.</span></span>

 <span data-ttu-id="20fd1-1396">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1396">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1397">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1397">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1398">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1398">The data is not encoded.</span></span>

 <span data-ttu-id="20fd1-1399">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1399">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1400">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1400">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1401">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1401">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1402">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1402">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1403">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1403">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1404"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1404">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1405">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1405">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1406">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1406">-or-</span></span>

<span data-ttu-id="20fd1-1407">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1407">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1408">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1408">-or-</span></span>

<span data-ttu-id="20fd1-1409">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1409">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadDataTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadDataTaskAsync (Uri address, string? method, byte[] data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadDataTaskAsync(class System.Uri address, string method, unsigned int8[] data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadDataTaskAsync(System.Uri,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadDataTaskAsync (address As Uri, method As String, data As Byte()) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadDataTaskAsync(Uri ^ address, System::String ^ method, cli::array &lt;System::Byte&gt; ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadDataTaskAsync : Uri * string * byte[] -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadDataTaskAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadDataTaskAsync (Uri address, string method, byte[] data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Byte[]" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1410">接收数据的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1410">The URI of the resource to receive the data.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1411">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1411">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1412">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1412">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1413">要发送到资源的数据缓冲。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1413">The data buffer to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1414">使用任务对象将包含 <see cref="T:System.Byte" /> 数组的数据缓冲区上载到指定 URI 以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1414">Uploads a data buffer that contains a <see cref="T:System.Byte" /> array to the URI specified as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1415">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1415">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1416">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载数据缓冲区时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1416">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the data buffer was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1417">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1417">This operation will not block.</span></span> <span data-ttu-id="20fd1-1418">将 <xref:System.Threading.Tasks.Task%601> 数据缓冲区上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1418">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the a data buffer has been uploaded to the resource.</span></span>

 <span data-ttu-id="20fd1-1419">此方法将数据缓冲区发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1419">This method sends a data buffer to a resource.</span></span> <span data-ttu-id="20fd1-1420">数据缓冲区使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1420">The data buffer is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1421">数据不进行编码。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1421">The data is not encoded.</span></span>

 <span data-ttu-id="20fd1-1422">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1422">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1423">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1423">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1424">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1424">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1425">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1425">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1426">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1426">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1427"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1427">The <paramref name="address" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1428">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1428">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1429">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1429">-or-</span></span>

<span data-ttu-id="20fd1-1430">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1430">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1431">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1431">-or-</span></span>

<span data-ttu-id="20fd1-1432">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1432">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadFile">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1433">将本地文件上载到具有指定 URI 的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1433">Uploads a local file to a resource with the specified URI.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadFile">
      <MemberSignature Language="C#" Value="public byte[] UploadFile (string address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadFile(string address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFile(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFile (address As String, fileName As String) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadFile(System::String ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFile : string * string -&gt; byte[]" Usage="webClient.UploadFile (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="fileName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1434">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1434">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1435">例如，ftp://localhost/samplefile.txt。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1435">For example, ftp://localhost/samplefile.txt.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1436">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1436">The file to send to the resource.</span></span> <span data-ttu-id="20fd1-1437">例如，“samplefile.txt”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1437">For example, "samplefile.txt".</span></span></param>
        <summary><span data-ttu-id="20fd1-1438">将指定的本地文件上载到具有指定 URI 的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1438">Uploads the specified local file to a resource with the specified URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1439">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1439">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1440"><xref:System.Net.WebClient.UploadFile%2A>方法将本地文件发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1440">The <xref:System.Net.WebClient.UploadFile%2A> method sends a local file to a resource.</span></span> <span data-ttu-id="20fd1-1441">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1441">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1442">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1442">For an HTTP resource, the POST method is used.</span></span>

 <span data-ttu-id="20fd1-1443">上传文件时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1443">This method blocks while uploading the file.</span></span> <span data-ttu-id="20fd1-1444">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadFileAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1444">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1445">`POST`方法由 HTTP 定义。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1445">The `POST` method is defined by HTTP.</span></span> <span data-ttu-id="20fd1-1446">如果基础请求不使用 HTTP，并且 `POST` 服务器不理解该请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1446">If the underlying request does not use HTTP and `POST` is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1447">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1447">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1448">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1448">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1449">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1449">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1450">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1450">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1451">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1451">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-1452">下面的代码示例使用将指定文件上载到指定的 URI <xref:System.Net.WebClient.UploadFile%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1452">The following code example uploads the specified file to the specified URI using <xref:System.Net.WebClient.UploadFile%2A>.</span></span> <span data-ttu-id="20fd1-1453">服务器返回的任何响应都会显示在控制台上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1453">Any response returned by the server is displayed on the console.</span></span>

 [!code-cpp[WebClient_UpLoadFile#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UpLoadFile/CPP/webclient_uploadfile.cpp#1)]
 [!code-csharp[WebClient_UpLoadFile#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UpLoadFile/CS/webclient_uploadfile.cs#1)]
 [!code-vb[WebClient_UpLoadFile#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UpLoadFile/VB/webclient_uploadfile.vb#1)]

 <span data-ttu-id="20fd1-1454">下面的代码示例演示一个 ASP.NET 页，该页面可以接受已发布的文件并适合与 <xref:System.Net.WebClient.UploadFile%2A> 方法一起使用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1454">The following code example shows an ASP.NET page that can accept posted files and is suitable for use with the <xref:System.Net.WebClient.UploadFile%2A> method.</span></span> <span data-ttu-id="20fd1-1455">该页必须位于 Web 服务器上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1455">The page must reside on a Web server.</span></span> <span data-ttu-id="20fd1-1456">其地址为方法的参数提供值 `address` <xref:System.Net.WebClient.UploadFile%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1456">Its address provides the value for the `address` parameter of the <xref:System.Net.WebClient.UploadFile%2A> method.</span></span>

 [!code-aspx-csharp[NCLWebClientAsp#1](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsp/CS/fileuploadercs.aspx#1)]
 [!code-aspx-vb[NCLWebClientAsp#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsp/VB/fileuploadervb.aspx#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1457"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1457">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1458">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1458">-or-</span></span>

<span data-ttu-id="20fd1-1459"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1459">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1460">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1460">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1461">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1461">-or-</span></span>

 <span data-ttu-id="20fd1-1462"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1462"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid characters, or does not exist.</span></span>

<span data-ttu-id="20fd1-1463">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1463">-or-</span></span>

<span data-ttu-id="20fd1-1464">上载文件时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1464">An error occurred while uploading the file.</span></span>

<span data-ttu-id="20fd1-1465">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1465">-or-</span></span>

<span data-ttu-id="20fd1-1466">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1466">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1467">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1467">-or-</span></span>

<span data-ttu-id="20fd1-1468"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1468">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFile">
      <MemberSignature Language="C#" Value="public byte[] UploadFile (Uri address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadFile(class System.Uri address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFile(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFile (address As Uri, fileName As String) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadFile(Uri ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFile : Uri * string -&gt; byte[]" Usage="webClient.UploadFile (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1469">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1469">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1470">例如，ftp://localhost/samplefile.txt。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1470">For example, ftp://localhost/samplefile.txt.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1471">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1471">The file to send to the resource.</span></span> <span data-ttu-id="20fd1-1472">例如，“samplefile.txt”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1472">For example, "samplefile.txt".</span></span></param>
        <summary><span data-ttu-id="20fd1-1473">将指定的本地文件上载到具有指定 URI 的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1473">Uploads the specified local file to a resource with the specified URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1474">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1474">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1475"><xref:System.Net.WebClient.UploadFile%2A>方法将本地文件发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1475">The <xref:System.Net.WebClient.UploadFile%2A> method sends a local file to a resource.</span></span> <span data-ttu-id="20fd1-1476">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1476">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1477">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1477">For an HTTP resource, the POST method is used.</span></span>

 <span data-ttu-id="20fd1-1478">上传文件时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1478">This method blocks while uploading the file.</span></span> <span data-ttu-id="20fd1-1479">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadFileAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1479">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1480">`POST`方法由 HTTP 定义。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1480">The `POST` method is defined by HTTP.</span></span> <span data-ttu-id="20fd1-1481">如果基础请求不使用 HTTP，并且 `POST` 服务器不理解该请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1481">If the underlying request does not use HTTP and `POST` is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1482">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1482">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1483">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1483">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1484">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1484">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1485">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1485">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1486">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1486">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1487"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1487">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1488">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1488">-or-</span></span>

<span data-ttu-id="20fd1-1489"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1489">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1490">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1490">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1491">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1491">-or-</span></span>

 <span data-ttu-id="20fd1-1492"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1492"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid characters, or does not exist.</span></span>

<span data-ttu-id="20fd1-1493">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1493">-or-</span></span>

<span data-ttu-id="20fd1-1494">上载文件时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1494">An error occurred while uploading the file.</span></span>

<span data-ttu-id="20fd1-1495">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1495">-or-</span></span>

<span data-ttu-id="20fd1-1496">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1496">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1497">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1497">-or-</span></span>

<span data-ttu-id="20fd1-1498"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1498">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFile">
      <MemberSignature Language="C#" Value="public byte[] UploadFile (string address, string? method, string fileName);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadFile(string address, string method, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFile(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFile (address As String, method As String, fileName As String) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadFile(System::String ^ address, System::String ^ method, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFile : string * string * string -&gt; byte[]" Usage="webClient.UploadFile (address, method, fileName)" />
      <MemberSignature Language="C#" Value="public byte[] UploadFile (string address, string method, string fileName);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="method" Type="System.String" />
        <Parameter Name="fileName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1499">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1499">The URI of the resource to receive the file.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1500">用于将文件发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1500">The method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-1501">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1501">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1502">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1502">The file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1503">使用指定的方法将指定的本地文件上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1503">Uploads the specified local file to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1504">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1504">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1505">当 address 指定 HTTP 资源时， <xref:System.Net.WebClient.UploadFile%2A> 方法使用参数中指定的 http 方法将本地文件发送到资源， `method` 并返回来自服务器的任何响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1505">When address specifies an HTTP resource, the <xref:System.Net.WebClient.UploadFile%2A> method sends a local file to a resource using the HTTP method specified in the `method` parameter and returns any response from the server.</span></span> <span data-ttu-id="20fd1-1506">上传文件时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1506">This method blocks while uploading the file.</span></span> <span data-ttu-id="20fd1-1507">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadFileAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1507">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1508">如果 `method` 参数指定了服务器或资源无法理解的谓词 `address` ，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1508">If the `method` parameter specifies a verb that is not understood by the server or the `address` resource, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1509">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1509">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1510">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1510">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1511">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1511">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1512">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1512">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1513">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1513">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-1514">下面的代码示例使用将指定文件上载到指定的 URI <xref:System.Net.WebClient.UploadFile%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1514">The following code example uploads the specified file to the specified URI using <xref:System.Net.WebClient.UploadFile%2A>.</span></span> <span data-ttu-id="20fd1-1515">服务器返回的任何响应都会显示在控制台上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1515">Any response returned by the server is displayed on the console.</span></span>

 [!code-cpp[WebClient_UpLoadFile2#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UpLoadFile2/CPP/webclient_uploadfile2.cpp#1)]
 [!code-csharp[WebClient_UpLoadFile2#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UpLoadFile2/CS/webclient_uploadfile2.cs#1)]
 [!code-vb[WebClient_UpLoadFile2#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UpLoadFile2/VB/webclient_uploadfile2.vb#1)]

 <span data-ttu-id="20fd1-1516">下面的代码示例演示一个 ASP.NET 页，该页面可以接受已发布的文件并适合与 <xref:System.Net.WebClient.UploadFile%2A> 方法一起使用。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1516">The following code example shows an ASP.NET page that can accept posted files and is suitable for use with the <xref:System.Net.WebClient.UploadFile%2A> method.</span></span> <span data-ttu-id="20fd1-1517">该页必须位于 Web 服务器上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1517">The page must reside on a Web server.</span></span> <span data-ttu-id="20fd1-1518">其地址为方法的参数提供值 `address` <xref:System.Net.WebClient.UploadFile%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1518">Its address provides the value for the `address` parameter of the <xref:System.Net.WebClient.UploadFile%2A> method.</span></span>

 [!code-aspx-csharp[NCLWebClientAsp#1](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsp/CS/fileuploadercs.aspx#1)]
 [!code-aspx-vb[NCLWebClientAsp#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsp/VB/fileuploadervb.aspx#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1519"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1519">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1520">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1520">-or-</span></span>

<span data-ttu-id="20fd1-1521"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1521">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1522">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1522">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1523">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1523">-or-</span></span>

 <span data-ttu-id="20fd1-1524"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1524"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid characters, or does not exist.</span></span>

<span data-ttu-id="20fd1-1525">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1525">-or-</span></span>

<span data-ttu-id="20fd1-1526">上载文件时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1526">An error occurred while uploading the file.</span></span>

<span data-ttu-id="20fd1-1527">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1527">-or-</span></span>

<span data-ttu-id="20fd1-1528">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1528">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1529">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1529">-or-</span></span>

<span data-ttu-id="20fd1-1530"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1530">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFile">
      <MemberSignature Language="C#" Value="public byte[] UploadFile (Uri address, string? method, string fileName);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadFile(class System.Uri address, string method, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFile(System.Uri,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFile (address As Uri, method As String, fileName As String) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadFile(Uri ^ address, System::String ^ method, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFile : Uri * string * string -&gt; byte[]" Usage="webClient.UploadFile (address, method, fileName)" />
      <MemberSignature Language="C#" Value="public byte[] UploadFile (Uri address, string method, string fileName);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1531">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1531">The URI of the resource to receive the file.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1532">用于将文件发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1532">The method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-1533">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1533">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1534">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1534">The file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1535">使用指定的方法将指定的本地文件上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1535">Uploads the specified local file to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1536">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1536">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1537">当 address 指定 HTTP 资源时， <xref:System.Net.WebClient.UploadFile%2A> 方法使用参数中指定的 http 方法将本地文件发送到资源， `method` 并返回来自服务器的任何响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1537">When address specifies an HTTP resource, the <xref:System.Net.WebClient.UploadFile%2A> method sends a local file to a resource using the HTTP method specified in the `method` parameter and returns any response from the server.</span></span> <span data-ttu-id="20fd1-1538">上传文件时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1538">This method blocks while uploading the file.</span></span> <span data-ttu-id="20fd1-1539">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadFileAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1539">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1540">如果 `method` 参数指定了服务器或资源无法理解的谓词 `address` ，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1540">If the `method` parameter specifies a verb that is not understood by the server or the `address` resource, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-1541">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1541">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-1542">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1542">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1543">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1543">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1544">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1544">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1545">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1545">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1546"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1546">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1547">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1547">-or-</span></span>

<span data-ttu-id="20fd1-1548"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1548">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1549">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1549">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1550">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1550">-or-</span></span>

 <span data-ttu-id="20fd1-1551"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1551"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid characters, or does not exist.</span></span>

<span data-ttu-id="20fd1-1552">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1552">-or-</span></span>

<span data-ttu-id="20fd1-1553">上载文件时出错。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1553">An error occurred while uploading the file.</span></span>

<span data-ttu-id="20fd1-1554">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1554">-or-</span></span>

<span data-ttu-id="20fd1-1555">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1555">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1556">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1556">-or-</span></span>

<span data-ttu-id="20fd1-1557"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1557">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadFileAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1558">将指定的本地文件上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1558">Uploads the specified local file to the specified resource.</span></span> <span data-ttu-id="20fd1-1559">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1559">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadFileAsync">
      <MemberSignature Language="C#" Value="public void UploadFileAsync (Uri address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadFileAsync(class System.Uri address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadFileAsync (address As Uri, fileName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadFileAsync(Uri ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFileAsync : Uri * string -&gt; unit" Usage="webClient.UploadFileAsync (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1560">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1560">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1561">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1561">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1562">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1562">The file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1563">使用 POST 方法将指定的本地文件上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1563">Uploads the specified local file to the specified resource, using the POST method.</span></span> <span data-ttu-id="20fd1-1564">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1564">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1565">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1565">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1566">若要在文件上传完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1566">To receive notification when the file upload completes, add an event handler to the <xref:System.Net.WebClient.UploadFileCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1567">在发送文件时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1567">This method does not block the calling thread while the file is being sent.</span></span> <span data-ttu-id="20fd1-1568">若要在等待服务器响应的同时发送文件和块，请使用其中一种 <xref:System.Net.WebClient.UploadFile%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1568">To send a file and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFile%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1569">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1569">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1570">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1570">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1571">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1571">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1572">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1572">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1573">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1573">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1574">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1574">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1575">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1575">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1576"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1576">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1577">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1577">-or-</span></span>

<span data-ttu-id="20fd1-1578"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1578">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1579">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1579">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1580">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1580">-or-</span></span>

 <span data-ttu-id="20fd1-1581"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1581"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1582">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1582">-or-</span></span>

<span data-ttu-id="20fd1-1583">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1583">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1584">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1584">-or-</span></span>

<span data-ttu-id="20fd1-1585">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1585">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1586">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1586">-or-</span></span>

<span data-ttu-id="20fd1-1587"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1587">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFileAsync">
      <MemberSignature Language="C#" Value="public void UploadFileAsync (Uri address, string? method, string fileName);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadFileAsync(class System.Uri address, string method, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileAsync(System.Uri,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadFileAsync (address As Uri, method As String, fileName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadFileAsync(Uri ^ address, System::String ^ method, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFileAsync : Uri * string * string -&gt; unit" Usage="webClient.UploadFileAsync (address, method, fileName)" />
      <MemberSignature Language="C#" Value="public void UploadFileAsync (Uri address, string method, string fileName);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1588">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1588">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1589">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1589">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1590">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1590">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1591">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1591">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1592">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1592">The file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1593">使用 POST 方法将指定的本地文件上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1593">Uploads the specified local file to the specified resource, using the POST method.</span></span> <span data-ttu-id="20fd1-1594">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1594">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1595">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1595">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1596">若要在文件上传完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1596">To receive notification when the file upload completes, add an event handler to the <xref:System.Net.WebClient.UploadFileCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1597">在发送文件时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1597">This method does not block the calling thread while the file is being sent.</span></span> <span data-ttu-id="20fd1-1598">若要在等待服务器响应的同时发送文件和块，请使用其中一种 <xref:System.Net.WebClient.UploadFile%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1598">To send a file and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFile%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1599">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1599">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1600">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1600">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1601">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1601">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1602">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1602">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1603">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1603">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1604">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1604">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1605">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1605">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1606"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1606">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1607">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1607">-or-</span></span>

<span data-ttu-id="20fd1-1608"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1608">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1609">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1609">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1610">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1610">-or-</span></span>

 <span data-ttu-id="20fd1-1611"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1611"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1612">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1612">-or-</span></span>

<span data-ttu-id="20fd1-1613">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1613">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1614">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1614">-or-</span></span>

<span data-ttu-id="20fd1-1615">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1615">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1616">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1616">-or-</span></span>

<span data-ttu-id="20fd1-1617"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1617">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFileAsync">
      <MemberSignature Language="C#" Value="public void UploadFileAsync (Uri address, string? method, string fileName, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadFileAsync(class System.Uri address, string method, string fileName, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileAsync(System.Uri,System.String,System.String,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadFileAsync (address As Uri, method As String, fileName As String, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadFileAsync(Uri ^ address, System::String ^ method, System::String ^ fileName, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.UploadFileAsync : Uri * string * string * obj -&gt; unit" Usage="webClient.UploadFileAsync (address, method, fileName, userToken)" />
      <MemberSignature Language="C#" Value="public void UploadFileAsync (Uri address, string method, string fileName, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="3" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1618">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1618">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1619">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1619">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1620">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1620">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1621">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1621">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1622">要发送到资源的文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1622">The file to send to the resource.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-1623">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1623">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-1624">使用 POST 方法将指定的本地文件上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1624">Uploads the specified local file to the specified resource, using the POST method.</span></span> <span data-ttu-id="20fd1-1625">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1625">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1626">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1626">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1627">若要在文件上传完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadFileCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1627">To receive notification when the file upload completes, add an event handler to the <xref:System.Net.WebClient.UploadFileCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1628">在发送文件时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1628">This method does not block the calling thread while the file is being sent.</span></span> <span data-ttu-id="20fd1-1629">若要在等待服务器响应的同时发送文件和块，请使用其中一种 <xref:System.Net.WebClient.UploadFile%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1629">To send a file and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadFile%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1630">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1630">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1631">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1631">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1632">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1632">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1633">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1633">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1634">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1634">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1635">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1635">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1636">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1636">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1637"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1637">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1638">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1638">-or-</span></span>

<span data-ttu-id="20fd1-1639"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1639">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1640">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1640">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1641">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1641">-or-</span></span>

 <span data-ttu-id="20fd1-1642"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1642"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1643">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1643">-or-</span></span>

<span data-ttu-id="20fd1-1644">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1644">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1645">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1645">-or-</span></span>

<span data-ttu-id="20fd1-1646">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1646">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1647">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1647">-or-</span></span>

<span data-ttu-id="20fd1-1648"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1648">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFileCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.UploadFileCompletedEventHandler? UploadFileCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.UploadFileCompletedEventHandler UploadFileCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.UploadFileCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event UploadFileCompleted As UploadFileCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::UploadFileCompletedEventHandler ^ UploadFileCompleted;" />
      <MemberSignature Language="F#" Value="member this.UploadFileCompleted : System.Net.UploadFileCompletedEventHandler " Usage="member this.UploadFileCompleted : System.Net.UploadFileCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.UploadFileCompletedEventHandler UploadFileCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event UploadFileCompleted As UploadFileCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.UploadFileCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1649">在异步文件上载操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1649">Occurs when an asynchronous file-upload operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1650">每次异步文件上传操作完成时都会引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1650">This event is raised each time an asynchronous file upload operation completes.</span></span> <span data-ttu-id="20fd1-1651">异步文件上传通过调用方法来启动 <xref:System.Net.WebClient.UploadFileAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1651">Asynchronous file uploads are started by calling the <xref:System.Net.WebClient.UploadFileAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1652"><xref:System.Net.UploadFileCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1652">The <xref:System.Net.UploadFileCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-1653"><xref:System.Net.UploadFileCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1653">The <xref:System.Net.UploadFileCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-1654">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1654">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-1655">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1655">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#4](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#4)]
 [!code-csharp[NCLWebClientAsync#4](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#4)]
 [!code-vb[NCLWebClientAsync#4](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#4)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadFileTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1656">使用任务对象将指定本地文件上载到资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1656">Uploads the specified local file to a resource as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-1657">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1657">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadFileTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadFileTaskAsync (string address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadFileTaskAsync(string address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileTaskAsync(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFileTaskAsync (address As String, fileName As String) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadFileTaskAsync(System::String ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFileTaskAsync : string * string -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadFileTaskAsync (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1658">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1658">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1659">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1659">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1660">要发送到资源的本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1660">The local file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1661">使用任务对象将指定本地文件上载到资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1661">Uploads the specified local file to a resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1662">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1662">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1663">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载文件时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1663">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the file was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1664">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1664">This operation will not block.</span></span> <span data-ttu-id="20fd1-1665"><xref:System.Threading.Tasks.Task%601>将文件上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1665">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the file has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-1666">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1666">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-1667">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1667">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1668">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1668">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1669">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1669">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1670">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1670">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1671">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1671">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1672">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1672">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1673">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1673">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1674"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1674">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1675">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1675">-or-</span></span>

<span data-ttu-id="20fd1-1676"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1676">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1677">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1677">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1678">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1678">-or-</span></span>

 <span data-ttu-id="20fd1-1679"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1679"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1680">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1680">-or-</span></span>

<span data-ttu-id="20fd1-1681">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1681">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1682">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1682">-or-</span></span>

<span data-ttu-id="20fd1-1683">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1683">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1684">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1684">-or-</span></span>

<span data-ttu-id="20fd1-1685"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1685">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFileTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadFileTaskAsync (Uri address, string fileName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadFileTaskAsync(class System.Uri address, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileTaskAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFileTaskAsync (address As Uri, fileName As String) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadFileTaskAsync(Uri ^ address, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFileTaskAsync : Uri * string -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadFileTaskAsync (address, fileName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1686">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1686">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1687">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1687">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1688">要发送到资源的本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1688">The local file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1689">使用任务对象将指定本地文件上载到资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1689">Uploads the specified local file to a resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1690">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1690">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1691">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载文件时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1691">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the file was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1692">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1692">This operation will not block.</span></span> <span data-ttu-id="20fd1-1693"><xref:System.Threading.Tasks.Task%601>将文件上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1693">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the file has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-1694">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1694">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-1695">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1695">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1696">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1696">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1697">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1697">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1698">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1698">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1699">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1699">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1700">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1700">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1701">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1701">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1702"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1702">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1703">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1703">-or-</span></span>

<span data-ttu-id="20fd1-1704"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1704">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1705">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1705">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1706">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1706">-or-</span></span>

 <span data-ttu-id="20fd1-1707"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1707"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1708">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1708">-or-</span></span>

<span data-ttu-id="20fd1-1709">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1709">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1710">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1710">-or-</span></span>

<span data-ttu-id="20fd1-1711">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1711">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1712">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1712">-or-</span></span>

<span data-ttu-id="20fd1-1713"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1713">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFileTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadFileTaskAsync (string address, string? method, string fileName);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadFileTaskAsync(string address, string method, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileTaskAsync(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFileTaskAsync (address As String, method As String, fileName As String) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadFileTaskAsync(System::String ^ address, System::String ^ method, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFileTaskAsync : string * string * string -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadFileTaskAsync (address, method, fileName)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadFileTaskAsync (string address, string method, string fileName);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1714">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1714">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1715">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1715">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1716">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1716">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1717">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1717">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1718">要发送到资源的本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1718">The local file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1719">使用任务对象将指定本地文件上载到资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1719">Uploads the specified local file to a resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1720">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1720">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1721">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载文件时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1721">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the file was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1722">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1722">This operation will not block.</span></span> <span data-ttu-id="20fd1-1723"><xref:System.Threading.Tasks.Task%601>将文件上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1723">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the file has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-1724">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1724">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-1725">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1725">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1726">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1726">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1727">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1727">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1728">默认情况下，此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1728">BY default, this method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1729">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1729">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1730">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1730">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1731">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1731">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1732"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1732">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1733">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1733">-or-</span></span>

<span data-ttu-id="20fd1-1734"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1734">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1735">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1735">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1736">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1736">-or-</span></span>

 <span data-ttu-id="20fd1-1737"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1737"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1738">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1738">-or-</span></span>

<span data-ttu-id="20fd1-1739">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1739">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1740">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1740">-or-</span></span>

<span data-ttu-id="20fd1-1741">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1741">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1742">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1742">-or-</span></span>

<span data-ttu-id="20fd1-1743"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1743">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadFileTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadFileTaskAsync (Uri address, string? method, string fileName);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadFileTaskAsync(class System.Uri address, string method, string fileName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadFileTaskAsync(System.Uri,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadFileTaskAsync (address As Uri, method As String, fileName As String) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadFileTaskAsync(Uri ^ address, System::String ^ method, System::String ^ fileName);" />
      <MemberSignature Language="F#" Value="member this.UploadFileTaskAsync : Uri * string * string -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadFileTaskAsync (address, method, fileName)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadFileTaskAsync (Uri address, string method, string fileName);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="fileName" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1744">接收文件的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1744">The URI of the resource to receive the file.</span></span> <span data-ttu-id="20fd1-1745">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1745">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1746">用于将数据发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1746">The method used to send the data to the resource.</span></span> <span data-ttu-id="20fd1-1747">如果为 <see langword="null" />，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1747">If <see langword="null" />, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="fileName"><span data-ttu-id="20fd1-1748">要发送到资源的本地文件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1748">The local file to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-1749">使用任务对象将指定本地文件上载到资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1749">Uploads the specified local file to a resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1750">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1750">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1751">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回 <see cref="T:System.Byte" /> 数组，该数组包含在上载文件时从资源接收的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1751">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the body of the response received from the resource when the file was uploaded.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1752">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1752">This operation will not block.</span></span> <span data-ttu-id="20fd1-1753"><xref:System.Threading.Tasks.Task%601>将文件上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1753">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the file has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-1754">文件使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1754">The file is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-1755">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1755">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1756">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1756">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1757">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1757">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1758">默认情况下，此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1758">BY default, this method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1759">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1759">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1760">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1760">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1761">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1761">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1762"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1762">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1763">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1763">-or-</span></span>

<span data-ttu-id="20fd1-1764"><paramref name="fileName" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1764">The <paramref name="fileName" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1765">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1765">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1766">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1766">-or-</span></span>

 <span data-ttu-id="20fd1-1767"><paramref name="fileName" /> 为 <see langword="null" />、为 <see cref="F:System.String.Empty" />、包含无效字符或者指定的文件路径不存在。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1767"><paramref name="fileName" /> is <see langword="null" />, is <see cref="F:System.String.Empty" />, contains invalid character, or the specified path to the file does not exist.</span></span>

<span data-ttu-id="20fd1-1768">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1768">-or-</span></span>

<span data-ttu-id="20fd1-1769">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1769">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-1770">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1770">-or-</span></span>

<span data-ttu-id="20fd1-1771">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1771">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1772">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1772">-or-</span></span>

<span data-ttu-id="20fd1-1773"><see langword="Content-type" /> 标头以 <see langword="multipart" /> 开头。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1773">The <see langword="Content-type" /> header begins with <see langword="multipart" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadProgressChanged">
      <MemberSignature Language="C#" Value="public event System.Net.UploadProgressChangedEventHandler? UploadProgressChanged;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.UploadProgressChangedEventHandler UploadProgressChanged" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.UploadProgressChanged" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event UploadProgressChanged As UploadProgressChangedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::UploadProgressChangedEventHandler ^ UploadProgressChanged;" />
      <MemberSignature Language="F#" Value="member this.UploadProgressChanged : System.Net.UploadProgressChangedEventHandler " Usage="member this.UploadProgressChanged : System.Net.UploadProgressChangedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.UploadProgressChangedEventHandler UploadProgressChanged;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event UploadProgressChanged As UploadProgressChangedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.UploadProgressChangedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1774">在异步上载操作成功转换部分或全部数据后发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1774">Occurs when an asynchronous upload operation successfully transfers some or all of the data.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1775">此事件在每次异步上载发生进度时引发。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1775">This event is raised each time an asynchronous upload makes progress.</span></span> <span data-ttu-id="20fd1-1776">使用以下任一方法启动上传时，将引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1776">This event is raised when uploads are started using any of the following methods.</span></span>

|<span data-ttu-id="20fd1-1777">方法</span><span class="sxs-lookup"><span data-stu-id="20fd1-1777">Method</span></span>|<span data-ttu-id="20fd1-1778">说明</span><span class="sxs-lookup"><span data-stu-id="20fd1-1778">Description</span></span>|
|------------|-----------------|
|<xref:System.Net.WebClient.UploadDataAsync%2A>|<span data-ttu-id="20fd1-1779"><xref:System.Byte>向资源发送数组，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1779">Sends a <xref:System.Byte> array to the resource, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.UploadFileAsync%2A>|<span data-ttu-id="20fd1-1780">向资源发送本地文件，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1780">Sends a local file to the resource, without blocking the calling thread.</span></span>|
|<xref:System.Net.WebClient.UploadValuesAsync%2A>|<span data-ttu-id="20fd1-1781"><xref:System.Collections.Specialized.NameValueCollection>向资源发送并返回 <xref:System.Byte> 包含任何响应的数组，而不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1781">Sends a <xref:System.Collections.Specialized.NameValueCollection> to the resource and returns a <xref:System.Byte> array containing any response, without blocking the calling thread.</span></span>|

 <span data-ttu-id="20fd1-1782"><xref:System.Net.UploadProgressChangedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1782">The <xref:System.Net.UploadProgressChangedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-1783"><xref:System.Net.UploadProgressChangedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1783">The <xref:System.Net.UploadProgressChangedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-1784">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1784">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-1785">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1785">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#4](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#4)]
 [!code-csharp[NCLWebClientAsync#4](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#4)]
 [!code-vb[NCLWebClientAsync#4](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#4)]

 <span data-ttu-id="20fd1-1786">下面的代码示例演示了此事件的处理程序的实现。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1786">The following code example shows an implementation of a handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#42](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#42)]
 [!code-csharp[NCLWebClientAsync#42](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#42)]
 [!code-vb[NCLWebClientAsync#42](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#42)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadString">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1787">将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1787">Uploads the specified string to the specified resource.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadString">
      <MemberSignature Language="C#" Value="public string UploadString (string address, string data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string UploadString(string address, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadString(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadString (address As String, data As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ UploadString(System::String ^ address, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadString : string * string -&gt; string" Usage="webClient.UploadString (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1788">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1788">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1789">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1789">For Http resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1790">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1790">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1791">使用 POST 方法将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1791">Uploads the specified string to the specified resource, using the POST method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1792">一个 <see cref="T:System.String" />，包含服务器发送的响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1792">A <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1793">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1793">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1794">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1794">This method blocks while the string is transmitted.</span></span> <span data-ttu-id="20fd1-1795">若要发送字符串并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadStringAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1795">To send a string and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1796">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1796">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1797">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1797">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1798">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1798">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1799">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1799">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1800">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1800">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1801">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1801">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-1802">下面的代码示例演示如何调用此方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1802">The following code example demonstrates calling this method.</span></span>

 [!code-cpp[NCLWebClientAsync#1](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#1)]
 [!code-csharp[NCLWebClientAsync#1](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#1)]
 [!code-vb[NCLWebClientAsync#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1803"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1803">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1804">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1804">-or-</span></span>

<span data-ttu-id="20fd1-1805"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1805">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1806">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1806">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1807">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1807">-or-</span></span>

<span data-ttu-id="20fd1-1808">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1808">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadString">
      <MemberSignature Language="C#" Value="public string UploadString (Uri address, string data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string UploadString(class System.Uri address, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadString(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadString (address As Uri, data As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ UploadString(Uri ^ address, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadString : Uri * string -&gt; string" Usage="webClient.UploadString (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1809">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1809">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1810">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1810">For Http resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1811">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1811">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1812">使用 POST 方法将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1812">Uploads the specified string to the specified resource, using the POST method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1813">一个 <see cref="T:System.String" />，包含服务器发送的响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1813">A <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1814">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1814">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1815">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1815">This method blocks while the string is transmitted.</span></span> <span data-ttu-id="20fd1-1816">若要发送字符串并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadStringAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1816">To send a string and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1817">如果 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) ，并且 `address` 不包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1817">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string (""), and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1818">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1818">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1819">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1819">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1820">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1820">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1821">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1821">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1822">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1822">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1823"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1823">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1824">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1824">-or-</span></span>

<span data-ttu-id="20fd1-1825"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1825">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1826">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1826">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1827">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1827">-or-</span></span>

<span data-ttu-id="20fd1-1828">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1828">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadString">
      <MemberSignature Language="C#" Value="public string UploadString (string address, string? method, string data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string UploadString(string address, string method, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadString(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadString (address As String, method As String, data As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ UploadString(System::String ^ address, System::String ^ method, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadString : string * string * string -&gt; string" Usage="webClient.UploadString (address, method, data)" />
      <MemberSignature Language="C#" Value="public string UploadString (string address, string method, string data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1829">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1829">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1830">此 URI 必须标识可以接受使用 <paramref name="method" /> 方法发送的请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1830">This URI must identify a resource that can accept a request sent with the <paramref name="method" /> method.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1831">用于将字符串发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1831">The HTTP method used to send the string to the resource.</span></span> <span data-ttu-id="20fd1-1832">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1832">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1833">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1833">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1834">使用指定的方法将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1834">Uploads the specified string to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1835">一个 <see cref="T:System.String" />，包含服务器发送的响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1835">A <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1836">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1836">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1837">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1837">This method blocks while the string is transmitted.</span></span> <span data-ttu-id="20fd1-1838">若要发送字符串并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadStringAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1838">To send a string and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1839">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1839">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1840">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1840">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1841">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1841">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1842">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1842">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-1843">下面的代码示例演示如何调用此方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1843">The following code example demonstrates calling this method.</span></span>

 [!code-cpp[NCLWebClientAsync#2](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#2)]
 [!code-csharp[NCLWebClientAsync#2](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#2)]
 [!code-vb[NCLWebClientAsync#2](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1844"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1844">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1845">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1845">-or-</span></span>

<span data-ttu-id="20fd1-1846"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1846">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1847">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1847">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1848">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1848">-or-</span></span>

<span data-ttu-id="20fd1-1849">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1849">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1850">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1850">-or-</span></span>

 <span data-ttu-id="20fd1-1851"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1851"><paramref name="method" /> cannot be used to send content.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadString">
      <MemberSignature Language="C#" Value="public string UploadString (Uri address, string? method, string data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string UploadString(class System.Uri address, string method, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadString(System.Uri,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadString (address As Uri, method As String, data As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ UploadString(Uri ^ address, System::String ^ method, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadString : Uri * string * string -&gt; string" Usage="webClient.UploadString (address, method, data)" />
      <MemberSignature Language="C#" Value="public string UploadString (Uri address, string method, string data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1852">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1852">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1853">此 URI 必须标识可以接受使用 <paramref name="method" /> 方法发送的请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1853">This URI must identify a resource that can accept a request sent with the <paramref name="method" /> method.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1854">用于将字符串发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1854">The HTTP method used to send the string to the resource.</span></span> <span data-ttu-id="20fd1-1855">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1855">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1856">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1856">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1857">使用指定的方法将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1857">Uploads the specified string to the specified resource, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1858">一个 <see cref="T:System.String" />，包含服务器发送的响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1858">A <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1859">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1859">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1860">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1860">This method blocks while the string is transmitted.</span></span> <span data-ttu-id="20fd1-1861">若要发送字符串并在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadStringAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1861">To send a string and continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1862">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1862">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1863">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1863">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1864">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1864">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1865">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1865">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1866"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1866">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1867">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1867">-or-</span></span>

<span data-ttu-id="20fd1-1868"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1868">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1869">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1869">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1870">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1870">-or-</span></span>

<span data-ttu-id="20fd1-1871">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1871">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-1872">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1872">-or-</span></span>

 <span data-ttu-id="20fd1-1873"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1873"><paramref name="method" /> cannot be used to send content.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadStringAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1874">将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1874">Uploads the specified string to the specified resource.</span></span> <span data-ttu-id="20fd1-1875">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1875">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadStringAsync">
      <MemberSignature Language="C#" Value="public void UploadStringAsync (Uri address, string data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadStringAsync(class System.Uri address, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadStringAsync (address As Uri, data As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadStringAsync(Uri ^ address, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadStringAsync : Uri * string -&gt; unit" Usage="webClient.UploadStringAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1876">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1876">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1877">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1877">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1878">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1878">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1879">将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1879">Uploads the specified string to the specified resource.</span></span> <span data-ttu-id="20fd1-1880">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1880">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1881">此方法将字符串发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1881">This method sends a string to a resource.</span></span> <span data-ttu-id="20fd1-1882">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1882">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1883">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1883">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1884">若要在字符串上传完成时接收通知，可以向事件添加事件处理程序 <xref:System.Net.WebClient.UploadStringCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1884">To receive notification when the string upload completes, you can add an event handler to the <xref:System.Net.WebClient.UploadStringCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1885">在发送字符串时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1885">This method does not block the calling thread while the string is being sent.</span></span> <span data-ttu-id="20fd1-1886">若要在等待服务器响应的同时发送字符串和块，请使用其中一种 <xref:System.Net.WebClient.UploadString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1886">To send a string and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadString%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1887">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1887">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1888">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1888">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1889">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1889">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-1890">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1890">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-1891">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1891">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1892">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1892">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1893">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1893">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1894"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1894">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1895">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1895">-or-</span></span>

<span data-ttu-id="20fd1-1896"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1896">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1897">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1897">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1898">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1898">-or-</span></span>

<span data-ttu-id="20fd1-1899">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1899">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadStringAsync">
      <MemberSignature Language="C#" Value="public void UploadStringAsync (Uri address, string? method, string data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadStringAsync(class System.Uri address, string method, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringAsync(System.Uri,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadStringAsync (address As Uri, method As String, data As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadStringAsync(Uri ^ address, System::String ^ method, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadStringAsync : Uri * string * string -&gt; unit" Usage="webClient.UploadStringAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public void UploadStringAsync (Uri address, string method, string data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1900">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1900">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1901">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1901">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1902">用于将文件发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1902">The HTTP method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-1903">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1903">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1904">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1904">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1905">将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1905">Uploads the specified string to the specified resource.</span></span> <span data-ttu-id="20fd1-1906">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1906">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1907">此方法将字符串发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1907">This method sends a string to a resource.</span></span> <span data-ttu-id="20fd1-1908">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1908">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1909">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1909">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1910">若要在字符串上传完成时接收通知，可以向事件添加事件处理程序 <xref:System.Net.WebClient.UploadStringCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1910">To receive notification when the string upload completes, you can add an event handler to the <xref:System.Net.WebClient.UploadStringCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1911">在发送字符串时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1911">This method does not block the calling thread while the string is being sent.</span></span> <span data-ttu-id="20fd1-1912">若要在等待服务器响应的同时发送字符串和块，请使用其中一种 <xref:System.Net.WebClient.UploadString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1912">To send a string and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadString%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1913">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1913">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1914">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1914">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1915">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1915">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1916">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1916">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1917">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1917">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1918"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1918">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1919">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1919">-or-</span></span>

<span data-ttu-id="20fd1-1920"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1920">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1921">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1921">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1922">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1922">-or-</span></span>

 <span data-ttu-id="20fd1-1923"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1923"><paramref name="method" /> cannot be used to send content.</span></span>

<span data-ttu-id="20fd1-1924">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1924">-or-</span></span>

<span data-ttu-id="20fd1-1925">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1925">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadStringAsync">
      <MemberSignature Language="C#" Value="public void UploadStringAsync (Uri address, string? method, string data, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadStringAsync(class System.Uri address, string method, string data, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringAsync(System.Uri,System.String,System.String,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadStringAsync (address As Uri, method As String, data As String, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadStringAsync(Uri ^ address, System::String ^ method, System::String ^ data, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.UploadStringAsync : Uri * string * string * obj -&gt; unit" Usage="webClient.UploadStringAsync (address, method, data, userToken)" />
      <MemberSignature Language="C#" Value="public void UploadStringAsync (Uri address, string method, string data, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="3" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1926">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1926">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1927">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1927">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-1928">用于将文件发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1928">The HTTP method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-1929">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1929">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1930">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1930">The string to be uploaded.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-1931">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1931">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-1932">将指定的字符串上载到指定的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1932">Uploads the specified string to the specified resource.</span></span> <span data-ttu-id="20fd1-1933">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1933">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1934">此方法将字符串发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1934">This method sends a string to a resource.</span></span> <span data-ttu-id="20fd1-1935">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1935">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-1936">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1936">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1937">若要在字符串上传完成时接收通知，可以向事件添加事件处理程序 <xref:System.Net.WebClient.UploadStringCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1937">To receive notification when the string upload completes, you can add an event handler to the <xref:System.Net.WebClient.UploadStringCompleted> event.</span></span>

 <span data-ttu-id="20fd1-1938">在发送字符串时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1938">This method does not block the calling thread while the string is being sent.</span></span> <span data-ttu-id="20fd1-1939">若要在等待服务器响应的同时发送字符串和块，请使用其中一种 <xref:System.Net.WebClient.UploadString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1939">To send a string and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadString%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1940">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1940">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1941">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1941">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1942">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1942">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1943">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1943">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1944">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1944">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1945"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1945">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1946">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1946">-or-</span></span>

<span data-ttu-id="20fd1-1947"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1947">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1948">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1948">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1949">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1949">-or-</span></span>

 <span data-ttu-id="20fd1-1950"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1950"><paramref name="method" /> cannot be used to send content.</span></span>

<span data-ttu-id="20fd1-1951">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1951">-or-</span></span>

<span data-ttu-id="20fd1-1952">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1952">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadStringCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.UploadStringCompletedEventHandler? UploadStringCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.UploadStringCompletedEventHandler UploadStringCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.UploadStringCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event UploadStringCompleted As UploadStringCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::UploadStringCompletedEventHandler ^ UploadStringCompleted;" />
      <MemberSignature Language="F#" Value="member this.UploadStringCompleted : System.Net.UploadStringCompletedEventHandler " Usage="member this.UploadStringCompleted : System.Net.UploadStringCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.UploadStringCompletedEventHandler UploadStringCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event UploadStringCompleted As UploadStringCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.UploadStringCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-1953">在异步字符串上载操作完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1953">Occurs when an asynchronous string-upload operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1954">此事件在每次异步字符串上传操作完成时引发。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1954">This event is raised each time an asynchronous string upload operation completes.</span></span> <span data-ttu-id="20fd1-1955">异步字符串上载通过调用方法来启动 <xref:System.Net.WebClient.UploadStringAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1955">Asynchronous string uploads are started by calling the <xref:System.Net.WebClient.UploadStringAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-1956"><xref:System.Net.UploadStringCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1956">The <xref:System.Net.UploadStringCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-1957"><xref:System.Net.UploadStringCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1957">The <xref:System.Net.UploadStringCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-1958">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1958">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>



## Examples
 <span data-ttu-id="20fd1-1959">下面的代码示例演示如何为此事件设置事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1959">The following code example demonstrates setting an event handler for this event.</span></span>

 [!code-cpp[NCLWebClientAsync#38](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#38)]
 [!code-csharp[NCLWebClientAsync#38](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#38)]
 [!code-vb[NCLWebClientAsync#38](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#38)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadStringTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-1960">使用任务对象将指定字符串上载到指定资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1960">Uploads the specified string to the specified resource as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-1961">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1961">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadStringTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; UploadStringTaskAsync (string address, string data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;string&gt; UploadStringTaskAsync(string address, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringTaskAsync(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadStringTaskAsync (address As String, data As String) As Task(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::String ^&gt; ^ UploadStringTaskAsync(System::String ^ address, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadStringTaskAsync : string * string -&gt; System.Threading.Tasks.Task&lt;string&gt;" Usage="webClient.UploadStringTaskAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1962">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1962">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1963">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1963">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1964">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1964">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1965">使用任务对象将指定字符串上载到指定资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1965">Uploads the specified string to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1966">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1966">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1967">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.String" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1967">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1968">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1968">This operation will not block.</span></span> <span data-ttu-id="20fd1-1969"><xref:System.Threading.Tasks.Task%601>将字符串上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1969">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the string has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-1970">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1970">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-1971">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1971">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1972">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1972">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1973">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1973">This method blocks while the string is transmitted.</span></span>

 <span data-ttu-id="20fd1-1974">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1974">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1975">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1975">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1976">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1976">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1977">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1977">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-1978"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1978">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-1979">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1979">-or-</span></span>

<span data-ttu-id="20fd1-1980"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1980">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-1981">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1981">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-1982">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-1982">-or-</span></span>

<span data-ttu-id="20fd1-1983">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1983">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadStringTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; UploadStringTaskAsync (Uri address, string data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;string&gt; UploadStringTaskAsync(class System.Uri address, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringTaskAsync(System.Uri,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadStringTaskAsync (address As Uri, data As String) As Task(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::String ^&gt; ^ UploadStringTaskAsync(Uri ^ address, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadStringTaskAsync : Uri * string -&gt; System.Threading.Tasks.Task&lt;string&gt;" Usage="webClient.UploadStringTaskAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-1984">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1984">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-1985">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1985">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-1986">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1986">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-1987">使用任务对象将指定字符串上载到指定资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1987">Uploads the specified string to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-1988">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1988">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-1989">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.String" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1989">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-1990">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1990">This operation will not block.</span></span> <span data-ttu-id="20fd1-1991"><xref:System.Threading.Tasks.Task%601>将字符串上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1991">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the string has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-1992">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1992">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-1993">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1993">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-1994">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1994">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-1995">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1995">This method blocks while the string is transmitted.</span></span>

 <span data-ttu-id="20fd1-1996">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1996">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-1997">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1997">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-1998">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1998">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-1999">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-1999">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2000"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2000">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2001">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2001">-or-</span></span>

<span data-ttu-id="20fd1-2002"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2002">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2003">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2003">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2004">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2004">-or-</span></span>

<span data-ttu-id="20fd1-2005">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2005">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadStringTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; UploadStringTaskAsync (string address, string? method, string data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;string&gt; UploadStringTaskAsync(string address, string method, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringTaskAsync(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadStringTaskAsync (address As String, method As String, data As String) As Task(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::String ^&gt; ^ UploadStringTaskAsync(System::String ^ address, System::String ^ method, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadStringTaskAsync : string * string * string -&gt; System.Threading.Tasks.Task&lt;string&gt;" Usage="webClient.UploadStringTaskAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; UploadStringTaskAsync (string address, string method, string data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2006">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2006">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-2007">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2007">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2008">用于将文件发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2008">The HTTP method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-2009">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2009">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2010">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2010">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-2011">使用任务对象将指定字符串上载到指定资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2011">Uploads the specified string to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2012">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2012">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-2013">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.String" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2013">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2014">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2014">This operation will not block.</span></span> <span data-ttu-id="20fd1-2015"><xref:System.Threading.Tasks.Task%601>将字符串上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2015">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the string has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-2016">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2016">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-2017">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2017">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2018">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2018">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-2019">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2019">This method blocks while the string is transmitted.</span></span>

 <span data-ttu-id="20fd1-2020">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2020">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2021">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2021">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2022">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2022">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2023">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2023">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2024"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2024">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2025">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2025">-or-</span></span>

<span data-ttu-id="20fd1-2026"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2026">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2027">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2027">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2028">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2028">-or-</span></span>

 <span data-ttu-id="20fd1-2029"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2029"><paramref name="method" /> cannot be used to send content.</span></span>

<span data-ttu-id="20fd1-2030">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2030">-or-</span></span>

<span data-ttu-id="20fd1-2031">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2031">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadStringTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; UploadStringTaskAsync (Uri address, string? method, string data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;string&gt; UploadStringTaskAsync(class System.Uri address, string method, string data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadStringTaskAsync(System.Uri,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadStringTaskAsync (address As Uri, method As String, data As String) As Task(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;System::String ^&gt; ^ UploadStringTaskAsync(Uri ^ address, System::String ^ method, System::String ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadStringTaskAsync : Uri * string * string -&gt; System.Threading.Tasks.Task&lt;string&gt;" Usage="webClient.UploadStringTaskAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;string&gt; UploadStringTaskAsync (Uri address, string method, string data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.String" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2032">要接收字符串的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2032">The URI of the resource to receive the string.</span></span> <span data-ttu-id="20fd1-2033">对于 HTTP 资源，此 URI 必须标识可以接受用 POST 方法发送的请求的资源，如脚本或 ASP 页。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2033">For HTTP resources, this URI must identify a resource that can accept a request sent with the POST method, such as a script or ASP page.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2034">用于将文件发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2034">The HTTP method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-2035">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2035">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2036">要上载的字符串。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2036">The string to be uploaded.</span></span></param>
        <summary><span data-ttu-id="20fd1-2037">使用任务对象将指定字符串上载到指定资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2037">Uploads the specified string to the specified resource as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2038">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2038">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-2039">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.String" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2039">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.String" /> containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2040">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2040">This operation will not block.</span></span> <span data-ttu-id="20fd1-2041"><xref:System.Threading.Tasks.Task%601>将字符串上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2041">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the string has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-2042">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2042">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-2043">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2043">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2044">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2044">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-2045">传输字符串时，此方法将会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2045">This method blocks while the string is transmitted.</span></span>

 <span data-ttu-id="20fd1-2046">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2046">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2047">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2047">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2048">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2048">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2049">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2049">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2050"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2050">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2051">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2051">-or-</span></span>

<span data-ttu-id="20fd1-2052"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2052">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2053">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2053">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2054">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2054">-or-</span></span>

 <span data-ttu-id="20fd1-2055"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2055"><paramref name="method" /> cannot be used to send content.</span></span>

<span data-ttu-id="20fd1-2056">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2056">-or-</span></span>

<span data-ttu-id="20fd1-2057">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2057">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadValues">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-2058">将名称/值集合上载到具有指定 URI 的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2058">Uploads a name/value collection to a resource with the specified URI.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadValues">
      <MemberSignature Language="C#" Value="public byte[] UploadValues (string address, System.Collections.Specialized.NameValueCollection data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadValues(string address, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValues(System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValues (address As String, data As NameValueCollection) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadValues(System::String ^ address, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValues : string * System.Collections.Specialized.NameValueCollection -&gt; byte[]" Usage="webClient.UploadValues (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2059">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2059">The URI of the resource to receive the collection.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2060">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2060">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2061">将指定的名称/值集合上载到指定的 URI 所标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2061">Uploads the specified name/value collection to the resource identified by the specified URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2062">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2062">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2063"><xref:System.Net.WebClient.UploadValues%2A>方法将发送 <xref:System.Collections.Specialized.NameValueCollection> 到服务器。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2063">The <xref:System.Net.WebClient.UploadValues%2A> method sends a <xref:System.Collections.Specialized.NameValueCollection> to a server.</span></span> <span data-ttu-id="20fd1-2064">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2064">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-2065">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadValuesAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2065">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadValuesAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2066">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2066">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2067">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2067">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2068">如果 Content-type 标头为 `null` ，则此 <xref:System.Net.WebClient.UploadValues%2A> 方法会将其设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2068">If the Content-type header is `null`, the <xref:System.Net.WebClient.UploadValues%2A> method sets it to "application/x-www-form-urlencoded".</span></span>

 <span data-ttu-id="20fd1-2069">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2069">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2070">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2070">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2071">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2071">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2072">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2072">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2073">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2073">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2074">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2074">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-2075">下面的代码示例从用户 (名称、年龄和地址) 收集信息，并使用将值发送到服务器 <xref:System.Net.WebClient.UploadValues%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2075">The following code example gathers information from the user (name, age, and address) and posts the values to the server using <xref:System.Net.WebClient.UploadValues%2A>.</span></span> <span data-ttu-id="20fd1-2076">来自服务器的任何响应都会显示在控制台上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2076">Any response from the server is displayed on the console.</span></span>

 [!code-cpp[WebClient_UploadValues#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UploadValues/CPP/webclient_uploadvalues.cpp#1)]
 [!code-csharp[WebClient_UploadValues#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UploadValues/CS/webclient_uploadvalues.cs#1)]
 [!code-vb[WebClient_UploadValues#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UploadValues/VB/webclient_uploadvalues.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2077"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2077">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2078">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2078">-or-</span></span>

<span data-ttu-id="20fd1-2079"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2079">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2080">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2080">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2081">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2081">-or-</span></span>

 <span data-ttu-id="20fd1-2082"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2082"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2083">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2083">-or-</span></span>

<span data-ttu-id="20fd1-2084">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2084">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2085">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2085">-or-</span></span>

<span data-ttu-id="20fd1-2086">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2086">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2087">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2087">-or-</span></span>

<span data-ttu-id="20fd1-2088"><see langword="Content-type" /> 标头不是 <see langword="null" /> 或“application/x-www-form-urlencoded”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2088">The <see langword="Content-type" /> header is not <see langword="null" /> or "application/x-www-form-urlencoded".</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValues">
      <MemberSignature Language="C#" Value="public byte[] UploadValues (Uri address, System.Collections.Specialized.NameValueCollection data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadValues(class System.Uri address, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValues(System.Uri,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValues (address As Uri, data As NameValueCollection) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadValues(Uri ^ address, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValues : Uri * System.Collections.Specialized.NameValueCollection -&gt; byte[]" Usage="webClient.UploadValues (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2089">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2089">The URI of the resource to receive the collection.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2090">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2090">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2091">将指定的名称/值集合上载到指定的 URI 所标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2091">Uploads the specified name/value collection to the resource identified by the specified URI.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2092">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2092">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2093"><xref:System.Net.WebClient.UploadValues%2A>方法将发送 <xref:System.Collections.Specialized.NameValueCollection> 到服务器。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2093">The <xref:System.Net.WebClient.UploadValues%2A> method sends a <xref:System.Collections.Specialized.NameValueCollection> to a server.</span></span> <span data-ttu-id="20fd1-2094">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2094">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-2095">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadValuesAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2095">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadValuesAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2096">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2096">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2097">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2097">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2098">如果 Content-type 标头为 `null` ，则此 <xref:System.Net.WebClient.UploadValues%2A> 方法会将其设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2098">If the Content-type header is `null`, the <xref:System.Net.WebClient.UploadValues%2A> method sets it to "application/x-www-form-urlencoded".</span></span>

 <span data-ttu-id="20fd1-2099">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2099">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2100">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2100">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2101">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2101">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2102">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2102">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2103">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2103">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2104">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2104">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2105"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2105">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2106">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2106">-or-</span></span>

<span data-ttu-id="20fd1-2107"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2107">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2108">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2108">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2109">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2109">-or-</span></span>

 <span data-ttu-id="20fd1-2110"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2110"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2111">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2111">-or-</span></span>

<span data-ttu-id="20fd1-2112">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2112">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2113">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2113">-or-</span></span>

<span data-ttu-id="20fd1-2114">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2114">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2115">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2115">-or-</span></span>

<span data-ttu-id="20fd1-2116"><see langword="Content-type" /> 标头不是 <see langword="null" /> 或“application/x-www-form-urlencoded”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2116">The <see langword="Content-type" /> header is not <see langword="null" /> or "application/x-www-form-urlencoded".</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValues">
      <MemberSignature Language="C#" Value="public byte[] UploadValues (string address, string? method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadValues(string address, string method, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValues(System.String,System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValues (address As String, method As String, data As NameValueCollection) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadValues(System::String ^ address, System::String ^ method, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValues : string * string * System.Collections.Specialized.NameValueCollection -&gt; byte[]" Usage="webClient.UploadValues (address, method, data)" />
      <MemberSignature Language="C#" Value="public byte[] UploadValues (string address, string method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" />
        <Parameter Name="method" Type="System.String" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2117">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2117">The URI of the resource to receive the collection.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2118">用于将文件发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2118">The HTTP method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-2119">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2119">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2120">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2120">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2121">使用指定的方法将指定的名称/值集合上载到指定的 URI 所标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2121">Uploads the specified name/value collection to the resource identified by the specified URI, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2122">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2122">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2123"><xref:System.Net.WebClient.UploadValues%2A>方法 <xref:System.Collections.Specialized.NameValueCollection> 使用参数中指定的方法向资源发送 `method` ，并返回来自服务器的任何响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2123">The <xref:System.Net.WebClient.UploadValues%2A> method sends a <xref:System.Collections.Specialized.NameValueCollection> to a resource using the method specified in the `method` parameter and returns any response from the server.</span></span> <span data-ttu-id="20fd1-2124">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2124">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-2125">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadValuesAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2125">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadValuesAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2126">如果 `Content-type` 标头为 `null` ，则该 <xref:System.Net.WebClient.UploadValues%2A> 方法将其设置为 `application/x-www-form-urlencoded` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2126">If the `Content-type` header is `null`, the <xref:System.Net.WebClient.UploadValues%2A> method sets it to `application/x-www-form-urlencoded`.</span></span>

 <span data-ttu-id="20fd1-2127">如果 `method` 参数指定了服务器无法理解的谓词，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2127">If the `method` parameter specifies a verb that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2128">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2128">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2129">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2129">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2130">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2130">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2131">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2131">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2132">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2132">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

## Examples
 <span data-ttu-id="20fd1-2133">下面的代码示例从用户 (名称、年龄和地址) 收集信息，并使用将值发送到服务器 <xref:System.Net.WebClient.UploadValues%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2133">The following code example gathers information from the user (name, age, and address) and posts the values to the server using <xref:System.Net.WebClient.UploadValues%2A>.</span></span> <span data-ttu-id="20fd1-2134">来自服务器的任何响应都会显示在控制台上。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2134">Any response from the server is displayed on the console.</span></span>

 [!code-cpp[WebClient_UploadValues2#1](~/samples/snippets/cpp/VS_Snippets_Remoting/WebClient_UploadValues2/CPP/webclient_uploadvalues2.cpp#1)]
 [!code-csharp[WebClient_UploadValues2#1](~/samples/snippets/csharp/VS_Snippets_Remoting/WebClient_UploadValues2/CS/webclient_uploadvalues2.cs#1)]
 [!code-vb[WebClient_UploadValues2#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/WebClient_UploadValues2/VB/webclient_uploadvalues2.vb#1)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2135"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2135">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2136">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2136">-or-</span></span>

<span data-ttu-id="20fd1-2137"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2137">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2138">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2138">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2139">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2139">-or-</span></span>

 <span data-ttu-id="20fd1-2140"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2140"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2141">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2141">-or-</span></span>

<span data-ttu-id="20fd1-2142">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2142">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2143">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2143">-or-</span></span>

<span data-ttu-id="20fd1-2144">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2144">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2145">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2145">-or-</span></span>

<span data-ttu-id="20fd1-2146"><see langword="Content-type" /> 标头值既不是 <see langword="null" /> 也不是 <see langword="application/x-www-form-urlencoded" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2146">The <see langword="Content-type" /> header value is not <see langword="null" /> and is not <see langword="application/x-www-form-urlencoded" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValues">
      <MemberSignature Language="C#" Value="public byte[] UploadValues (Uri address, string? method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance unsigned int8[] UploadValues(class System.Uri address, string method, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValues(System.Uri,System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValues (address As Uri, method As String, data As NameValueCollection) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Byte&gt; ^ UploadValues(Uri ^ address, System::String ^ method, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValues : Uri * string * System.Collections.Specialized.NameValueCollection -&gt; byte[]" Usage="webClient.UploadValues (address, method, data)" />
      <MemberSignature Language="C#" Value="public byte[] UploadValues (Uri address, string method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2147">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2147">The URI of the resource to receive the collection.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2148">用于将文件发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2148">The HTTP method used to send the file to the resource.</span></span> <span data-ttu-id="20fd1-2149">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2149">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2150">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2150">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2151">使用指定的方法将指定的名称/值集合上载到指定的 URI 所标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2151">Uploads the specified name/value collection to the resource identified by the specified URI, using the specified method.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2152">一个 <see cref="T:System.Byte" /> 数组，它包含来自资源的响应的正文。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2152">A <see cref="T:System.Byte" /> array containing the body of the response from the resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2153"><xref:System.Net.WebClient.UploadValues%2A>方法 <xref:System.Collections.Specialized.NameValueCollection> 使用参数中指定的方法向资源发送 `method` ，并返回来自服务器的任何响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2153">The <xref:System.Net.WebClient.UploadValues%2A> method sends a <xref:System.Collections.Specialized.NameValueCollection> to a resource using the method specified in the `method` parameter and returns any response from the server.</span></span> <span data-ttu-id="20fd1-2154">上载数据时，此方法会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2154">This method blocks while uploading the data.</span></span> <span data-ttu-id="20fd1-2155">若要在等待服务器响应时继续执行，请使用其中一种 <xref:System.Net.WebClient.UploadValuesAsync%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2155">To continue executing while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadValuesAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2156">如果 `Content-type` 标头为 `null` ，则该 <xref:System.Net.WebClient.UploadValues%2A> 方法将其设置为 `application/x-www-form-urlencoded` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2156">If the `Content-type` header is `null`, the <xref:System.Net.WebClient.UploadValues%2A> method sets it to `application/x-www-form-urlencoded`.</span></span>

 <span data-ttu-id="20fd1-2157">如果 `method` 参数指定了服务器无法理解的谓词，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2157">If the `method` parameter specifies a verb that is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2158">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2158">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2159">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2159">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2160">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2160">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2161">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2161">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2162">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2162">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2163"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2163">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2164">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2164">-or-</span></span>

<span data-ttu-id="20fd1-2165"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2165">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2166">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2166">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2167">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2167">-or-</span></span>

 <span data-ttu-id="20fd1-2168"><paramref name="data" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2168"><paramref name="data" /> is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2169">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2169">-or-</span></span>

<span data-ttu-id="20fd1-2170">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2170">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2171">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2171">-or-</span></span>

<span data-ttu-id="20fd1-2172">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2172">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2173">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2173">-or-</span></span>

<span data-ttu-id="20fd1-2174"><see langword="Content-type" /> 标头值既不是 <see langword="null" /> 也不是 <see langword="application/x-www-form-urlencoded" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2174">The <see langword="Content-type" /> header value is not <see langword="null" /> and is not <see langword="application/x-www-form-urlencoded" />.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadValuesAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-2175">将指定的名称/值集合上载到指定的 URI 所标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2175">Uploads the specified name/value collection to the resource identified by the specified URI.</span></span> <span data-ttu-id="20fd1-2176">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2176">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadValuesAsync">
      <MemberSignature Language="C#" Value="public void UploadValuesAsync (Uri address, System.Collections.Specialized.NameValueCollection data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadValuesAsync(class System.Uri address, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesAsync(System.Uri,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadValuesAsync (address As Uri, data As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadValuesAsync(Uri ^ address, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesAsync : Uri * System.Collections.Specialized.NameValueCollection -&gt; unit" Usage="webClient.UploadValuesAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2177">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2177">The URI of the resource to receive the collection.</span></span> <span data-ttu-id="20fd1-2178">此 URI 必须标识可以接受使用默认方法发送的请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2178">This URI must identify a resource that can accept a request sent with the default method.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2179">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2179">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2180">将指定的名称/值集合中的数据上载到由指定的 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2180">Uploads the data in the specified name/value collection to the resource identified by the specified URI.</span></span> <span data-ttu-id="20fd1-2181">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2181">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2182">此方法将字符串发送到资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2182">This method sends a string to a resource.</span></span> <span data-ttu-id="20fd1-2183">该字符串使用自动从线程池分配的线程资源进行异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2183">The string is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-2184">在上传字符串之前，此方法 <xref:System.Byte> 使用属性中指定的编码将其转换为 <xref:System.Net.WebClient.Encoding%2A> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2184">Before uploading the string, this method converts it to a <xref:System.Byte> array using the encoding specified in the <xref:System.Net.WebClient.Encoding%2A> property.</span></span> <span data-ttu-id="20fd1-2185">若要在字符串上传完成时接收通知，可以向事件添加事件处理程序 <xref:System.Net.WebClient.UploadStringCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2185">To receive notification when the string upload completes, you can add an event handler to the <xref:System.Net.WebClient.UploadStringCompleted> event.</span></span>

 <span data-ttu-id="20fd1-2186">在发送字符串时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2186">This method does not block the calling thread while the string is being sent.</span></span> <span data-ttu-id="20fd1-2187">若要在等待服务器响应的同时发送字符串和块，请使用其中一种 <xref:System.Net.WebClient.UploadString%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2187">To send a string and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadString%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2188">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2188">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2189">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2189">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2190">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2190">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2191">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2191">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2192">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2192">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2193">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2193">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2194">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2194">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2195"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2195">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2196">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2196">-or-</span></span>

<span data-ttu-id="20fd1-2197"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2197">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2198">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2198">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2199">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2199">-or-</span></span>

<span data-ttu-id="20fd1-2200">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2200">There was no response from the server hosting the resource.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValuesAsync">
      <MemberSignature Language="C#" Value="public void UploadValuesAsync (Uri address, string? method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadValuesAsync(class System.Uri address, string method, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesAsync(System.Uri,System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadValuesAsync (address As Uri, method As String, data As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadValuesAsync(Uri ^ address, System::String ^ method, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesAsync : Uri * string * System.Collections.Specialized.NameValueCollection -&gt; unit" Usage="webClient.UploadValuesAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public void UploadValuesAsync (Uri address, string method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2201">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2201">The URI of the resource to receive the collection.</span></span> <span data-ttu-id="20fd1-2202">此 URI 必须标识可以接受使用 <paramref name="method" /> 方法发送的请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2202">This URI must identify a resource that can accept a request sent with the <paramref name="method" /> method.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2203">用于将字符串发送到资源的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2203">The method used to send the string to the resource.</span></span> <span data-ttu-id="20fd1-2204">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2204">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2205">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2205">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2206">使用指定的方法将指定的名称/值集合中的数据上载到由指定的 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2206">Uploads the data in the specified name/value collection to the resource identified by the specified URI, using the specified method.</span></span> <span data-ttu-id="20fd1-2207">此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2207">This method does not block the calling thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2208">此方法将中包含的数据发送 <xref:System.Collections.Specialized.NameValueCollection> 到 `address` 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2208">This method sends the data contained in a <xref:System.Collections.Specialized.NameValueCollection> to the `address` resource.</span></span> <span data-ttu-id="20fd1-2209">使用此方法将表单数据发送到 URI 进行处理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2209">Use this method to send form data to a URI for processing.</span></span> <span data-ttu-id="20fd1-2210">使用 url 编码媒体类型发送数据;Content-type 标头值必须设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2210">The data is sent using the form-urlencoded media type; the Content-Type header value must be set to "application/x-www-form-urlencoded".</span></span> <span data-ttu-id="20fd1-2211">默认情况下，标头是正确设置的。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2211">The header is set correctly by default.</span></span> <span data-ttu-id="20fd1-2212"><xref:System.Net.WebClient.UploadValuesAsync%2A> <xref:System.Net.WebException> 如果使用集合中设置的不同 content-type 标头值调用此方法，则方法将引发。 <xref:System.Net.WebClient.Headers%2A></span><span class="sxs-lookup"><span data-stu-id="20fd1-2212">The <xref:System.Net.WebClient.UploadValuesAsync%2A> methods throw a <xref:System.Net.WebException> if you call this method with a different Content-Type header value set in the <xref:System.Net.WebClient.Headers%2A> collection.</span></span>

 <span data-ttu-id="20fd1-2213">如果 `method` 服务器不理解该方法，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2213">If the `method` method is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2214">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2214">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2215"><xref:System.Collections.Specialized.NameValueCollection>使用自动从线程池分配的线程资源来异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2215">The <xref:System.Collections.Specialized.NameValueCollection> is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-2216">若要在上传操作完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadValuesCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2216">To receive notification when the upload operation completes, add an event handler to the <xref:System.Net.WebClient.UploadValuesCompleted> event.</span></span>

 <span data-ttu-id="20fd1-2217">在发送字符串时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2217">This method does not block the calling thread while the string is being sent.</span></span> <span data-ttu-id="20fd1-2218">若要在等待服务器响应的同时发送字符串和块，请使用其中一种 <xref:System.Net.WebClient.UploadValues%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2218">To send a string and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadValues%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2219">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2219">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2220">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2220">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2221">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不为空，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2221">If the <xref:System.Net.WebClient.QueryString%2A> property is not empty, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2222">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2222">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2223">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2223">For more information see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2224"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2224">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2225">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2225">-or-</span></span>

<span data-ttu-id="20fd1-2226"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2226">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2227">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2227">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2228">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2228">-or-</span></span>

<span data-ttu-id="20fd1-2229">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2229">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2230">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2230">-or-</span></span>

 <span data-ttu-id="20fd1-2231"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2231"><paramref name="method" /> cannot be used to send content.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValuesAsync">
      <MemberSignature Language="C#" Value="public void UploadValuesAsync (Uri address, string? method, System.Collections.Specialized.NameValueCollection data, object? userToken);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void UploadValuesAsync(class System.Uri address, string method, class System.Collections.Specialized.NameValueCollection data, object userToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesAsync(System.Uri,System.String,System.Collections.Specialized.NameValueCollection,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub UploadValuesAsync (address As Uri, method As String, data As NameValueCollection, userToken As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void UploadValuesAsync(Uri ^ address, System::String ^ method, System::Collections::Specialized::NameValueCollection ^ data, System::Object ^ userToken);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesAsync : Uri * string * System.Collections.Specialized.NameValueCollection * obj -&gt; unit" Usage="webClient.UploadValuesAsync (address, method, data, userToken)" />
      <MemberSignature Language="C#" Value="public void UploadValuesAsync (Uri address, string method, System.Collections.Specialized.NameValueCollection data, object userToken);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="userToken" Type="System.Object" Index="3" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2232">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2232">The URI of the resource to receive the collection.</span></span> <span data-ttu-id="20fd1-2233">此 URI 必须标识可以接受使用 <paramref name="method" /> 方法发送的请求的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2233">This URI must identify a resource that can accept a request sent with the <paramref name="method" /> method.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2234">用于将字符串发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2234">The HTTP method used to send the string to the resource.</span></span> <span data-ttu-id="20fd1-2235">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2235">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2236">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2236">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <param name="userToken"><span data-ttu-id="20fd1-2237">一个用户定义对象，此对象将传递给完成异步操作后所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2237">A user-defined object that is passed to the method invoked when the asynchronous operation completes.</span></span></param>
        <summary><span data-ttu-id="20fd1-2238">使用指定的方法将指定的名称/值集合中的数据上载到由指定的 URI 标识的资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2238">Uploads the data in the specified name/value collection to the resource identified by the specified URI, using the specified method.</span></span> <span data-ttu-id="20fd1-2239">此方法不会阻止调用线程，并允许调用方将对象传递给操作完成时所调用的方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2239">This method does not block the calling thread, and allows the caller to pass an object to the method that is invoked when the operation completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2240">此方法将中包含的数据发送 <xref:System.Collections.Specialized.NameValueCollection> 到 `address` 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2240">This method sends the data contained in a <xref:System.Collections.Specialized.NameValueCollection> to the `address` resource.</span></span> <span data-ttu-id="20fd1-2241">使用此方法将表单数据发送到 URI 进行处理。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2241">Use this method to send form data to a URI for processing.</span></span> <span data-ttu-id="20fd1-2242">使用 url 编码媒体类型发送数据;Content-type 标头值必须设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2242">The data is sent using the form-urlencoded media type; the Content-Type header value must be set to "application/x-www-form-urlencoded".</span></span> <span data-ttu-id="20fd1-2243">默认情况下，标头是正确设置的。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2243">The header is set correctly by default.</span></span> <span data-ttu-id="20fd1-2244"><xref:System.Net.WebClient.UploadValuesAsync%2A> <xref:System.Net.WebException> 如果使用集合中设置的不同 content-type 标头值调用此方法，则方法将引发。 <xref:System.Net.WebClient.Headers%2A></span><span class="sxs-lookup"><span data-stu-id="20fd1-2244">The <xref:System.Net.WebClient.UploadValuesAsync%2A> methods throw a <xref:System.Net.WebException> if you call this method with a different Content-Type header value set in the <xref:System.Net.WebClient.Headers%2A> collection.</span></span>

 <span data-ttu-id="20fd1-2245">如果 `method` 服务器不理解该方法，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2245">If the `method` method is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2246">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2246">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2247"><xref:System.Collections.Specialized.NameValueCollection>使用自动从线程池分配的线程资源来异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2247">The <xref:System.Collections.Specialized.NameValueCollection> is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span> <span data-ttu-id="20fd1-2248">若要在上传操作完成时收到通知，请向事件添加事件处理程序 <xref:System.Net.WebClient.UploadValuesCompleted> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2248">To receive notification when the upload operation completes, add an event handler to the <xref:System.Net.WebClient.UploadValuesCompleted> event.</span></span>

 <span data-ttu-id="20fd1-2249">在发送字符串时，此方法不会阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2249">This method does not block the calling thread while the string is being sent.</span></span> <span data-ttu-id="20fd1-2250">若要在等待服务器响应的同时发送字符串和块，请使用其中一种 <xref:System.Net.WebClient.UploadValues%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2250">To send a string and block while waiting for the server's response, use one of the <xref:System.Net.WebClient.UploadValues%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2251">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2251">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2252">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2252">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2253">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不为空，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2253">If the <xref:System.Net.WebClient.QueryString%2A> property is not empty, it is appended to `address`.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2254">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2254">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2255">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2255">For more information see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2256"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2256">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2257">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2257">-or-</span></span>

<span data-ttu-id="20fd1-2258"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2258">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2259">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2259">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" /> and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2260">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2260">-or-</span></span>

<span data-ttu-id="20fd1-2261">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2261">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2262">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2262">-or-</span></span>

 <span data-ttu-id="20fd1-2263"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2263"><paramref name="method" /> cannot be used to send content.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValuesCompleted">
      <MemberSignature Language="C#" Value="public event System.Net.UploadValuesCompletedEventHandler? UploadValuesCompleted;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.UploadValuesCompletedEventHandler UploadValuesCompleted" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.UploadValuesCompleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event UploadValuesCompleted As UploadValuesCompletedEventHandler " FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::UploadValuesCompletedEventHandler ^ UploadValuesCompleted;" />
      <MemberSignature Language="F#" Value="member this.UploadValuesCompleted : System.Net.UploadValuesCompletedEventHandler " Usage="member this.UploadValuesCompleted : System.Net.UploadValuesCompletedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.UploadValuesCompletedEventHandler UploadValuesCompleted;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Event UploadValuesCompleted As UploadValuesCompletedEventHandler " FrameworkAlternate="netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.UploadValuesCompletedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-2264">在名称/值集合的异步上载完成时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2264">Occurs when an asynchronous upload of a name/value collection completes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2265">此事件在每次完成对象数据的异步上传时引发 <xref:System.Collections.Specialized.NameValueCollection> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2265">This event is raised each time an asynchronous upload of a <xref:System.Collections.Specialized.NameValueCollection> object's data completes.</span></span> <span data-ttu-id="20fd1-2266">这些上载通过调用方法来启动 <xref:System.Net.WebClient.UploadValuesAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2266">These uploads are started by calling the <xref:System.Net.WebClient.UploadValuesAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2267"><xref:System.Net.UploadValuesCompletedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2267">The <xref:System.Net.UploadValuesCompletedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-2268"><xref:System.Net.UploadValuesCompletedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2268">The <xref:System.Net.UploadValuesCompletedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-2269">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2269">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="UploadValuesTaskAsync">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="20fd1-2270">使用任务对象将指定的名称/值集合上载到由指定 URI 标识的资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2270">Uploads the specified name/value collection to the resource identified by the specified URI as an asynchronous operation using a task object.</span></span> <span data-ttu-id="20fd1-2271">这些方法不阻止调用线程。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2271">These methods do not block the calling thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UploadValuesTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadValuesTaskAsync (string address, System.Collections.Specialized.NameValueCollection data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadValuesTaskAsync(string address, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesTaskAsync(System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValuesTaskAsync (address As String, data As NameValueCollection) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadValuesTaskAsync(System::String ^ address, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesTaskAsync : string * System.Collections.Specialized.NameValueCollection -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadValuesTaskAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2272">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2272">The URI of the resource to receive the collection.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2273">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2273">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2274">使用任务对象将指定的名称/值集合上载到由指定 URI 标识的资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2274">Uploads the specified name/value collection to the resource identified by the specified URI as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2275">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2275">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-2276">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2276">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2277">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2277">This operation will not block.</span></span> <span data-ttu-id="20fd1-2278">在将 <xref:System.Threading.Tasks.Task%601> 名称/值集合上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2278">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the name/value collection has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-2279">名称/值集合使用自动从线程池分配的线程资源异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2279">The name/value collection is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-2280">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2280">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2281">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2281">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2282">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2282">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2283">如果 Content-type 标头为，则 `null` 此方法会将其设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2283">If the Content-type header is `null`, this method sets it to "application/x-www-form-urlencoded".</span></span>

 <span data-ttu-id="20fd1-2284">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2284">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2285">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2285">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2286">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2286">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2287">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2287">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2288">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2288">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2289">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2289">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2290"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2290">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2291">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2291">-or-</span></span>

<span data-ttu-id="20fd1-2292"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2292">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2293">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2293">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2294">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2294">-or-</span></span>

<span data-ttu-id="20fd1-2295">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2295">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2296">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2296">-or-</span></span>

<span data-ttu-id="20fd1-2297">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2297">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2298">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2298">-or-</span></span>

<span data-ttu-id="20fd1-2299"><see langword="Content-type" /> 标头不是 <see langword="null" /> 或“application/x-www-form-urlencoded”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2299">The <see langword="Content-type" /> header is not <see langword="null" /> or "application/x-www-form-urlencoded".</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValuesTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadValuesTaskAsync (Uri address, System.Collections.Specialized.NameValueCollection data);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadValuesTaskAsync(class System.Uri address, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesTaskAsync(System.Uri,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValuesTaskAsync (address As Uri, data As NameValueCollection) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadValuesTaskAsync(Uri ^ address, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesTaskAsync : Uri * System.Collections.Specialized.NameValueCollection -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadValuesTaskAsync (address, data)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2300">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2300">The URI of the resource to receive the collection.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2301">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2301">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2302">使用任务对象将指定的名称/值集合上载到由指定 URI 标识的资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2302">Uploads the specified name/value collection to the resource identified by the specified URI as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2303">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2303">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-2304">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2304">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2305">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2305">This operation will not block.</span></span> <span data-ttu-id="20fd1-2306">在将 <xref:System.Threading.Tasks.Task%601> 名称/值集合上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2306">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the name/value collection has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-2307">名称/值集合使用自动从线程池分配的线程资源异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2307">The name/value collection is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-2308">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2308">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2309">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2309">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2310">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2310">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2311">如果 Content-type 标头为，则 `null` 此方法会将其设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2311">If the Content-type header is `null`, this method sets it to "application/x-www-form-urlencoded".</span></span>

 <span data-ttu-id="20fd1-2312">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2312">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2313">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2313">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2314">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2314">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2315">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2315">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2316">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2316">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2317">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2317">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2318"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2318">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2319">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2319">-or-</span></span>

<span data-ttu-id="20fd1-2320"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2320">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2321">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2321">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2322">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2322">-or-</span></span>

<span data-ttu-id="20fd1-2323">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2323">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2324">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2324">-or-</span></span>

<span data-ttu-id="20fd1-2325">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2325">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2326">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2326">-or-</span></span>

<span data-ttu-id="20fd1-2327"><see langword="Content-type" /> 标头值既不是 <see langword="null" /> 也不是 <see langword="application/x-www-form-urlencoded" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2327">The <see langword="Content-type" /> header value is not <see langword="null" /> and is not <see langword="application/x-www-form-urlencoded" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValuesTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadValuesTaskAsync (string address, string? method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadValuesTaskAsync(string address, string method, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesTaskAsync(System.String,System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValuesTaskAsync (address As String, method As String, data As NameValueCollection) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadValuesTaskAsync(System::String ^ address, System::String ^ method, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesTaskAsync : string * string * System.Collections.Specialized.NameValueCollection -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadValuesTaskAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadValuesTaskAsync (string address, string method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.String" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2328">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2328">The URI of the resource to receive the collection.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2329">用于将集合发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2329">The HTTP method used to send the collection to the resource.</span></span> <span data-ttu-id="20fd1-2330">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2330">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2331">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2331">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2332">使用任务对象将指定的名称/值集合上载到由指定 URI 标识的资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2332">Uploads the specified name/value collection to the resource identified by the specified URI as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2333">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2333">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-2334">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2334">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2335">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2335">This operation will not block.</span></span> <span data-ttu-id="20fd1-2336">在将 <xref:System.Threading.Tasks.Task%601> 名称/值集合上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2336">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the name/value collection has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-2337">名称/值集合使用自动从线程池分配的线程资源异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2337">The name/value collection is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-2338">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2338">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2339">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2339">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2340">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2340">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2341">如果 Content-type 标头为，则 `null` 此方法会将其设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2341">If the Content-type header is `null`, this method sets it to "application/x-www-form-urlencoded".</span></span>

 <span data-ttu-id="20fd1-2342">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2342">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2343">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2343">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2344">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2344">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2345">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2345">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2346">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2346">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2347">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2347">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2348"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2348">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2349">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2349">-or-</span></span>

<span data-ttu-id="20fd1-2350"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2350">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2351">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2351">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2352">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2352">-or-</span></span>

 <span data-ttu-id="20fd1-2353"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2353"><paramref name="method" /> cannot be used to send content.</span></span>

<span data-ttu-id="20fd1-2354">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2354">-or-</span></span>

<span data-ttu-id="20fd1-2355">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2355">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2356">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2356">-or-</span></span>

<span data-ttu-id="20fd1-2357">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2357">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2358">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2358">-or-</span></span>

<span data-ttu-id="20fd1-2359"><see langword="Content-type" /> 标头不是 <see langword="null" /> 或“application/x-www-form-urlencoded”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2359">The <see langword="Content-type" /> header is not <see langword="null" /> or "application/x-www-form-urlencoded".</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UploadValuesTaskAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadValuesTaskAsync (Uri address, string? method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Threading.Tasks.Task`1&lt;unsigned int8[]&gt; UploadValuesTaskAsync(class System.Uri address, string method, class System.Collections.Specialized.NameValueCollection data) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Net.WebClient.UploadValuesTaskAsync(System.Uri,System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Function UploadValuesTaskAsync (address As Uri, method As String, data As NameValueCollection) As Task(Of Byte())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::Task&lt;cli::array &lt;System::Byte&gt; ^&gt; ^ UploadValuesTaskAsync(Uri ^ address, System::String ^ method, System::Collections::Specialized::NameValueCollection ^ data);" />
      <MemberSignature Language="F#" Value="member this.UploadValuesTaskAsync : Uri * string * System.Collections.Specialized.NameValueCollection -&gt; System.Threading.Tasks.Task&lt;byte[]&gt;" Usage="webClient.UploadValuesTaskAsync (address, method, data)" />
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.Task&lt;byte[]&gt; UploadValuesTaskAsync (Uri address, string method, System.Collections.Specialized.NameValueCollection data);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Runtime.InteropServices.ComVisible(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.InteropServices.ComVisible(false)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.Task&lt;System.Byte[]&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="address" Type="System.Uri" Index="0" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="method" Type="System.String" Index="1" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
        <Parameter Name="data" Type="System.Collections.Specialized.NameValueCollection" Index="2" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="address"><span data-ttu-id="20fd1-2360">接收集合的资源的 URI。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2360">The URI of the resource to receive the collection.</span></span></param>
        <param name="method"><span data-ttu-id="20fd1-2361">用于将集合发送到资源的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2361">The HTTP method used to send the collection to the resource.</span></span> <span data-ttu-id="20fd1-2362">如果为 null，则对于 http 默认值为 POST，对于 ftp 默认值为 STOR。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2362">If null, the default is POST for http and STOR for ftp.</span></span></param>
        <param name="data"><span data-ttu-id="20fd1-2363">要发送到资源的 <see cref="T:System.Collections.Specialized.NameValueCollection" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2363">The <see cref="T:System.Collections.Specialized.NameValueCollection" /> to send to the resource.</span></span></param>
        <summary><span data-ttu-id="20fd1-2364">使用任务对象将指定的名称/值集合上载到由指定 URI 标识的资源以作为异步操作。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2364">Uploads the specified name/value collection to the resource identified by the specified URI as an asynchronous operation using a task object.</span></span></summary>
        <returns><span data-ttu-id="20fd1-2365">表示异步操作的任务对象。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2365">The task object representing the asynchronous operation.</span></span> <span data-ttu-id="20fd1-2366">任务对象上的 <see cref="P:System.Threading.Tasks.Task`1.Result" /> 属性将返回包含服务器发送的响应的 <see cref="T:System.Byte" /> 数组。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2366">The <see cref="P:System.Threading.Tasks.Task`1.Result" /> property on the task object returns a <see cref="T:System.Byte" /> array containing the response sent by the server.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2367">此操作不会阻止。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2367">This operation will not block.</span></span> <span data-ttu-id="20fd1-2368">在将 <xref:System.Threading.Tasks.Task%601> 名称/值集合上载到资源后，返回的对象将完成。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2368">The returned <xref:System.Threading.Tasks.Task%601> object will complete after the name/value collection has been uploaded to the resource.</span></span> <span data-ttu-id="20fd1-2369">名称/值集合使用自动从线程池分配的线程资源异步发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2369">The name/value collection is sent asynchronously using thread resources that are automatically allocated from the thread pool.</span></span>

 <span data-ttu-id="20fd1-2370">在 .NET Framework 和 .NET Core 1.0 中，可以通过调用方法取消尚未完成的异步操作 <xref:System.Net.WebClient.CancelAsync%2A> 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2370">In .NET Framework and .NET Core 1.0, you can cancel asynchronous operations that have not completed by calling the <xref:System.Net.WebClient.CancelAsync%2A> method.</span></span>

 <span data-ttu-id="20fd1-2371">如果服务器不理解基础请求，则基础协议类将确定发生的情况。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2371">If the underlying request is not understood by the server, the underlying protocol classes determine what occurs.</span></span> <span data-ttu-id="20fd1-2372">通常， <xref:System.Net.WebException> 引发，并将 <xref:System.Net.WebException.Status%2A> 属性设置为指示错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2372">Typically, a <xref:System.Net.WebException> is thrown with the <xref:System.Net.WebException.Status%2A> property set to indicate the error.</span></span>

 <span data-ttu-id="20fd1-2373">如果 Content-type 标头为，则 `null` 此方法会将其设置为 "application/x-url 编码"。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2373">If the Content-type header is `null`, this method sets it to "application/x-www-form-urlencoded".</span></span>

 <span data-ttu-id="20fd1-2374">如果该 <xref:System.Net.WebClient.BaseAddress%2A> 属性不是空字符串 ( "" ) 并且不 `address` 包含绝对 uri， `address` 则必须是与组合的相对 uri， <xref:System.Net.WebClient.BaseAddress%2A> 才能形成所请求数据的绝对 uri。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2374">If the <xref:System.Net.WebClient.BaseAddress%2A> property is not an empty string ("") and `address` does not contain an absolute URI, `address` must be a relative URI that is combined with <xref:System.Net.WebClient.BaseAddress%2A> to form the absolute URI of the requested data.</span></span> <span data-ttu-id="20fd1-2375">如果该 <xref:System.Net.WebClient.QueryString%2A> 属性不是空字符串，则将其追加到 `address` 。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2375">If the <xref:System.Net.WebClient.QueryString%2A> property is not an empty string, it is appended to `address`.</span></span>

 <span data-ttu-id="20fd1-2376">此方法使用 STOR 命令上传 FTP 资源。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2376">This method uses the STOR command to upload an FTP resource.</span></span> <span data-ttu-id="20fd1-2377">对于 HTTP 资源，使用 POST 方法。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2377">For an HTTP resource, the POST method is used.</span></span>

> [!NOTE]
> <span data-ttu-id="20fd1-2378">当你在应用程序中启用网络跟踪后，此成员将输出跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2378">This member outputs trace information when you enable network tracing in your application.</span></span> <span data-ttu-id="20fd1-2379">有关详细信息，请参阅 [.NET Framework 中的网络跟踪](/dotnet/framework/network-programming/network-tracing)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2379">For more information, see [Network Tracing in .NET Framework](/dotnet/framework/network-programming/network-tracing).</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="20fd1-2380"><paramref name="address" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2380">The <paramref name="address" /> parameter is <see langword="null" />.</span></span>

<span data-ttu-id="20fd1-2381">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2381">-or-</span></span>

<span data-ttu-id="20fd1-2382"><paramref name="data" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2382">The <paramref name="data" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Net.WebException"><span data-ttu-id="20fd1-2383">通过组合 <see cref="P:System.Net.WebClient.BaseAddress" /> 和 <paramref name="address" /> 所构成的 URI 无效。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2383">The URI formed by combining <see cref="P:System.Net.WebClient.BaseAddress" />, and <paramref name="address" /> is invalid.</span></span>

<span data-ttu-id="20fd1-2384">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2384">-or-</span></span>

 <span data-ttu-id="20fd1-2385"><paramref name="method" /> 不能用来发送内容。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2385"><paramref name="method" /> cannot be used to send content.</span></span>

<span data-ttu-id="20fd1-2386">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2386">-or-</span></span>

<span data-ttu-id="20fd1-2387">承载资源的服务器没有响应。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2387">There was no response from the server hosting the resource.</span></span>

<span data-ttu-id="20fd1-2388">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2388">-or-</span></span>

<span data-ttu-id="20fd1-2389">打开流时发生错误。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2389">An error occurred while opening the stream.</span></span>

<span data-ttu-id="20fd1-2390">- 或 -</span><span class="sxs-lookup"><span data-stu-id="20fd1-2390">-or-</span></span>

<span data-ttu-id="20fd1-2391"><see langword="Content-type" /> 标头不是 <see langword="null" /> 或“application/x-www-form-urlencoded”。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2391">The <see langword="Content-type" /> header is not <see langword="null" /> or "application/x-www-form-urlencoded".</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="UseDefaultCredentials">
      <MemberSignature Language="C#" Value="public bool UseDefaultCredentials { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool UseDefaultCredentials" />
      <MemberSignature Language="DocId" Value="P:System.Net.WebClient.UseDefaultCredentials" />
      <MemberSignature Language="VB.NET" Value="Public Property UseDefaultCredentials As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool UseDefaultCredentials { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.UseDefaultCredentials : bool with get, set" Usage="System.Net.WebClient.UseDefaultCredentials" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-2392">获取或设置 <see cref="T:System.Boolean" /> 值，该值控制 <see cref="P:System.Net.CredentialCache.DefaultCredentials" /> 是否随请求一起发送。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2392">Gets or sets a <see cref="T:System.Boolean" /> value that controls whether the <see cref="P:System.Net.CredentialCache.DefaultCredentials" /> are sent with requests.</span></span></summary>
        <value><span data-ttu-id="20fd1-2393">如果使用默认凭据，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2393"><see langword="true" /> if the default credentials are used; otherwise <see langword="false" />.</span></span> <span data-ttu-id="20fd1-2394">默认值是 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2394">The default value is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2395">`true`如果此对象发出的请求 <xref:System.Net.WebClient> 应在服务器请求时使用当前登录用户的默认凭据进行身份验证，请将此属性设置为。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2395">Set this property to `true` when requests made by this <xref:System.Net.WebClient> object should, if requested by the server, be authenticated using the default credentials of the currently logged on user.</span></span> <span data-ttu-id="20fd1-2396">对于客户端应用程序，这在大多数情况下都是所需的行为。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2396">For client applications, this is the desired behavior in most scenarios.</span></span> <span data-ttu-id="20fd1-2397">对于中间层应用程序（如 ASP.NET 应用程序），通常应将 <xref:System.Net.WebClient.Credentials%2A> 属性设置为代表其发出请求的客户端的凭据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2397">For middle tier applications, such as ASP.NET applications, instead of using this property, you would typically set the <xref:System.Net.WebClient.Credentials%2A> property to the credentials of the client on whose behalf the request is made.</span></span>



## Examples
 <span data-ttu-id="20fd1-2398">下面的代码示例演示如何设置此属性。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2398">The following code example demonstrates setting this property.</span></span>

 [!code-cpp[NCLWebClientAsync#3](~/samples/snippets/cpp/VS_Snippets_Remoting/NCLWebClientAsync/CPP/asyncmethods.cpp#3)]
 [!code-csharp[NCLWebClientAsync#3](~/samples/snippets/csharp/VS_Snippets_Remoting/NCLWebClientAsync/CS/asyncmethods.cs#3)]
 [!code-vb[NCLWebClientAsync#3](~/samples/snippets/visualbasic/VS_Snippets_Remoting/NCLWebClientAsync/VB/asyncmethods.vb#3)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="WriteStreamClosed">
      <MemberSignature Language="C#" Value="public event System.Net.WriteStreamClosedEventHandler? WriteStreamClosed;" FrameworkAlternate="net-5.0" />
      <MemberSignature Language="ILAsm" Value=".event class System.Net.WriteStreamClosedEventHandler WriteStreamClosed" />
      <MemberSignature Language="DocId" Value="E:System.Net.WebClient.WriteStreamClosed" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WriteStreamClosed As WriteStreamClosedEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Net::WriteStreamClosedEventHandler ^ WriteStreamClosed;" />
      <MemberSignature Language="F#" Value="member this.WriteStreamClosed : System.Net.WriteStreamClosedEventHandler " Usage="member this.WriteStreamClosed : System.Net.WriteStreamClosedEventHandler " />
      <MemberSignature Language="C#" Value="public event System.Net.WriteStreamClosedEventHandler WriteStreamClosed;" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net.WebClient</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Net</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName Language="C#">[System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Obsolete("This API supports the .NET Framework infrastructure and is not intended to be used directly from your code.", true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Net.WriteStreamClosedEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="20fd1-2399">在使用写入流将数据写入资源的异步操作结束时发生。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2399">Occurs when an asynchronous operation to write data to a resource using a write stream is closed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="20fd1-2400">当使用写入流将数据写入资源的异步操作关闭时，将引发此事件。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2400">This event is raised each time an asynchronous operation used to write data to a resource using a write stream is closed.</span></span> <span data-ttu-id="20fd1-2401">这些操作通过调用 <xref:System.Net.WebClient.OpenWriteTaskAsync%2A> 方法得到。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2401">These operations result from calls to the <xref:System.Net.WebClient.OpenWriteTaskAsync%2A> methods.</span></span>

 <span data-ttu-id="20fd1-2402"><xref:System.Net.WriteStreamClosedEventHandler>是此事件的委托。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2402">The <xref:System.Net.WriteStreamClosedEventHandler> is the delegate for this event.</span></span> <span data-ttu-id="20fd1-2403"><xref:System.Net.WriteStreamClosedEventArgs>类向事件处理程序提供事件数据。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2403">The <xref:System.Net.WriteStreamClosedEventArgs> class provides the event handler with event data.</span></span>

 <span data-ttu-id="20fd1-2404">有关如何处理事件的详细信息，请参阅 [处理和引发事件](/dotnet/standard/events/)。</span><span class="sxs-lookup"><span data-stu-id="20fd1-2404">For more information about how to handle events, see [Handling and Raising Events](/dotnet/standard/events/).</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>

<Type Name="CatalogZone" FullName="System.Web.UI.WebControls.WebParts.CatalogZone">
  <Metadata><Meta Name="ms.openlocfilehash" Value="a45dbe5674b006e6ff295440a6e2e9edbe7544c2" /><Meta Name="ms.sourcegitcommit" Value="c982ad9e10a242d90f1e631b5981570f9e5d9f34" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="09/10/2020" /><Meta Name="ms.locfileid" Value="89964518" /></Metadata><TypeSignature Language="C#" Value="public class CatalogZone : System.Web.UI.WebControls.WebParts.CatalogZoneBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit CatalogZone extends System.Web.UI.WebControls.WebParts.CatalogZoneBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.CatalogZone" />
  <TypeSignature Language="VB.NET" Value="Public Class CatalogZone&#xA;Inherits CatalogZoneBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class CatalogZone : System::Web::UI::WebControls::WebParts::CatalogZoneBase" />
  <TypeSignature Language="F#" Value="type CatalogZone = class&#xA;    inherit CatalogZoneBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.WebControls.WebParts.CatalogZoneBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
      <AttributeName Language="C#">[System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.CatalogZoneDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.CatalogZoneDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")&gt;]</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName Language="C#">[System.Web.UI.SupportsEventValidation]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Web.UI.SupportsEventValidation&gt;]</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName Language="C#">[System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.CatalogZoneDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.CatalogZoneDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="162d4-101">用作 Web 部件控件集内的主控件，用于在网页中承载 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-101">Serves as the primary control in the Web Parts control set for hosting <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> controls on a Web page.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="162d4-102">在 Web 部件控件集内，区域是包含 Web 部件控件的网页上的一个区域。</span><span class="sxs-lookup"><span data-stu-id="162d4-102">Within the Web Parts control set, a zone is a region on a Web page that contains Web Parts controls.</span></span> <span data-ttu-id="162d4-103">Web 部件区域是通过区域控件创建的，它是一种 <xref:System.Web.UI.WebControls.CompositeControl> 用于包含其他控件的类型。</span><span class="sxs-lookup"><span data-stu-id="162d4-103">A Web Parts zone is created by a zone control, which is a type of <xref:System.Web.UI.WebControls.CompositeControl> designed to contain other controls.</span></span> <span data-ttu-id="162d4-104">区域的主要功能是布局其包含的控件，并为这些控件提供 (UI) 的通用用户界面。</span><span class="sxs-lookup"><span data-stu-id="162d4-104">The primary functions of a zone are to lay out the controls it contains, and to provide a common user interface (UI) for those controls.</span></span> <span data-ttu-id="162d4-105">有关区域及其在 Web 部件应用程序中的使用方式的一般信息，请参阅基类 <xref:System.Web.UI.WebControls.WebParts.WebZone> 和 [Web 部件控制集概述](https://docs.microsoft.com/previous-versions/aspnet/k3w2y2tf(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="162d4-105">For general information about zones and how they are used in Web Parts applications, see the base <xref:System.Web.UI.WebControls.WebParts.WebZone> class, and [Web Parts Control Set Overview](https://docs.microsoft.com/previous-versions/aspnet/k3w2y2tf(v=vs.100)).</span></span>  
  
 <span data-ttu-id="162d4-106">Web 部件控件的一项重要功能是，它们允许最终用户根据自己的喜好修改 (或个性化) 网页，并保存其个性化设置以供将来的浏览器会话使用。</span><span class="sxs-lookup"><span data-stu-id="162d4-106">A key feature of Web Parts controls is that they allow end users to modify (or personalize) Web pages according to their preferences, and save their personalized settings for future browser sessions.</span></span> <span data-ttu-id="162d4-107">修改 Web 部件页面的一个方面包括将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件或其他服务器控件添加到 Web 部件页的功能。</span><span class="sxs-lookup"><span data-stu-id="162d4-107">One aspect of modifying Web Parts pages includes the ability to add <xref:System.Web.UI.WebControls.WebParts.WebPart> controls or other server controls to a Web Parts page.</span></span> <span data-ttu-id="162d4-108"><xref:System.Web.UI.WebControls.WebParts.CatalogZone>控件提供用户可添加到页面的控件列表或目录。</span><span class="sxs-lookup"><span data-stu-id="162d4-108">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control provides a list or catalog of controls that users can add to a page.</span></span>  
  
 <span data-ttu-id="162d4-109"><xref:System.Web.UI.WebControls.WebParts.CatalogZone>控件是 Web 部件控件集中的一项基本控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-109">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control is one of the fundamental controls in the Web Parts control set.</span></span> <span data-ttu-id="162d4-110">它派生自 <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase> 类，并且它的大多数行为都继承自该类。</span><span class="sxs-lookup"><span data-stu-id="162d4-110">It derives from the <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase> class, and most of its behavior is inherited from that class.</span></span> <span data-ttu-id="162d4-111"><xref:System.Web.UI.WebControls.WebParts.CatalogZone>类实质上是将区域模板添加到基类，后者是接口的实现 <xref:System.Web.UI.ITemplate> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-111">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class essentially adds to the base class a zone template, which is an implementation of the <xref:System.Web.UI.ITemplate> interface.</span></span> <span data-ttu-id="162d4-112">区域模板使开发人员能够以声明方式将 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件添加到页持久性格式的区域中。</span><span class="sxs-lookup"><span data-stu-id="162d4-112">The zone template enables developers to declaratively add <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls to a zone in the page persistence format.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="162d4-113"><xref:System.Web.UI.WebControls.WebParts.CatalogZone>区域只能包含 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件，相反， <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件只能驻留在派生自类的区域中 <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase> ，例如 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-113">A <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone can contain only <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls, and conversely, <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls can reside only in zones that derive from the <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase> class, such as <xref:System.Web.UI.WebControls.WebParts.CatalogZone>.</span></span>  
  
 <span data-ttu-id="162d4-114"><xref:System.Web.UI.WebControls.WebParts.CatalogZone>仅当用户将网页切换到目录显示模式 () 时，控件才变为可见 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-114">A <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control becomes visible only when a user switches a Web page to catalog display mode (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode>).</span></span> <span data-ttu-id="162d4-115">目录可以包含多个控件类型 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-115">A catalog can contain several types of <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls.</span></span> <span data-ttu-id="162d4-116">每个 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件都是一个容器类型，包含用户可添加到页面中的服务器控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-116">Each <xref:System.Web.UI.WebControls.WebParts.CatalogPart> control is a type of container that contains the server controls users can add to the page.</span></span> <span data-ttu-id="162d4-117"><xref:System.Web.UI.WebControls.WebParts.CatalogPart>控件的不同之处在于它们所包含的服务器控件的来源。</span><span class="sxs-lookup"><span data-stu-id="162d4-117">The <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls differ according to where the server controls they contain are coming from.</span></span> <span data-ttu-id="162d4-118">下表汇总了 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 随 Web 部件控件集提供的控件，以及每个控件所包含的服务器控件的类型。</span><span class="sxs-lookup"><span data-stu-id="162d4-118">The following table summarizes the <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls provided with the Web Parts control set and, for each control, what kind of server controls it contains.</span></span>  
  
|<span data-ttu-id="162d4-119">控制</span><span class="sxs-lookup"><span data-stu-id="162d4-119">Control</span></span>|<span data-ttu-id="162d4-120">说明</span><span class="sxs-lookup"><span data-stu-id="162d4-120">Description</span></span>|  
|-------------|-----------------|  
|<xref:System.Web.UI.WebControls.WebParts.PageCatalogPart>|<span data-ttu-id="162d4-121">维护对页面上已关闭的控件的引用。</span><span class="sxs-lookup"><span data-stu-id="162d4-121">Maintains references to controls that have been closed on a page.</span></span> <span data-ttu-id="162d4-122">您可以重新打开这些控件， (添加回用户) 的页面。</span><span class="sxs-lookup"><span data-stu-id="162d4-122">These controls can be reopened (added back to the page) by users.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.DeclarativeCatalogPart>|<span data-ttu-id="162d4-123">包含对在网页的标记中的 Web 部件目录中声明的控件的引用。</span><span class="sxs-lookup"><span data-stu-id="162d4-123">Contains references to controls that are declared in a Web Parts catalog in the markup of a Web page.</span></span> <span data-ttu-id="162d4-124">用户可以将这些控件添加到网页。</span><span class="sxs-lookup"><span data-stu-id="162d4-124">These controls can be added to a Web page by users.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart>|<span data-ttu-id="162d4-125">为用户提供 UI，以将定义文件 (的 XML 文件上传到。WebPart 扩展和一个指定的格式，其中包含对某个目录的控件) 的状态信息，以便可以将该控件添加到网页中。</span><span class="sxs-lookup"><span data-stu-id="162d4-125">Provides the UI for a user to upload a definition file (an XML file with a .WebPart extension and a specified format that contains state information) for a control to a catalog, so that the control can be added to a Web page.</span></span>|  
  
 <span data-ttu-id="162d4-126">因为 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 类只会将一个区域模板添加到其基类的行为中，所以它有很少的成员。</span><span class="sxs-lookup"><span data-stu-id="162d4-126">Because the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class adds only a zone template to the behavior of its base class, it has few members.</span></span> <span data-ttu-id="162d4-127"><xref:System.Web.UI.WebControls.WebParts.CatalogZone.%23ctor%2A>构造函数是一个无参数的构造函数; 使用该构造函数可以初始化类的新实例 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-127">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone.%23ctor%2A> constructor is a parameterless constructor; with it, you can initialize a new instance of the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class.</span></span> <span data-ttu-id="162d4-128"><xref:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate%2A>属性获取或设置对 <xref:System.Web.UI.ITemplate> 包含区域控件的对象的引用。</span><span class="sxs-lookup"><span data-stu-id="162d4-128">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate%2A> property gets or sets a reference to the <xref:System.Web.UI.ITemplate> object that contains the controls for the zone.</span></span> <span data-ttu-id="162d4-129"><xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A>方法非常重要。</span><span class="sxs-lookup"><span data-stu-id="162d4-129">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> method is critical.</span></span> <span data-ttu-id="162d4-130">它重写基方法，以创建 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 区域模板中包含的所有控件的集合。</span><span class="sxs-lookup"><span data-stu-id="162d4-130">It overrides the base method to create the collection of all <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls contained within the zone template.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="162d4-131">UI 中的按钮 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 需要客户端脚本才能正常工作。</span><span class="sxs-lookup"><span data-stu-id="162d4-131">The buttons in the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> UI require client-side scripting in order to work correctly.</span></span> <span data-ttu-id="162d4-132">如果在浏览器中禁用了脚本，则用户将无法通过 UI 执行操作 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-132">If scripting is disabled in the browser, the user will not be able to perform actions through the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> UI.</span></span>  
  
## <a name="accessibility"></a><span data-ttu-id="162d4-133">可访问性</span><span class="sxs-lookup"><span data-stu-id="162d4-133">Accessibility</span></span>  
 <span data-ttu-id="162d4-134">默认情况下，为此控件呈现的标记可能不符合辅助功能标准，例如 Web 内容可访问性准则 1.0 (WCAG) 优先级1指导原则。</span><span class="sxs-lookup"><span data-stu-id="162d4-134">The markup rendered by default for this control might not conform to accessibility standards such as the Web Content Accessibility Guidelines 1.0 (WCAG) priority 1 guidelines.</span></span> <span data-ttu-id="162d4-135">有关此控件的辅助功能支持的详细信息，请参阅 [ASP.NET 控件和辅助功能](https://docs.microsoft.com/previous-versions/ms227996(v=vs.140))。</span><span class="sxs-lookup"><span data-stu-id="162d4-135">For details about accessibility support for this control, see [ASP.NET Controls and Accessibility](https://docs.microsoft.com/previous-versions/ms227996(v=vs.140)).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="162d4-136">下面的代码示例演示如何以声明方式和编程方式使用 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-136">The following code example demonstrates declarative and programmatic use of the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control.</span></span> <span data-ttu-id="162d4-137">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="162d4-137">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="162d4-138">使您能够更改网页上的显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-138">A user control that enables you to change display modes on the Web page.</span></span>  
  
-   <span data-ttu-id="162d4-139">一个文件，其中包含自定义控件的源代码 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> ，以及 <xref:System.Web.UI.WebControls.WebParts.WebPart> 由目录导入并添加到网页中的自定义控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-139">A file with the source code for a custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control, and a custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control that is imported by the catalog and added to the Web page.</span></span>  
  
-   <span data-ttu-id="162d4-140">声明用户控件和自定义控件的网页 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-140">A Web page that declares the user control, and the custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control.</span></span>  
  
-   <span data-ttu-id="162d4-141">有关如何运行该示例的说明。</span><span class="sxs-lookup"><span data-stu-id="162d4-141">An explanation of how to run the example.</span></span>  
  
 <span data-ttu-id="162d4-142">此代码示例的第一部分是用户控件，该控件使用户能够更改网页上的显示模式。</span><span class="sxs-lookup"><span data-stu-id="162d4-142">The first part of this code example is the user control that enables users to change display modes on a Web page.</span></span> <span data-ttu-id="162d4-143">有关显示模式的详细信息以及此控件中源代码的说明，请参阅 [演练：在 Web 部件页上更改显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="162d4-143">For details about display modes and a description of the source code in this control, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 [!code-aspx-csharp[WebParts_CatalogZone_Overview#7](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/CS/displaymodemenucs.ascx#7)]
 [!code-aspx-vb[WebParts_CatalogZone_Overview#7](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/VB/displaymodemenuvb.ascx#7)]  
  
 <span data-ttu-id="162d4-144">此代码示例的第二部分包含自定义 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 控件和控件的代码 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-144">The second part of the code example contains the code for the custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> and <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="162d4-145">控件的代码 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 演示如何从 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 类继承并通过在构造函数中设置某些默认属性值来自定义其属性。</span><span class="sxs-lookup"><span data-stu-id="162d4-145">The code for the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control demonstrates how to inherit from the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class and customize its properties by setting some default property values in the constructor.</span></span> <span data-ttu-id="162d4-146">源代码还演示了如何创建名为的自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 类 `TextDisplayWebPart` 。</span><span class="sxs-lookup"><span data-stu-id="162d4-146">The source code also demonstrates how to create a custom <xref:System.Web.UI.WebControls.WebParts.WebPart> class named `TextDisplayWebPart`.</span></span> <span data-ttu-id="162d4-147">这是与关联的控件。将作为此代码示例的一部分导入的 WebPart 说明文件。</span><span class="sxs-lookup"><span data-stu-id="162d4-147">This is the control associated with the .WebPart description file that you will import as part of this code example.</span></span> <span data-ttu-id="162d4-148">使用网页上的控件导入说明文件后 <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> ，可以将该 `TextDisplayWebPart` 控件添加到页面，并在说明文件中指定完全预配置。</span><span class="sxs-lookup"><span data-stu-id="162d4-148">After you import the description file by using the <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> control on the Web page, you'll be able to add the `TextDisplayWebPart` control to the page, fully pre-configured as specified in the description file.</span></span>  
  
 <span data-ttu-id="162d4-149">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="162d4-149">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="162d4-150">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="162d4-150">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="162d4-151">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="162d4-151">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="162d4-152">此代码示例使用动态编译，因此，如果要以这种方式运行此示例，请将源代码文件命名为，并将其添加到 Web 应用程序根目录的 App_Code 子文件夹中。</span><span class="sxs-lookup"><span data-stu-id="162d4-152">This code example uses dynamic compilation, so if you want to run the example this way, name the source code file and add it to an App_Code subfolder of your Web application's root directory.</span></span> <span data-ttu-id="162d4-153">有关演示两种编译方法的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="162d4-153">For a walkthrough that demonstrates both methods of compiling, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_CatalogZone_Overview#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/CS/catalogSamples.cs#1)]
 [!code-vb[WebParts_CatalogZone_Overview#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/VB/catalogSamples.vb#1)]  
  
 <span data-ttu-id="162d4-154">此代码示例的第三部分是包含控件的网页。</span><span class="sxs-lookup"><span data-stu-id="162d4-154">The third part of the code example is the Web page that contains the controls.</span></span> <span data-ttu-id="162d4-155">它包含 `Register` 用户控件的指令，以及带有自定义控件的源文件的指令。</span><span class="sxs-lookup"><span data-stu-id="162d4-155">It contains a `Register` directive for the user control, and another for the source file with the custom controls.</span></span> <span data-ttu-id="162d4-156">请注意，在第二个指令中，它不会命名程序集，因为该示例不使用程序集，因此它使用动态编译，并将源代码放在 App_Code 子文件夹中。</span><span class="sxs-lookup"><span data-stu-id="162d4-156">Note that in the second directive, it does not name the assembly, because the example does not use an assembly, it uses dynamic compilation with the source code placed in the App_Code subfolder.</span></span> <span data-ttu-id="162d4-157">网页声明一个 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 控件，并在其子元素中 `<zonetemplate>` 声明一个 <xref:System.Web.UI.WebControls.BulletedList> 控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-157">The Web page declares a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control, and within its child `<zonetemplate>` element, it declares a <xref:System.Web.UI.WebControls.BulletedList> control.</span></span> <span data-ttu-id="162d4-158">虽然这是标准的 ASP.NET 控件，但在运行时它将具有完全 Web 部件功能，因为该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件包装与对象一起放置在中的任何服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> ，以便其他服务器控件可以参与 Web 部件应用程序。</span><span class="sxs-lookup"><span data-stu-id="162d4-158">While this is a standard ASP.NET control, it will have full Web Parts functionality at run time, because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control wraps any server control placed in a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object, so that other server controls can participate in Web Parts applications.</span></span> <span data-ttu-id="162d4-159">还在此区域中声明为自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件 `TextDisplayWebPart` 。</span><span class="sxs-lookup"><span data-stu-id="162d4-159">Also declared in this zone is the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control named `TextDisplayWebPart`.</span></span> <span data-ttu-id="162d4-160">请注意，此控件有一个 `ExportMode="All"` 在其上声明的属性。</span><span class="sxs-lookup"><span data-stu-id="162d4-160">Notice that this control has an attribute of `ExportMode="All"` declared on it.</span></span> <span data-ttu-id="162d4-161">这使你能够导出。WebPart 说明文件，其中包含控件的属性值，其他用户可以导入该文件以将预配置控件添加到其他网页。</span><span class="sxs-lookup"><span data-stu-id="162d4-161">This enables you to export a .WebPart description file that contains the property values of the control, which can be imported by other users to add the pre-configured control to other Web pages.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="162d4-162">若要允许 Web 部件应用程序的用户导出控件的说明文件 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，还必须在 Web 应用程序中启用导出功能，方法 `enableExport="true"` 是将属性添加到元素中， `<webParts>` (该元素是 `<system.web>` Web.config 文件中) 元素的子元素。</span><span class="sxs-lookup"><span data-stu-id="162d4-162">To enable users of a Web Parts application to export a description file for <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, you must also enable the export feature in the Web application by adding an `enableExport="true"` attribute to the `<webParts>` element (which is a child of the `<system.web>` element) in the Web.config file.</span></span> <span data-ttu-id="162d4-163">默认情况下，导出处于禁用状态，因此，如果尚未对应用程序启用导出功能，请编辑 Web.config 文件并立即执行此操作。</span><span class="sxs-lookup"><span data-stu-id="162d4-163">Export is disabled by default, so if you not yet enabled export for your application, edit the Web.config file and do it now.</span></span>  
  
 <span data-ttu-id="162d4-164">该网页还声明自定义 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 控件，并在其中声明一个 `<zonetemplate>` 包含控件的元素 <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-164">The Web page also declares the custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control and, within it, a `<zonetemplate>` element that contains an <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> control.</span></span> <span data-ttu-id="162d4-165">用户将在运行时使用此控件导入。自定义控件的 WebPart 说明文件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-165">The user will use this control at run time to import the .WebPart description file for the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span>  
  
 [!code-aspx-csharp[WebParts_CatalogZone_Overview#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/CS/catalogzonecs.aspx#2)]
 [!code-aspx-vb[WebParts_CatalogZone_Overview#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/VB/catalogzonevb.aspx#2)]  
  
 <span data-ttu-id="162d4-166">现在运行代码示例。</span><span class="sxs-lookup"><span data-stu-id="162d4-166">Now run the code example.</span></span> <span data-ttu-id="162d4-167">在浏览器中加载网页。</span><span class="sxs-lookup"><span data-stu-id="162d4-167">Load the Web page in a browser.</span></span> <span data-ttu-id="162d4-168">第一步是导出。控件的 WebPart 说明文件 `TextDisplayWebPart` 。</span><span class="sxs-lookup"><span data-stu-id="162d4-168">The first step is to export a .WebPart description file for the `TextDisplayWebPart` control.</span></span> <span data-ttu-id="162d4-169">单击自定义控件上的谓词菜单 (由标题栏中的向下箭头) ，然后单击 " **导出**"。</span><span class="sxs-lookup"><span data-stu-id="162d4-169">Click the verbs menu on the custom control (represented by the downward arrow in the title bar), and click **Export**.</span></span> <span data-ttu-id="162d4-170">按照说明保存控件的描述文件。</span><span class="sxs-lookup"><span data-stu-id="162d4-170">Follow the instructions to save a description file for the control.</span></span> <span data-ttu-id="162d4-171">打开。Web 部件说明文件在编辑器中进行编辑，并编辑 "标题" 属性文本的值。</span><span class="sxs-lookup"><span data-stu-id="162d4-171">Open the .WebPart description file in an editor, and edit the value of the title property text.</span></span> <span data-ttu-id="162d4-172">查找 `<property>` 具有属性的元素 `name="Title"` ，然后编辑在开始标记和结束标记之间包含的标题文本 `<property>` 。</span><span class="sxs-lookup"><span data-stu-id="162d4-172">Find the `<property>` element that has the attribute `name="Title"`, and edit the title text that is contained between the opening and closing `<property>` tags.</span></span> <span data-ttu-id="162d4-173">现在关闭网页，并在编辑器中编辑页面源。</span><span class="sxs-lookup"><span data-stu-id="162d4-173">Now close the Web page, and edit the page source in an editor.</span></span> <span data-ttu-id="162d4-174">删除 `<aspSample:TextDisplayWebPart>` 控件声明元素，然后保存并关闭该文件。</span><span class="sxs-lookup"><span data-stu-id="162d4-174">Delete the `<aspSample:TextDisplayWebPart>` control declaration element, then save and close the file.</span></span>  
  
 <span data-ttu-id="162d4-175">再次在浏览器中加载网页。</span><span class="sxs-lookup"><span data-stu-id="162d4-175">Load the Web page again in a browser.</span></span> <span data-ttu-id="162d4-176">`TextDisplayWebPart`控件不应出现，因为已将其删除。</span><span class="sxs-lookup"><span data-stu-id="162d4-176">The `TextDisplayWebPart` control should not appear, because you removed it.</span></span> <span data-ttu-id="162d4-177">使用 " **显示模式** " 下拉列表控件并选择 " **目录** "，将页面切换到目录模式。</span><span class="sxs-lookup"><span data-stu-id="162d4-177">Use the **Display Mode** drop-down list control and select **Catalog** to switch the page to catalog mode.</span></span> <span data-ttu-id="162d4-178">请注意，自定义 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 控件与控件一起显示 <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-178">Notice that the custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control appears, along with the <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> control.</span></span> <span data-ttu-id="162d4-179">单击 " **浏览** " 按钮查找。为控件导出的 WebPart 说明文件 `TextDisplayWebPart` 。</span><span class="sxs-lookup"><span data-stu-id="162d4-179">Click the **Browse** button to locate the .WebPart description file that you exported for the `TextDisplayWebPart` control.</span></span> <span data-ttu-id="162d4-180">您可以单击 " **上载**"，选中导入的控件旁边的复选框，然后单击 " **添加** " 将其添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="162d4-180">You can click **Upload**, select the check box next to the imported control, and click **Add** to add it to the page.</span></span> <span data-ttu-id="162d4-181">单击 " **关闭目录** " 将页面恢复到正常浏览模式。</span><span class="sxs-lookup"><span data-stu-id="162d4-181">Click **Close Catalog** to return the page to normal browse mode.</span></span> <span data-ttu-id="162d4-182">导入的控件现在应显示在页面中，并且在控件的标题栏中显示的标题应该是添加到中的标题文本。WebPart 说明文件。</span><span class="sxs-lookup"><span data-stu-id="162d4-182">The imported control should now appear in the page, and the title that appears in the title bar of the control should be the title text you added to the .WebPart description file.</span></span>  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="162d4-183"><see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" />如果希望更好地控制目录 UI 的呈现和行为，则可以创建自定义类。</span><span class="sxs-lookup"><span data-stu-id="162d4-183">You can create custom <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> classes if you want more control over the rendering and behavior of the catalog UI.</span></span> <span data-ttu-id="162d4-184">如果不需要为控件的用户提供以 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 声明方式添加控件的功能，则可以直接从 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZoneBase" /> 类继承。</span><span class="sxs-lookup"><span data-stu-id="162d4-184">If you do not need to provide users of your control with the ability to add <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> controls declaratively, then you can inherit directly from the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZoneBase" /> class.</span></span> <span data-ttu-id="162d4-185">如果确实要启用以声明方式添加的控件，simples 方法是从 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> 类继承，因为它提供了基本区域模板。</span><span class="sxs-lookup"><span data-stu-id="162d4-185">If you do want to enable controls to be added declaratively, the simples approach is to inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> class, because it provides the essential zone template.</span></span>  
  
<span data-ttu-id="162d4-186">如果从 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> 类继承，则可以重写方法， <see cref="M:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts" /> 并使用方法将自定义控件添加 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 到 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPartCollection" /> ，前提是需要更大的编程控制将自定义 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 控件添加到区域。</span><span class="sxs-lookup"><span data-stu-id="162d4-186">If you inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> class, you can override the <see cref="M:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts" /> method and use the method to add custom <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> controls to a <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPartCollection" />, if you want greater programmatic control over adding custom <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> controls to your zone.</span></span></para></block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/k3w2y2tf(v=vs.100)"><span data-ttu-id="162d4-187">Web 部件控制集概述</span><span class="sxs-lookup"><span data-stu-id="162d4-187">Web Parts Control Set Overview</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)"><span data-ttu-id="162d4-188">Web 部件个性化概述</span><span class="sxs-lookup"><span data-stu-id="162d4-188">Web Parts Personalization Overview</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="162d4-189">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="162d4-189">ASP.NET Web Parts Controls</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public CatalogZone ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.CatalogZone.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; CatalogZone();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="162d4-190">初始化 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="162d4-190">Initializes a new instance of the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="162d4-191">由于 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 控件实现了区域模板，因此通常以声明方式使用它，您几乎不需要使用构造函数创建类的新实例 <xref:System.Web.UI.WebControls.WebParts.CatalogZone.%23ctor%2A> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-191">Because the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control implements a zone template, it is usually used declaratively and you will seldom need to create a new instance of the class using the <xref:System.Web.UI.WebControls.WebParts.CatalogZone.%23ctor%2A> constructor.</span></span> <span data-ttu-id="162d4-192">但是，如果从 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 类继承以创建自定义区域，你可能希望使用构造函数来初始化其某些属性值并自定义其外观。</span><span class="sxs-lookup"><span data-stu-id="162d4-192">However, if you inherit from the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class to create a custom zone, you might wish to use the constructor to initialize some of its property values and customize its appearance.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="162d4-193">下面的代码示例演示如何 <xref:System.Web.UI.WebControls.WebParts.CatalogZone.%23ctor%2A> 在自定义控件中使用构造函数 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-193">The following code example demonstrates the programmatic use of the <xref:System.Web.UI.WebControls.WebParts.CatalogZone.%23ctor%2A> constructor in a custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control.</span></span> <span data-ttu-id="162d4-194">构造函数用于初始化控件的某些默认属性值。</span><span class="sxs-lookup"><span data-stu-id="162d4-194">The constructor is used to initialize some default property values for the control.</span></span> <span data-ttu-id="162d4-195">下面的代码演示了 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 具有在顶部附近声明的构造函数的自定义类。</span><span class="sxs-lookup"><span data-stu-id="162d4-195">The following code shows the custom <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class with the constructor declared near the top.</span></span> <span data-ttu-id="162d4-196">有关设置和运行示例所需的完整代码和说明，请参阅类概述中的 "示例" 部分 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-196">For the full code and instructions required to set up and run the example, see the Example section in the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class overview.</span></span>  
  
 [!code-csharp[WebParts_CatalogZone_Overview#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/CS/catalogSamples.cs#1)]
 [!code-vb[WebParts_CatalogZone_Overview#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_CatalogZone_Overview/VB/catalogSamples.vb#1)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="162d4-197">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="162d4-197">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateCatalogParts">
      <MemberSignature Language="C#" Value="protected override System.Web.UI.WebControls.WebParts.CatalogPartCollection CreateCatalogParts ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance class System.Web.UI.WebControls.WebParts.CatalogPartCollection CreateCatalogParts() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Function CreateCatalogParts () As CatalogPartCollection" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override System::Web::UI::WebControls::WebParts::CatalogPartCollection ^ CreateCatalogParts();" />
      <MemberSignature Language="F#" Value="override this.CreateCatalogParts : unit -&gt; System.Web.UI.WebControls.WebParts.CatalogPartCollection" Usage="catalogZone.CreateCatalogParts " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.CatalogPartCollection</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="162d4-198">创建区域中声明的每个 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 类型的实例。</span><span class="sxs-lookup"><span data-stu-id="162d4-198">Creates an instance of each <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> type that is declared in the zone.</span></span></summary>
        <returns><span data-ttu-id="162d4-199">一个 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPartCollection" />，引用区域中所有的 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-199">A <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPartCollection" /> with references to all the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> controls in the zone.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="162d4-200"><xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A>此方法是一种关键方法，因为当用户将页面切换到目录显示模式时，此方法将创建 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 组成 Web 部件目录的所有控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-200">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> method is a critical method because when a user switches a page to catalog display mode, this method creates all the <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls that make up the Web Parts catalog.</span></span>  
  
 <span data-ttu-id="162d4-201"><xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 与 Web 部件控件集一起提供的类中的方法可创建从类继承的任何服务器控件 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-201">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> method in the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class provided with the Web Parts control set can create any server control that inherits from the <xref:System.Web.UI.WebControls.WebParts.CatalogPart> class.</span></span> <span data-ttu-id="162d4-202">因此，如果您创建一个自定义 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件并在控件内的某个页面上将其声明 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> ，则当用户将该页面切换到目录模式时，此方法将创建您的控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-202">So, if you create a custom <xref:System.Web.UI.WebControls.WebParts.CatalogPart> control and declare it on a page within a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control, this method will create your control when a user switches the page to catalog mode.</span></span>  
  
 <span data-ttu-id="162d4-203">然而，出于各种原因，你可能需要控制 <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="162d4-203">However, for various reasons you might want control over the <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> method.</span></span> <span data-ttu-id="162d4-204">你可能希望它仅创建某些 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-204">You might want it to create only certain <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls.</span></span> <span data-ttu-id="162d4-205">例如，假设您创建一组自定义 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件，这些控件具有一致的外观，并且属于单个产品或组织。</span><span class="sxs-lookup"><span data-stu-id="162d4-205">For example, suppose you create a set of custom <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls that have a consistent appearance and belong to a single product or organization.</span></span> <span data-ttu-id="162d4-206">如果希望页开发人员限制为在目录中使用这些自定义控件，则应从 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 类继承，重写 <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> 方法，并允许方法仅创建与自定义控件具有相同类型的控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-206">If you want page developers to be limited to using those custom controls in a catalog, then you should inherit from the <xref:System.Web.UI.WebControls.WebParts.CatalogZone> class, override the <xref:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts%2A> method, and allow the method to create only controls of the same type as your custom controls.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="162d4-207">当前的 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 控件没有 ID。</span><span class="sxs-lookup"><span data-stu-id="162d4-207">The current <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> control does not have an ID.</span></span></exception>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.CatalogZoneBase.CreateCatalogParts" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="162d4-208">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="162d4-208">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ZoneTemplate">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.ITemplate ZoneTemplate { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.ITemplate ZoneTemplate" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property ZoneTemplate As ITemplate" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::Web::UI::ITemplate ^ ZoneTemplate { System::Web::UI::ITemplate ^ get(); void set(System::Web::UI::ITemplate ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ZoneTemplate : System.Web.UI.ITemplate with get, set" Usage="System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue(null)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue(null)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.TemplateContainer(typeof(System.Web.UI.WebControls.WebParts.CatalogZone))]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.TemplateContainer(typeof(System.Web.UI.WebControls.WebParts.CatalogZone))&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.TemplateInstance(System.Web.UI.TemplateInstance.Single)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.TemplateInstance(System.Web.UI.TemplateInstance.Single)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.ITemplate</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="162d4-209">获取或设置一个模板，用于在 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> 控件中以页持久性格式包含子控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-209">Gets or sets a template to contain child controls within a <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> control in page persistence format.</span></span></summary>
        <value><span data-ttu-id="162d4-210">一个 <see cref="T:System.Web.UI.ITemplate" />，作为区域中子控件的容器。</span><span class="sxs-lookup"><span data-stu-id="162d4-210">An <see cref="T:System.Web.UI.ITemplate" /> that acts as a container for child controls in the zone.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="162d4-211"><xref:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate%2A>属性引用类型的模板 <xref:System.Web.UI.ITemplate> ，该模板用于包含 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 区域中的控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-211">The <xref:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate%2A> property references a template of type <xref:System.Web.UI.ITemplate> that is used to contain the <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls in the zone.</span></span> <span data-ttu-id="162d4-212">区域模板使页面开发人员能够声明 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 他们希望使用持久性格式的控件，而无需以编程方式创建所有控件。</span><span class="sxs-lookup"><span data-stu-id="162d4-212">The zone template enables page developers to declare the <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls they want to use in persistence format, rather than having to create all the controls programmatically.</span></span>  
  
 <span data-ttu-id="162d4-213">属性的 set 访问器 <xref:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate%2A> 调用 <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase.InvalidateCatalogParts%2A> 方法，该方法强制 <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 刷新在页面上区域模板中声明的控件的集合。</span><span class="sxs-lookup"><span data-stu-id="162d4-213">The set accessor for the <xref:System.Web.UI.WebControls.WebParts.CatalogZone.ZoneTemplate%2A> property calls the <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase.InvalidateCatalogParts%2A> method, which forces the collection of <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls that are declared in the zone template on the page to be refreshed.</span></span> <span data-ttu-id="162d4-214">这可确保每当用户更改在页面上的模板中实际声明的控件时，区域引用的控件的集合仍保持为最新。</span><span class="sxs-lookup"><span data-stu-id="162d4-214">This ensures that the collection of controls referenced by the zone remains current whenever a user changes the controls actually declared within the template on the page.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="162d4-215">如果你想要创建自定义 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> 区域，但计划以 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> 编程方式创建控件，而不是允许页开发人员声明这些控件，则无需区域模板支持，你可以直接从类继承 <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZoneBase" /> 。</span><span class="sxs-lookup"><span data-stu-id="162d4-215">If you want to create a custom <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZone" /> zone, but you plan to create the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogPart" /> controls programmatically rather than allowing page developers to declare them, you do not need zone template support, and you can inherit directly from the <see cref="T:System.Web.UI.WebControls.WebParts.CatalogZoneBase" /> class.</span></span></para></block>
        <altmember cref="T:System.Web.UI.ITemplate" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.CatalogZone.CreateCatalogParts" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="162d4-216">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="162d4-216">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>

<Type Name="WebPartManager" FullName="System.Web.UI.WebControls.WebParts.WebPartManager">
  <Metadata><Meta Name="ms.openlocfilehash" Value="7e665a9dabfdb6ee17127f1161226c03590aabd4" /><Meta Name="ms.sourcegitcommit" Value="9f423345753728e8cad38d4a22663a109e69ea91" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="03/04/2021" /><Meta Name="ms.locfileid" Value="102064291" /></Metadata><TypeSignature Language="C#" Value="public class WebPartManager : System.Web.UI.Control, System.Web.UI.INamingContainer, System.Web.UI.WebControls.WebParts.IPersonalizable" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit WebPartManager extends System.Web.UI.Control implements class System.Web.UI.INamingContainer, class System.Web.UI.WebControls.WebParts.IPersonalizable" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.WebPartManager" />
  <TypeSignature Language="VB.NET" Value="Public Class WebPartManager&#xA;Inherits Control&#xA;Implements INamingContainer, IPersonalizable" />
  <TypeSignature Language="C++ CLI" Value="public ref class WebPartManager : System::Web::UI::Control, System::Web::UI::INamingContainer, System::Web::UI::WebControls::WebParts::IPersonalizable" />
  <TypeSignature Language="F#" Value="type WebPartManager = class&#xA;    inherit Control&#xA;    interface INamingContainer&#xA;    interface IPersonalizable" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.Control</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Web.UI.INamingContainer</InterfaceName>
    </Interface>
    <Interface>
      <InterfaceName>System.Web.UI.WebControls.WebParts.IPersonalizable</InterfaceName>
    </Interface>
  </Interfaces>
  <Attributes>
    <Attribute>
      <AttributeName Language="C#">[System.ComponentModel.Bindable(false)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Bindable(false)&gt;]</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
      <AttributeName Language="C#">[System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartManagerDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartManagerDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")&gt;]</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName Language="C#">[System.Web.UI.NonVisualControl]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Web.UI.NonVisualControl&gt;]</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName Language="C#">[System.Web.UI.ParseChildren(true)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Web.UI.ParseChildren(true)&gt;]</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName Language="C#">[System.Web.UI.PersistChildren(false)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Web.UI.PersistChildren(false)&gt;]</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName Language="C#">[System.Web.UI.ViewStateModeById]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Web.UI.ViewStateModeById&gt;]</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName Language="C#">[System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartManagerDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartManagerDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="57510-101">用作 Web 部件控件集的中心类，管理所有 Web 部件控件、功能和网页上发生的事件。</span><span class="sxs-lookup"><span data-stu-id="57510-101">Serves as the central class of the Web Parts control set, managing all the Web Parts controls, functionality, and events that occur on a Web page.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-102"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件充当 Web 部件应用程序的中心或控制中心。</span><span class="sxs-lookup"><span data-stu-id="57510-102">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control acts as the hub or control center of a Web Parts application.</span></span> <span data-ttu-id="57510-103"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>在使用 Web 部件控件的每一页上都必须有一个（且仅有一个）控件实例。</span><span class="sxs-lookup"><span data-stu-id="57510-103">There must be one--and only one--<xref:System.Web.UI.WebControls.WebParts.WebPartManager> control instance on every page that uses Web Parts controls.</span></span> <span data-ttu-id="57510-104">与 Web 部件应用程序的大多数方面一样， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件仅适用于经过身份验证的用户。</span><span class="sxs-lookup"><span data-stu-id="57510-104">As with most aspects of Web Parts applications, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control works only with authenticated users.</span></span> <span data-ttu-id="57510-105">此外，其功能几乎完全适用于驻留在继承自类 Web 部件区域中的服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebZone> 。</span><span class="sxs-lookup"><span data-stu-id="57510-105">Further, its functionality works almost entirely with server controls that reside within Web Parts zones that inherit from the <xref:System.Web.UI.WebControls.WebParts.WebZone> class.</span></span> <span data-ttu-id="57510-106">驻留在这些区域之外的页上的服务器控件的 Web 部件功能或与控件的交互可能非常小 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-106">Server controls that reside on a page outside of these zones can have very little Web Parts functionality or interaction with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="57510-107">作为页面上 Web 部件功能的中心， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件执行下表中所述的任务类型。</span><span class="sxs-lookup"><span data-stu-id="57510-107">As the hub for Web Parts functionality on a page, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control carries out the kinds of tasks described in the following table.</span></span>  
  
|<span data-ttu-id="57510-108">任务类别</span><span class="sxs-lookup"><span data-stu-id="57510-108">Task category</span></span>|<span data-ttu-id="57510-109">控件的作用</span><span class="sxs-lookup"><span data-stu-id="57510-109">What the control does</span></span>|  
|-------------------|---------------------------|  
|<span data-ttu-id="57510-110">跟踪 Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-110">Tracking Web Parts controls</span></span>|<span data-ttu-id="57510-111">跟踪页面上许多不同类型的控件，这些控件提供 Web 部件功能，包括 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件、连接、区域等。</span><span class="sxs-lookup"><span data-stu-id="57510-111">Keeps track of the many different kinds of controls on a page that provide Web Parts features, including <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, connections, zones, and others.</span></span>|  
|<span data-ttu-id="57510-112">添加和删除 Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-112">Adding and removing Web Parts controls</span></span>|<span data-ttu-id="57510-113">提供用于在页上添加、删除和关闭 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-113">Provides the methods for adding, deleting, and closing <xref:System.Web.UI.WebControls.WebParts.WebPart> controls on a page.</span></span>|  
|<span data-ttu-id="57510-114">管理连接</span><span class="sxs-lookup"><span data-stu-id="57510-114">Administering connections</span></span>|<span data-ttu-id="57510-115">在控件之间创建连接，并监视连接以及添加和删除这些连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-115">Creates connections between controls, and monitors the connections as well as the processes of adding and removing them.</span></span>|  
|<span data-ttu-id="57510-116">个性化控件和页面</span><span class="sxs-lookup"><span data-stu-id="57510-116">Personalizing controls and pages</span></span>|<span data-ttu-id="57510-117">使用户能够将控件移动到页面上的不同位置，并启动用户可以在其中编辑控件外观、属性和行为的视图。</span><span class="sxs-lookup"><span data-stu-id="57510-117">Enables users to move controls to different locations on a page, and launches the views in which users can edit the appearance, properties, and behavior of controls.</span></span> <span data-ttu-id="57510-118">维护每个页面上的特定于用户的个性化设置。</span><span class="sxs-lookup"><span data-stu-id="57510-118">Maintains user-specific personalization settings on each page.</span></span>|  
|<span data-ttu-id="57510-119">在不同的页面视图之间切换</span><span class="sxs-lookup"><span data-stu-id="57510-119">Toggling between different page views</span></span>|<span data-ttu-id="57510-120">在页面的不同专用视图之间切换页面，以便用户可以执行某些任务，如更改页面布局或编辑控件。</span><span class="sxs-lookup"><span data-stu-id="57510-120">Switches a page among different specialized views of the page, so that users can carry out certain tasks such as changing page layout or editing controls.</span></span>|  
|<span data-ttu-id="57510-121">引发 Web 部件生命周期事件</span><span class="sxs-lookup"><span data-stu-id="57510-121">Raising Web Parts life-cycle events</span></span>|<span data-ttu-id="57510-122">定义、引发并使开发人员能够处理 Web 部件控件的生命周期事件，例如，在添加、移动、连接或删除控件时。</span><span class="sxs-lookup"><span data-stu-id="57510-122">Defines, raises, and enables developers to handle life-cycle events of Web Parts controls, such as when controls are being added, moved, connected, or deleted.</span></span>|  
|<span data-ttu-id="57510-123">启用控件的导入和导出</span><span class="sxs-lookup"><span data-stu-id="57510-123">Enabling import and export of controls</span></span>|<span data-ttu-id="57510-124">导出包含控件属性状态的 XML 流 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，并允许用户导入文件，以便于在其他页面或站点中个性化复杂控件。</span><span class="sxs-lookup"><span data-stu-id="57510-124">Exports XML streams that contain the state of the properties of <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, and allows users to import the files for convenience in personalizing complex controls in other pages or sites.</span></span>|  
  
 <span data-ttu-id="57510-125"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>类具有一组大的属性。</span><span class="sxs-lookup"><span data-stu-id="57510-125">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class has a large set of properties.</span></span> <span data-ttu-id="57510-126">与 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 跟踪其他控件的角色一致，它具有多个属性，这些属性可引用 Web 部件控件或其他特殊 Web 部件对象的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-126">Consistent with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> role of tracking other controls, it has a number of properties that reference collections of either Web Parts controls, or other special Web Parts objects.</span></span> <span data-ttu-id="57510-127"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers%2A>、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Controls%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> 、、、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> 属性都是 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件用于其跟踪和其他管理任务的所有集合。</span><span class="sxs-lookup"><span data-stu-id="57510-127">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Controls%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A>, and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> properties are all collections used by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control for its tracking and other management tasks.</span></span>  
  
 <span data-ttu-id="57510-128">另一组属性包含可自定义的警告，这些警告适用于在 Web 部件应用程序中出现的某些方案。</span><span class="sxs-lookup"><span data-stu-id="57510-128">Another group of properties contains customizable warnings that apply in certain scenarios that occur in a Web Parts application.</span></span> <span data-ttu-id="57510-129">其中包括 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> 、和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-129">These include the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A>, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A>, and the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning%2A> properties.</span></span>  
  
 <span data-ttu-id="57510-130"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>类将重写它的一些基继承属性，这些属性由许多 Web 服务器控件使用。</span><span class="sxs-lookup"><span data-stu-id="57510-130">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overrides some of its base inherited properties, which are used by many Web server controls.</span></span> <span data-ttu-id="57510-131">其中包括 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableTheming%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SkinID%2A> 和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-131">These include the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableTheming%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SkinID%2A>, and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> properties.</span></span>  
  
 <span data-ttu-id="57510-132">最后，有一组属性可用于访问应用程序的当前状态。</span><span class="sxs-lookup"><span data-stu-id="57510-132">Finally, there is a group of properties useful for accessing the current state of the application.</span></span> <span data-ttu-id="57510-133"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A>属性指示页面所在的当前显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-133">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property indicates the current display mode that a page is in.</span></span> <span data-ttu-id="57510-134"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript%2A>属性指示是否允许控件呈现客户端脚本，这在以下情况下适用：用户可能具有具有不同功能的浏览器或已关闭脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-134">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript%2A> property indicates whether a control is allowed to render client-side script, which is relevant in situations where users might have browsers with different capabilities or have scripting turned off.</span></span> <span data-ttu-id="57510-135"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A>属性用于引用包含对扩展性事例使用的大量重要 Web 部件方法的调用的实用工具类。</span><span class="sxs-lookup"><span data-stu-id="57510-135">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A> property is useful for referencing a utility class that contains the calls to a number of important Web Parts methods that are used for extensibility cases.</span></span> <span data-ttu-id="57510-136">通过隐藏类 (类) 中对这些方法的调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManagerInternals> ， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 简化了类的 API。</span><span class="sxs-lookup"><span data-stu-id="57510-136">By hiding the calls to these methods in a separate class (the <xref:System.Web.UI.WebControls.WebParts.WebPartManagerInternals> class), the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class's own API is simplified.</span></span> <span data-ttu-id="57510-137"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A>属性提供对存储用户个性化设置并将该数据保存到永久存储的个性化对象的访问。</span><span class="sxs-lookup"><span data-stu-id="57510-137">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property provides access to the personalization objects that store users' personalization settings and persist that data to permanent storage.</span></span> <span data-ttu-id="57510-138"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A>属性指示 <xref:System.Web.UI.WebControls.WebParts.WebPart> 用户或应用程序当前选择的页上的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-138">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> property indicates which <xref:System.Web.UI.WebControls.WebParts.WebPart> control on a page is currently selected by the user or the application.</span></span> <span data-ttu-id="57510-139"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A>属性指示控件上的自定义个性化设置数据是否已 <xref:System.Web.UI.WebControls.WebParts.WebPart> 更改。</span><span class="sxs-lookup"><span data-stu-id="57510-139">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property indicates whether custom personalization data on a <xref:System.Web.UI.WebControls.WebParts.WebPart> control has changed.</span></span>  
  
 <span data-ttu-id="57510-140"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件包含五种内置显示模式或网页视图。</span><span class="sxs-lookup"><span data-stu-id="57510-140">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control contains five built-in display modes, or views of a Web page.</span></span> <span data-ttu-id="57510-141">开发人员可以扩展此功能，通过扩展类或类等类型来创建自定义显示模式 <xref:System.Web.UI.WebControls.WebParts.WebZone> <xref:System.Web.UI.WebControls.WebParts.ToolZone> 。</span><span class="sxs-lookup"><span data-stu-id="57510-141">Developers can extend this feature, creating custom display modes by extending types such as the <xref:System.Web.UI.WebControls.WebParts.WebZone> class or the <xref:System.Web.UI.WebControls.WebParts.ToolZone> class.</span></span> <span data-ttu-id="57510-142">如果页面上存在对应于给定显示模式的适当类型的控件，则用户可以将页面切换到各种显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-142">Users can switch a page into the various display modes, provided that the proper kind of controls that correspond to a given display mode are present on a page.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-143">可以扩展此功能，以便用户可以切换到自定义显示模式，而无需在页面上放置相应的区域。</span><span class="sxs-lookup"><span data-stu-id="57510-143">It is possible to extend this feature so that users can switch into a custom display mode without having a corresponding zone on the page.</span></span> <span data-ttu-id="57510-144">但是，默认行为是显示模式与区域相对应。</span><span class="sxs-lookup"><span data-stu-id="57510-144">However, the default behavior is that display modes correspond to zones.</span></span>  
  
 <span data-ttu-id="57510-145">标准显示模式由类中的公共字段表示 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-145">The standard display modes are represented by public fields in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class.</span></span> <span data-ttu-id="57510-146">下表汇总了字段及其引用的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-146">The following table summarizes the fields and the display modes they refer to.</span></span> <span data-ttu-id="57510-147">正如前文所述，页面的当前显示模式始终在属性中引用，在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 特定页面上可能出现的显示模式集（给定页面上存在的区域类型）包含在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 属性中。</span><span class="sxs-lookup"><span data-stu-id="57510-147">The current display mode of a page, as noted above, is always referenced in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property, and the set of display modes that is possible on a particular page, given the kind of zones that are present on the page, is contained in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span>  
  
|<span data-ttu-id="57510-148">字段</span><span class="sxs-lookup"><span data-stu-id="57510-148">Field</span></span>|<span data-ttu-id="57510-149">显示模式详细信息</span><span class="sxs-lookup"><span data-stu-id="57510-149">Display mode details</span></span>|  
|-----------|--------------------------|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode>|<span data-ttu-id="57510-150">网页的普通用户视图;默认和最常见的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-150">The normal user view of a Web page; the default and most common display mode.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode>|<span data-ttu-id="57510-151">用户可以重新排列或删除控件以更改页面布局的视图。</span><span class="sxs-lookup"><span data-stu-id="57510-151">The view in which users can rearrange or delete controls to change the page layout.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode>|<span data-ttu-id="57510-152">编辑用户界面)  (UI 的视图变为可见，用户可以编辑在正常浏览模式下可见控件的外观、属性和行为。</span><span class="sxs-lookup"><span data-stu-id="57510-152">The view in which an editing user interface (UI) becomes visible; users can edit the appearance, properties, and behavior of the controls that are visible in the normal browse mode.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode>|<span data-ttu-id="57510-153">目录 UI 变为可见的视图;用户可以将控件从可用控件的目录添加到页面。</span><span class="sxs-lookup"><span data-stu-id="57510-153">The view in which a catalog UI becomes visible; users can add controls to a page from catalogs of available controls.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode>|<span data-ttu-id="57510-154">连接 UI 将在其中可见的视图;用户可以连接、管理或断开控件之间的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-154">The view in which a connection UI becomes visible; users can connect, manage, or disconnect connections between controls.</span></span>|  
  
 <span data-ttu-id="57510-155">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件还包含大量事件，这些事件在 Web 部件页面和控件的生命周期内非常重要。</span><span class="sxs-lookup"><span data-stu-id="57510-155">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control also contains a number of events that are critical in the life cycle of Web Parts pages and controls.</span></span> <span data-ttu-id="57510-156">这些事件提供对 Web 部件控件的行为的精确编程控制。</span><span class="sxs-lookup"><span data-stu-id="57510-156">These events provide precise programmatic control over the behavior of Web Parts controls.</span></span> <span data-ttu-id="57510-157">大多数方法直接与 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件相关 (或其他服务器或用户控件置于区域中， <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 以便它们能够作为 <xref:System.Web.UI.WebControls.WebParts.WebPart>) 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-157">Most methods pertain directly to <xref:System.Web.UI.WebControls.WebParts.WebPart> controls (or other server or user controls that are placed in <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zones so that they can behave as <xref:System.Web.UI.WebControls.WebParts.WebPart> controls).</span></span> <span data-ttu-id="57510-158">但有些事件涉及页面的状态或页面上的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-158">However, a few events pertain to the state of the page or connections on the page.</span></span> <span data-ttu-id="57510-159">下表列出了可用的事件并汇总了其用途。</span><span class="sxs-lookup"><span data-stu-id="57510-159">The following table lists the available events and summarizes their purposes.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-160">在下表中的所有情况下，"控件" 一词是指 <xref:System.Web.UI.WebControls.WebParts.WebPart> 位于区域中的控件或任何服务器控件，并 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 在运行时使用对象进行包装。</span><span class="sxs-lookup"><span data-stu-id="57510-160">In all cases in the following table, the word "control" refers to a <xref:System.Web.UI.WebControls.WebParts.WebPart> control or any server control that resides in a zone and is wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object at run time.</span></span>  
  
|<span data-ttu-id="57510-161">事件</span><span class="sxs-lookup"><span data-stu-id="57510-161">Event</span></span>|<span data-ttu-id="57510-162">说明</span><span class="sxs-lookup"><span data-stu-id="57510-162">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart>|<span data-ttu-id="57510-163">恰好在将控件添加到页面之前发生，以验证它是否已获授权。</span><span class="sxs-lookup"><span data-stu-id="57510-163">Occurs just before a control is added to a page to verify that it is authorized.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated>|<span data-ttu-id="57510-164">在页面上的所有连接都已激活之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-164">Occurs after all the connections on a page have been activated.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating>|<span data-ttu-id="57510-165">恰好在激活页上的所有连接的过程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-165">Occurs just before the process of activating all the connections on a page.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanged>|<span data-ttu-id="57510-166">在页的当前显示模式更改之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-166">Occurs after the current display mode of a page has changed.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanging>|<span data-ttu-id="57510-167">恰好在更改页的显示模式的过程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-167">Occurs just before the process of changing a page's display mode.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged>|<span data-ttu-id="57510-168">在取消选定控件后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-168">Occurs after the selection of a control has been canceled.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging>|<span data-ttu-id="57510-169">恰好在取消选择控件之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-169">Occurs just before the process of canceling the selection of a control.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded>|<span data-ttu-id="57510-170">在将控件添加到区域之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-170">Occurs after a control has been added to a zone.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding>|<span data-ttu-id="57510-171">恰好在将控件添加到区域的过程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-171">Occurs just before the process of adding a control to a zone.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed>|<span data-ttu-id="57510-172">在控件关闭之后 (从页面) 中移除后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-172">Occurs after a control has been closed (removed from a page).</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing>|<span data-ttu-id="57510-173">恰好在关闭控件的进程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-173">Occurs just before the process of closing a control.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted>|<span data-ttu-id="57510-174">当动态控件的实例 (以编程方式创建或从目录中添加的一个实例) 已被永久删除。</span><span class="sxs-lookup"><span data-stu-id="57510-174">Occurs after an instance of a dynamic control (one that was created programmatically or added from a catalog) has been permanently deleted.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting>|<span data-ttu-id="57510-175">恰好在删除动态控件的过程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-175">Occurs just before the process of deleting a dynamic control.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved>|<span data-ttu-id="57510-176">控件在其区域内移动或移动到另一个区域后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-176">Occurs after a control has moved within its zone or to another zone.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving>|<span data-ttu-id="57510-177">恰好在移动控件的进程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-177">Occurs just before the process of moving a control.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected>|<span data-ttu-id="57510-178">在为连接选择的两个控件已建立连接之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-178">Occurs after two controls selected for participation in a connection have established the connection.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting>|<span data-ttu-id="57510-179">恰好在连接两个控件的过程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-179">Occurs just before the process of connecting two controls.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected>|<span data-ttu-id="57510-180">在两个连接的控件断开连接之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-180">Occurs after two connected controls have been disconnected.</span></span>|  
|<xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting>|<span data-ttu-id="57510-181">恰好在断开两个控件的连接过程之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-181">Occurs just before the process of disconnecting two controls.</span></span>|  
  
 <span data-ttu-id="57510-182"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件具有大量用于管理 Web 部件页面的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-182">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has numerous methods for managing Web Parts pages.</span></span> <span data-ttu-id="57510-183">此处未列出的一大组方法是其名称采用的形式为 On *事件* 名称的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-183">A large set of the methods, not listed here, are methods whose names take the form of On *EventName*.</span></span> <span data-ttu-id="57510-184">这些方法通常会引发相关事件，并为事件提供类型的处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartEventHandler> 。</span><span class="sxs-lookup"><span data-stu-id="57510-184">These methods typically raise their associated event, and provide the event with a handler of type <xref:System.Web.UI.WebControls.WebParts.WebPartEventHandler>.</span></span> <span data-ttu-id="57510-185">这些方法中的大多数可由继承自类的开发人员重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-185">Most of these methods can be overridden by developers who inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class.</span></span> <span data-ttu-id="57510-186">此外，页开发人员还可以为与这些方法关联的事件提供自定义处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-186">Also, page developers can provide custom handlers for the events associated with these methods.</span></span> <span data-ttu-id="57510-187">例如，在发生事件的情况下 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> ，页面开发人员可以将属性添加 `OnWebPartAdded` 到网页 `<asp:webpartmanager>` 标记中的元素，然后将自定义方法名称分配给该属性，以便为事件提供自定义处理。</span><span class="sxs-lookup"><span data-stu-id="57510-187">For example, in the case of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> event, a page developer could add an `OnWebPartAdded` attribute to the `<asp:webpartmanager>` element in the markup of a Web page, and then assign a custom method name to the attribute to provide custom handling for the event.</span></span> <span data-ttu-id="57510-188">特性对应于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded%2A> 方法，而事件处理的基本模式适用于大多数 Web 部件事件及其关联方法。</span><span class="sxs-lookup"><span data-stu-id="57510-188">The attribute corresponds to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded%2A> method, and this basic pattern of event handling works for most Web Parts events and their associated methods.</span></span>  
  
 <span data-ttu-id="57510-189">此外，该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件具有特定于管理控件的任务的方法， <xref:System.Web.UI.WebControls.WebParts.WebPart> (和服务器或用户控件) 用作 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-189">In addition, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has methods particular to the task of managing <xref:System.Web.UI.WebControls.WebParts.WebPart> controls (and server or user controls used as <xref:System.Web.UI.WebControls.WebParts.WebPart> controls).</span></span> <span data-ttu-id="57510-190">这些方法包括 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 、、、、、和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-190">These methods include <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A>, and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A>.</span></span>  
  
 <span data-ttu-id="57510-191">另一组方法专用于连接。</span><span class="sxs-lookup"><span data-stu-id="57510-191">Another set of methods is specialized for connections.</span></span> <span data-ttu-id="57510-192">其中包括、、、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateAvailableTransformers%2A> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> 、、、和等方法。</span><span class="sxs-lookup"><span data-stu-id="57510-192">This includes methods such as <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateAvailableTransformers%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A>, and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A>.</span></span>  
  
 <span data-ttu-id="57510-193">最后，一些 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 方法侧重于个性化设置功能。</span><span class="sxs-lookup"><span data-stu-id="57510-193">Finally, some <xref:System.Web.UI.WebControls.WebParts.WebPartManager> methods focus on personalization functionality.</span></span> <span data-ttu-id="57510-194">它们包括 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization%2A>、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadControlState%2A>、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState%2A>、<xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty%2A>、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Load%2A>、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Save%2A> 和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveControlState%2A>。</span><span class="sxs-lookup"><span data-stu-id="57510-194">These include <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadControlState%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Load%2A>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Save%2A>, and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveControlState%2A>.</span></span>  
  
 <span data-ttu-id="57510-195">有关 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 可通过属性访问的其他方法的详细信息 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A> ，请参阅类的文档 <xref:System.Web.UI.WebControls.WebParts.WebPartManagerInternals> 。</span><span class="sxs-lookup"><span data-stu-id="57510-195">For more information on other <xref:System.Web.UI.WebControls.WebParts.WebPartManager> methods that are accessible through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A> property, see the documentation for the <xref:System.Web.UI.WebControls.WebParts.WebPartManagerInternals> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-196">下面的代码示例演示了控件的声明性和编程式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-196">The following code example demonstrates both declarative and programmatic use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="57510-197">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-197">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-198">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-198">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-199">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-199">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, and an `<asp:webpartmanager>` element.</span></span>  
  
-   <span data-ttu-id="57510-200">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-200">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-201">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-201">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-202">用户控件具有一个下拉列表控件，该控件在给定页面上存在的 Web 部件控件的情况下，显示页面上可能的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-202">The user control has a drop-down list control that shows the possible display modes on a page, given the Web Parts controls that are present on the page.</span></span> <span data-ttu-id="57510-203">在此代码示例的网页中，此用户控件刚好 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 在页面标记中的元素下方声明，并在网页顶部附近有一个 `Register` 指令来注册控件。</span><span class="sxs-lookup"><span data-stu-id="57510-203">In the Web page for this code example, this user control is declared just below the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> element in the page's markup, and there is a `Register` directive near the top of the Web page to register the control.</span></span> <span data-ttu-id="57510-204">有关显示模式的详细信息以及此控件中源代码的说明，请参阅 [演练：在 Web 部件页上更改显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-204">For details about display modes and a description of the source code in this control, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_SimpleConnection#6](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/CS/displaymodemenucs.ascx#6)]
 [!code-aspx-vb[WebParts_WebPartManager_SimpleConnection#6](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/VB/DisplayModeMenuVB.ascx#6)]  
  
 <span data-ttu-id="57510-205">网页的声明性标记包含 `Register` 用户控件和自定义控件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-205">The declarative markup for the Web page contains `Register` directives for both the user control and the custom controls.</span></span> <span data-ttu-id="57510-206">有一个 `<asp:webpartmanager>` 元素、一个 `<asp:webpartzone>` 元素包含自定义控件和一个 `<asp:connectionszone>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-206">There is an `<asp:webpartmanager>` element, an `<asp:webpartzone>` element to contain the custom controls, and an `<asp:connectionszone>` element.</span></span> <span data-ttu-id="57510-207">该页还包含一些用于处理控件的与连接相关的事件的内联代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ; 你可以在连接和断开连接控件时查看此代码的效果。</span><span class="sxs-lookup"><span data-stu-id="57510-207">The page also contains some inline code that handles connection-related events for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control; you can see the effect of this code as you connect and disconnect controls.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_SimpleConnection#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/CS/webpartmanagerConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_SimpleConnection#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/VB/webpartmanagerConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-208">该示例的第三部分是控件的源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-208">The third part of the example is the source code for the controls.</span></span> <span data-ttu-id="57510-209">请注意，有一个名为 `IZipCode` 的接口，此接口是在类中实现的 `ZipCodeWebPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-209">Note that there is an interface named `IZipCode`, and this interface is implemented in the `ZipCodeWebPart` class.</span></span> <span data-ttu-id="57510-210">此类具有一个名为的特殊回调方法 `ProvideIZipCode` ，用作提供程序。</span><span class="sxs-lookup"><span data-stu-id="57510-210">This class has a special callback method named `ProvideIZipCode` that serves as a provider.</span></span> <span data-ttu-id="57510-211">另一种名为的类型 `WeatherWebPart` 也是使用名为的特殊方法实现的 `GetIZipCode` ，该方法使控件可以作为另一个控件的使用者。</span><span class="sxs-lookup"><span data-stu-id="57510-211">The other type, named `WeatherWebPart`, is also implemented with a special method named `GetIZipCode`, which enables the control to act as a consumer of the other control.</span></span>  
  
 <span data-ttu-id="57510-212">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-212">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-213">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-213">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-214">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-214">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-215">此代码示例假定已将源编译为程序集，网页 `Register` 中的指令引用程序集名称。</span><span class="sxs-lookup"><span data-stu-id="57510-215">This code example assumes that you have compiled the source into an assembly, and the `Register` directive in the Web page references the assembly name.</span></span> <span data-ttu-id="57510-216">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-216">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_SimpleConnection#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/CS/ZipCodeComponent.cs#2)]
 [!code-vb[WebParts_WebPartManager_SimpleConnection#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/VB/ZipCodeComponent.vb#2)]  
  
 <span data-ttu-id="57510-217">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-217">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-218">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-218">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-219">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-219">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-220">显示连接 UI 后，单击 " **创建使用者的连接** " 链接。</span><span class="sxs-lookup"><span data-stu-id="57510-220">After the connection UI appears, click the **Create a connection to a Consumer** link.</span></span> <span data-ttu-id="57510-221">出现包含下拉列表控件的单元格。</span><span class="sxs-lookup"><span data-stu-id="57510-221">A cell appears that has a drop-down list control.</span></span> <span data-ttu-id="57510-222">在下拉列表中选择 " **天气控制** "，然后单击 " **连接** " 以完成两个控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-222">Select **Weather Control** in the drop-down list, and then click **Connect** to complete the connection of the two controls.</span></span> <span data-ttu-id="57510-223">单击 " **关闭**"，然后使用 " **显示模式** " 下拉列表将页面恢复到正常浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-223">Click **Close**, and then use the **Display Mode** drop-down list to return the page to normal browse mode.</span></span> <span data-ttu-id="57510-224">您可以输入邮政编码，并使用您输入的值更新使用者控件。</span><span class="sxs-lookup"><span data-stu-id="57510-224">You can enter a ZIP Code, and the consumer control will be updated with the value you enter.</span></span> <span data-ttu-id="57510-225">由于该 `ZipCode` 属性 `Personalizable` 在源代码中标记有特性，因此此属性值将在浏览器会话中保持不变，从而保存用户输入的值。</span><span class="sxs-lookup"><span data-stu-id="57510-225">Because the `ZipCode` property was marked with the `Personalizable` attribute in the source code, this property value will persist across browser sessions, thus saving the value entered by a user.</span></span> <span data-ttu-id="57510-226">更复杂的使用者控件可以采用邮政编码信息，根据代码查找天气信息，并将其显示给用户。</span><span class="sxs-lookup"><span data-stu-id="57510-226">A more sophisticated consumer control could take the ZIP code information, look up weather information based on the code, and display it to a user.</span></span>  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="57510-227"><see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />控件设计为扩展。</span><span class="sxs-lookup"><span data-stu-id="57510-227">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control is designed to be extended.</span></span> <span data-ttu-id="57510-228">由于这是 Web 部件应用程序的核心，因此当你想要在 Web 部件控件集中扩展某些特定类型或控件时，在许多情况下，你还必须扩展 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类，因为在 Web 部件应用程序的上下文中，你的自定义类型可能需要某些属性或方法。</span><span class="sxs-lookup"><span data-stu-id="57510-228">Because it is so central to Web Parts applications, when you want to extend some specific type or control in the Web Parts control set, in many cases you must also extend the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class, because it is likely to have some property or method that is required to make your custom type work in the context of a Web Parts application.</span></span> <span data-ttu-id="57510-229">Web 部件参考文档 (参见 <see cref="N:System.Web.UI.WebControls.WebParts" />) ，在讨论如何扩展 Web 部件类型时，通常会提到还需要执行哪些操作来扩展 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类，或者在代码示例中演示如何对其进行扩展。</span><span class="sxs-lookup"><span data-stu-id="57510-229">The Web Parts reference documentation (see <see cref="N:System.Web.UI.WebControls.WebParts" />), when discussing how to extend a Web Parts type, frequently mentions what needs to be done to extend the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class as well, or shows how to extend it in a code example.</span></span></para></block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-230">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-230">ASP.NET Web Parts Controls</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebPartManager ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebPartManager();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-231">初始化 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="57510-231">Initializes a new instance of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-232"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.%23ctor%2A>构造函数初始化控件使用的几个重要变量 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-232">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.%23ctor%2A> constructor initializes several important variables used by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-233">直接影响所有 Web 部件页面的一项分配是默认页面显示模式设置为浏览模式 (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode>) 。</span><span class="sxs-lookup"><span data-stu-id="57510-233">One assignment that directly impacts all Web Parts pages is the fact that the default page display mode is set to browse mode (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode>).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ActivateConnections">
      <MemberSignature Language="C#" Value="protected virtual void ActivateConnections ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ActivateConnections() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub ActivateConnections ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void ActivateConnections();" />
      <MemberSignature Language="F#" Value="abstract member ActivateConnections : unit -&gt; unit&#xA;override this.ActivateConnections : unit -&gt; unit" Usage="webPartManager.ActivateConnections " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-234">激活网页上当前所有非活动连接。</span><span class="sxs-lookup"><span data-stu-id="57510-234">Makes active all connections on a Web page that are currently inactive.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-235">对 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> 页的每个请求调用方法，以激活 <xref:System.Web.UI.WebControls.WebParts.WebPart> 和区域中的其他服务器控件之间的现有连接 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 。</span><span class="sxs-lookup"><span data-stu-id="57510-235">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> method is called on each request to a page to activate existing connections between <xref:System.Web.UI.WebControls.WebParts.WebPart> and other server controls residing in <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zones.</span></span> <span data-ttu-id="57510-236">在某些情况下，例如，如果要激活的连接中存在冲突，则此方法将调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 方法以终止有问题的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-236">In some cases, for instance if there is a conflict in the connections being activated, this method in turn calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method to end the problematic connection.</span></span> <span data-ttu-id="57510-237">在断开连接过程中， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 会引发事件。</span><span class="sxs-lookup"><span data-stu-id="57510-237">During the disconnection process the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event is raised.</span></span> <span data-ttu-id="57510-238">通常，开发人员可以取消此事件，但在这种情况下，不能取消这种连接，因为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件需要解决冲突，才能完成激活连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-238">Normally developers can cancel this event, but in the case where this is a conflict among the connections it cannot be cancelled, because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control needs to resolve the conflict in order to finish the process of activating connections.</span></span> <span data-ttu-id="57510-239">有关详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-239">For details, see <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AddWebPart">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPart AddWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart, System.Web.UI.WebControls.WebParts.WebPartZoneBase zone, int zoneIndex);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Web.UI.WebControls.WebParts.WebPart AddWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart, class System.Web.UI.WebControls.WebParts.WebPartZoneBase zone, int32 zoneIndex) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function AddWebPart (webPart As WebPart, zone As WebPartZoneBase, zoneIndex As Integer) As WebPart" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Web::UI::WebControls::WebParts::WebPart ^ AddWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart, System::Web::UI::WebControls::WebParts::WebPartZoneBase ^ zone, int zoneIndex);" />
      <MemberSignature Language="F#" Value="member this.AddWebPart : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.WebPartZoneBase * int -&gt; System.Web.UI.WebControls.WebParts.WebPart" Usage="webPartManager.AddWebPart (webPart, zone, zoneIndex)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPart</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="zone" Type="System.Web.UI.WebControls.WebParts.WebPartZoneBase" />
        <Parameter Name="zoneIndex" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-240">要添加至网页或在页上打开的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />（或服务器或用户控件）。</span><span class="sxs-lookup"><span data-stu-id="57510-240">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> (or server or user control) to be added to a Web page or opened on a page.</span></span></param>
        <param name="zone"><span data-ttu-id="57510-241">向其添加 <paramref name="webPart" /> 的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" />。</span><span class="sxs-lookup"><span data-stu-id="57510-241">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> that <paramref name="webPart" /> is being added to.</span></span></param>
        <param name="zoneIndex"><span data-ttu-id="57510-242">一个整数，表示 <paramref name="webPart" /> 在 <paramref name="zone" /> 中占用的序号位置（相对于 <paramref name="zone" /> 中的其他控件）。</span><span class="sxs-lookup"><span data-stu-id="57510-242">An integer that represents the ordinal position that <paramref name="webPart" /> occupies in <paramref name="zone" />, relative to other controls in <paramref name="zone" />.</span></span></param>
        <summary><span data-ttu-id="57510-243">提供向网页添加 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的标准编程方法。</span><span class="sxs-lookup"><span data-stu-id="57510-243">Provides the standard programmatic method for adding <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls to a Web page.</span></span></summary>
        <returns><span data-ttu-id="57510-244">添加到页的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-244">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control that was added to the page.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-245"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A>方法用于将新的动态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件添加到页，并重新打开先前在页中关闭的静态控件或动态控件。</span><span class="sxs-lookup"><span data-stu-id="57510-245">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> method is used both to add new dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> controls to a page, and to reopen static or dynamic controls that have previously been closed on a page.</span></span> <span data-ttu-id="57510-246">调用方法添加新的控件时，实际上会创建在参数中引用的控件的副本 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-246">When the method is called to add a new control, it actually creates a copy of the control referenced in the `webPart` parameter.</span></span> <span data-ttu-id="57510-247">为控件的副本生成新的 ID，因此开发人员应引用 <xref:System.Web.UI.WebControls.WebParts.WebPart> 从方法返回的控件以获取新的 ID 值。</span><span class="sxs-lookup"><span data-stu-id="57510-247">A new ID is generated for the copy of the control, so developers should reference the <xref:System.Web.UI.WebControls.WebParts.WebPart> control returned from the method to get the new ID value.</span></span> <span data-ttu-id="57510-248">调用方法以重新打开先前关闭的控件时，它将返回对参数引用的控件的直接引用 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-248">When the method is called to reopen a previously closed control, it returns a direct reference to the control referenced by the `webPart` parameter.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="57510-249">应始终使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> 方法，而不是 <xref:System.Web.UI.ControlCollection.Add%2A> 由属性引用的控件集合的方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Controls%2A?displayProperty=nameWithType> ，以 <xref:System.Web.UI.WebControls.WebParts.WebPart> 编程方式将控件添加到页面，因为使用 <xref:System.Web.UI.ControlCollection.Add%2A> 方法会引发异常。</span><span class="sxs-lookup"><span data-stu-id="57510-249">You should always use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> method, rather than the <xref:System.Web.UI.ControlCollection.Add%2A> method of the collection of controls referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Controls%2A?displayProperty=nameWithType> property, to add <xref:System.Web.UI.WebControls.WebParts.WebPart> controls programmatically to the page, because using the <xref:System.Web.UI.ControlCollection.Add%2A> method throws an exception.</span></span> <span data-ttu-id="57510-250">若要添加一个不是控件 (的控件，即在 <xref:System.Web.UI.WebControls.WebParts.WebPart> 运行时将使用控件进行包装的服务器控件 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart>) ，你应该首先调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 方法以创建控件，然后调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> 方法以添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-250">To add a control that is not a <xref:System.Web.UI.WebControls.WebParts.WebPart> control (in other words, a server control that will be wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control at run time), you should first call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method to create the control, and then call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> method to add the control.</span></span> <span data-ttu-id="57510-251">有关此方法的演示，请参阅 "示例" 部分。</span><span class="sxs-lookup"><span data-stu-id="57510-251">For a demonstration of this approach, see the Example section.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-252">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> 方法以编程方式将服务器控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-252">The following code example demonstrates use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> method to add a server control programmatically to a page.</span></span> <span data-ttu-id="57510-253">页面标记包含一个空 `<asp:webpartzone>` 元素和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-253">The page markup contains an empty `<asp:webpartzone>` element, and an `<asp:webpartmanager>` element.</span></span> <span data-ttu-id="57510-254">第一次单击 " **添加日历** " 按钮时，事件处理程序中的代码会创建一个 <xref:System.Web.UI.WebControls.Calendar> 控件，并将其作为对象添加到区域 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 中，并调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-254">The first time the **Add Calendar** button is clicked, the code in the event handler creates a <xref:System.Web.UI.WebControls.Calendar> control, and adds it to a zone as a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object, calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> method.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DeleteWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWebPart/CS/wpmgDeleteWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DeleteWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWebPart/VB/wpmgDeleteWebPartVB.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-255"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-255"><paramref name="webPart" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="57510-256">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-256">-or-</span></span> 
 <span data-ttu-id="57510-257"><paramref name="zone" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-257"><paramref name="zone" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-258"><paramref name="zone" /> 没有在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的区域集合中注册。</span><span class="sxs-lookup"><span data-stu-id="57510-258"><paramref name="zone" /> is not registered in the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control's collection of zones.</span></span>  
  
<span data-ttu-id="57510-259">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-259">-or-</span></span> 
 <span data-ttu-id="57510-260"><paramref name="webPart" /> 已存在于 <paramref name="zone" /> 中。</span><span class="sxs-lookup"><span data-stu-id="57510-260"><paramref name="webPart" /> is already in <paramref name="zone" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="57510-261"><paramref name="zoneIndex" /> 的值小于零。</span><span class="sxs-lookup"><span data-stu-id="57510-261">The value of <paramref name="zoneIndex" /> is less than zero.</span></span></exception>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart(System.Web.UI.Control)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-262">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-262">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AuthorizeWebPart">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventHandler AuthorizeWebPart;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventHandler AuthorizeWebPart" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event AuthorizeWebPart As WebPartAuthorizationEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartAuthorizationEventHandler ^ AuthorizeWebPart;" />
      <MemberSignature Language="F#" Value="member this.AuthorizeWebPart : System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventHandler " Usage="member this.AuthorizeWebPart : System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-263">当调用 <see cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized" /> 方法以确定 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件是否能够添加到页中时发生。</span><span class="sxs-lookup"><span data-stu-id="57510-263">Occurs when the <see cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized" /> method is called to determine whether a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control can be added to a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-264"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart>每当将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件添加到页面时，都会发生此事件。</span><span class="sxs-lookup"><span data-stu-id="57510-264">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event occurs whenever a <xref:System.Web.UI.WebControls.WebParts.WebPart> control is being added to a page.</span></span> <span data-ttu-id="57510-265">在许多常见情况下，可以将控件添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-265">There are a number of common scenarios where a control can be added to a page.</span></span> <span data-ttu-id="57510-266">有关这些内容的完整说明，请参阅方法的 "备注" 部分 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-266">For a full description of these, see the Remarks section for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method.</span></span> <span data-ttu-id="57510-267">添加控件时，必须对其进行检查，以确定是否已 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 设置控件的属性，如果是，是否已授权控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-267">When a control is added, it must be checked to see whether its <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property has been set and, if so, whether the control is authorized to be added to the page.</span></span>  
  
 <span data-ttu-id="57510-268">开发人员可以为事件创建事件处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> ，以提供控件的筛选。</span><span class="sxs-lookup"><span data-stu-id="57510-268">Developers can create event handlers for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event, to provide filtering for controls.</span></span> <span data-ttu-id="57510-269">如果控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性值不符合事件处理程序代码中的条件，则不会将该控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-269">If a control's <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property value does not meet the criteria in the event handler code, the control is not added to the page.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-270">下面的代码示例演示如何设置事件的自定义事件处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> ，该事件处理程序会自动覆盖默认 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-270">The following code example demonstrates how to set a custom event handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event, which automatically overrides the default <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method.</span></span>  
  
 <span data-ttu-id="57510-271">方法中的代码 `mgr1_AuthorizeWebPart` 检查页上的控件是否将其各自的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性值设置为， `user` 如果是，则返回 `true` ，这意味着它们将获得授权并添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-271">The code in the `mgr1_AuthorizeWebPart` method checks whether the controls on the page have their respective <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property values set to `user` and, if so, returns `true`, which means that they will be authorized and added to the page.</span></span> <span data-ttu-id="57510-272">这假定默认方法是允许用户在用户个性化设置范围内查看页面中的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-272">This assumes the default approach is to allow users to view controls with a page in user personalization scope.</span></span> <span data-ttu-id="57510-273">但请注意，在该示例中，其中一个控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性值设置为 `admin` 。</span><span class="sxs-lookup"><span data-stu-id="57510-273">Notice, however, that in the example one of the controls has its <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property value set to `admin`.</span></span> <span data-ttu-id="57510-274">开发人员可能会将此筛选器置于专用控件上，此控件仅供管理用户查看。</span><span class="sxs-lookup"><span data-stu-id="57510-274">Developers might place this filter on a specialized control that was designed for only administrative users to see.</span></span> <span data-ttu-id="57510-275">此控件将在事件期间无法执行授权检查 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> ，且不会显示。</span><span class="sxs-lookup"><span data-stu-id="57510-275">This control will fail the authorization check during the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event, and will not be displayed.</span></span> <span data-ttu-id="57510-276">请注意，也将显示未设置属性的控件;假设它们不属于筛选方案，因为 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 未设置其属性。</span><span class="sxs-lookup"><span data-stu-id="57510-276">Note that controls that do not have the property set are displayed as well; they are assumed not to be part of a filtering scenario because their <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> properties are not set.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_AuthorizeWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_AuthorizeWebPart/CS/AuthorizeWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_AuthorizeWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_AuthorizeWebPart/VB/AuthorizeWebPartVB.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" />
        <altmember cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-277">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-277">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AvailableTransformers">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.TransformerTypeCollection AvailableTransformers { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.TransformerTypeCollection AvailableTransformers" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property AvailableTransformers As TransformerTypeCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::TransformerTypeCollection ^ AvailableTransformers { System::Web::UI::WebControls::WebParts::TransformerTypeCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.AvailableTransformers : System.Web.UI.WebControls.WebParts.TransformerTypeCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.TransformerTypeCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-278">获取 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> 对象的集合，这些对象可用于在服务器控件之间创建 Web 部件连接。</span><span class="sxs-lookup"><span data-stu-id="57510-278">Gets a collection of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> objects that are available for use in creating Web Parts connections between server controls.</span></span></summary>
        <value><span data-ttu-id="57510-279">包含一组 <see cref="T:System.Web.UI.WebControls.WebParts.TransformerTypeCollection" /> 对象的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" />。</span><span class="sxs-lookup"><span data-stu-id="57510-279">A <see cref="T:System.Web.UI.WebControls.WebParts.TransformerTypeCollection" /> that contains a set of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> objects.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-280">此属性使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateAvailableTransformers%2A> 方法来创建集合。</span><span class="sxs-lookup"><span data-stu-id="57510-280">This property uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateAvailableTransformers%2A> method to create the collection.</span></span> <span data-ttu-id="57510-281">默认情况下，它从应用程序配置文件中读取可用的转换器。</span><span class="sxs-lookup"><span data-stu-id="57510-281">By default, it reads the available transformers from the application configuration file.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/ms178187(v=vs.100)"><span data-ttu-id="57510-282">Web 部件连接概述</span><span class="sxs-lookup"><span data-stu-id="57510-282">Web Parts Connections Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="BeginWebPartConnecting">
      <MemberSignature Language="C#" Value="public virtual void BeginWebPartConnecting (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void BeginWebPartConnecting(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub BeginWebPartConnecting (webPart As WebPart)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void BeginWebPartConnecting(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member BeginWebPartConnecting : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit&#xA;override this.BeginWebPartConnecting : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit" Usage="webPartManager.BeginWebPartConnecting webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-283">正为其建立连接的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-283">The control for which the connection is being formed.</span></span></param>
        <summary><span data-ttu-id="57510-284">开始连接两个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-284">Starts the process of connecting two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-285"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting%2A>存在方法，以便在不同的阶段中形成控制连接的过程，使开发人员可以更好地控制连接过程。</span><span class="sxs-lookup"><span data-stu-id="57510-285">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting%2A> method exists so that the process of forming connections between controls can be done in distinct stages, giving developers more control over the connection process.</span></span> <span data-ttu-id="57510-286">方法执行一组初始检查以确保 `webPart` 处于可以合法形成连接的状态。</span><span class="sxs-lookup"><span data-stu-id="57510-286">The method performs a set of initial checks to ensure that `webPart` is in a state where a connection can legitimately be formed.</span></span> <span data-ttu-id="57510-287">如果 `webPart` 通过所有检查，则将其设置为当前选定的控件 (查看 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A>) 属性，然后连接进程可以继续。</span><span class="sxs-lookup"><span data-stu-id="57510-287">If `webPart` passes all the checks, it is then set as the currently selected control (see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> property), and the connecting process can continue.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-288"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-288"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-289">页上的当前显示模式不是 <see cref="F:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode" />。</span><span class="sxs-lookup"><span data-stu-id="57510-289">The current display mode on the page is not <see cref="F:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-290"><paramref name="webPart" /> 已关闭。</span><span class="sxs-lookup"><span data-stu-id="57510-290"><paramref name="webPart" /> is closed.</span></span>  
  
<span data-ttu-id="57510-291">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-291">-or-</span></span> 
 <span data-ttu-id="57510-292"><paramref name="webPart" /> 不是 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> 集合的组成部分。</span><span class="sxs-lookup"><span data-stu-id="57510-292"><paramref name="webPart" /> is not part of the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> collection.</span></span>  
  
<span data-ttu-id="57510-293">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-293">-or -</span></span> 
 <span data-ttu-id="57510-294"><paramref name="webPart" /> 等于 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-294"><paramref name="webPart" /> is equal to the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> control.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-295">需要扩展控件的开发人员 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 可能希望在派生类中重写此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-295">Developers who need to extend the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control might want to override this method in a derived class.</span></span> <span data-ttu-id="57510-296">一种方法是调用基方法，然后添加一些附加的自定义处理;或者，您可能希望完全自定义在控件之间启动连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-296">One approach would be to call the base method, and then add some additional custom handling; or you might want to completely customize the process of starting a connection between controls.</span></span> <span data-ttu-id="57510-297">例如，你可能想要在创建连接之前验证某些数据是否可用。</span><span class="sxs-lookup"><span data-stu-id="57510-297">For example, you might want to verify that certain data is available before creating the connection.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting" />
      </Docs>
    </Member>
    <Member MemberName="BeginWebPartEditing">
      <MemberSignature Language="C#" Value="public virtual void BeginWebPartEditing (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void BeginWebPartEditing(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub BeginWebPartEditing (webPart As WebPart)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void BeginWebPartEditing(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member BeginWebPartEditing : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit&#xA;override this.BeginWebPartEditing : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit" Usage="webPartManager.BeginWebPartEditing webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-298">要编辑的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-298">The control to be edited.</span></span></param>
        <summary><span data-ttu-id="57510-299">开始 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的编辑过程。</span><span class="sxs-lookup"><span data-stu-id="57510-299">Starts the process of editing a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-300">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> 方法存在，使得编辑控件的过程可以在不同的阶段完成，使开发人员可以更好地控制进程。</span><span class="sxs-lookup"><span data-stu-id="57510-300">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> method exists so that the process of editing controls can be done in distinct stages, giving developers more control over the process.</span></span> <span data-ttu-id="57510-301">方法执行一组初始检查以确保 `webPart` 处于可以编辑的状态。</span><span class="sxs-lookup"><span data-stu-id="57510-301">The method performs a set of initial checks to ensure that `webPart` is in a state where it can be edited.</span></span> <span data-ttu-id="57510-302">如果 `webPart` 通过所有检查，则将其设置为当前选定的控件 (查看 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> 属性) ，编辑过程可以继续。</span><span class="sxs-lookup"><span data-stu-id="57510-302">If `webPart` passes all the checks, it is then set as the currently selected control (see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> property), and the editing process can continue.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-303"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-303"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-304">页上的当前显示模式不是 <see cref="F:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode" />。</span><span class="sxs-lookup"><span data-stu-id="57510-304">The current display mode on the page is not <see cref="F:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-305"><paramref name="webPart" /> 已关闭。</span><span class="sxs-lookup"><span data-stu-id="57510-305"><paramref name="webPart" /> is closed.</span></span>  
  
<span data-ttu-id="57510-306">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-306">-or-</span></span> 
 <span data-ttu-id="57510-307"><paramref name="webPart" /> 不是 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> 集合的组成部分。</span><span class="sxs-lookup"><span data-stu-id="57510-307"><paramref name="webPart" /> is not part of the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> collection.</span></span>  
  
<span data-ttu-id="57510-308">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-308">-or -</span></span> 
 <span data-ttu-id="57510-309"><paramref name="webPart" /> 等于 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-309"><paramref name="webPart" /> is equal to the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> control.</span></span></exception>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-310">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-310">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="BrowseDisplayMode">
      <MemberSignature Language="C#" Value="public static readonly System.Web.UI.WebControls.WebParts.WebPartDisplayMode BrowseDisplayMode;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly class System.Web.UI.WebControls.WebParts.WebPartDisplayMode BrowseDisplayMode" />
      <MemberSignature Language="DocId" Value="F:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly BrowseDisplayMode As WebPartDisplayMode " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ BrowseDisplayMode;" />
      <MemberSignature Language="F#" Value=" staticval mutable BrowseDisplayMode : System.Web.UI.WebControls.WebParts.WebPartDisplayMode" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayMode</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-311">表示包含 Web 部件控件的页的默认显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-311">Represents the default display mode for pages that contain Web Parts controls.</span></span> <span data-ttu-id="57510-312">此字段为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-312">This field is read-only.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-313"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode>字段引用由 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 控件创建并包含的自定义对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-313">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> field references a custom <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> object that is created and contained by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-314">因为这是一个静态对象，所以可以直接通过类引用它， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 而无需控件的实例。</span><span class="sxs-lookup"><span data-stu-id="57510-314">Because this is a static object, you can refer to it directly through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class without needing an instance of the control.</span></span>  
  
 <span data-ttu-id="57510-315">当包含 Web 部件控件的页面首次加载时，默认情况下，它处于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> (浏览模式) 中。</span><span class="sxs-lookup"><span data-stu-id="57510-315">When a page that contains Web Parts controls first loads, it is in <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> (browse mode) by default.</span></span> <span data-ttu-id="57510-316">当用户只是在正常网页上浏览时，该页面仍处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-316">When users are simply browsing as they would on a normal Web page, the page remains in browse mode.</span></span> <span data-ttu-id="57510-317">如果用户想要对页面的布局、控件、外观或行为进行个性化设置，则必须将页面切换为通过属性提供的专用显示模式之一 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-317">If users want to personalize a page's layout, controls, appearance, or behavior, they must switch the page into one of the specialized display modes available through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-318">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> 字段。</span><span class="sxs-lookup"><span data-stu-id="57510-318">The following code example demonstrates how to work with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> field programmatically.</span></span> <span data-ttu-id="57510-319">此代码使用受支持的显示模式（在本例中为 "浏览" 和 "设计"）填充下拉列表。</span><span class="sxs-lookup"><span data-stu-id="57510-319">The code populates a drop-down list with the supported display modes, which in this case are browse and design.</span></span> <span data-ttu-id="57510-320">请注意，在 `Page_PreRender` 方法中，代码检查当前 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 属性是否设置为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-320">Notice that, in the `Page_PreRender` method, the code checks whether the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property is set to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode>.</span></span> <span data-ttu-id="57510-321">如果是这样，将 `Label1` 显示，如果不可见， `Label1` 将隐藏。</span><span class="sxs-lookup"><span data-stu-id="57510-321">If so, `Label1` will be visible, and if not, `Label1` will be hidden.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_BrowseDisplayMode#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_BrowseDisplayMode/CS/wpmgrBrowseDisplayModecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_BrowseDisplayMode#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_BrowseDisplayMode/VB/wpmgrBrowseDisplayModevb.aspx#1)]  
  
 <span data-ttu-id="57510-322">在浏览器中加载页面后，默认情况下处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-322">After you load the page in a browser, you are in browse mode by default.</span></span> <span data-ttu-id="57510-323">请注意页面上的标签，指示你处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-323">Notice the label on the page that indicates you are in browse mode.</span></span> <span data-ttu-id="57510-324">使用下拉列表控件将页面切换到设计模式。</span><span class="sxs-lookup"><span data-stu-id="57510-324">Use the drop-down list control to switch the page to design mode.</span></span> <span data-ttu-id="57510-325">请注意，由于方法中的代码 `Page_PreRender` ，标签现在处于隐藏状态。</span><span class="sxs-lookup"><span data-stu-id="57510-325">Notice that, because of the code in the `Page_PreRender` method, the label is now hidden.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-326">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-326">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-327">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-327">Web Parts Page Display Modes</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="CanConnectWebParts">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="57510-328">检查将参与连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件，以确定它们是否能够被连接。</span><span class="sxs-lookup"><span data-stu-id="57510-328">Checks the <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls that will be participating in a connection to determine whether they are capable of being connected.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-329"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A>方法用于确定是否可以连接两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-329">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method is used to determine whether two <xref:System.Web.UI.WebControls.WebParts.WebPart> controls can be connected.</span></span> <span data-ttu-id="57510-330">方法通常在调用方法之前用作条件检查 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-330">The method is typically used as a conditional check prior to calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> method.</span></span>  
  
 <span data-ttu-id="57510-331"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A>方法在两个控件可以形成连接之前，检查必须满足的条件数。</span><span class="sxs-lookup"><span data-stu-id="57510-331">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method checks a number of criteria that must be met before two controls can form a connection.</span></span> <span data-ttu-id="57510-332">以下列表汇总了建立连接的主要标准。</span><span class="sxs-lookup"><span data-stu-id="57510-332">The following list summarizes the primary criteria for making a connection.</span></span> <span data-ttu-id="57510-333">如果满足所有这些条件 (加上一些额外的内部条件) ，则该方法将返回 `true` ，这意味着这些控件可以连接：</span><span class="sxs-lookup"><span data-stu-id="57510-333">If all these criteria (plus some additional internal conditions) are met, the method returns `true`, meaning that the controls can be connected:</span></span>  
  
-   <span data-ttu-id="57510-334">提供程序和使用者控件不能是 `null` ，并且它们必须包含在属性引用的控件的集合中 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-334">The provider and consumer controls cannot be `null`, and they must be contained in the collection of controls referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property.</span></span>  
  
-   <span data-ttu-id="57510-335">提供程序和使用者不能为同一个控件。</span><span class="sxs-lookup"><span data-stu-id="57510-335">The provider and consumer cannot be the same control.</span></span> <span data-ttu-id="57510-336">换句话说， <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件无法连接到自身。</span><span class="sxs-lookup"><span data-stu-id="57510-336">In other words a <xref:System.Web.UI.WebControls.WebParts.WebPart> control cannot connect to itself.</span></span>  
  
-   <span data-ttu-id="57510-337"><xref:System.Web.UI.WebControls.WebParts.ConnectionPoint>提供程序和使用者的 (连接点) 的对象不能为 `null` 。</span><span class="sxs-lookup"><span data-stu-id="57510-337">The <xref:System.Web.UI.WebControls.WebParts.ConnectionPoint> objects (connection points) for both the provider and consumer cannot be `null`.</span></span>  
  
-   <span data-ttu-id="57510-338">无法关闭提供程序和使用者 (不能) 控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.IsClosed%2A> 属性 `true` 。</span><span class="sxs-lookup"><span data-stu-id="57510-338">The provider and consumer cannot be closed (neither control's <xref:System.Web.UI.WebControls.WebParts.WebPart.IsClosed%2A> property can be `true`).</span></span>  
  
-   <span data-ttu-id="57510-339"><xref:System.Web.UI.WebControls.WebParts.ConnectionPoint.ControlType%2A>连接点控件的属性必须与使用者和提供者的控件类型匹配。</span><span class="sxs-lookup"><span data-stu-id="57510-339">The <xref:System.Web.UI.WebControls.WebParts.ConnectionPoint.ControlType%2A> property of the connection point control must match the type of the control of both consumer and provider.</span></span>  
  
-   <span data-ttu-id="57510-340">必须同时启用连接点 (其 <xref:System.Web.UI.WebControls.WebParts.ConnectionPoint.GetEnabled%2A> 方法必须同时返回 `true`) 。</span><span class="sxs-lookup"><span data-stu-id="57510-340">The connection points must both be enabled (their <xref:System.Web.UI.WebControls.WebParts.ConnectionPoint.GetEnabled%2A> methods must both return `true`).</span></span>  
  
-   <span data-ttu-id="57510-341">每个连接点不能尝试建立比它自己的属性中所指定内容更多的连接 <xref:System.Web.UI.WebControls.WebParts.ConnectionPoint.AllowsMultipleConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-341">Each connection point must not be attempting to form more connections than what is specified in its own <xref:System.Web.UI.WebControls.WebParts.ConnectionPoint.AllowsMultipleConnections%2A> property.</span></span>  
  
-   <span data-ttu-id="57510-342">如果 <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> 连接不兼容的控件需要 (转换器) 对象，则不能为 `null` 。</span><span class="sxs-lookup"><span data-stu-id="57510-342">If a <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> object (transformer) is required to connect incompatible controls, it cannot be `null`.</span></span> <span data-ttu-id="57510-343">但是，如果控件已兼容，则转换必须为 `null` 。</span><span class="sxs-lookup"><span data-stu-id="57510-343">However, if the controls are already compatible, the transformer must be `null`.</span></span>  
  
-   <span data-ttu-id="57510-344">转换器 (如果使用) 必须在集合中引用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-344">The transformer (if used) must be referenced in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers%2A> collection.</span></span>  
  
-   <span data-ttu-id="57510-345">转换器 (如果使用) 必须具有与提供程序和使用者兼容的接口，以便它能够在两个控件之间转换数据。</span><span class="sxs-lookup"><span data-stu-id="57510-345">The transformer (if used) must have interfaces that are compatible with the provider and the consumer so that it can transform data between the two controls.</span></span> <span data-ttu-id="57510-346">使用者和提供程序的辅助接口也必须兼容。</span><span class="sxs-lookup"><span data-stu-id="57510-346">The secondary interfaces of the consumer and provider must also be compatible.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-347">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-347">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="CanConnectWebParts">
      <MemberSignature Language="C#" Value="public bool CanConnectWebParts (System.Web.UI.WebControls.WebParts.WebPart provider, System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, System.Web.UI.WebControls.WebParts.WebPart consumer, System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool CanConnectWebParts(class System.Web.UI.WebControls.WebParts.WebPart provider, class System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, class System.Web.UI.WebControls.WebParts.WebPart consumer, class System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ProviderConnectionPoint,System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint)" />
      <MemberSignature Language="VB.NET" Value="Public Function CanConnectWebParts (provider As WebPart, providerConnectionPoint As ProviderConnectionPoint, consumer As WebPart, consumerConnectionPoint As ConsumerConnectionPoint) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool CanConnectWebParts(System::Web::UI::WebControls::WebParts::WebPart ^ provider, System::Web::UI::WebControls::WebParts::ProviderConnectionPoint ^ providerConnectionPoint, System::Web::UI::WebControls::WebParts::WebPart ^ consumer, System::Web::UI::WebControls::WebParts::ConsumerConnectionPoint ^ consumerConnectionPoint);" />
      <MemberSignature Language="F#" Value="member this.CanConnectWebParts : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ProviderConnectionPoint * System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint -&gt; bool" Usage="webPartManager.CanConnectWebParts (provider, providerConnectionPoint, consumer, consumerConnectionPoint)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="provider" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="providerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" />
        <Parameter Name="consumer" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="consumerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" />
      </Parameters>
      <Docs>
        <param name="provider"><span data-ttu-id="57510-348">在控件连接时为 <paramref name="consumer" /> 提供数据的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-348">The control that provides data to <paramref name="consumer" /> when the controls are connected.</span></span></param>
        <param name="providerConnectionPoint"><span data-ttu-id="57510-349">使 <paramref name="provider" /> 能够参与连接的 <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" />。</span><span class="sxs-lookup"><span data-stu-id="57510-349">A <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> that enables <paramref name="provider" /> to participate in a connection.</span></span></param>
        <param name="consumer"><span data-ttu-id="57510-350">控件连接时从 <paramref name="provider" /> 接收数据的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-350">The control that receives data from <paramref name="provider" /> when the controls are connected.</span></span></param>
        <param name="consumerConnectionPoint"><span data-ttu-id="57510-351">一个 <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" />，它作为回调方法，以便 <paramref name="consumer" /> 可以参与连接。</span><span class="sxs-lookup"><span data-stu-id="57510-351">A <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> that acts as a callback method so that <paramref name="consumer" /> can participate in a connection.</span></span></param>
        <summary><span data-ttu-id="57510-352">当使用者和提供者控件有兼容接口且不需要 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 对象时，请检查将参与连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> 控件，以确定它们是否能够被连接。</span><span class="sxs-lookup"><span data-stu-id="57510-352">Checks the <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls that will be participating in a connection to determine whether they are capable of being connected, when the consumer and provider controls have compatible interfaces and a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> object is not needed.</span></span></summary>
        <returns><span data-ttu-id="57510-353">一个布尔值，指示是否能连接 <paramref name="provider" /> 和 <paramref name="consumer" />。</span><span class="sxs-lookup"><span data-stu-id="57510-353">A Boolean value that indicates whether <paramref name="provider" /> and <paramref name="consumer" /> can be connected.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-354">此方法用于 `provider` `consumer` 在两个控件都具有兼容的连接点类型的情况下进行连接，因此 <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> 不需要对象。</span><span class="sxs-lookup"><span data-stu-id="57510-354">This method is used to connect `provider` and `consumer` when both controls have compatible connection point types, so that a <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> object is not needed.</span></span> <span data-ttu-id="57510-355">您可能想要使用此方法来验证是否可以连接两个控件，然后再调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> 来创建编程连接。</span><span class="sxs-lookup"><span data-stu-id="57510-355">You might want to use this method to verify that two controls can be connected before calling <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> to create a programmatic connection.</span></span>  
  
 <span data-ttu-id="57510-356">此重载使用与方法重载相同的实现 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPartTransformer%29> ，唯一的例外是此重载不需要转换器。</span><span class="sxs-lookup"><span data-stu-id="57510-356">This overload uses the same implementation as the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPartTransformer%29> method overload, with the only exception being that this overload does not require a transformer.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-357">下面的代码示例演示如何使用此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-357">The following code example demonstrates how to use this method.</span></span>  
  
 <span data-ttu-id="57510-358">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-358">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-359">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-359">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-360">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件、一个 `<asp:webpartmanager>` 元素，以及一些使用方法创建连接的事件处理代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-360">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, an `<asp:webpartmanager>` element, and some event-handling code that creates a connection using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method.</span></span>  
  
-   <span data-ttu-id="57510-361">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-361">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-362">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-362">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-363">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-363">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-364">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-364">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-365">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-365">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-366">网页的声明性标记包含 `Register` 用户控件和自定义控件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-366">The declarative markup for the Web page contains `Register` directives for both the user control and the custom controls.</span></span> <span data-ttu-id="57510-367">有一个 `<asp:webpartmanager>` 元素、一个 `<asp:webpartzone>` 元素包含自定义控件和一个 `<asp:connectionszone>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-367">There is an `<asp:webpartmanager>` element, an `<asp:webpartzone>` element to contain the custom controls, and an `<asp:connectionszone>` element.</span></span> <span data-ttu-id="57510-368">请注意，在 `Page_Load` 方法中，代码检查是否可以建立连接，如果是，则定义提供程序、使用者及其各自的连接点，然后将新连接添加到属性引用的静态连接集 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-368">Notice that in the `Page_Load` method, the code checks whether the connection can be made and, if so, defines a provider, a consumer, and their respective connection points, and then adds a new connection to the set of static connections referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> property.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/CS/wpmgrStaticConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/VB/wpmgrStaticConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-369">该示例的第三部分是控件的源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-369">The third part of the example is the source code for the controls.</span></span> <span data-ttu-id="57510-370">它包含一个接口和两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，一个充当提供程序，另一个作为使用者。</span><span class="sxs-lookup"><span data-stu-id="57510-370">It contains an interface and two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, one acting as a provider, and the other as a consumer.</span></span> <span data-ttu-id="57510-371">由于它们具有兼容的连接点 (这两个连接点识别 `IZipCode` 接口) ，因此连接不需要转换器。</span><span class="sxs-lookup"><span data-stu-id="57510-371">Because they have compatible connection points (both of them recognize the `IZipCode` interface), a transformer is not needed to make the connection.</span></span> <span data-ttu-id="57510-372">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-372">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-373">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-373">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-374">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-374">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-375">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-375">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_StaticConnections#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/CS/ZipCodeComponent.cs#2)]
 [!code-vb[WebParts_WebPartManager_StaticConnections#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/VB/ZipCodeComponent.vb#2)]  
  
 <span data-ttu-id="57510-376">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-376">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-377">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-377">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-378">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-378">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-379">连接用户界面 (UI) 出现后，请注意该方法中包含的代码已创建连接 `Page_Load` 。</span><span class="sxs-lookup"><span data-stu-id="57510-379">After the connection user interface (UI) appears, notice that a connection has already been created by the code contained in the `Page_Load` method.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-380">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-380">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CanConnectWebParts">
      <MemberSignature Language="C#" Value="public virtual bool CanConnectWebParts (System.Web.UI.WebControls.WebParts.WebPart provider, System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, System.Web.UI.WebControls.WebParts.WebPart consumer, System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint, System.Web.UI.WebControls.WebParts.WebPartTransformer transformer);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool CanConnectWebParts(class System.Web.UI.WebControls.WebParts.WebPart provider, class System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, class System.Web.UI.WebControls.WebParts.WebPart consumer, class System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint, class System.Web.UI.WebControls.WebParts.WebPartTransformer transformer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ProviderConnectionPoint,System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint,System.Web.UI.WebControls.WebParts.WebPartTransformer)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function CanConnectWebParts (provider As WebPart, providerConnectionPoint As ProviderConnectionPoint, consumer As WebPart, consumerConnectionPoint As ConsumerConnectionPoint, transformer As WebPartTransformer) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool CanConnectWebParts(System::Web::UI::WebControls::WebParts::WebPart ^ provider, System::Web::UI::WebControls::WebParts::ProviderConnectionPoint ^ providerConnectionPoint, System::Web::UI::WebControls::WebParts::WebPart ^ consumer, System::Web::UI::WebControls::WebParts::ConsumerConnectionPoint ^ consumerConnectionPoint, System::Web::UI::WebControls::WebParts::WebPartTransformer ^ transformer);" />
      <MemberSignature Language="F#" Value="abstract member CanConnectWebParts : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ProviderConnectionPoint * System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint * System.Web.UI.WebControls.WebParts.WebPartTransformer -&gt; bool&#xA;override this.CanConnectWebParts : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ProviderConnectionPoint * System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint * System.Web.UI.WebControls.WebParts.WebPartTransformer -&gt; bool" Usage="webPartManager.CanConnectWebParts (provider, providerConnectionPoint, consumer, consumerConnectionPoint, transformer)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="provider" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="providerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" />
        <Parameter Name="consumer" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="consumerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" />
        <Parameter Name="transformer" Type="System.Web.UI.WebControls.WebParts.WebPartTransformer" />
      </Parameters>
      <Docs>
        <param name="provider"><span data-ttu-id="57510-381">在控件连接时为 <paramref name="consumer" /> 提供数据的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-381">The control that provides data to <paramref name="consumer" /> when the controls are connected.</span></span></param>
        <param name="providerConnectionPoint"><span data-ttu-id="57510-382">一个 <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" />，它作为回调方法，以便 <paramref name="provider" /> 可以参与连接。</span><span class="sxs-lookup"><span data-stu-id="57510-382">A <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> that acts as a callback method so that <paramref name="provider" /> can participate in a connection.</span></span></param>
        <param name="consumer"><span data-ttu-id="57510-383">控件连接时从 <paramref name="provider" /> 接收数据的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-383">The control that receives data from <paramref name="provider" /> when the controls are connected.</span></span></param>
        <param name="consumerConnectionPoint"><span data-ttu-id="57510-384">一个 <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" />，它作为回调方法，以便 <paramref name="consumer" /> 可以参与连接。</span><span class="sxs-lookup"><span data-stu-id="57510-384">A <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> that acts as a callback method so that <paramref name="consumer" /> can participate in a connection.</span></span></param>
        <param name="transformer"><span data-ttu-id="57510-385">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" />，它使不兼容的 <paramref name="provider" /> 和 <paramref name="consumer" /> 能够进行连接。</span><span class="sxs-lookup"><span data-stu-id="57510-385">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> that enables an incompatible <paramref name="provider" /> and <paramref name="consumer" /> to connect.</span></span></param>
        <summary><span data-ttu-id="57510-386">检查将参与连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件，以确定这些控件是否能够连接，并使用 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> 对象在不兼容的使用者和提供者之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-386">Checks the <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls that will be participating in a connection to determine whether they are capable of being connected, and uses a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> object to create the connection between an incompatible consumer and provider.</span></span></summary>
        <returns><span data-ttu-id="57510-387">一个布尔值，它指示 <paramref name="provider" /> 和 <paramref name="consumer" /> 是否可以形成连接。</span><span class="sxs-lookup"><span data-stu-id="57510-387">A Boolean value that indicates whether <paramref name="provider" /> and <paramref name="consumer" /> can form a connection.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-388">此方法用于连接 `provider` ，并且 `consumer` 在两个控件都具有不兼容的连接点类型时，因此 <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> 需要对象。</span><span class="sxs-lookup"><span data-stu-id="57510-388">This method is used to connect `provider` and `consumer` when both controls have incompatible connection point types, so that a <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> object is required.</span></span> <span data-ttu-id="57510-389">您可能想要使用此方法来验证是否可以连接两个控件，然后再调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> 来创建编程连接。</span><span class="sxs-lookup"><span data-stu-id="57510-389">You might want to use this method to verify that two controls can be connected before calling <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> to create a programmatic connection.</span></span>  
  
 <span data-ttu-id="57510-390">此重载使用与方法重载相同的实现 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%29> ，唯一的例外是此重载需要转换器。</span><span class="sxs-lookup"><span data-stu-id="57510-390">This overload uses the same implementation as the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%29> method overload, with the only exception being that this overload requires a transformer.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CatalogDisplayMode">
      <MemberSignature Language="C#" Value="public static readonly System.Web.UI.WebControls.WebParts.WebPartDisplayMode CatalogDisplayMode;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly class System.Web.UI.WebControls.WebParts.WebPartDisplayMode CatalogDisplayMode" />
      <MemberSignature Language="DocId" Value="F:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly CatalogDisplayMode As WebPartDisplayMode " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ CatalogDisplayMode;" />
      <MemberSignature Language="F#" Value=" staticval mutable CatalogDisplayMode : System.Web.UI.WebControls.WebParts.WebPartDisplayMode" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayMode</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-391">表示用于从控件目录向网页添加服务器控件的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-391">Represents the display mode used for adding server controls from a catalog of controls to a Web page.</span></span> <span data-ttu-id="57510-392">此字段为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-392">This field is read-only.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-393"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode>字段引用由 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 控件创建并包含的自定义对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-393">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> field references a custom <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> object that is created and contained by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-394">因为这是一个静态对象，所以可以直接通过类引用它， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 而无需控件的实例。</span><span class="sxs-lookup"><span data-stu-id="57510-394">Because this is a static object, you can refer to it directly through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class without needing an instance of the control.</span></span>  
  
 <span data-ttu-id="57510-395">当用户想要将控件添加到页面时，如果服务器控件的目录可用，则他们可以切换页面以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> (目录模式) ，并显示目录用户界面 (UI) 。</span><span class="sxs-lookup"><span data-stu-id="57510-395">When users want to add controls to a page, if a catalog of server controls is available, they can switch the page to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> (catalog mode), and the catalog user interface (UI) appears.</span></span> <span data-ttu-id="57510-396">Web 部件目录的 UI 由 <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase> 区域控件提供。</span><span class="sxs-lookup"><span data-stu-id="57510-396">The UI for a Web Parts catalog is provided by a <xref:System.Web.UI.WebControls.WebParts.CatalogZoneBase> zone control.</span></span> <span data-ttu-id="57510-397">开发人员在设计时将此区域添加到页面，然后将服务器控件添加到区域，以便用户能够在运行时将这些控件添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-397">Developers add this zone to the page at design time, and then add server controls to the zone, so that users will be able to add those controls to their pages at run time.</span></span> <span data-ttu-id="57510-398">开发人员添加这些控件后，目录模式将在页面上变为受支持的显示模式，因为必要的控件可用于启用目录模式。</span><span class="sxs-lookup"><span data-stu-id="57510-398">After the developer has added these controls, catalog mode becomes a supported display mode on the page because the necessary controls are there to enable catalog mode.</span></span>  
  
 <span data-ttu-id="57510-399">当用户将页面切换到目录模式时，区域以及添加到其中的所有服务器控件都变为可见，用户可以从目录中选择要添加到页面的控件，或者从页面中删除控件。</span><span class="sxs-lookup"><span data-stu-id="57510-399">When a user switches a page to catalog mode, the zone and all the server controls that were added to it become visible, and the user can select controls from the catalog to add to the page, or remove controls from the page.</span></span> <span data-ttu-id="57510-400">将控件添加到页面后，它们将以正常的浏览模式显示，并更新页面。</span><span class="sxs-lookup"><span data-stu-id="57510-400">After the controls have been added to the page, they appear in normal browse mode and the page is updated.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-401">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> 字段。</span><span class="sxs-lookup"><span data-stu-id="57510-401">The following code example demonstrates how to work with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> field programmatically.</span></span> <span data-ttu-id="57510-402">此代码使用页面支持的显示模式填充下拉列表，在此示例中为 "浏览"、"设计" 和 "目录"。</span><span class="sxs-lookup"><span data-stu-id="57510-402">The code populates a drop-down list with the supported display modes for the page, which in this case are browse, design, and catalog.</span></span> <span data-ttu-id="57510-403">由于在网页 `<asp:CatalogZone>` 中有元素及其子元素，因此目录模式可用。</span><span class="sxs-lookup"><span data-stu-id="57510-403">The catalog mode is available because of the `<asp:CatalogZone>` element and its child elements in the Web page.</span></span> <span data-ttu-id="57510-404">请注意，在 `Page_PreRender` 方法中，代码检查当前 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 属性是否设置为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-404">Notice that, in the `Page_PreRender` method, the code checks whether the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property is set to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode>.</span></span> <span data-ttu-id="57510-405">如果是这样，将 `Label1` 显示，如果不可见， `Label1` 将隐藏。</span><span class="sxs-lookup"><span data-stu-id="57510-405">If so, `Label1` will be visible, and if not, `Label1` will be hidden.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_CatalogDisplayMode#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CatalogDisplayMode/CS/wpmgrCatalogDisplayModecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_CatalogDisplayMode#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CatalogDisplayMode/VB/wpmgrCatalogDisplayModevb.aspx#1)]  
  
 <span data-ttu-id="57510-406">在浏览器中加载页面后，默认情况下处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-406">After you load the page in a browser, you are in browse mode by default.</span></span> <span data-ttu-id="57510-407">请注意，页面上的标签处于隐藏状态。</span><span class="sxs-lookup"><span data-stu-id="57510-407">Notice that the label on the page is hidden.</span></span> <span data-ttu-id="57510-408">使用下拉列表控件将页面切换到目录模式。</span><span class="sxs-lookup"><span data-stu-id="57510-408">Use the drop-down list control to switch the page to catalog mode.</span></span> <span data-ttu-id="57510-409">请注意，由于方法中的代码 `Page_PreRender` ，标签现在可见。</span><span class="sxs-lookup"><span data-stu-id="57510-409">Notice that, because of the code in the `Page_PreRender` method, the label is now visible.</span></span> <span data-ttu-id="57510-410">可以在目录中选择控件，并将其添加到页面上两个区域中的任意一个。</span><span class="sxs-lookup"><span data-stu-id="57510-410">You can select the control in the catalog and add it to either of the two zones on the page.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-411">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-411">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-412">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-412">Web Parts Page Display Modes</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CheckRenderClientScript">
      <MemberSignature Language="C#" Value="protected virtual bool CheckRenderClientScript ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance bool CheckRenderClientScript() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CheckRenderClientScript" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CheckRenderClientScript () As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual bool CheckRenderClientScript();" />
      <MemberSignature Language="F#" Value="abstract member CheckRenderClientScript : unit -&gt; bool&#xA;override this.CheckRenderClientScript : unit -&gt; bool" Usage="webPartManager.CheckRenderClientScript " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-413">检查发出请求的浏览器的功能，并检查 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript" /> 属性的值，以确定是否呈现客户端脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-413">Checks the capabilities of the browser making the request, and the value of the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript" /> property, to determine whether to render client script.</span></span></summary>
        <returns><span data-ttu-id="57510-414">一个布尔值，指示是否呈现客户端脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-414">A Boolean value that indicates whether to render client script.</span></span></returns>
        <remarks>To be added.</remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-415">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-415">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CloseProviderWarning">
      <MemberSignature Language="C#" Value="public virtual string CloseProviderWarning { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string CloseProviderWarning" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property CloseProviderWarning As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ CloseProviderWarning { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CloseProviderWarning : string with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-416">获取或设置一个警告，用户关闭在连接中充当其他控件的提供者的控件时，会显示该警告。</span><span class="sxs-lookup"><span data-stu-id="57510-416">Gets or sets a warning that is displayed when a user closes a control that is acting as a provider to other controls in a connection.</span></span></summary>
        <value><span data-ttu-id="57510-417">一个包含警告消息的字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-417">A string that contains the warning message.</span></span> <span data-ttu-id="57510-418">默认值是一条由 .NET Framework 提供的、特定于区域性的消息。</span><span class="sxs-lookup"><span data-stu-id="57510-418">The default is a culture-specific message supplied by the .NET Framework.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-419">当用户关闭控件时 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，通常不会显示任何消息。</span><span class="sxs-lookup"><span data-stu-id="57510-419">When a user closes a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, normally no message is displayed.</span></span> <span data-ttu-id="57510-420">有关关闭控件的方法的详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-420">For more information about what it means to close a control, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method.</span></span>  
  
 <span data-ttu-id="57510-421">但是，当控件连接到其他控件并作为数据的提供程序时，当用户尝试关闭控件时，将显示默认警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-421">However, when a control is connected to another control and is acting as a provider of data to the other control, a default warning message is displayed when a user attempts to close the control.</span></span> <span data-ttu-id="57510-422">消息告知用户提供程序控件即将关闭，这意味着以使用者身份连接到此提供程序的控件将不再具有任何要使用的数据。</span><span class="sxs-lookup"><span data-stu-id="57510-422">The message tells users that a provider control is about to close, which means that controls connected to this provider as consumers will no longer have any data to consume.</span></span> <span data-ttu-id="57510-423"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A>属性使开发人员可以自定义向用户显示的警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-423">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> property enables developers to customize the warning message that is displayed to the user.</span></span>  
  
 <span data-ttu-id="57510-424">如果页面开发人员将空或空字符串值分配给此属性，则当用户关闭作为提供者的控件时，将不会显示任何警告消息框 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-424">If a page developer assigns an empty or null string value to this property, no warning message box will be shown when a user closes a <xref:System.Web.UI.WebControls.WebParts.WebPart> control that is a provider.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-425">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> 属性向用户显示自定义警告。</span><span class="sxs-lookup"><span data-stu-id="57510-425">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> property to display a custom warning to users.</span></span>  
  
 <span data-ttu-id="57510-426">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-426">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-427">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-427">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-428">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-428">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-429">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-429">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected and an `<asp:webpartmanager>` element.</span></span>  
  
-   <span data-ttu-id="57510-430">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-430">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-431">下面的代码仅包含示例的网页部分。</span><span class="sxs-lookup"><span data-stu-id="57510-431">The following code contains only the Web page portion of the example.</span></span> <span data-ttu-id="57510-432">还需要为上述自定义控件提供自定义用户控件和源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-432">You will also need the custom user control and the source code for the custom controls mentioned above.</span></span> <span data-ttu-id="57510-433">从类概述的 "示例" 部分获取这两个项 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-433">Obtain these two items from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span>  
  
 <span data-ttu-id="57510-434">以下网页代码演示了如何在元素中的声明性标记中将自定义警告消息分配给 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> 属性 `<asp:webpartmanager>` 。</span><span class="sxs-lookup"><span data-stu-id="57510-434">The following Web page code demonstrates how to assign a custom warning message to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> property in declarative markup in the `<asp:webpartmanager>` element.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_CloseProviderWarning#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CloseProviderWarning/CS/webpartmanagerConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_CloseProviderWarning#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CloseProviderWarning/VB/webpartmanagerConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-435">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-435">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-436">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-436">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-437">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-437">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-438">连接用户界面 (UI) 出现后，单击 " **创建使用者的连接** " 链接。</span><span class="sxs-lookup"><span data-stu-id="57510-438">After the connection user interface (UI) appears, click the **Create a connection to a Consumer** link.</span></span> <span data-ttu-id="57510-439">出现包含下拉列表控件的单元格。</span><span class="sxs-lookup"><span data-stu-id="57510-439">A cell appears that has a drop-down list control.</span></span> <span data-ttu-id="57510-440">在下拉列表中选择 " **天气控制** "，然后单击 " **连接** " 完成两个控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-440">Select **Weather Control** in the drop-down list, and click **Connect** to complete the connection of the two controls.</span></span> <span data-ttu-id="57510-441">单击 " **关闭**"，然后使用 " **显示模式** " 下拉列表将页面恢复到正常浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-441">Click **Close**, and then use the **Display Mode** drop-down list to return the page to normal browse mode.</span></span> <span data-ttu-id="57510-442">最后，单击 **邮政编码** 控件的谓词菜单 (这是此示例中的提供程序控件) 并选择 " **关闭**"。</span><span class="sxs-lookup"><span data-stu-id="57510-442">Finally, click the verbs menu for the **ZIP Code** control (which is the provider control in this case) and select **Close**.</span></span> <span data-ttu-id="57510-443">随即显示您分配给该属性的自定义消息 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-443">The custom message you assigned to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseProviderWarning%2A> property is displayed.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-444">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-444">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CloseWebPart">
      <MemberSignature Language="C#" Value="public void CloseWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void CloseWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Sub CloseWebPart (webPart As WebPart)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void CloseWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="member this.CloseWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit" Usage="webPartManager.CloseWebPart webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-445">正在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 中关闭的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 或服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-445">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control that is being closed in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" />.</span></span></param>
        <summary><span data-ttu-id="57510-446">以不在网页上呈现，但可以重新打开的方式关闭 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-446">Closes a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control in such a way that it is not rendered on a Web page, but can be reopened.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-447"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A>方法删除 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或其他服务器控件，使其不会在最初包含它的网页上呈现。</span><span class="sxs-lookup"><span data-stu-id="57510-447">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method removes a <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server control so that it is not rendered on the Web page that originally contained it.</span></span> <span data-ttu-id="57510-448">将关闭的控件添加到 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 对象中，该对象维护对已关闭控件的引用，并使控件可以还原到页面。</span><span class="sxs-lookup"><span data-stu-id="57510-448">The closed control is added to a <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> object, which maintains a reference to the closed control and makes it possible for the control to be restored to the page.</span></span> <span data-ttu-id="57510-449">关闭的 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件仍会出现在属性引用的集合中 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-449">A closed <xref:System.Web.UI.WebControls.WebParts.WebPart> control still appears in the collection referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property.</span></span>  
  
 <span data-ttu-id="57510-450">关闭控件不同于删除控件。</span><span class="sxs-lookup"><span data-stu-id="57510-450">Closing a control is different from deleting it.</span></span> <span data-ttu-id="57510-451">关闭的控件仍可还原到页面，但已删除的控件实例将被永久删除且永远无法还原。</span><span class="sxs-lookup"><span data-stu-id="57510-451">Closed controls are still available to be restored to a page, but a deleted control instance is permanently removed and can never be restored.</span></span> <span data-ttu-id="57510-452">无论 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或服务器控件是否为静态 (在页的标记) 或动态 (以编程方式或通过 Web 部件目录) 的用户添加到页面，都可以在页面上关闭和重新打开。</span><span class="sxs-lookup"><span data-stu-id="57510-452">Regardless of whether a <xref:System.Web.UI.WebControls.WebParts.WebPart> or server control is static (declared in the markup of a page) or dynamic (added to the page programmatically or by a user from a Web Parts catalog), it can be closed and reopened on a page.</span></span>  
  
 <span data-ttu-id="57510-453">通常，用户可以 <xref:System.Web.UI.WebControls.WebParts.WebPart> 通过单击其谓词菜单并选择 "关闭" 谓词来关闭控件。</span><span class="sxs-lookup"><span data-stu-id="57510-453">Typically, users can close a <xref:System.Web.UI.WebControls.WebParts.WebPart> control by clicking its verbs menu and selecting the close verb.</span></span> <span data-ttu-id="57510-454">还可以通过直接调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> 方法并向其传递对的引用来关闭控件 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-454">A control can also be closed by directly calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method and passing it a reference to `webPart`.</span></span>  
  
 <span data-ttu-id="57510-455">在控件已关闭的页上 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，如果开发人员声明一个 `<asp:catalogzone>` 元素，并在其中添加一个 `<asp:pagecatalogpart>` 元素，则它将为用户提供一个简单的用户界面， (UI) ，用户可以在运行时将关闭的控件还原到该页。</span><span class="sxs-lookup"><span data-stu-id="57510-455">On a page where <xref:System.Web.UI.WebControls.WebParts.WebPart> controls have been closed, if a developer declares an `<asp:catalogzone>` element, and within it adds an `<asp:pagecatalogpart>` element, it provides a simple user interface (UI) for users to restore closed controls to the page at run time.</span></span> <span data-ttu-id="57510-456">用户可以将页面切换到目录显示模式，而关闭的控件将显示在页目录中。</span><span class="sxs-lookup"><span data-stu-id="57510-456">Users can switch the page into catalog display mode, and the closed controls will appear within the page catalog.</span></span> <span data-ttu-id="57510-457">用户可以选择 "已关闭" 的控件并将其添加回页面所需的任何位置，然后将所选控件还原到页面并呈现为正常。</span><span class="sxs-lookup"><span data-stu-id="57510-457">Users can select closed controls and add them back to the page at whatever position they desire, and then the selected controls are restored to the page and rendered as normal.</span></span>  
  
 <span data-ttu-id="57510-458"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A>调用方法时，它会引发几个事件： <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> ， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 如果有多个控件) ，则 (; <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 如果有连接的控件) ，则 (。</span><span class="sxs-lookup"><span data-stu-id="57510-458">When the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method is called, it raises several events: <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> (if there are multiple controls), and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> (if there are connected controls).</span></span> <span data-ttu-id="57510-459">通常，开发人员可以取消这些事件，但在某些情况下，不可能取消这些事件。</span><span class="sxs-lookup"><span data-stu-id="57510-459">Normally developers can cancel these events, but in certain cases it is not possible to cancel them.</span></span> <span data-ttu-id="57510-460">有关详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 和事件的文档 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 。</span><span class="sxs-lookup"><span data-stu-id="57510-460">For details, see the documentation for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing>, <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging>, and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> events.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-461">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-461">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method.</span></span>  
  
 <span data-ttu-id="57510-462">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-462">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-463">允许您更改页面显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-463">A user control that enables you to change page display modes.</span></span>  
  
-   <span data-ttu-id="57510-464">自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-464">A custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span>  
  
-   <span data-ttu-id="57510-465">网页。</span><span class="sxs-lookup"><span data-stu-id="57510-465">A Web page.</span></span>  
  
-   <span data-ttu-id="57510-466">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-466">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-467">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-467">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-468">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-468">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-469">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-469">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-470">此代码示例的第二部分是自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-470">The second part of the code example is the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-471">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-471">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-472">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-472">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-473">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-473">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-474">此示例使用动态编译方法;因此， `Assembly` 此控件在网页顶部的指令中没有属性 `Register` 。</span><span class="sxs-lookup"><span data-stu-id="57510-474">This example uses the dynamic compilation approach; thus there is no `Assembly` attribute in the `Register` directive for this control at the top of the Web page.</span></span> <span data-ttu-id="57510-475">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-475">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_CloseWebPart#3](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CloseWebPart/CS/textdisplaywebpart.cs#3)]
 [!code-vb[WebParts_WebPartManager_CloseWebPart#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CloseWebPart/VB/textdisplaywebpart.vb#3)]  
  
 <span data-ttu-id="57510-476">此代码示例的第三部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-476">The third part of the code example is the Web page.</span></span> <span data-ttu-id="57510-477">页面包含一个 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 区域，其中声明了 `<asp:pagecatalogpart>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-477">The page contains a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone, with an `<asp:pagecatalogpart>` element declared within it.</span></span> <span data-ttu-id="57510-478">这就是将包含已关闭 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件并使用户能够将其添加回页面的内容。</span><span class="sxs-lookup"><span data-stu-id="57510-478">This is what will contain the closed <xref:System.Web.UI.WebControls.WebParts.WebPart> control and enable users to add it back to the page.</span></span> <span data-ttu-id="57510-479">`Button1_Click`方法直接调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> 方法来关闭自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，但用户也可以通过谓词菜单关闭控件。</span><span class="sxs-lookup"><span data-stu-id="57510-479">The `Button1_Click` method directly calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method to close the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control, although a user can also close the control through the verbs menu.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_CloseWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CloseWebPart/CS/closeWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_CloseWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CloseWebPart/VB/closeWebPartVB.aspx#1)]  
  
 <span data-ttu-id="57510-480">在浏览器中加载页面后， <xref:System.Web.UI.WebControls.WebParts.WebPart> 单击谓词菜单 (关闭自定义控件，方法是单击控件标题中的箭头符号) ，然后单击 " **关闭**"。</span><span class="sxs-lookup"><span data-stu-id="57510-480">After you load the page in a browser, close the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control by clicking the verbs menu (the arrow symbol) in the header of the control, and clicking **Close**.</span></span> <span data-ttu-id="57510-481">现在，通过在 "**显示模式**" 下拉列表控件中选择 "**目录**"，将页面更改为目录模式。</span><span class="sxs-lookup"><span data-stu-id="57510-481">Now change the page to catalog mode by selecting **Catalog** in the **Display Mode** drop-down list control.</span></span> <span data-ttu-id="57510-482">页面目录显示为关闭的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-482">The page catalog appears with the closed control.</span></span> <span data-ttu-id="57510-483">选中关闭的控件旁边的复选框，单击 " **添加** " 将其添加到页面，然后单击 " **关闭** " 以将该页返回到浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-483">Select the check box next to the closed control, click **Add** to add it to the page, and then click **Close** to return the page to browse mode.</span></span> <span data-ttu-id="57510-484">控件将还原到页面。</span><span class="sxs-lookup"><span data-stu-id="57510-484">The control is restored to the page.</span></span> <span data-ttu-id="57510-485">现在，单击 " **关闭 WebPart** " 按钮，此时将其关闭。</span><span class="sxs-lookup"><span data-stu-id="57510-485">Now close it again, this time by clicking the **Close WebPart** button.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-486"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-486"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-487"><paramref name="webPart" /> 不在 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> 集合中。</span><span class="sxs-lookup"><span data-stu-id="57510-487"><paramref name="webPart" /> is not in the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> collection.</span></span>  
  
<span data-ttu-id="57510-488">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-488">-or-</span></span> 
 <span data-ttu-id="57510-489"><paramref name="webPart" /> 是共享控件，并已被另一个用户关闭。</span><span class="sxs-lookup"><span data-stu-id="57510-489"><paramref name="webPart" /> is a shared control and has already been closed by another user.</span></span></exception>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.AllowClose" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.IsClosed" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-490">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-490">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ConnectDisplayMode">
      <MemberSignature Language="C#" Value="public static readonly System.Web.UI.WebControls.WebParts.WebPartDisplayMode ConnectDisplayMode;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly class System.Web.UI.WebControls.WebParts.WebPartDisplayMode ConnectDisplayMode" />
      <MemberSignature Language="DocId" Value="F:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly ConnectDisplayMode As WebPartDisplayMode " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ ConnectDisplayMode;" />
      <MemberSignature Language="F#" Value=" staticval mutable ConnectDisplayMode : System.Web.UI.WebControls.WebParts.WebPartDisplayMode" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayMode</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-491">表示用于显示特殊用户界面 (UI) 以便用户管理 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件之间的连接的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-491">Represents the display mode used for displaying a special user interface (UI) for users to manage connections between <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls.</span></span> <span data-ttu-id="57510-492">此字段为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-492">This field is read-only.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-493"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode>字段引用由 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 控件创建并包含的自定义对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-493">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> field references a custom <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> object that is created and contained by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-494">因为这是一个静态对象，所以可以直接通过类引用它， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 而无需控件的实例。</span><span class="sxs-lookup"><span data-stu-id="57510-494">Because this is a static object, you can refer to it directly through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class without needing an instance of the control.</span></span>  
  
 <span data-ttu-id="57510-495">当用户想要管理网页上的控件之间的连接时 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，如果 <xref:System.Web.UI.WebControls.WebParts.ConnectionsZone> 已在页面上声明了区域，则可以将页面切换到 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> 模式。</span><span class="sxs-lookup"><span data-stu-id="57510-495">When users want to manage connections between <xref:System.Web.UI.WebControls.WebParts.WebPart> controls on a Web page, if a <xref:System.Web.UI.WebControls.WebParts.ConnectionsZone> zone has been declared on the page, they can switch the page into the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> mode.</span></span> <span data-ttu-id="57510-496">"连接" 显示模式显示用于管理连接的特殊 UI，其中包括连接控件或断开连接的功能，以及编辑现有连接的详细信息。</span><span class="sxs-lookup"><span data-stu-id="57510-496">The connect display mode displays a special UI for managing connections, which includes the ability to connect or disconnect controls, and to edit the details of existing connections.</span></span>  
  
 <span data-ttu-id="57510-497">如果希望为用户提供管理 Web 部件控件集提供的 UI 的连接的功能，则必须 `<asp:connectionszone>` 在页的标记中声明一个元素。</span><span class="sxs-lookup"><span data-stu-id="57510-497">If you want to provide users with the ability to manage connections with the UI provided by the Web Parts control set, you must declare an `<asp:connectionszone>` element in the markup of a page.</span></span> <span data-ttu-id="57510-498">与其他类型的区域的元素不同 <xref:System.Web.UI.WebControls.WebParts.WebZone> ，无需在此元素中添加任何其他标记; 只需自行声明元素。</span><span class="sxs-lookup"><span data-stu-id="57510-498">Unlike the elements for the other types of <xref:System.Web.UI.WebControls.WebParts.WebZone> zones, you do not need to add any other tags within this element; you simply declare the element by itself.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-499">下面的代码示例演示了模式的用法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-499">The following code example demonstrates the usage of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> mode.</span></span>  
  
 <span data-ttu-id="57510-500">此代码示例包含三个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-500">The code example has three parts:</span></span>  
  
-   <span data-ttu-id="57510-501">一个源文件，其中包含可形成连接的接口和自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-501">A source file that contains an interface and custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can form a connection.</span></span>  
  
-   <span data-ttu-id="57510-502">提供连接 UI 并演示如何使用模式的网页 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-502">A Web page that provides a connection UI and demonstrates working with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> mode.</span></span>  
  
-   <span data-ttu-id="57510-503">有关如何运行该示例的说明。</span><span class="sxs-lookup"><span data-stu-id="57510-503">An explanation of how to run the example.</span></span>  
  
 <span data-ttu-id="57510-504">此代码示例的第一部分是一个源文件，其中包含一个接口和两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，这些控件设计为可以连接。</span><span class="sxs-lookup"><span data-stu-id="57510-504">The first part of the code example is a source file that contains an interface and two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that are designed so they can be connected.</span></span> <span data-ttu-id="57510-505">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-505">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-506">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-506">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-507">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-507">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-508">此代码示例使用动态编译方法。</span><span class="sxs-lookup"><span data-stu-id="57510-508">This code example uses the dynamic compilation approach.</span></span> <span data-ttu-id="57510-509">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-509">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_ConnectDisplayMode#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_ConnectDisplayMode/CS/ZipCodeComponent.cs#2)]
 [!code-vb[WebParts_WebPartManager_ConnectDisplayMode#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_ConnectDisplayMode/VB/ZipCodeComponent.vb#2)]  
  
 <span data-ttu-id="57510-510">该示例的第二部分是承载自定义控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-510">The second part of the example is a Web page that hosts the custom controls.</span></span> <span data-ttu-id="57510-511">`<script>`页面上的服务器标记中有几种方法，这些方法使用页面上可用的显示模式填充下拉列表。</span><span class="sxs-lookup"><span data-stu-id="57510-511">Within the server `<script>` tags on the page are several methods that populate a drop-down list with the display modes available on the page.</span></span> <span data-ttu-id="57510-512">用户可以从下拉列表中进行选择，以更改页面的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-512">A user can select these from the drop-down list to change the page's display mode.</span></span> <span data-ttu-id="57510-513">其中一种可用的显示模式是连接显示模式，因为 `<asp:connectionszone>` 在页的标记中声明了元素。</span><span class="sxs-lookup"><span data-stu-id="57510-513">One of the available display modes is connect display mode, because an `<asp:connectionszone>` element is declared in the page's markup.</span></span> <span data-ttu-id="57510-514">请注意，此元素不包含任何其他子元素;它只是为了为用户启用连接管理 UI。</span><span class="sxs-lookup"><span data-stu-id="57510-514">Notice that this element does not contain any other child elements; it exists only to enable the connection management UI for users.</span></span>  
  
 <span data-ttu-id="57510-515">在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> 此示例中，模式显示在两个位置。</span><span class="sxs-lookup"><span data-stu-id="57510-515">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> mode appears in this example in two places.</span></span> <span data-ttu-id="57510-516">首先，在 `Page_Init` 方法中，将连接显示模式添加到显示模式的下拉列表中，因为代码会遍历属性中引用的集合 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-516">First, in the `Page_Init` method, the connect display mode is added to the drop-down list of display modes, as the code loops through the collection referenced in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span> <span data-ttu-id="57510-517">其次， `Page_PreRender` 方法检查页上的当前显示模式，如果当前模式为，则在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode> 控件中显示一条消息 <xref:System.Web.UI.WebControls.Label> 。</span><span class="sxs-lookup"><span data-stu-id="57510-517">Second, the `Page_PreRender` method checks the current display mode on the page, and if the current mode is <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode>, a message is displayed in a <xref:System.Web.UI.WebControls.Label> control.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_ConnectDisplayMode#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_ConnectDisplayMode/CS/ConnectDisplayModecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_ConnectDisplayMode#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_ConnectDisplayMode/VB/ConnectDisplayModeVB.aspx#1)]  
  
 <span data-ttu-id="57510-518">在浏览器中加载页面后，单击下拉列表，然后选择 " **连接** "，将页面切换到 "连接" 显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-518">After you load the page in a browser, click the drop-down list and select **Connect** to switch the page into connect display mode.</span></span> <span data-ttu-id="57510-519">请注意，会显示一条消息，告知你该页处于连接显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-519">Notice that a message appears, telling you that the page is in connect display mode.</span></span> <span data-ttu-id="57510-520">现在，单击谓词菜单 (一个控件的标题栏中的箭头符号) <xref:System.Web.UI.WebControls.WebParts.WebPart> ，然后在谓词菜单中单击 " **连接** "。</span><span class="sxs-lookup"><span data-stu-id="57510-520">Now click the verbs menu (an arrow symbol) in the title bar of one of the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, and then click **Connect** in the verbs menu.</span></span> <span data-ttu-id="57510-521">显示连接 UI 后，单击该链接以创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-521">After the connection UI is displayed, click the link to create a connection.</span></span> <span data-ttu-id="57510-522">使用 "连接" UI 中显示的下拉列表，选择将参与连接的其他控件，并单击 " **连接** " 按钮。</span><span class="sxs-lookup"><span data-stu-id="57510-522">Use the drop-down list within the connection UI that appears, select the other control that will participate in the connection, and click the **Connect** button.</span></span> <span data-ttu-id="57510-523">建立连接。</span><span class="sxs-lookup"><span data-stu-id="57510-523">The connection is established.</span></span> <span data-ttu-id="57510-524">单击 " **关闭** " 按钮，然后使用页面顶部的下拉列表返回页面以浏览显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-524">Click the **Close** button, and then use the drop-down list at the top of the page to return the page to browse display mode.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-525">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-525">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-526">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-526">Web Parts Page Display Modes</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Connections">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartConnectionCollection Connections { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartConnectionCollection Connections" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.Connections" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Connections As WebPartConnectionCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartConnectionCollection ^ Connections { System::Web::UI::WebControls::WebParts::WebPartConnectionCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Connections : System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.Connections" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-527">获取对网页上所有当前连接的集合的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-527">Gets a reference to the collection of all current connections on a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-528">包含一组 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" /> 对象的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" />。</span><span class="sxs-lookup"><span data-stu-id="57510-528">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" /> that contains a set of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" /> objects.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-529"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A>属性提供了一种方法来访问页面上的当前连接集。</span><span class="sxs-lookup"><span data-stu-id="57510-529">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A> property provides a way to access the current set of connections on a page.</span></span> <span data-ttu-id="57510-530">集合本身是只读的，并且想要从集合中操作特定连接的开发人员应使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 和等方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-530">The collection itself is read-only, and developers who want to manipulate a specific connection from the collection should use <xref:System.Web.UI.WebControls.WebParts.WebPartManager> methods such as <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-531">下面的代码示例演示如何以声明方式和编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-531">The following code example demonstrates declarative and programmatic use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="57510-532">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-532">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-533">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-533">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-534">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-534">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, and an `<asp:webpartmanager>` element.</span></span>  
  
-   <span data-ttu-id="57510-535">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-535">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-536">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-536">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-537">下面的代码仅包含示例的网页部分。</span><span class="sxs-lookup"><span data-stu-id="57510-537">The following code contains only the Web page portion of the example.</span></span> <span data-ttu-id="57510-538">还需要为上述自定义控件提供自定义用户控件和源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-538">You will also need the custom user control and the source code for the custom controls mentioned above.</span></span> <span data-ttu-id="57510-539">从类概述的 "示例" 部分获取这两个项 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-539">Obtain these two items from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span>  
  
 <span data-ttu-id="57510-540">以下网页代码演示如何以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A> 编程方式使用属性来获取页面上当前连接的计数。</span><span class="sxs-lookup"><span data-stu-id="57510-540">The following Web page code demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A> property programmatically to get the count of current connections on a page.</span></span> <span data-ttu-id="57510-541">请注意，在 " `<script>` 标记" 部分中，用于处理控件的两个事件的代码将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 访问 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A> 属性以获取计数。</span><span class="sxs-lookup"><span data-stu-id="57510-541">Note that in the `<script>` tag section, the code to handle two events for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control accesses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Connections%2A> property to obtain the count.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_SimpleConnection#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/CS/webpartmanagerConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_SimpleConnection#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_SimpleConnection/VB/webpartmanagerConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-542">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-542">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-543">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-543">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-544">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-544">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-545">连接用户界面 (UI) 显示后，请单击 " **创建使用者的连接** " 链接。</span><span class="sxs-lookup"><span data-stu-id="57510-545">After the connection user interface (UI) displays, click the **Create a connection to a Consumer** link.</span></span> <span data-ttu-id="57510-546">出现包含下拉列表控件的单元格。</span><span class="sxs-lookup"><span data-stu-id="57510-546">A cell appears that has a drop-down list control.</span></span> <span data-ttu-id="57510-547">在下拉列表中选择 " **天气控制** "，然后单击 " **连接** " 完成两个控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-547">Select **Weather Control** in the drop-down list, and click **Connect** to complete the connection of the two controls.</span></span> <span data-ttu-id="57510-548">单击 " **关闭**"，然后使用 " **显示模式** " 下拉列表将页面恢复到正常浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-548">Click **Close**, and then use the **Display Mode** drop-down list to return the page to normal browse mode.</span></span> <span data-ttu-id="57510-549">请注意，标签现在显示连接数以及 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件数。</span><span class="sxs-lookup"><span data-stu-id="57510-549">Note that a label now displays the number of connections and the number of <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="57510-550">如果你现在返回到连接模式并断开两个控件的连接，则当你返回到浏览模式时，应更新标签的内容，并且不应建立任何连接。</span><span class="sxs-lookup"><span data-stu-id="57510-550">If you now return to connect mode and disconnect the two controls, when you return to browse mode, the label's content should be updated and there should be no connections.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-551">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-551">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ConnectionsActivated">
      <MemberSignature Language="C#" Value="public event EventHandler ConnectionsActivated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler ConnectionsActivated" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event ConnectionsActivated As EventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ ConnectionsActivated;" />
      <MemberSignature Language="F#" Value="member this.ConnectionsActivated : EventHandler " Usage="member this.ConnectionsActivated : System.EventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-552">在页上的所有当前 Web 部件连接不仅已经连接，而且已经开始在每个连接所涉及的使用者控件和提供者控件之间共享数据之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-552">Occurs after all the current Web Parts connections on a page are not only connected, but have also begun actively sharing data between the consumer and provider controls involved in each connection.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-553">在连接的生命周期中，此事件在页面完成其加载过程之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-553">In the life cycle of connections, this event occurs after a page completes its loading process.</span></span> <span data-ttu-id="57510-554">此事件也会在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> 事件之后发生，该事件只指示 <xref:System.Web.UI.WebControls.WebParts.WebPart> 特定连接所涉及的或服务器控件已成功连接。</span><span class="sxs-lookup"><span data-stu-id="57510-554">It also occurs after the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> event, which indicates only that the <xref:System.Web.UI.WebControls.WebParts.WebPart> or server controls involved in a specific connection have successfully connected.</span></span> <span data-ttu-id="57510-555">如果页面上有多个连接，则该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated> 方法表示页面上的所有有效 Web 部件连接现在处于活动状态并且可以共享数据。</span><span class="sxs-lookup"><span data-stu-id="57510-555">In a case where there are multiple connections on a page, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated> method indicates that all the valid Web Parts connections on a page are now active and able to share data.</span></span> <span data-ttu-id="57510-556">了解所有连接都是活动的，开发人员可以执行任意数量的任务，包括向用户通知所有连接的状态，通知使用者控件处理和显示来自其提供程序的数据等。</span><span class="sxs-lookup"><span data-stu-id="57510-556">Knowing that all connections are active, developers can carry out any number of tasks, including notifying users of the status of all the connections, notifying consumer controls to process and display data from their providers, and so on.</span></span>  
  
 <span data-ttu-id="57510-557">此事件与方法相关联 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated%2A> ，该方法引发事件并允许开发人员为事件创建自定义处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-557">This event is associated with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated%2A> method, which raises the event and allows developers to create custom handlers for the event.</span></span>  
  
 <span data-ttu-id="57510-558">页面开发人员可以为事件创建自定义处理程序，方法是将 `OnConnectionsActivated` 属性添加到 `<asp:webpartmanager>` 页面中的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-558">Page developers can create a custom handler for the event by adding the `OnConnectionsActivated` attribute to the `<asp:webpartmanager>` element in the page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated(System.EventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-559">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-559">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ConnectionsActivating">
      <MemberSignature Language="C#" Value="public event EventHandler ConnectionsActivating;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler ConnectionsActivating" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event ConnectionsActivating As EventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ ConnectionsActivating;" />
      <MemberSignature Language="F#" Value="member this.ConnectionsActivating : EventHandler " Usage="member this.ConnectionsActivating : System.EventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-560">在激活网页上所有已建立的 Web 部件连接的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-560">Occurs during the process of activating all the established Web Parts connections on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-561">在连接的生命周期中，此事件在页面完成其加载过程之后，就在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> 调用方法之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-561">In the life cycle of connections, this event occurs as a page is completing its loading process, just before the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> method is called.</span></span> <span data-ttu-id="57510-562">它与 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting> 事件不同，后者涉及到 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或其他服务器控件之间的特定连接。</span><span class="sxs-lookup"><span data-stu-id="57510-562">It is different from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting> event, which involves a particular connection between <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server controls.</span></span> <span data-ttu-id="57510-563"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating>当页面上的所有可能的连接都已连接并将要激活时，会发生该事件。</span><span class="sxs-lookup"><span data-stu-id="57510-563">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating> event occurs when all the possible connections on a page have been connected and are about to be activated.</span></span>  
  
 <span data-ttu-id="57510-564"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating>事件与 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating%2A> 引发事件的方法相关联。</span><span class="sxs-lookup"><span data-stu-id="57510-564">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating> event is associated with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating%2A> method, which raises the event.</span></span> <span data-ttu-id="57510-565">要扩展可添加到页面的连接类型的控件开发人员可能会重写受保护的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating%2A> 方法并激活其他类型的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-565">Control developers who want to extend the type of connections that can be added to a page could override the protected <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating%2A> method and activate additional types of connections.</span></span>  
  
 <span data-ttu-id="57510-566">页面开发人员可以为事件创建自定义处理程序，方法是将 `OnConnectionsActivating` 属性添加到 `<asp:webpartmanager>` 页面中的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-566">Page developers can create a custom handler for the event by adding the `OnConnectionsActivating` attribute to the `<asp:webpartmanager>` element in the page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating(System.EventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-567">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-567">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="ConnectWebParts">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="57510-568">在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域中的两个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 控件（或其他能建立连接的服务器控件）之间创建一个连接。</span><span class="sxs-lookup"><span data-stu-id="57510-568">Creates a connection between two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls (or other server controls capable of forming connections) that reside in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-569"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A>方法形成可以连接的任意两个控件之间的连接 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-569">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> method forms a connection between any two <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected.</span></span> <span data-ttu-id="57510-570">在调用此方法创建连接之前，您可能还需要 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> 在条件检查中调用方法，以确保控件满足建立连接的要求。</span><span class="sxs-lookup"><span data-stu-id="57510-570">Before calling this method to create a connection, you might also want to call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method in a conditional check to ensure that the controls meet the requirements for forming a connection.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-571">还可以在两个不是控件的服务器控件之间创建连接 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-571">It is also possible to create a connection between two server controls that are not <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="57510-572">通常，这两个控件必须是自定义服务器控件 (例如，继承自 <xref:System.Web.UI.WebControls.WebControl> 或现有 ASP.NET 服务器控件的控件) 以便添加所需的成员。</span><span class="sxs-lookup"><span data-stu-id="57510-572">In general, the two controls would have to be custom server controls (for example, controls that inherit from <xref:System.Web.UI.WebControls.WebControl> or existing ASP.NET server controls) so that you could add the required members.</span></span> <span data-ttu-id="57510-573">这些控件还必须满足下面指定的要求。</span><span class="sxs-lookup"><span data-stu-id="57510-573">The controls would also have to meet the requirements specified below.</span></span>  
  
 <span data-ttu-id="57510-574">两个控件之间的任何连接方案类型都必须满足以下要求才能进行连接：</span><span class="sxs-lookup"><span data-stu-id="57510-574">Any type of connection scenario between two controls must meet the following requirements to be able to connect:</span></span>  
  
-   <span data-ttu-id="57510-575">每个控件都位于一个 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 区域中 (它不必是同一区域) 。</span><span class="sxs-lookup"><span data-stu-id="57510-575">Each control resides in a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone (it does not have to be the same zone).</span></span>  
  
-   <span data-ttu-id="57510-576">在 Web 部件控件集中实现时，连接中的提供程序控件以公共方法的形式实现接口，该方法充当提供程序的回调，并在 `ConnectionProvider` 方法上具有元数据特性以将其标识为提供程序连接点。</span><span class="sxs-lookup"><span data-stu-id="57510-576">As implemented in the Web Parts control set, the provider control in a connection implements an interface as a public method that serves as a callback to the provider, and has a `ConnectionProvider` metadata attribute on the method to identify it as a provider connection point.</span></span> <span data-ttu-id="57510-577">由于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> 检索提供程序连接点的方法是虚拟的，因此派生的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件不必使用相同的元数据特性。</span><span class="sxs-lookup"><span data-stu-id="57510-577">Because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> method that retrieves provider connection points is virtual, a derived <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control does not necessarily have to use the same metadata attribute.</span></span>  
  
-   <span data-ttu-id="57510-578">在 Web 部件控件集中实现时，连接中的使用者控件还具有一种特殊方法，使其能够获取对提供程序的回调方法中公开的接口的引用，而使用者 `ConnectionConsumer` 在方法上具有元数据特性，以将其标识为使用者连接点。</span><span class="sxs-lookup"><span data-stu-id="57510-578">As implemented in the Web Parts control set, the consumer control in a connection also has a special method that enables it to get a reference to the interface that is exposed in the provider's callback method, and the consumer has a `ConnectionConsumer` metadata attribute on the method to identify it as a consumer connection point.</span></span> <span data-ttu-id="57510-579">由于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> 检索使用者连接点的方法是虚拟的，因此派生的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件不必使用相同的元数据特性。</span><span class="sxs-lookup"><span data-stu-id="57510-579">Because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> method that retrieves consumer connection points is virtual, a derived <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control does not necessarily have to use the same metadata attribute.</span></span>  
  
-   <span data-ttu-id="57510-580">回调方法必须兼容，因为使用者可以使用提供程序的回调方法中提供的接口类型 (意味着使用者和提供者可以直接) 共享数据，或者开发人员必须使用 <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> 对象将提供程序中的数据转换为使用者可以使用的形式。</span><span class="sxs-lookup"><span data-stu-id="57510-580">The callback methods must either be compatible, in that the consumer can use the type of interface supplied in the provider's callback method (meaning that the consumer and provider can share data directly), or the developer must use a <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> object to transform the data from the provider into a form that the consumer can use.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="57510-581">如果不需要转换器，请使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%29> 方法重载。</span><span class="sxs-lookup"><span data-stu-id="57510-581">When you do not need a transformer, use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%29> method overload.</span></span> <span data-ttu-id="57510-582">如果需要转换器，请使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPartTransformer%29> 方法重载。</span><span class="sxs-lookup"><span data-stu-id="57510-582">When you need a transformer, use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%28System.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ProviderConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPart%2CSystem.Web.UI.WebControls.WebParts.ConsumerConnectionPoint%2CSystem.Web.UI.WebControls.WebParts.WebPartTransformer%29> method overload.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts" />
      </Docs>
    </MemberGroup>
    <Member MemberName="ConnectWebParts">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartConnection ConnectWebParts (System.Web.UI.WebControls.WebParts.WebPart provider, System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, System.Web.UI.WebControls.WebParts.WebPart consumer, System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Web.UI.WebControls.WebParts.WebPartConnection ConnectWebParts(class System.Web.UI.WebControls.WebParts.WebPart provider, class System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, class System.Web.UI.WebControls.WebParts.WebPart consumer, class System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ProviderConnectionPoint,System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint)" />
      <MemberSignature Language="VB.NET" Value="Public Function ConnectWebParts (provider As WebPart, providerConnectionPoint As ProviderConnectionPoint, consumer As WebPart, consumerConnectionPoint As ConsumerConnectionPoint) As WebPartConnection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Web::UI::WebControls::WebParts::WebPartConnection ^ ConnectWebParts(System::Web::UI::WebControls::WebParts::WebPart ^ provider, System::Web::UI::WebControls::WebParts::ProviderConnectionPoint ^ providerConnectionPoint, System::Web::UI::WebControls::WebParts::WebPart ^ consumer, System::Web::UI::WebControls::WebParts::ConsumerConnectionPoint ^ consumerConnectionPoint);" />
      <MemberSignature Language="F#" Value="member this.ConnectWebParts : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ProviderConnectionPoint * System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint -&gt; System.Web.UI.WebControls.WebParts.WebPartConnection" Usage="webPartManager.ConnectWebParts (provider, providerConnectionPoint, consumer, consumerConnectionPoint)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="provider" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="providerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" />
        <Parameter Name="consumer" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="consumerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" />
      </Parameters>
      <Docs>
        <param name="provider"><span data-ttu-id="57510-583">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件，负责向另一个连接控件提供数据。</span><span class="sxs-lookup"><span data-stu-id="57510-583">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control that has the role of furnishing data to another connected control.</span></span></param>
        <param name="providerConnectionPoint"><span data-ttu-id="57510-584">用作连接回调方法的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-584">A method that serves as a callback method for the connection.</span></span> <span data-ttu-id="57510-585">与 Web 部件控件集中实现的一样，这是 <paramref name="provider" /> 中以 <see langword="ConnectionProvider" /> 元数据特性标记的一个公共方法。</span><span class="sxs-lookup"><span data-stu-id="57510-585">As implemented in the Web Parts control set, this is a public method in <paramref name="provider" /> that is marked with a <see langword="ConnectionProvider" /> metadata attribute.</span></span></param>
        <param name="consumer"><span data-ttu-id="57510-586">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件，负责接收来自 <paramref name="provider" /> 的数据，然后处理或显示接收到的数据。</span><span class="sxs-lookup"><span data-stu-id="57510-586">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control that has the role of receiving data from <paramref name="provider" />, and then processing or displaying it.</span></span></param>
        <param name="consumerConnectionPoint"><span data-ttu-id="57510-587">与 <paramref name="providerConnectionPoint" /> 连接的方法，它接收连接的数据。</span><span class="sxs-lookup"><span data-stu-id="57510-587">A method that connects with <paramref name="providerConnectionPoint" /> to receive the data for the connection.</span></span> <span data-ttu-id="57510-588">与 Web 部件控件集中实现的一样，这是 <paramref name="consumer" /> 中以 <see langword="ConnectionConsumer" /> 元数据特性标记的一个公共方法。</span><span class="sxs-lookup"><span data-stu-id="57510-588">As implemented in the Web Parts control set, this is a public method in <paramref name="consumer" /> that is marked with a <see langword="ConnectionConsumer" /> metadata attribute.</span></span></param>
        <summary><span data-ttu-id="57510-589">只使用对控件的引用和控件所指定的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 对象在两个 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 或 <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> 控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-589">Creates a connection between two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> controls using only the references to the controls and their specified <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> objects.</span></span></summary>
        <returns><span data-ttu-id="57510-590">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" />，包含连接所需的提供者和使用者的各种信息。</span><span class="sxs-lookup"><span data-stu-id="57510-590">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" /> that contains the various information about the provider and the consumer needed for a connection.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-591">此重载用于在其连接点完全兼容的情况下连接控件，以便在不使用对象的情况下进行连接 <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> 。</span><span class="sxs-lookup"><span data-stu-id="57510-591">This overload is used to connect controls when their connection points are sufficiently compatible that they can connect without using a <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> object.</span></span> <span data-ttu-id="57510-592">调用方法的此重载时，它只是将调用传递给方法的其他重载版本，并 `null` 为需要对象的参数传递 <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> 。</span><span class="sxs-lookup"><span data-stu-id="57510-592">When this overload of the method is called, it simply passes the call to the other overloaded version of the method, and passes `null` for the parameter that requires a <xref:System.Web.UI.WebControls.WebParts.WebPartTransformer> object.</span></span>  
  
 <span data-ttu-id="57510-593">尝试以编程方式连接两个控件时，可以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> 在条件检查中使用方法来确定控件是否可以直接连接。</span><span class="sxs-lookup"><span data-stu-id="57510-593">When you attempt to connect two controls programmatically, you can use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method in a conditional check to determine whether the controls can be directly connected.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-594">下面的代码示例演示如何使用此方法以编程方式创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-594">The following code example demonstrates how to use this method to create a connection programmatically.</span></span> <span data-ttu-id="57510-595">有关运行此示例所需的完整代码，请参阅类概述的 "示例" 部分 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-595">For the full code required to run the example, see the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-596">从该示例中，您将需要用户控件的源代码，该源代码允许您更改页面上的显示模式，以及两个自定义控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-596">From that example, you will need the source code for the user control that allows you to change display modes on the page, and the source code for the two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span>  
  
 <span data-ttu-id="57510-597">接下来的两个控件的网页的代码如下所示。</span><span class="sxs-lookup"><span data-stu-id="57510-597">The code for the Web page that hosts the two controls follows.</span></span> <span data-ttu-id="57510-598">页面顶部使用 `Register` 指令来声明用户控件和自定义控件。</span><span class="sxs-lookup"><span data-stu-id="57510-598">The page uses `Register` directives at the top to declare the user control and the custom controls.</span></span> <span data-ttu-id="57510-599">然后，在元素中以声明方式引用自定义控件 `<asp:webpartzone>` 。</span><span class="sxs-lookup"><span data-stu-id="57510-599">The custom controls are then referenced declaratively within an `<asp:webpartzone>` element.</span></span> <span data-ttu-id="57510-600">处理方法的代码 `Button1_Click` 通过使用方法在控件之间创建连接 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-600">The code that handles the `Button1_Click` method creates a connection between the controls by using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> method.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_ConnectWebParts1#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_ConnectWebParts1/CS/wpmgrConnectWebPartsCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_ConnectWebParts1#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_ConnectWebParts1/VB/wpmgrConnectWebPartsVB.aspx#1)]  
  
 <span data-ttu-id="57510-601">在浏览器中加载页面后，请单击 " **连接" WebPart 控件** 按钮以建立连接。</span><span class="sxs-lookup"><span data-stu-id="57510-601">After you load the page in a browser, click the **Connect WebPart Controls** button to form the connection.</span></span> <span data-ttu-id="57510-602">然后，您可以在文本框中输入一些数据，然后单击 " **输入5位数字的邮政编码** " 按钮以演示控件已连接，并且在第二个控件中输入的数据将在第二个控件中更新。</span><span class="sxs-lookup"><span data-stu-id="57510-602">You can then enter some data in the text box, and click the **Enter 5-digit ZIP Code** button to demonstrate that the controls are connected, and that data entered in the first control is updated in the second.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-603">动态集合的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件集合是只读的。</span><span class="sxs-lookup"><span data-stu-id="57510-603">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control's collection of dynamic collections is read-only.</span></span></exception>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Connections" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-604">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-604">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ConnectWebParts">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.WebPartConnection ConnectWebParts (System.Web.UI.WebControls.WebParts.WebPart provider, System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, System.Web.UI.WebControls.WebParts.WebPart consumer, System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint, System.Web.UI.WebControls.WebParts.WebPartTransformer transformer);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.WebPartConnection ConnectWebParts(class System.Web.UI.WebControls.WebParts.WebPart provider, class System.Web.UI.WebControls.WebParts.ProviderConnectionPoint providerConnectionPoint, class System.Web.UI.WebControls.WebParts.WebPart consumer, class System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint consumerConnectionPoint, class System.Web.UI.WebControls.WebParts.WebPartTransformer transformer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ProviderConnectionPoint,System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint,System.Web.UI.WebControls.WebParts.WebPartTransformer)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function ConnectWebParts (provider As WebPart, providerConnectionPoint As ProviderConnectionPoint, consumer As WebPart, consumerConnectionPoint As ConsumerConnectionPoint, transformer As WebPartTransformer) As WebPartConnection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::WebPartConnection ^ ConnectWebParts(System::Web::UI::WebControls::WebParts::WebPart ^ provider, System::Web::UI::WebControls::WebParts::ProviderConnectionPoint ^ providerConnectionPoint, System::Web::UI::WebControls::WebParts::WebPart ^ consumer, System::Web::UI::WebControls::WebParts::ConsumerConnectionPoint ^ consumerConnectionPoint, System::Web::UI::WebControls::WebParts::WebPartTransformer ^ transformer);" />
      <MemberSignature Language="F#" Value="abstract member ConnectWebParts : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ProviderConnectionPoint * System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint * System.Web.UI.WebControls.WebParts.WebPartTransformer -&gt; System.Web.UI.WebControls.WebParts.WebPartConnection&#xA;override this.ConnectWebParts : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ProviderConnectionPoint * System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint * System.Web.UI.WebControls.WebParts.WebPartTransformer -&gt; System.Web.UI.WebControls.WebParts.WebPartConnection" Usage="webPartManager.ConnectWebParts (provider, providerConnectionPoint, consumer, consumerConnectionPoint, transformer)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="provider" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="providerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" />
        <Parameter Name="consumer" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="consumerConnectionPoint" Type="System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" />
        <Parameter Name="transformer" Type="System.Web.UI.WebControls.WebParts.WebPartTransformer" />
      </Parameters>
      <Docs>
        <param name="provider"><span data-ttu-id="57510-605">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />，它的角色是为另一个连接的控件提供数据。</span><span class="sxs-lookup"><span data-stu-id="57510-605">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> that has the role of furnishing data to another connected control.</span></span></param>
        <param name="providerConnectionPoint"><span data-ttu-id="57510-606"><paramref name="provider" /> 中的一个公共方法，它标有 <see langword="ConnectionProvider" /> 元数据特性，并用作连接的回调方法。</span><span class="sxs-lookup"><span data-stu-id="57510-606">A public method in <paramref name="provider" /> that is marked with a <see langword="ConnectionProvider" /> metadata attribute, and serves as a callback method for the connection.</span></span></param>
        <param name="consumer"><span data-ttu-id="57510-607">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />，它担任从 <paramref name="provider" /> 或 <paramref name="transformer" /> 中接收数据然后对数据进行处理和显示的角色。</span><span class="sxs-lookup"><span data-stu-id="57510-607">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> that has the role of receiving data from <paramref name="provider" /> or <paramref name="transformer" />, and then processing or displaying it.</span></span></param>
        <param name="consumerConnectionPoint"><span data-ttu-id="57510-608"><paramref name="consumer" /> 中的一个公共方法，它标有 <see langword="ConnectionConsumer" /> 元数据特性，并与 <paramref name="providerConnectionPoint" /> 连接以接收连接的数据。</span><span class="sxs-lookup"><span data-stu-id="57510-608">A public method in <paramref name="consumer" /> that is marked with a <see langword="ConnectionConsumer" /> metadata attribute, and connects with <paramref name="providerConnectionPoint" /> to receive the data for the connection.</span></span></param>
        <param name="transformer"><span data-ttu-id="57510-609">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" />，它通过将数据从 <paramref name="provider" /> 转换为 <paramref name="consumer" /> 可以处理的格式来实现两个控件之间的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-609">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> that enables a connection between two controls by converting the data from <paramref name="provider" /> to a format that <paramref name="consumer" /> can process.</span></span></param>
        <summary><span data-ttu-id="57510-610">使用对两个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 控件的引用、它们的指定 <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> 对象和一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> 对象在这两个控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-610">Creates a connection between two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> controls using the references to the controls, their specified <see cref="T:System.Web.UI.WebControls.WebParts.ConnectionPoint" /> objects, and a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" /> object.</span></span></summary>
        <returns><span data-ttu-id="57510-611">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" />，它包含有关提供者、使用者以及连接所需的转换器的信息。</span><span class="sxs-lookup"><span data-stu-id="57510-611">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" /> that contains the information about the provider, consumer, and transformer needed for a connection.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-612">当控件的连接点不兼容时，此重载用于连接控件。</span><span class="sxs-lookup"><span data-stu-id="57510-612">This overload is used to connect controls when their connection points are incompatible.</span></span> <span data-ttu-id="57510-613">`consumer`实现不同于 `provider` 作为其连接点的接口时，会发生不兼容的情况。</span><span class="sxs-lookup"><span data-stu-id="57510-613">The incompatibility occurs when `consumer` implements a different interface than `provider` as its connection point.</span></span> <span data-ttu-id="57510-614">转换器将数据转换为可理解的类型 `consumer` 。</span><span class="sxs-lookup"><span data-stu-id="57510-614">The transformer converts the data into a type that can be understood by `consumer`.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-615">连接已在 <see cref="E:System.Web.UI.Control.PreRender" /> 中激活。</span><span class="sxs-lookup"><span data-stu-id="57510-615">Connections have already been activated in <see cref="E:System.Web.UI.Control.PreRender" />.</span></span></exception>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Connections" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartTransformer" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-616">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-616">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Controls">
      <MemberSignature Language="C#" Value="public override System.Web.UI.ControlCollection Controls { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.ControlCollection Controls" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" />
      <MemberSignature Language="VB.NET" Value="Public Overrides ReadOnly Property Controls As ControlCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::Web::UI::ControlCollection ^ Controls { System::Web::UI::ControlCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Controls : System.Web.UI.ControlCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.Controls" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.ControlCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-617">获取包含在网页的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域中并由 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 控件管理的所有 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />、服务器或用户控件的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-617">Gets the collection of all <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />, server, or user controls that are contained in <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zones on a Web page and are managed by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <value><span data-ttu-id="57510-618">一个 <see cref="T:System.Web.UI.ControlCollection" />，包含由 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件管理的所有控件。</span><span class="sxs-lookup"><span data-stu-id="57510-618">A <see cref="T:System.Web.UI.ControlCollection" /> that contains all controls managed by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-619"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Controls%2A>属性不引用由控件引用的其他控件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，如各种区域控件、 <xref:System.Web.UI.WebControls.WebParts.EditorPart> <xref:System.Web.UI.WebControls.WebParts.CatalogPart> 控件和其他控件。</span><span class="sxs-lookup"><span data-stu-id="57510-619">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Controls%2A> property does not reference the other controls that are referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, such as the various zone controls, <xref:System.Web.UI.WebControls.WebParts.EditorPart> or <xref:System.Web.UI.WebControls.WebParts.CatalogPart> controls, and others.</span></span>  
  
 <span data-ttu-id="57510-620">此属性由 Web 部件控件集使用，在大多数开发环境中，它不应从代码中调用。</span><span class="sxs-lookup"><span data-stu-id="57510-620">This property is used by the Web Parts control set, and in most development situations it is not intended to be called from your code.</span></span> <span data-ttu-id="57510-621">出于此原因，虽然属性是公共的，但它在 IntelliSense 中是隐藏的。</span><span class="sxs-lookup"><span data-stu-id="57510-621">For this reason, although the property is public, it is hidden from IntelliSense.</span></span> <span data-ttu-id="57510-622">要访问 <xref:System.Web.UI.WebControls.WebParts.WebPart> 由控件管理的或其他服务器控件的集合的开发人员 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 应使用其 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-622">Developers who want to access the collection of <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server controls managed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control should use its <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-623">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-623">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CopyWebPart">
      <MemberSignature Language="C#" Value="protected virtual System.Web.UI.WebControls.WebParts.WebPart CopyWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.WebPart CopyWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CopyWebPart (webPart As WebPart) As WebPart" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Web::UI::WebControls::WebParts::WebPart ^ CopyWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member CopyWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; System.Web.UI.WebControls.WebParts.WebPart&#xA;override this.CopyWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; System.Web.UI.WebControls.WebParts.WebPart" Usage="webPartManager.CopyWebPart webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPart</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-624">要复制的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-624">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control to be copied.</span></span></param>
        <summary><span data-ttu-id="57510-625">由 Web 部件控件集用来创建 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件的副本，以向网页中添加该控件。</span><span class="sxs-lookup"><span data-stu-id="57510-625">Used by the Web Parts control set to create a copy of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control for the purpose of adding the control to a Web page.</span></span></summary>
        <returns><span data-ttu-id="57510-626">要添加到页中的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />。</span><span class="sxs-lookup"><span data-stu-id="57510-626">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> to be added to a page.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-627">不能 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> 直接从代码中调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-627">You cannot call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> method directly from your code.</span></span> <span data-ttu-id="57510-628">此方法由控件在内部调用， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 作为向页面添加新的动态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或服务器控件的过程的一部分。</span><span class="sxs-lookup"><span data-stu-id="57510-628">This method is called internally by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control as part of the process of adding a new dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> or server control to a page.</span></span> <span data-ttu-id="57510-629">动态控件以编程方式或通过 Web 部件用户界面 (UI) 添加到页面中，例如用户从控件目录添加控件，而不是静态控件，该控件直接在页面的标记中声明。</span><span class="sxs-lookup"><span data-stu-id="57510-629">A dynamic control is added to a page programmatically or through the Web Parts user interface (UI), for example by a user adding a control from a catalog of controls, as opposed to a static control, which is declared directly in the markup of a page.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-630">如果开发人员希望使方法能够处理其他控件复制方案，则可以在派生类中重写方法。</span><span class="sxs-lookup"><span data-stu-id="57510-630">The method can be overridden in a derived class if developers want to enable the method to handle additional control copying scenarios.</span></span> <span data-ttu-id="57510-631">有关详细信息，请参阅对继承者的说明部分。</span><span class="sxs-lookup"><span data-stu-id="57510-631">For details, see the Notes to Inheritors section.</span></span>  
  
 <span data-ttu-id="57510-632">添加新的动态控件时，如果它是 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，则该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> 方法将返回控件的新实例。</span><span class="sxs-lookup"><span data-stu-id="57510-632">When a new dynamic control is added, if it is a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> method returns a new instance of the control.</span></span> <span data-ttu-id="57510-633">如果要添加的控件是其他类型的服务器控件 (例如用户控件、自定义控件或 ASP.NET 控件) ，则该控件将已 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 由 Web 部件控件集通过对象进行包装。</span><span class="sxs-lookup"><span data-stu-id="57510-633">If the control being added is some other type of server control (such as a user control, a custom control, or an ASP.NET control), the control will already have been wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object by the Web Parts control set.</span></span> <span data-ttu-id="57510-634">当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> 方法遇到控件时 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> ，它将返回控件的一个新实例， <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 其中包含一个换行的子控件的新实例。</span><span class="sxs-lookup"><span data-stu-id="57510-634">When the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> method encounters a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control, it returns a new instance of the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control with a new instance of the child control wrapped within it.</span></span>  
  
 <span data-ttu-id="57510-635">当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> 方法创建要返回的控件的新副本时，它还会将所有属性的值重置为其默认值。</span><span class="sxs-lookup"><span data-stu-id="57510-635">When the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> method creates a new copy of a control to return, it also resets the values of all the properties to their default values.</span></span> <span data-ttu-id="57510-636">请注意，如果想要保留可个性化属性的值并将其复制到新的控件实例，还应调用 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.CopyPersonalizationState%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-636">Note that, if you want to preserve the values of the personalizable properties and have them copied to the new control instance, you should call the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.CopyPersonalizationState%2A> method as well.</span></span> <span data-ttu-id="57510-637">方法执行的最后一步 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> 是调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicWebPartID%2A> 方法来获取控件的新 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-637">The final step carried out by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CopyWebPart%2A> method is to call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicWebPartID%2A> method to obtain a new ID for the control.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-638">由于方法获取已复制控件的新 ID，因此不应依赖于通过其原始 ID 添加到页的动态控件。</span><span class="sxs-lookup"><span data-stu-id="57510-638">Because the method obtains a new ID for a copied control, you should not rely on referencing a dynamic control that is added to a page by its original ID.</span></span> <span data-ttu-id="57510-639">应改为引用由方法返回的控件的新实例。</span><span class="sxs-lookup"><span data-stu-id="57510-639">Instead, you should reference the new instance of the control returned by the method.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-640">方法被声明为， <see langword="virtual" /> 以便开发人员可以从类继承 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> ，重写方法，并提供可创建控件副本的其他方案。</span><span class="sxs-lookup"><span data-stu-id="57510-640">The method is declared as <see langword="virtual" /> so that developers could inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class, override the method, and provide for additional scenarios in which it could create copies of controls.</span></span> <span data-ttu-id="57510-641">例如，方法可以选择以输入的形式接收已序列化为 XML 文件的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-641">For example, the method could optionally receive as input a control that has been serialized into an XML file.</span></span> <span data-ttu-id="57510-642">如果) 存在，则方法可以反序列化 XML (，然后调用基方法来处理现有事例并返回控件的新实例 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-642">The method could deserialize the XML (if present), and then call the base method to handle the existing cases and to return a new instance of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-643">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-643">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateAvailableTransformers">
      <MemberSignature Language="C#" Value="protected virtual System.Web.UI.WebControls.WebParts.TransformerTypeCollection CreateAvailableTransformers ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.TransformerTypeCollection CreateAvailableTransformers() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateAvailableTransformers" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateAvailableTransformers () As TransformerTypeCollection" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Web::UI::WebControls::WebParts::TransformerTypeCollection ^ CreateAvailableTransformers();" />
      <MemberSignature Language="F#" Value="abstract member CreateAvailableTransformers : unit -&gt; System.Web.UI.WebControls.WebParts.TransformerTypeCollection&#xA;override this.CreateAvailableTransformers : unit -&gt; System.Web.UI.WebControls.WebParts.TransformerTypeCollection" Usage="webPartManager.CreateAvailableTransformers " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.TransformerTypeCollection</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-644">创建一组在网站配置文件中指定的转换器，并将它们添加到 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers" /> 属性所引用的转换器的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-644">Creates a set of transformers specified in a Web site's configuration file and adds them to the collection of transformers referenced by the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers" /> property.</span></span></summary>
        <returns><span data-ttu-id="57510-645">网站的配置文件中指定的转换器的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-645">The collection of transformers specified in a Web site's configuration file.</span></span></returns>
        <remarks>To be added.</remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-646">可以重写此方法，以添加应用程序可使用的附加转换器。</span><span class="sxs-lookup"><span data-stu-id="57510-646">This method can be overridden to add additional transformers that can be used by the application.</span></span> <span data-ttu-id="57510-647">例如，可以编写方法，从 Web 服务检索可用转换器的列表。</span><span class="sxs-lookup"><span data-stu-id="57510-647">For example, the method could be written to retrieve a list of available transformers from a Web service.</span></span></para></block>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.AvailableTransformers" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-648">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-648">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateControlCollection">
      <MemberSignature Language="C#" Value="protected override sealed System.Web.UI.ControlCollection CreateControlCollection ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance class System.Web.UI.ControlCollection CreateControlCollection() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateControlCollection" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides NotOverridable Function CreateControlCollection () As ControlCollection" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override System::Web::UI::ControlCollection ^ CreateControlCollection();" />
      <MemberSignature Language="F#" Value="override this.CreateControlCollection : unit -&gt; System.Web.UI.ControlCollection" Usage="webPartManager.CreateControlCollection " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.ControlCollection</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-649">返回网页上的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件所管理的所有控件的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-649">Returns the collection of all controls that are managed by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control on a Web page.</span></span> <span data-ttu-id="57510-650">此类不能被继承。</span><span class="sxs-lookup"><span data-stu-id="57510-650">This class cannot be inherited.</span></span></summary>
        <returns><span data-ttu-id="57510-651">一个 <see cref="T:System.Web.UI.ControlCollection" />，由 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件所管理的所有 Web 部件控件组成。</span><span class="sxs-lookup"><span data-stu-id="57510-651">A <see cref="T:System.Web.UI.ControlCollection" /> consisting of all the various Web Parts controls managed by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></returns>
        <remarks>To be added.</remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-652">由于此方法是受保护的，因此它对从类继承的类可见 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> ，但不能重写。</span><span class="sxs-lookup"><span data-stu-id="57510-652">Because this method is protected and sealed, it is visible to classes that inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class, but it cannot be overridden.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="CreateDisplayModes">
      <MemberSignature Language="C#" Value="protected virtual System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection CreateDisplayModes ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection CreateDisplayModes() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateDisplayModes () As WebPartDisplayModeCollection" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Web::UI::WebControls::WebParts::WebPartDisplayModeCollection ^ CreateDisplayModes();" />
      <MemberSignature Language="F#" Value="abstract member CreateDisplayModes : unit -&gt; System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection&#xA;override this.CreateDisplayModes : unit -&gt; System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" Usage="webPartManager.CreateDisplayModes " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-653">为 Web 部件应用程序创建由所有可能的显示模式组成的显示模式集。</span><span class="sxs-lookup"><span data-stu-id="57510-653">Creates the set of all possible display modes for a Web Parts application.</span></span></summary>
        <returns><span data-ttu-id="57510-654">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" />，包含所有受支持的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-654">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" /> that contains all the display modes that are supported.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-655">此方法会创建所有可能的显示模式的列表，而不只是特定页面上支持的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-655">This method creates the list of all possible display modes, not just the display modes supported on a particular page.</span></span> <span data-ttu-id="57510-656">有关支持的显示模式的详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-656">For more information about the supported display modes, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span>  
  
 <span data-ttu-id="57510-657">默认情况下，Web 部件控件集会创建以下一组显示模式，用于 Web 部件页：</span><span class="sxs-lookup"><span data-stu-id="57510-657">By default, the Web Parts control set creates the following set of display modes to be used on Web Parts pages:</span></span>  
  
-   <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode>  
  
-   <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode>  
  
-   <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode>  
  
-   <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CatalogDisplayMode>  
  
-   <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode>  
  
 <span data-ttu-id="57510-658">开发人员可以创建自定义的显示模式，无论是通过还是不附带派生自或类的自定义区域 <xref:System.Web.UI.WebControls.WebParts.WebZone> <xref:System.Web.UI.WebControls.WebParts.ToolZone> 。</span><span class="sxs-lookup"><span data-stu-id="57510-658">Developers can create custom display modes, either with or without accompanying custom zones that derive from the <xref:System.Web.UI.WebControls.WebParts.WebZone> or <xref:System.Web.UI.WebControls.WebParts.ToolZone> classes.</span></span> <span data-ttu-id="57510-659">若要创建自定义显示模式，你必须从 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 类继承，若要在页面上将显示模式添加为受支持模式，则必须从类继承 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 并重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-659">To create a custom display mode, you must inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> class, and to add your display mode as a supported mode on a page, you must inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class and override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes%2A> method.</span></span>  
  
 <span data-ttu-id="57510-660">当您使用方法添加显示模式时 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection.Add%2A> ，您应按照您希望它们显示在任何用户界面 (UI) 控件 (如 <xref:System.Web.UI.WebControls.ListBox> 允许用户在页面上提供可能的显示模式的控件) 中的顺序来添加显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-660">When you add display modes by using the <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection.Add%2A> method, you should add them in the order that you want them to appear in any user interface (UI) controls (such as a <xref:System.Web.UI.WebControls.ListBox> control) that provide to users the possible display modes on a page.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-661">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-661">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes%2A> method.</span></span>  
  
 <span data-ttu-id="57510-662">此代码示例包含五个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-662">The code example has five parts:</span></span>  
  
-   <span data-ttu-id="57510-663">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-663">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-664">承载其他控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-664">A Web page that hosts the other controls.</span></span>  
  
-   <span data-ttu-id="57510-665">驻留在网页的某个区域中的用户控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，可用于在标签中输入和显示文本。</span><span class="sxs-lookup"><span data-stu-id="57510-665">A user control that resides in a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone on the Web page, and enables you to enter and display text in a label.</span></span>  
  
-   <span data-ttu-id="57510-666">包含两个控件的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-666">A source code file that contains two controls.</span></span> <span data-ttu-id="57510-667">一个是自定义 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件，另一个是 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 要添加到页面的默认显示模式的自定义对象。</span><span class="sxs-lookup"><span data-stu-id="57510-667">One is a custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, and the other is a custom <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> object to add to the page's default display modes.</span></span>  
  
-   <span data-ttu-id="57510-668">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-668">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-669">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-669">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-670">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-670">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-671">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-671">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-672">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-672">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-673">该示例的第二部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-673">The second part of the example is the Web page.</span></span> <span data-ttu-id="57510-674">它包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 控件：用户控件和自定义 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-674">It contains two <xref:System.Web.UI.WebControls.WebParts.WebPartZone> controls, both user controls, and the custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-675">请注意 `Register` 页面顶部的指令，以引用已编译控件的用户控件和命名空间。</span><span class="sxs-lookup"><span data-stu-id="57510-675">Notice the `Register` directives at the top of the page to reference the user controls and namespace for the compiled controls.</span></span>  
  
 [!code-aspx-csharp[Webparts_WebPartManager_CreateDisplayModes#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CreateDisplayModes/CS/createDisplayModeCS.aspx#1)]
 [!code-aspx-vb[Webparts_WebPartManager_CreateDisplayModes#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CreateDisplayModes/VB/createDisplayModeVB.aspx#1)]  
  
 <span data-ttu-id="57510-676">该示例的第三部分是用户控件，用于输入和显示文本。</span><span class="sxs-lookup"><span data-stu-id="57510-676">The third part of the example is the user control for entering and displaying text.</span></span> <span data-ttu-id="57510-677">它使用 <xref:System.Web.UI.WebControls.MultiView> 控件来创建用户界面的多个视图。</span><span class="sxs-lookup"><span data-stu-id="57510-677">It uses a <xref:System.Web.UI.WebControls.MultiView> control to create multiple views of the UI.</span></span> <span data-ttu-id="57510-678">一个视图与按钮一起显示 `Button1` ，另一个视图没有。</span><span class="sxs-lookup"><span data-stu-id="57510-678">One view appears with the `Button1` button, the other without.</span></span> <span data-ttu-id="57510-679">请注意，在重写的 `OnPreRender` 方法中，代码会检查页面当前是否处于自定义显示模式，如果是，则显示 "用户" 控件的第一个视图，其中包含按钮。</span><span class="sxs-lookup"><span data-stu-id="57510-679">Notice that in the overridden `OnPreRender` method, the code checks to see whether the page is currently in the custom display mode and, if so, displays the first view of the user control, which includes the button.</span></span> <span data-ttu-id="57510-680">如果页面不在自定义显示模式下，例如，如果页面处于浏览或设计模式，则隐藏按钮。</span><span class="sxs-lookup"><span data-stu-id="57510-680">If the page is not in the custom display mode, for example if the page is in browse or design mode, the button is hidden.</span></span>  
  
 [!code-aspx-csharp[Webparts_WebPartManager_CreateDisplayModes#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CreateDisplayModes/CS/TextDisplaycs.ascx#2)]
 [!code-aspx-vb[Webparts_WebPartManager_CreateDisplayModes#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CreateDisplayModes/VB/TextDisplayvb.ascx#2)]  
  
 <span data-ttu-id="57510-681">该示例的第四部分是两个自定义类的源文件。</span><span class="sxs-lookup"><span data-stu-id="57510-681">The fourth part of the example is the source file for the two custom classes.</span></span> <span data-ttu-id="57510-682">请注意，自定义 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 类将重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes%2A> 方法，并首先调用基方法以添加所有默认的显示模式，然后添加自定义显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-682">Notice that the custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overrides the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes%2A> method, and that it first calls the base method to add all the default display modes, and then adds the custom display mode.</span></span> <span data-ttu-id="57510-683">自定义的显示模式类 `InLineEditDisplayMode` 只是从继承 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> ，它在构造函数中设置显示模式的名称，并覆盖一些基属性以建立自定义显示的特征。</span><span class="sxs-lookup"><span data-stu-id="57510-683">The custom display mode class, `InLineEditDisplayMode`, simply inherits from <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode>, sets the name of the display mode in the constructor, and overrides a number of the base properties to establish the characteristics of the custom display.</span></span>  
  
 <span data-ttu-id="57510-684">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-684">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-685">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-685">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-686">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-686">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-687">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-687">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[Webparts_WebPartManager_CreateDisplayModes#3](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_CreateDisplayModes/CS/CustomDisplayMode.cs#3)]
 [!code-vb[Webparts_WebPartManager_CreateDisplayModes#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_CreateDisplayModes/VB/CustomDisplayMode.vb#3)]  
  
 <span data-ttu-id="57510-688">若要运行此代码示例，请在浏览器中加载此页。</span><span class="sxs-lookup"><span data-stu-id="57510-688">To run the code example, load the page in a browser.</span></span> <span data-ttu-id="57510-689">请注意，页面目前处于浏览模式，并且没有按钮可见。</span><span class="sxs-lookup"><span data-stu-id="57510-689">Notice that the page is currently in browse mode, and no button is visible.</span></span> <span data-ttu-id="57510-690">使用 " **显示模式** " 下拉列表控件，将页面更改为 **内联编辑显示** 模式，请注意，现在 `Button1` 按钮在较低用户控件中可见。</span><span class="sxs-lookup"><span data-stu-id="57510-690">Using the **Display Mode** drop-down list control, change the page to **Inline Edit Display** mode, and notice that now the `Button1` button is visible in the lower user control.</span></span> <span data-ttu-id="57510-691">添加一些文本，然后单击按钮以更新控件。</span><span class="sxs-lookup"><span data-stu-id="57510-691">Add some text, and click the button to update the control.</span></span> <span data-ttu-id="57510-692">请注意，页面显示将返回到浏览模式，此时将显示您输入的文本，并且该按钮再次隐藏，因为该页面不再处于自定义显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-692">Notice that the page display is returned to browse mode, the text you entered is now displayed, and the button is once again hidden because the page is no longer in the custom display mode.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-693">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-693">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0"><span data-ttu-id="57510-694">演练：在 Web 部件页上更改显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-694">Walkthrough: Changing Display Modes on a Web Parts Page</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateDynamicConnectionID">
      <MemberSignature Language="C#" Value="protected virtual string CreateDynamicConnectionID ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string CreateDynamicConnectionID() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicConnectionID" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateDynamicConnectionID () As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ CreateDynamicConnectionID();" />
      <MemberSignature Language="F#" Value="abstract member CreateDynamicConnectionID : unit -&gt; string&#xA;override this.CreateDynamicConnectionID : unit -&gt; string" Usage="webPartManager.CreateDynamicConnectionID " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-695">获取一个唯一值，用于充当动态连接的 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-695">Gets a unique value to serve as an ID for a dynamic connection.</span></span></summary>
        <returns><span data-ttu-id="57510-696">一个包含连接的唯一 ID 的字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-696">A string that contains a unique ID for a connection.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-697"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicConnectionID%2A>方法生成一个 GUID 值，并将其转换为字符串，作为连接的唯一 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-697">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicConnectionID%2A> method generates a GUID value and converts it to a string to serve as the unique ID for a connection.</span></span> <span data-ttu-id="57510-698">每次创建动态连接时都将调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-698">The method is called each time a dynamic connection is created.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-699">开发人员可以在派生类中重写此方法 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> ，以更改实现以生成唯一 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-699">Developers can override this method in a derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class to change the implementation for generating a unique ID.</span></span></para></block>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicWebPartID(System.Type)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-700">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-700">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateDynamicWebPartID">
      <MemberSignature Language="C#" Value="protected virtual string CreateDynamicWebPartID (Type webPartType);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string CreateDynamicWebPartID(class System.Type webPartType) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicWebPartID(System.Type)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateDynamicWebPartID (webPartType As Type) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ CreateDynamicWebPartID(Type ^ webPartType);" />
      <MemberSignature Language="F#" Value="abstract member CreateDynamicWebPartID : Type -&gt; string&#xA;override this.CreateDynamicWebPartID : Type -&gt; string" Usage="webPartManager.CreateDynamicWebPartID webPartType" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartType" Type="System.Type" />
      </Parameters>
      <Docs>
        <param name="webPartType"><span data-ttu-id="57510-701">为其生成 ID 的控件的 <see cref="T:System.Type" />。</span><span class="sxs-lookup"><span data-stu-id="57510-701">The <see cref="T:System.Type" /> of the control for which an ID is being generated.</span></span></param>
        <summary><span data-ttu-id="57510-702">为动态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件生成唯一 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-702">Generates a unique ID for a dynamic <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></summary>
        <returns><span data-ttu-id="57510-703">一个字符串，包含控件的唯一 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-703">A string that contains the unique ID for a control.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-704">当将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件添加到网页时，它们可以为静态 (这意味着控件是在页标记中声明的) 或动态 (这意味着将以编程方式添加) 。</span><span class="sxs-lookup"><span data-stu-id="57510-704">When <xref:System.Web.UI.WebControls.WebParts.WebPart> controls are added to a Web page, they can be static (which means the control is declared in the page markup) or dynamic (which means they are added programmatically).</span></span> <span data-ttu-id="57510-705">在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件创建要添加到页面的新动态控件的任何情况下，它都会调用此方法来生成唯一 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-705">In any scenario where the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control is creating new dynamic controls to add to the page, it calls this method to generate a unique ID.</span></span>  
  
 <span data-ttu-id="57510-706">方法是虚拟的，因此，如果开发人员希望提供用于生成 ID 的自定义实现，则可以重写此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-706">The method is virtual so that developers can override it if they want to provide a custom implementation for generating the ID.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-707"><paramref name="webPartType" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-707"><paramref name="webPartType" /> is <see langword="null" />.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-708">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-708">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateErrorWebPart">
      <MemberSignature Language="C#" Value="protected virtual System.Web.UI.WebControls.WebParts.ErrorWebPart CreateErrorWebPart (string originalID, string originalTypeName, string originalPath, string genericWebPartID, string errorMessage);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.ErrorWebPart CreateErrorWebPart(string originalID, string originalTypeName, string originalPath, string genericWebPartID, string errorMessage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart(System.String,System.String,System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateErrorWebPart (originalID As String, originalTypeName As String, originalPath As String, genericWebPartID As String, errorMessage As String) As ErrorWebPart" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Web::UI::WebControls::WebParts::ErrorWebPart ^ CreateErrorWebPart(System::String ^ originalID, System::String ^ originalTypeName, System::String ^ originalPath, System::String ^ genericWebPartID, System::String ^ errorMessage);" />
      <MemberSignature Language="F#" Value="abstract member CreateErrorWebPart : string * string * string * string * string -&gt; System.Web.UI.WebControls.WebParts.ErrorWebPart&#xA;override this.CreateErrorWebPart : string * string * string * string * string -&gt; System.Web.UI.WebControls.WebParts.ErrorWebPart" Usage="webPartManager.CreateErrorWebPart (originalID, originalTypeName, originalPath, genericWebPartID, errorMessage)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.ErrorWebPart</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="originalID" Type="System.String" />
        <Parameter Name="originalTypeName" Type="System.String" />
        <Parameter Name="originalPath" Type="System.String" />
        <Parameter Name="genericWebPartID" Type="System.String" />
        <Parameter Name="errorMessage" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="originalID"><span data-ttu-id="57510-709">作为失败控件 ID 的字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-709">A string that is the ID of the failing control.</span></span> <span data-ttu-id="57510-710">如果失败涉及 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />，则该 ID 为其子服务器控件的 ID。</span><span class="sxs-lookup"><span data-stu-id="57510-710">If a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> is involved in the failure, the ID is the ID of its child server control.</span></span></param>
        <param name="originalTypeName"><span data-ttu-id="57510-711">字符串，失败控件的 <see cref="T:System.Type" /> 名称。</span><span class="sxs-lookup"><span data-stu-id="57510-711">A string that is the name of the <see cref="T:System.Type" /> of the failed control.</span></span> <span data-ttu-id="57510-712">如果失败涉及 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />，则该类型名称是其子服务器控件的类型。</span><span class="sxs-lookup"><span data-stu-id="57510-712">If a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> is involved in the failure, the type name is the type of its child server control.</span></span></param>
        <param name="originalPath"><span data-ttu-id="57510-713">包含用户控件路径的字符串（如果失败涉及包含子用户控件的 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />）。</span><span class="sxs-lookup"><span data-stu-id="57510-713">A string that contains the path to a user control, if a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> that contains a child user control is involved in the failure.</span></span></param>
        <param name="genericWebPartID"><span data-ttu-id="57510-714">返回 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> ID 的字符串（如果加载或创建控件的失败涉及该类型的控件）。</span><span class="sxs-lookup"><span data-stu-id="57510-714">A string that returns the ID of a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />, if that type of control was involved in the failure to load or create a control.</span></span></param>
        <param name="errorMessage"><span data-ttu-id="57510-715">包含要在页中显示的错误消息的字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-715">A string that contains the error message to display on the page.</span></span></param>
        <summary><span data-ttu-id="57510-716">当加载或创建动态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的尝试因某种原因失败时，创建插入页中并向最终用户显示的特殊控件。</span><span class="sxs-lookup"><span data-stu-id="57510-716">Creates a special control that is inserted into a page and displayed for end users, when an attempt to load or create a dynamic <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control fails for some reason.</span></span></summary>
        <returns><span data-ttu-id="57510-717">插入页中以替代未能加载或创建的控件的 <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" />。</span><span class="sxs-lookup"><span data-stu-id="57510-717">An <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> that is inserted into a page in place of a control that failed to be loaded or created.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-718"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart%2A>当 Web 部件控件集尝试加载或创建动态控件或服务器控件的实例时，将调用方法 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，并且由于某种原因而失败。</span><span class="sxs-lookup"><span data-stu-id="57510-718">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart%2A> method is called when the Web Parts control set attempts to load or create an instance of a dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> or server control, and it fails for some reason.</span></span> <span data-ttu-id="57510-719">方法创建一个 <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> 对象，向其分配错误消息并返回该对象。</span><span class="sxs-lookup"><span data-stu-id="57510-719">The method creates an <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> object, assigns an error message to it, and returns it.</span></span> <span data-ttu-id="57510-720">将 <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> 插入控件来代替失败的控件，并在页面上显示其错误消息。</span><span class="sxs-lookup"><span data-stu-id="57510-720">The <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> control is inserted in place of the control that failed, and its error message is displayed on the page.</span></span>  
  
 <span data-ttu-id="57510-721">不能 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart%2A> 直接从代码中调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-721">You cannot call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart%2A> method directly from your code.</span></span> <span data-ttu-id="57510-722">但是，你可以从类继承 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 并扩展方法。</span><span class="sxs-lookup"><span data-stu-id="57510-722">However, you can inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class and extend the method.</span></span> <span data-ttu-id="57510-723">有关详细信息，请参阅对继承者的说明部分。</span><span class="sxs-lookup"><span data-stu-id="57510-723">For details, see the Notes for Inheritors section.</span></span>  
  
 <span data-ttu-id="57510-724">最终用户可以 <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> 在页中使用控件，就像是普通 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件一样。</span><span class="sxs-lookup"><span data-stu-id="57510-724">End users can work with an <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> control in a page much like they would a normal <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-725">若要删除错误消息，可以通过单击关闭谓词关闭控件，此时，控件将添加到 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 对象中，就像任何其他关闭的控件一样。</span><span class="sxs-lookup"><span data-stu-id="57510-725">To remove the error message, they can close the control by clicking the close verb, at which point the control will be added to a <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> object, like any other closed control.</span></span> <span data-ttu-id="57510-726">如果最终用户删除 <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> 控件，则无法加载的服务器控件也将从页中删除。</span><span class="sxs-lookup"><span data-stu-id="57510-726">If an end user deletes an <xref:System.Web.UI.WebControls.WebParts.ErrorWebPart> control, the server control that failed to load will also be deleted from the page.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-727">如果要自定义在控件中返回的信息 <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> ，可以重写 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart(System.String,System.String,System.String,System.String,System.String)" /> 方法，调用基方法，为传递到基方法的参数分配不同的值，然后返回生成的 <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-727">If you want to customize the information that is returned in the <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> control, you can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateErrorWebPart(System.String,System.String,System.String,System.String,System.String)" /> method, call the base method, assign different values to the parameters passed to the base method, and then return the resulting <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> control.</span></span> <span data-ttu-id="57510-728">例如，如果您不希望最终用户看到 <paramref name="originalPath" /> 值 (这会显示用户控件的虚拟目录路径) ，则当您调用基方法时，可以为该参数传递一个空字符串 ( "" ) 。</span><span class="sxs-lookup"><span data-stu-id="57510-728">For example, if you do not want end users to see the <paramref name="originalPath" /> value (which would show the virtual directory path of a user control), when you call the base method you could pass an empty string ("") for that parameter.</span></span>  
  
<span data-ttu-id="57510-729">你还可以 <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> 通过从其继承来自定义控件本身的行为。</span><span class="sxs-lookup"><span data-stu-id="57510-729">You can also customize the behavior of the <see cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" /> control itself, by inheriting from it.</span></span> <span data-ttu-id="57510-730">例如，你可能想要重写其 <see cref="P:System.Web.UI.WebControls.WebParts.Part.Title" /> 或 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.AllowMinimize" /> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-730">For example, you might want to override its <see cref="P:System.Web.UI.WebControls.WebParts.Part.Title" /> or <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.AllowMinimize" /> property.</span></span></para></block>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.ErrorWebPart" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-731">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-731">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreatePersonalization">
      <MemberSignature Language="C#" Value="protected virtual System.Web.UI.WebControls.WebParts.WebPartPersonalization CreatePersonalization ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.WebPartPersonalization CreatePersonalization() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreatePersonalization () As WebPartPersonalization" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Web::UI::WebControls::WebParts::WebPartPersonalization ^ CreatePersonalization();" />
      <MemberSignature Language="F#" Value="abstract member CreatePersonalization : unit -&gt; System.Web.UI.WebControls.WebParts.WebPartPersonalization&#xA;override this.CreatePersonalization : unit -&gt; System.Web.UI.WebControls.WebParts.WebPartPersonalization" Usage="webPartManager.CreatePersonalization " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartPersonalization</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-732">返回一个个性化设置对象，该对象包含当前网页的用户个性化设置数据。</span><span class="sxs-lookup"><span data-stu-id="57510-732">Returns a personalization object to contain a user's personalization data for the current Web page.</span></span></summary>
        <returns><span data-ttu-id="57510-733">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" />，包含用户的个性化设置数据。</span><span class="sxs-lookup"><span data-stu-id="57510-733">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> to contain a user's personalization data.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-734"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization%2A>方法返回一个对象，该对象包含并管理当前页的用户个性化设置。</span><span class="sxs-lookup"><span data-stu-id="57510-734">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization%2A> method returns an object to contain and manage the user's personalization settings for the current page.</span></span> <span data-ttu-id="57510-735"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件管理此对象。</span><span class="sxs-lookup"><span data-stu-id="57510-735">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control manages this object.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-736">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-736">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)"><span data-ttu-id="57510-737">Web 部件个性化概述</span><span class="sxs-lookup"><span data-stu-id="57510-737">Web Parts Personalization Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateWebPart">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.GenericWebPart CreateWebPart (System.Web.UI.Control control);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.GenericWebPart CreateWebPart(class System.Web.UI.Control control) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart(System.Web.UI.Control)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function CreateWebPart (control As Control) As GenericWebPart" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::GenericWebPart ^ CreateWebPart(System::Web::UI::Control ^ control);" />
      <MemberSignature Language="F#" Value="abstract member CreateWebPart : System.Web.UI.Control -&gt; System.Web.UI.WebControls.WebParts.GenericWebPart&#xA;override this.CreateWebPart : System.Web.UI.Control -&gt; System.Web.UI.WebControls.WebParts.GenericWebPart" Usage="webPartManager.CreateWebPart control" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.GenericWebPart</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="control" Type="System.Web.UI.Control" />
      </Parameters>
      <Docs>
        <param name="control"><span data-ttu-id="57510-738">一个不是 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-738">A server control that is not a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></param>
        <summary><span data-ttu-id="57510-739">用 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 对象包装一个不是 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 控件的服务器控件，以使该控件能具有 Web 部件的功能。</span><span class="sxs-lookup"><span data-stu-id="57510-739">Wraps a server control that is not a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control with a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> object, so that the control can have Web Parts functionality.</span></span></summary>
        <returns><span data-ttu-id="57510-740">一个 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />，包装 <paramref name="control" /> 并使其功能与真正的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件一样。</span><span class="sxs-lookup"><span data-stu-id="57510-740">A <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> that wraps <paramref name="control" /> and enables it to function as a true <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-741"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A>方法是启用服务器控件的主要机制，这些服务器控件不是 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件与控件具有相同的功能 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，因此可完全参与 Web 部件的应用程序。</span><span class="sxs-lookup"><span data-stu-id="57510-741">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method is the main mechanism for enabling server controls that are not <xref:System.Web.UI.WebControls.WebParts.WebPart> controls to take on the same functionality as a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, and thus to participate fully in Web Parts applications.</span></span> <span data-ttu-id="57510-742">通过使用此方法，开发人员大大扩展了在 Web 部件应用程序中可以使用的服务器控件数，因为几乎任何类型的服务器控件（标准 ASP.NET 控件、用户控件和自定义控件）都可以使用。</span><span class="sxs-lookup"><span data-stu-id="57510-742">By using this method, developers vastly expand the number of server controls that they can use in a Web Parts application, because virtually any type of server control--standard ASP.NET controls, user controls, and custom controls--can be used.</span></span>  
  
 <span data-ttu-id="57510-743">该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件还在其他两个方案中使用此方法，以将服务器控件与对象进行包装 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-743">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control also uses this method in two other scenarios to wrap server controls with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object.</span></span> <span data-ttu-id="57510-744">当用户使用控件将服务器控件添加到页面时 <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> ，如果导入的控件不是 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-744">When users add server controls to a page by using the <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> control, if the imported control is not a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method is called.</span></span> <span data-ttu-id="57510-745">此外，当服务器控件在网页上的区域内以持久性格式声明时 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> ，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 为非控件的任何控件调用此方法 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-745">Also, when server controls are declared in persistence format within a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone on a Web page, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method is called for any controls that are not <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span>  
  
 <span data-ttu-id="57510-746">以编程方式将服务器控件添加到区域时，一种典型的方法是使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 方法，将控件包装在 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 对象中，然后调用方法将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> 控件添加到页面上所有控件的集合，该集合 <xref:System.Web.UI.WebControls.WebParts.WebPart> 由 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 属性引用。</span><span class="sxs-lookup"><span data-stu-id="57510-746">When you add a server control to a zone programmatically, a typical approach is to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method to wrap the control with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object, and then call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart%2A> method to add the control to the collection of all <xref:System.Web.UI.WebControls.WebParts.WebPart> controls on the page, which is referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-747">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-747">The following code example demonstrates use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method.</span></span> <span data-ttu-id="57510-748">在中 `Button2_Click method` ，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 调用方法，以便在 <xref:System.Web.UI.WebControls.Calendar> <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 将控件添加到区域之前使用对象来包装控件。</span><span class="sxs-lookup"><span data-stu-id="57510-748">In the `Button2_Click method`, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method is called to wrap a <xref:System.Web.UI.WebControls.Calendar> control with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object before adding it to the zone.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DeleteWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWebPart/CS/wpmgDeleteWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DeleteWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWebPart/VB/wpmgDeleteWebPartVB.aspx#1)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-749">可以重写此方法以使用派生 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 类，而不是 Web 部件控件集提供的基类。</span><span class="sxs-lookup"><span data-stu-id="57510-749">This method can be overridden to use a derived <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> class instead of the base class provided with the Web Parts control set.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-750">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-750">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DeleteWarning">
      <MemberSignature Language="C#" Value="public virtual string DeleteWarning { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string DeleteWarning" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property DeleteWarning As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ DeleteWarning { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.DeleteWarning : string with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-751">获取或设置一个自定义警告消息，当最终用户删除一个控件时，将显示该消息。</span><span class="sxs-lookup"><span data-stu-id="57510-751">Gets or sets a custom warning message displayed to end users when they delete a control.</span></span></summary>
        <value><span data-ttu-id="57510-752">包含警告消息文本的字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-752">A string that contains the text of the warning message.</span></span> <span data-ttu-id="57510-753">默认值是经本地化的警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-753">The default value is a localized warning message.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-754">用户删除 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件时，通常会显示默认警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-754">When a user deletes a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, normally a default warning message is displayed.</span></span> <span data-ttu-id="57510-755">它会警告用户，在删除控件的此实例时，删除是永久性的。</span><span class="sxs-lookup"><span data-stu-id="57510-755">It warns the user that when this instance of a control is deleted, the deletion is permanent.</span></span> <span data-ttu-id="57510-756">页面开发人员可以向用户提供一种方法，用于将控件的新实例添加到页面 (例如通过 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件目录，或通过某些编程方式) ，但已删除的控件的当前实例将被永久删除。</span><span class="sxs-lookup"><span data-stu-id="57510-756">The page developer might provide users with a way to add a new instance of the control to the page (such as through a catalog of <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, or through some programmatic means), but the current instance of a control that is deleted is permanently removed.</span></span> <span data-ttu-id="57510-757">如果需要，显示警告的对话框包含用户用于取消删除的按钮。</span><span class="sxs-lookup"><span data-stu-id="57510-757">The dialog box that displays the warning includes a button for the user to cancel the deletion, if desired.</span></span>  
  
 <span data-ttu-id="57510-758"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A>属性使开发人员可以设置向用户显示的警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-758">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> property enables developers to set the warning message that is displayed to the user.</span></span>  
  
 <span data-ttu-id="57510-759">如果页面开发人员为此属性分配空字符串 ( "" ) 值，则当用户删除控件时，不会显示警告消息对话框 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-759">If a page developer assigns an empty string ("") value to this property, no warning message dialog box will be shown when a user deletes a <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-760"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A>静态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和服务器控件的情况下不会显示属性。</span><span class="sxs-lookup"><span data-stu-id="57510-760">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> property is not displayed in the case of static <xref:System.Web.UI.WebControls.WebParts.WebPart> controls and server controls.</span></span> <span data-ttu-id="57510-761">静态控件是在网页的标记内的区域中声明的服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 。</span><span class="sxs-lookup"><span data-stu-id="57510-761">Static controls are server controls that are declared within a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone in the markup of a Web page.</span></span> <span data-ttu-id="57510-762">由于此类控件是静态的，因此无法将其删除，因此在这种情况下，永远不会显示删除警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-762">Because such controls are static, they cannot be deleted, so the delete warning message is never displayed in that case.</span></span> <span data-ttu-id="57510-763">静态控件可以由用户关闭，但会将已关闭的控件添加到页目录中，用户可以将其添加回页面，而不能恢复已删除的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-763">Static controls can be closed by a user, but a closed control is added to the page catalog, from which it can be added back to the page by a user, whereas a deleted control can never be recovered.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-764">下面的代码示例演示如何 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> 以声明方式和编程方式使用属性。</span><span class="sxs-lookup"><span data-stu-id="57510-764">The following code example demonstrates the use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> property declaratively and programmatically.</span></span>  
  
 <span data-ttu-id="57510-765">此代码示例分为四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-765">There are four parts to the code example:</span></span>  
  
-   <span data-ttu-id="57510-766">允许您更改页面显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-766">A user control that enables you to change page display modes.</span></span>  
  
-   <span data-ttu-id="57510-767">自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-767">A custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span>  
  
-   <span data-ttu-id="57510-768">网页。</span><span class="sxs-lookup"><span data-stu-id="57510-768">A Web page.</span></span>  
  
-   <span data-ttu-id="57510-769">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-769">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-770">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-770">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-771">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-771">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-772">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-772">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-773">此代码示例的第二部分是自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-773">The second part of the code example is the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-774">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-774">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-775">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-775">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-776">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-776">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-777">此示例使用动态编译方法;因此， `Assembly` 此控件在网页顶部的指令中没有属性 `Register` 。</span><span class="sxs-lookup"><span data-stu-id="57510-777">This example uses the dynamic compilation approach; thus there is no `Assembly` attribute in the `Register` directive for this control at the top of the Web page.</span></span> <span data-ttu-id="57510-778">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-778">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_DeleteWarning#3](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWarning/CS/textdisplaywebpart.cs#3)]
 [!code-vb[WebParts_WebPartManager_DeleteWarning#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWarning/VB/textdisplaywebpart.vb#3)]  
  
 <span data-ttu-id="57510-779">此代码示例的第三部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-779">The third part of the code example is the Web page.</span></span> <span data-ttu-id="57510-780">页面包含 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 区域，其中自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件在区域中声明，因此用户可以在运行时将其添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-780">The page contains a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone, with the custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control declared in the zone, so that a user can add it to the page at run time.</span></span> <span data-ttu-id="57510-781">请注意，只有动态控件 (以编程方式或从目录（如此类) ）添加到页的控件可以从页中删除。</span><span class="sxs-lookup"><span data-stu-id="57510-781">Note that only dynamic controls (controls that are added to a page programmatically or from a catalog like this one) can be deleted from a page.</span></span> <span data-ttu-id="57510-782">静态控件 (在 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 页的标记中声明的控件) 可以关闭，但不能删除。</span><span class="sxs-lookup"><span data-stu-id="57510-782">Static controls (controls that are declared within a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone in the markup of a page) can be closed, but never deleted.</span></span> <span data-ttu-id="57510-783">`<asp:webpartmanager>`元素使用特性声明属性的自定义值 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> `DeleteWarning` 。</span><span class="sxs-lookup"><span data-stu-id="57510-783">The `<asp:webpartmanager>` element declares a custom value for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> property by using the `DeleteWarning` attribute.</span></span> <span data-ttu-id="57510-784">`Button1_Click`方法为属性分配另一个自定义值 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-784">The `Button1_Click` method assigns another custom value to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWarning%2A> property.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DeleteWarning#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWarning/CS/deleteWarningCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DeleteWarning#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWarning/VB/deleteWarningVB.aspx#1)]  
  
 <span data-ttu-id="57510-785">在浏览器中加载页面后，需要将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件添加到页面。</span><span class="sxs-lookup"><span data-stu-id="57510-785">After you load the page in a browser, you need to add the <xref:System.Web.UI.WebControls.WebParts.WebPart> control to the page.</span></span> <span data-ttu-id="57510-786">使用 " **显示模式** " 下拉列表控件选择 "目录模式"。</span><span class="sxs-lookup"><span data-stu-id="57510-786">Using the **Display Mode** drop-down list control, select catalog mode.</span></span> <span data-ttu-id="57510-787">当目录出现时，选中自定义控件旁边的复选框，单击 " **添加** " 将其添加到页面，然后单击 " **关闭** " 以将该页返回到浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-787">When the catalog appears, select the check box next to the custom control, click **Add** to add it to the page, and then click **Close** to return the page to browse mode.</span></span> <span data-ttu-id="57510-788">控件可见后，可以将其删除。</span><span class="sxs-lookup"><span data-stu-id="57510-788">Now that the control is visible, you can delete it.</span></span> <span data-ttu-id="57510-789">再次使用 " **显示模式** " 控件，将页面切换到设计模式 (在页面处于浏览模式) 时无法删除控件。</span><span class="sxs-lookup"><span data-stu-id="57510-789">Using the **Display Mode** control again, switch the page into design mode (you cannot delete controls while the page is in browse mode).</span></span> <span data-ttu-id="57510-790">单击谓词菜单 (控件标题中的箭头符号) <xref:System.Web.UI.WebControls.WebParts.WebPart> ，然后选择 " **删除**"。</span><span class="sxs-lookup"><span data-stu-id="57510-790">Click the verbs menu (the arrow symbol) in the header of the <xref:System.Web.UI.WebControls.WebParts.WebPart> control, and select **Delete**.</span></span> <span data-ttu-id="57510-791">此时将显示您对属性设置的警告 `DeleteWarning` 。</span><span class="sxs-lookup"><span data-stu-id="57510-791">The warning that you set on the `DeleteWarning` attribute appears.</span></span> <span data-ttu-id="57510-792">单击“取消” 。</span><span class="sxs-lookup"><span data-stu-id="57510-792">Click **Cancel**.</span></span> <span data-ttu-id="57510-793">现在，单击标签为 " **更改删除警告**" 的按钮，这将以编程方式更改属性值。</span><span class="sxs-lookup"><span data-stu-id="57510-793">Now click the button labeled **Change Delete Warning**, which changes the property value programmatically.</span></span> <span data-ttu-id="57510-794">从控件上的谓词菜单中，再次选择 " **删除** "，并注意到这次出现其他警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-794">From the verbs menu on the control, select **Delete** again, and notice that this time the other warning message appears.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-795">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-795">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DeleteWebPart">
      <MemberSignature Language="C#" Value="public void DeleteWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DeleteWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DeleteWebPart (webPart As WebPart)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DeleteWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="member this.DeleteWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit" Usage="webPartManager.DeleteWebPart webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-796">要删除的服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-796">The server control to be deleted.</span></span></param>
        <summary><span data-ttu-id="57510-797">永久地从网页中移除 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的动态实例。</span><span class="sxs-lookup"><span data-stu-id="57510-797">Permanently removes a dynamic instance of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control from a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-798"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A>方法从页中永久删除由参数表示的控件 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-798">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A> method permanently removes the control represented by the `webPart` parameter from a page.</span></span> <span data-ttu-id="57510-799">与已添加到 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 控件并可以添加回页的关闭控件不同，已删除的控件实例永远无法添加回页。</span><span class="sxs-lookup"><span data-stu-id="57510-799">Unlike a closed control, which is added to the <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> control and can be added back to the page, a deleted control instance can never be added back to the page.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-800">按照 Web 部件控件集的实现，用户删除动态控件的能力 <xref:System.Web.UI.WebControls.WebParts.WebPart> 取决于用户以及控件添加到页面中的个性化设置范围。</span><span class="sxs-lookup"><span data-stu-id="57510-800">As implemented by the Web Parts control set, the ability for users to delete a dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> control depends on the user and the personalization scope in which the control was added to a page.</span></span> <span data-ttu-id="57510-801">如果在) 具有权限的用户 (的共享范围中添加了该控件，则当该页位于用户范围中时，不能由单个用户删除该控件。</span><span class="sxs-lookup"><span data-stu-id="57510-801">If the control is added when the page is in shared scope (by a user who has permissions), then the control cannot be deleted by individual users when the page is in user scope.</span></span>  
  
 <span data-ttu-id="57510-802">只能删除动态控件。</span><span class="sxs-lookup"><span data-stu-id="57510-802">Only dynamic controls can be deleted.</span></span> <span data-ttu-id="57510-803">动态控件以编程方式或从目录添加控件的用户添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-803">Dynamic controls are added to a page programmatically or by users adding controls from a catalog.</span></span> <span data-ttu-id="57510-804">静态控件按标记或持久性格式添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-804">Static controls are added to a page declaratively in the markup or persistence format.</span></span> <span data-ttu-id="57510-805">由于声明性标记永久存在于标记中，因此永远无法删除静态控件，但可以关闭和重新打开静态控件。</span><span class="sxs-lookup"><span data-stu-id="57510-805">Because the declarative tags are permanently present in the markup, static controls can never be deleted, but they can be closed and reopened.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-806">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-806">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A> method.</span></span> <span data-ttu-id="57510-807">第一次单击 " **添加日历** " 按钮时，事件处理程序中的代码会创建一个 <xref:System.Web.UI.WebControls.Calendar> 控件，并将其作为对象添加到区域 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-807">The first time the **Add Calendar** button is clicked, the code in the event handler creates a <xref:System.Web.UI.WebControls.Calendar> control, and adds it to a zone as a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object.</span></span> <span data-ttu-id="57510-808">由于控件是以编程方式添加的，因此它是一个动态控件，因此可以将其删除。</span><span class="sxs-lookup"><span data-stu-id="57510-808">Because the control is added programmatically, it is a dynamic control, and therefore it can be deleted.</span></span> <span data-ttu-id="57510-809">当用户单击 " **删除日历** " 按钮时，代码确保控件存在，然后通过调用方法将其删除 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-809">When a user clicks the **Delete Calendar** button, the code ensures that the control exists, and then deletes it by calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart%2A> method.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DeleteWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWebPart/CS/wpmgDeleteWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DeleteWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DeleteWebPart/VB/wpmgDeleteWebPartVB.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.IsClosed" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.IsStatic" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-810">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-810">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DesignDisplayMode">
      <MemberSignature Language="C#" Value="public static readonly System.Web.UI.WebControls.WebParts.WebPartDisplayMode DesignDisplayMode;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly class System.Web.UI.WebControls.WebParts.WebPartDisplayMode DesignDisplayMode" />
      <MemberSignature Language="DocId" Value="F:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly DesignDisplayMode As WebPartDisplayMode " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ DesignDisplayMode;" />
      <MemberSignature Language="F#" Value=" staticval mutable DesignDisplayMode : System.Web.UI.WebControls.WebParts.WebPartDisplayMode" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayMode</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-811">表示用于更改包含 Web 部件控件的网页布局的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-811">Represents the display mode used for changing the layout of Web pages that contain Web Parts controls.</span></span> <span data-ttu-id="57510-812">此字段为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-812">This field is read-only.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-813"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode>字段引用由 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 控件创建并包含的自定义对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-813">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode> field references a custom <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> object that is created and contained by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-814">因为这是一个静态对象，所以可以直接通过类引用它， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 而无需控件的实例。</span><span class="sxs-lookup"><span data-stu-id="57510-814">Because this is a static object, you can refer to it directly through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class without needing an instance of the control.</span></span>  
  
 <span data-ttu-id="57510-815">当包含 Web 部件控件的页面首次加载时，默认情况下，它处于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> (浏览模式) 中。</span><span class="sxs-lookup"><span data-stu-id="57510-815">When a page that contains Web Parts controls first loads, it is in <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> (browse mode) by default.</span></span> <span data-ttu-id="57510-816">如果用户想要通过将控件移到不同区域或在当前区域中来更改页面布局，则必须先将页面切换到 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode> (设计模式) 。</span><span class="sxs-lookup"><span data-stu-id="57510-816">When users want to change the layout of the page by moving controls to different zones or within the current zones, they must first switch the page to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode> (design mode).</span></span> <span data-ttu-id="57510-817">在设计模式下，将显示各个区域 (UI) 的用户界面，然后用户可以拖动控件来更改布局。</span><span class="sxs-lookup"><span data-stu-id="57510-817">In design mode, the user interface (UI) for the various zones appears, and users can then drag controls to change the layout.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-818">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode> 字段。</span><span class="sxs-lookup"><span data-stu-id="57510-818">The following code example demonstrates how to work with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode> field programmatically.</span></span> <span data-ttu-id="57510-819">此代码使用页面支持的显示模式（在本例中为 "浏览" 和 "设计"）填充下拉列表。</span><span class="sxs-lookup"><span data-stu-id="57510-819">The code populates a drop-down list with the supported display modes for the page, which in this case are browse and design.</span></span> <span data-ttu-id="57510-820">请注意，在 `Page_PreRender` 方法中，代码检查当前 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 属性是否设置为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-820">Notice that, in the `Page_PreRender` method, the code checks whether the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property is set to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode>.</span></span> <span data-ttu-id="57510-821">如果是这样，将 `Label1` 显示，如果不可见， `Label1` 将隐藏。</span><span class="sxs-lookup"><span data-stu-id="57510-821">If so, `Label1` will be visible, and if not, `Label1` will be hidden.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DesignDisplayMode#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DesignDisplayMode/CS/wpmgrDesignDisplayModecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DesignDisplayMode#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DesignDisplayMode/VB/wpmgrDesignDisplayModevb.aspx#1)]  
  
 <span data-ttu-id="57510-822">在浏览器中加载页面后，默认情况下处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-822">After you load the page in a browser, you are in browse mode by default.</span></span> <span data-ttu-id="57510-823">请注意，页面上的标签处于隐藏状态。</span><span class="sxs-lookup"><span data-stu-id="57510-823">Notice that the label on the page is hidden.</span></span> <span data-ttu-id="57510-824">使用下拉列表控件将页面切换到设计模式。</span><span class="sxs-lookup"><span data-stu-id="57510-824">Use the drop-down list control to switch the page to design mode.</span></span> <span data-ttu-id="57510-825">请注意，由于方法中的代码 `Page_PreRender` ，标签现在可见。</span><span class="sxs-lookup"><span data-stu-id="57510-825">Notice that, because of the code in the `Page_PreRender` method, the label is now visible.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-826">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-826">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-827">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-827">Web Parts Page Display Modes</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DisconnectWebPart">
      <MemberSignature Language="C#" Value="protected virtual void DisconnectWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void DisconnectWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub DisconnectWebPart (webPart As WebPart)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void DisconnectWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member DisconnectWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit&#xA;override this.DisconnectWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit" Usage="webPartManager.DisconnectWebPart webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-828">要断开连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-828">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control that is to be disconnected.</span></span></param>
        <summary><span data-ttu-id="57510-829">移除要关闭或要从其所参与的连接中删除的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-829">Removes a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control that is being closed or deleted from any connections it is participating in.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-830"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A>当控件在页上关闭或从页中删除时，该方法由 Web 部件控件集进行内部调用。</span><span class="sxs-lookup"><span data-stu-id="57510-830">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method is called internally by the Web Parts control set when a control is either closed on a page or deleted from a page.</span></span> <span data-ttu-id="57510-831">在这种情况下，将调用方法，以将控件从任何连接（其中包含为使用者或提供者）中删除。</span><span class="sxs-lookup"><span data-stu-id="57510-831">In such a scenario, the method is called to remove the control from any connections where it is involved as a consumer or provider.</span></span> <span data-ttu-id="57510-832">如果从任何连接中删除该控件，则此方法还会调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 方法以结束涉及的任何连接 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-832">If the control is removed from any connection, this method also calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method to end any connections in which `webPart` was involved.</span></span>  
  
 <span data-ttu-id="57510-833"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A>调用方法时，它会引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-833">When the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method is called, it raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event.</span></span> <span data-ttu-id="57510-834">通常可以取消此事件，但在两种情况下，不能取消此事件。</span><span class="sxs-lookup"><span data-stu-id="57510-834">Normally this event can be cancelled, but in two cases it cannot be cancelled.</span></span> <span data-ttu-id="57510-835">当调用方法时，会在对页面的请求期间发生一种情况 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-835">One case occurs during requests to the page, when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> method is called.</span></span> <span data-ttu-id="57510-836">如果现有连接之间存在冲突，则 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 将调用方法关闭其中一个冲突的连接，在此实例中， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 无法取消该事件，因为必须解决冲突。</span><span class="sxs-lookup"><span data-stu-id="57510-836">If there is a conflict among existing connections, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method will be invoked to close one of the conflicting connections, and in this instance the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event cannot be cancelled, because the conflict must be resolved.</span></span>  
  
 <span data-ttu-id="57510-837">当 <xref:System.Web.UI.WebControls.WebParts.WebPart> 当前连接的或服务器控件关闭或删除时，会发生另一种情况。</span><span class="sxs-lookup"><span data-stu-id="57510-837">The other case occurs when a <xref:System.Web.UI.WebControls.WebParts.WebPart> or server control that is currently connected is either closed or deleted.</span></span> <span data-ttu-id="57510-838">在这种情况下，由于正在从页面中删除控件，因此还需要终止其连接，因此，设计不能取消 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件以中断结束连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-838">In this case, because of the control is being removed from the page, its connection needs to be terminated as well, therefore by design it is not possible to cancel the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event to interrupt the process of ending a connection.</span></span> <span data-ttu-id="57510-839">有关详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-839">For more information, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-840">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-840">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method.</span></span> <span data-ttu-id="57510-841">通过使用两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，可通过单击按钮在控件之间创建连接，而使用另一个按钮可以断开控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-841">Using two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, the Web page enables you to create a connection between the controls by clicking a button, while another button enables you to disconnect the controls.</span></span> <span data-ttu-id="57510-842">如果在页处于浏览模式并且控件已连接时关闭其中一个控件，则该方法的重写会 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 断开关闭的控件的连接，结束连接，并显示一条消息。</span><span class="sxs-lookup"><span data-stu-id="57510-842">If you close one of the controls while the page is in browse mode and the controls are connected, an override of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method disconnects the closed control, ends the connection, and displays a message.</span></span>  
  
 <span data-ttu-id="57510-843">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-843">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-844">用于更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-844">A user control for changing display modes.</span></span>  
  
-   <span data-ttu-id="57510-845">包含自定义控件的源文件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-845">A source file containing custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span>  
  
-   <span data-ttu-id="57510-846">用于承载控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-846">A Web page to host the controls.</span></span>  
  
-   <span data-ttu-id="57510-847">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-847">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-848">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-848">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-849">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-849">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-850">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-850">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-851">第二部分是包含两个要连接的自定义控件的源代码的文件 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，以及一个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-851">The second part is the file containing the source code for the two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that will be connected, and a custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-852">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-852">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-853">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-853">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-854">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-854">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-855">此示例使用动态编译，因此在网页 `Register` 顶部声明了引用这些组件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-855">This example uses dynamic compilation, so the `Register` directive that references these components in the Web page is declared accordingly at the top of the Web page.</span></span> <span data-ttu-id="57510-856">有关演示如何编译选项的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-856">For a walkthrough that demonstrates compiling options, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 <span data-ttu-id="57510-857">在源代码中，请注意重写方法的继承的控件 `MyWebPartManager` <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-857">In the source code, notice the inherited control `MyWebPartManager` that overrides the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method.</span></span> <span data-ttu-id="57510-858">此方法检查页中的每个连接，以查看关闭的控件是否参与连接，如果是，则调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 方法以终止连接。</span><span class="sxs-lookup"><span data-stu-id="57510-858">This method checks each connection in a page to see whether the control being closed participates in the connection and, if so, calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method to end the connection.</span></span> <span data-ttu-id="57510-859">这与控件中的方法的基实现完全相同 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-859">This is identical to the base implementation of the method in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-860">然后，重写的方法通过将消息写入页面来自定义基实现。</span><span class="sxs-lookup"><span data-stu-id="57510-860">The overridden method then customizes the base implementation by writing a message to the page.</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_DisconnectWebParts#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/CS/ZipCodeComponent.cs#2)]
 [!code-vb[WebParts_WebPartManager_DisconnectWebParts#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/VB/ZipCodeComponent.vb#2)]  
  
 <span data-ttu-id="57510-861">此代码示例的第三部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-861">The third part of the code example is the Web page.</span></span> <span data-ttu-id="57510-862">请注意，在顶部附近，它包含 `Register` 用控件注册用户控件和动态编译的程序集的指令 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-862">Notice that near the top, it contains `Register` directives to register the user control, and the dynamically compiled assembly with the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="57510-863">此页具有两种主要方法。</span><span class="sxs-lookup"><span data-stu-id="57510-863">The page has two primary methods.</span></span> <span data-ttu-id="57510-864">`Button1_Click`方法在控件之间创建连接，而 `Button2_Click` 方法断开控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-864">The `Button1_Click` method creates a connection between the controls, while the `Button2_Click` method disconnects the controls.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DisconnectWebParts#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/CS/wpmgrDisconnectWebPartsCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DisconnectWebParts#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/VB/wpmgrDisconnectWebPartsVB.aspx#1)]  
  
 <span data-ttu-id="57510-865">加载页面后，单击 " **连接** " 按钮以连接控件。</span><span class="sxs-lookup"><span data-stu-id="57510-865">After you load the page, click the **Connect** button to connect the controls.</span></span> <span data-ttu-id="57510-866">然后单击其中一个控件中的谓词菜单 (控件标题中的向下箭头) ，然后在谓词菜单中选择 " **关闭** "。</span><span class="sxs-lookup"><span data-stu-id="57510-866">Then click the verbs menu in one of the controls (the downward arrow in the header of the control), and select **Close** from the verbs menu.</span></span> <span data-ttu-id="57510-867">尝试关闭控件时，将调用重写的方法，连接将结束，并且消息将写入页面。</span><span class="sxs-lookup"><span data-stu-id="57510-867">When you try to close the control, the overridden method is called, the connection is ended, and the message is written to the page.</span></span> <span data-ttu-id="57510-868">如果要重置页面以还原关闭的控件并尝试其他选项，请单击 " **重置用户状态** " 链接以删除个性化设置数据并还原页面的原始状态。</span><span class="sxs-lookup"><span data-stu-id="57510-868">If you want to reset the page to restore the closed control and experiment with other options, click the **Reset User State** link to remove personalization data and restore the page's original state.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts(System.Web.UI.WebControls.WebParts.WebPartConnection)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-869">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-869">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DisconnectWebParts">
      <MemberSignature Language="C#" Value="public virtual void DisconnectWebParts (System.Web.UI.WebControls.WebParts.WebPartConnection connection);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void DisconnectWebParts(class System.Web.UI.WebControls.WebParts.WebPartConnection connection) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts(System.Web.UI.WebControls.WebParts.WebPartConnection)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub DisconnectWebParts (connection As WebPartConnection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void DisconnectWebParts(System::Web::UI::WebControls::WebParts::WebPartConnection ^ connection);" />
      <MemberSignature Language="F#" Value="abstract member DisconnectWebParts : System.Web.UI.WebControls.WebParts.WebPartConnection -&gt; unit&#xA;override this.DisconnectWebParts : System.Web.UI.WebControls.WebParts.WebPartConnection -&gt; unit" Usage="webPartManager.DisconnectWebParts connection" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="connection" Type="System.Web.UI.WebControls.WebParts.WebPartConnection" />
      </Parameters>
      <Docs>
        <param name="connection"><span data-ttu-id="57510-870">表示服务器控件之间的连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" />。</span><span class="sxs-lookup"><span data-stu-id="57510-870">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" /> that represents the connection between server controls.</span></span></param>
        <summary><span data-ttu-id="57510-871">执行断开网页中连接的服务器控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-871">Carries out the process of disconnecting server controls that are connected on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-872"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> <xref:System.Web.UI.WebControls.WebParts.WebPart> 当你向其传递参数时，方法将执行结束或服务器控件之间的连接的整个过程 `connection` 。</span><span class="sxs-lookup"><span data-stu-id="57510-872">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method carries out the complete process of ending a connection between <xref:System.Web.UI.WebControls.WebParts.WebPart> or server controls, when you pass it the `connection` parameter.</span></span>  
  
 <span data-ttu-id="57510-873">当你在网页中放置元素时，此方法用于断开控件的连接 `<asp:connectionszone>` ，以提供用于管理连接 (UI) 的用户界面。</span><span class="sxs-lookup"><span data-stu-id="57510-873">This method is used to disconnect controls when you place an `<asp:connectionszone>` element in a Web page, to provide a user interface (UI) for managing connections.</span></span> <span data-ttu-id="57510-874">如果页面处于连接显示模式 (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode>) ，并且存在当前连接，则用户可以单击调用方法的按钮 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 以结束连接。</span><span class="sxs-lookup"><span data-stu-id="57510-874">When a page is in connect display mode (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectDisplayMode>), and a current connection exists, users can click a button that calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method to end the connection.</span></span>  
  
 <span data-ttu-id="57510-875"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A>如果要以编程方式断开控件连接，而无需向页面添加元素，也可以直接从代码调用方法 `<asp:connectionszone>` 。</span><span class="sxs-lookup"><span data-stu-id="57510-875">You can also call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method directly from your code, if you want to disconnect controls programmatically and without having to add an `<asp:connectionszone>` element to a page.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-876">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-876">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method.</span></span> <span data-ttu-id="57510-877">通过使用两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，可通过单击按钮在控件之间创建连接，而使用另一个按钮可以断开控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-877">Using two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, the Web page enables you to create a connection between the controls by clicking a button, while another button enables you to disconnect the controls.</span></span>  
  
 <span data-ttu-id="57510-878">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-878">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-879">用于更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-879">A user control for changing display modes.</span></span>  
  
-   <span data-ttu-id="57510-880">包含自定义控件的源文件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-880">A source file containing custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span>  
  
-   <span data-ttu-id="57510-881">用于承载控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-881">A Web page to host the controls.</span></span>  
  
-   <span data-ttu-id="57510-882">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-882">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-883">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-883">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-884">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-884">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-885">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-885">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-886">第二部分是一个文件，其中包含两个要连接的自定义控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-886">The second part is a file containing the source code for the two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that will be connected.</span></span> <span data-ttu-id="57510-887">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-887">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-888">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-888">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-889">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-889">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-890">此示例使用动态编译，因此在网页 `Register` 顶部声明了引用这些组件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-890">This example uses dynamic compilation, so the `Register` directive that references these components in the Web page is declared accordingly at the top of the Web page.</span></span> <span data-ttu-id="57510-891">有关演示如何编译选项的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-891">For a walkthrough that demonstrates compiling options, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_DisconnectWebParts#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/CS/ZipCodeComponent.cs#2)]
 [!code-vb[WebParts_WebPartManager_DisconnectWebParts#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/VB/ZipCodeComponent.vb#2)]  
  
 <span data-ttu-id="57510-892">此代码示例的第三部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-892">The third part of the code example is the Web page.</span></span> <span data-ttu-id="57510-893">请注意，在顶部附近，它包含 `Register` 用控件注册用户控件和动态编译的程序集的指令 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-893">Notice that near the top, it contains `Register` directives to register the user control and the dynamically compiled assembly with the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="57510-894">此页具有两种主要方法。</span><span class="sxs-lookup"><span data-stu-id="57510-894">The page has two primary methods.</span></span> <span data-ttu-id="57510-895">`Button1_Click`方法在控件之间创建连接，并且 `Button2_Click` 方法断开控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-895">The `Button1_Click` method creates a connection between the controls, and the `Button2_Click` method disconnects the controls.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DisconnectWebParts#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/CS/wpmgrDisconnectWebPartsCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DisconnectWebParts#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DisconnectWebParts/VB/wpmgrDisconnectWebPartsVB.aspx#1)]  
  
 <span data-ttu-id="57510-896">加载页面后，可以单击 " **连接** " 按钮连接控件。</span><span class="sxs-lookup"><span data-stu-id="57510-896">After you load the page, you can click the **Connect** button to connect the controls.</span></span> <span data-ttu-id="57510-897">如果在 "文本框" 控件中输入一些文本，然后单击 " **输入** " 按钮，则该文本将显示在连接的控件中 (在控件断开) 的情况下不会显示。</span><span class="sxs-lookup"><span data-stu-id="57510-897">If you enter some text in the text box control, and then click the **Enter** button, the text will be displayed in the connected control (it would not be displayed if the controls were disconnected).</span></span> <span data-ttu-id="57510-898">如果单击 " **断开连接** " 按钮，控件将断开连接。</span><span class="sxs-lookup"><span data-stu-id="57510-898">If you click the **Disconnect** button, the controls will be disconnected.</span></span> <span data-ttu-id="57510-899">您可以通过使用 " **显示模式** " 下拉列表控件来验证控件的连接状态，以将页面切换到 **连接** 模式。</span><span class="sxs-lookup"><span data-stu-id="57510-899">You can verify the connection status of the controls by using the **Display Mode** drop-down list control to switch the page into **Connect** mode.</span></span> <span data-ttu-id="57510-900">执行此操作后，单击谓词菜单 (由一个控件的标题栏中的箭头) 表示，然后选择 " **连接** " 项。</span><span class="sxs-lookup"><span data-stu-id="57510-900">After doing that, click the verbs menu (represented by an arrow) in the title bar of one of the controls, and select the **Connect** item.</span></span> <span data-ttu-id="57510-901">显示连接 UI;它可用，因为 `<asp:connectionszone>` 在页面中声明了一个元素。</span><span class="sxs-lookup"><span data-stu-id="57510-901">The connection UI is displayed; it is available because there is an `<asp:connectionszone>` element declared in the page.</span></span> <span data-ttu-id="57510-902">你还可以通过此 UI 连接和断开控件。</span><span class="sxs-lookup"><span data-stu-id="57510-902">You can also connect and disconnect the controls from this UI.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-903"><paramref name="connection" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-903"><paramref name="connection" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-904"><paramref name="connection" /> 未包含在 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" /> 或 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" /> 中。</span><span class="sxs-lookup"><span data-stu-id="57510-904"><paramref name="connection" /> is not contained in either <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" /> or <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-905"><see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" /> 为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-905"><see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" /> is read-only.</span></span>  
  
<span data-ttu-id="57510-906">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-906">-or-</span></span> 
 <span data-ttu-id="57510-907"><paramref name="connection" /> 已从 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" /> 断开。</span><span class="sxs-lookup"><span data-stu-id="57510-907"><paramref name="connection" /> has already been disconnected from <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" />.</span></span>  
  
<span data-ttu-id="57510-908">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-908">-or-</span></span> 
 <span data-ttu-id="57510-909"><see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" /> 为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-909"><see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" /> is read-only.</span></span>  
  
<span data-ttu-id="57510-910">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-910">-or-</span></span> 
 <span data-ttu-id="57510-911"><paramref name="connection" /> 已从 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" /> 断开。</span><span class="sxs-lookup"><span data-stu-id="57510-911"><paramref name="connection" /> has already been disconnected from <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" />.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-912"><see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts(System.Web.UI.WebControls.WebParts.WebPartConnection)" />如果要更改断开连接控件的默认实现，可以重写方法 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-912">You can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts(System.Web.UI.WebControls.WebParts.WebPartConnection)" /> method if you want to change the default implementation for disconnecting <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls.</span></span> <span data-ttu-id="57510-913">如果确实要重写方法，而只是想要向现有方法添加一些实现，则可以在执行自己的代码之前调用基方法。</span><span class="sxs-lookup"><span data-stu-id="57510-913">If you do override the method, and you simply want to add some implementation to the existing method, you can call the base method prior to executing your own code.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-914">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-914">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DisplayMode">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.WebPartDisplayMode DisplayMode { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartDisplayMode DisplayMode" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property DisplayMode As WebPartDisplayMode" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ DisplayMode { System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ get(); void set(System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ value); };" />
      <MemberSignature Language="F#" Value="member this.DisplayMode : System.Web.UI.WebControls.WebParts.WebPartDisplayMode with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayMode</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-915">获取或设置包含 Web 部件控件的网页的活动显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-915">Gets or sets the active display mode for a Web page that contains Web Parts controls.</span></span></summary>
        <value><span data-ttu-id="57510-916">确定页显示模式的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" />。</span><span class="sxs-lookup"><span data-stu-id="57510-916">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> that determines a page's display mode.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-917">包含 Web 部件控件的页始终处于多种可能的显示模式之一。</span><span class="sxs-lookup"><span data-stu-id="57510-917">A page that contains Web Parts controls is always in one of several possible display modes.</span></span> <span data-ttu-id="57510-918">有关显示模式的详细信息，请参阅 [Web 部件页面显示模式](https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4)。</span><span class="sxs-lookup"><span data-stu-id="57510-918">For details about display modes, see [Web Parts Page Display Modes](https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4).</span></span>  
  
 <span data-ttu-id="57510-919"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>类创建网页的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-919">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class creates the display modes for a Web page.</span></span> <span data-ttu-id="57510-920">使用基类 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> ， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件可创建多个标准显示模式对象，这些对象可用于包含 Web 部件控件的页上。</span><span class="sxs-lookup"><span data-stu-id="57510-920">Using the base <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> class, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control creates several standard display mode objects that can be used on pages that contain Web Parts controls.</span></span> <span data-ttu-id="57510-921">类概述中介绍了这些标准显示模式 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-921">These standard display modes are described in the <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> class overview.</span></span>  
  
 <span data-ttu-id="57510-922">该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件还管理使用 Web 部件控件的页面的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-922">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control also manages the display modes for pages that use Web Parts controls.</span></span> <span data-ttu-id="57510-923">使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 属性， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件保留对页面上当前显示模式的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-923">Using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control keeps a reference to the current display mode on a page.</span></span> <span data-ttu-id="57510-924">还可以使用属性将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 页面切换到不同的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-924">You can also use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property to switch a page into different display modes.</span></span> <span data-ttu-id="57510-925">有关在使用 Web 部件控件的页上更改显示模式的示例，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-925">For an example of changing display modes on a page that uses Web Parts controls, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-926">作为管理显示模式的一部分，该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件还提供与显示模式相关的事件和事件处理程序，如 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged%2A> 方法和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-926">As part of managing the display mode, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control also provides events and event handlers relating to display modes, such as the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged%2A> method and the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging%2A> method.</span></span> <span data-ttu-id="57510-927">这些方法提供了一种机制，用于自定义页面的行为，甚至用于添加自定义显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-927">These methods provide a mechanism for customizing a page's behavior, and even for adding a custom display mode.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-928">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-928">The following code example demonstrates programmatic use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property.</span></span> <span data-ttu-id="57510-929">在浏览器中加载页面后，可以使用页面底部附近的按钮来切换显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-929">After loading the page in a browser, you can use the buttons near the bottom of the page to switch display modes.</span></span> <span data-ttu-id="57510-930">默认情况下，在加载时，该页处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-930">The page is in browse mode by default when it loads.</span></span> <span data-ttu-id="57510-931">如果切换到设计模式，则可以将服务器控件从一个区域拖动到另一个区域，或在一个区域中排列两个控件。</span><span class="sxs-lookup"><span data-stu-id="57510-931">If you switch to design mode, you can drag the server controls from one zone to another, or arrange two controls within one zone.</span></span> <span data-ttu-id="57510-932">如果切换到编辑模式，则可以单击任一服务器控件标头中的谓词菜单，选择 " **编辑**"，然后使用提供的编辑用户界面 (UI) 编辑控件。</span><span class="sxs-lookup"><span data-stu-id="57510-932">If you switch to edit mode, you can click the verbs menu in the header of either of the server controls, select **Edit**, and edit the control using the provided editing user interface (UI).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-933">在 Web 部件应用程序中切换显示模式很常见，你可能希望在包含 Web 部件控件的所有页面上提供一致、可重复使用的方法来执行此操作。</span><span class="sxs-lookup"><span data-stu-id="57510-933">Switching among display modes in a Web Parts application is very common, and you might want to provide a consistent, reusable way to do this on all your pages that contain Web Parts controls.</span></span> <span data-ttu-id="57510-934">有关更改显示模式并可在多页上重复使用的用户控件的示例，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-934">For an example of a user control that changes display modes and that can be reused on many pages, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DisplayMode#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DisplayMode/CS/wpmgrDisplayModecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DisplayMode#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DisplayMode/VB/wpmgrDisplayModevb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-935">赋给该属性的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> 对象为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-935">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> object being assigned to the property is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-936">赋给该属性的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> 对象不是受支持的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-936">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> object being assigned to the property is not one of the supported display modes.</span></span>  
  
<span data-ttu-id="57510-937">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-937">-or-</span></span> 
<span data-ttu-id="57510-938">赋给该属性的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> 对象已禁用。</span><span class="sxs-lookup"><span data-stu-id="57510-938">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> object being assigned to the property is disabled.</span></span></exception>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-939">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-939">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-940">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-940">Web Parts Page Display Modes</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0"><span data-ttu-id="57510-941">演练：在 Web 部件页上更改显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-941">Walkthrough: Changing Display Modes on a Web Parts Page</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DisplayModeChanged">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventHandler DisplayModeChanged;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventHandler DisplayModeChanged" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanged" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event DisplayModeChanged As WebPartDisplayModeEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartDisplayModeEventHandler ^ DisplayModeChanged;" />
      <MemberSignature Language="F#" Value="member this.DisplayModeChanged : System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventHandler " Usage="member this.DisplayModeChanged : System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-942">当 Web 部件页上的当前显示模式更改之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-942">Occurs after the current display mode on a Web Parts page has changed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-943">显示模式是 Web 部件应用程序不可或缺的一部分。</span><span class="sxs-lookup"><span data-stu-id="57510-943">Display modes are an integral part of Web Parts applications.</span></span> <span data-ttu-id="57510-944">当用户切换到网页上的不同显示模式时，该页面通常会采用不同的外观，这取决于新的显示模式的用途。</span><span class="sxs-lookup"><span data-stu-id="57510-944">When users switch to a different display mode on a Web page, the page will often take on a very different appearance, depending on the purpose of the new display mode.</span></span> <span data-ttu-id="57510-945">在显示模式发生更改后，您可能需要在用户界面中进行某些更改 (UI) ，如隐藏或显示某些控件、更改所选 UI 元素的外观等。</span><span class="sxs-lookup"><span data-stu-id="57510-945">After a display mode has changed, you might want to make certain changes in the user interface (UI), such as hiding or showing certain controls, changing the appearance of selected UI elements, and so on.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-946">有关显示模式的详细信息，请参阅 [Web 部件页面显示模式](https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4)。</span><span class="sxs-lookup"><span data-stu-id="57510-946">For more information on display modes, see [Web Parts Page Display Modes](https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4).</span></span> <span data-ttu-id="57510-947">有关使用事件的详细信息，请参阅 [如何：在 Web 窗体应用程序中使用事件](/dotnet/standard/events/how-to-consume-events-in-a-web-forms-application)。</span><span class="sxs-lookup"><span data-stu-id="57510-947">For more information on consuming events, see [How to: Consume Events in a Web Forms Application](/dotnet/standard/events/how-to-consume-events-in-a-web-forms-application).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged(System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-948">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-948">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DisplayModeChanging">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventHandler DisplayModeChanging;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventHandler DisplayModeChanging" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanging" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event DisplayModeChanging As WebPartDisplayModeCancelEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartDisplayModeCancelEventHandler ^ DisplayModeChanging;" />
      <MemberSignature Language="F#" Value="member this.DisplayModeChanging : System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventHandler " Usage="member this.DisplayModeChanging : System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-949">当用户单击网页上的谓词以启动不同显示模式之间的更改过程之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-949">Occurs after a user clicks a verb on a Web page that begins the process of changing to a different display mode.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-950">显示模式是 Web 部件应用程序不可或缺的一部分。</span><span class="sxs-lookup"><span data-stu-id="57510-950">Display modes are an integral part of Web Parts applications.</span></span> <span data-ttu-id="57510-951">当用户切换到网页上的不同显示模式时，该页面通常会采用不同的外观，这取决于新的显示模式的用途。</span><span class="sxs-lookup"><span data-stu-id="57510-951">When users switch to a different display mode on a Web page, the page will often take on a very different appearance, depending on the purpose of the new display mode.</span></span> <span data-ttu-id="57510-952">用户启动通过单击谓词更改为新的显示模式的过程后，你可能需要使用 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs.NewDisplayMode%2A> 属性来确定新的显示模式的内容，然后对各种 ui 元素进行相应的更改，从而在用户界面中进行特定更改 (UI) 。</span><span class="sxs-lookup"><span data-stu-id="57510-952">After a user initiates the process of changing to a new display mode by clicking a verb, you might want to make certain changes in the user interface (UI) by using the <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs.NewDisplayMode%2A> property to determine what the new display mode will be, and then changing various UI elements accordingly.</span></span> <span data-ttu-id="57510-953">实现此目的的一种有用方法是重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging%2A> 方法以自定义 UI。</span><span class="sxs-lookup"><span data-stu-id="57510-953">A useful way to do this is to override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging%2A> method to customize the UI.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-954">有关显示模式的详细信息，请参阅 [Web 部件页面显示模式](https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4)。</span><span class="sxs-lookup"><span data-stu-id="57510-954">For more information on display modes, see [Web Parts Page Display Modes](https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4).</span></span> <span data-ttu-id="57510-955">有关使用事件的详细信息，请参阅 [如何：在 Web 窗体应用程序中使用事件](/dotnet/standard/events/how-to-consume-events-in-a-web-forms-application)。</span><span class="sxs-lookup"><span data-stu-id="57510-955">For more information on consuming events, see [How to: Consume Events in a Web Forms Application](/dotnet/standard/events/how-to-consume-events-in-a-web-forms-application).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging(System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-956">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-956">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DisplayModes">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection DisplayModes { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection DisplayModes" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property DisplayModes As WebPartDisplayModeCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartDisplayModeCollection ^ DisplayModes { System::Web::UI::WebControls::WebParts::WebPartDisplayModeCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.DisplayModes : System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-957">获取与 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件关联的所有显示模式的只读集合。</span><span class="sxs-lookup"><span data-stu-id="57510-957">Gets a read-only collection of all display modes that are associated with a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <value><span data-ttu-id="57510-958">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" />，包含一组 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> 控件关联的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-958">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" /> that contains the set of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> objects associated with the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-959"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A>属性引用所有关联的显示模式，这与属性不同， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 后者只引用当前页面上支持的)  (可用的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-959">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> property references all associated display modes, in contrast with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property, which references only the display modes that are available (supported) on the current page.</span></span>  
  
 <span data-ttu-id="57510-960">页面上始终支持两个提供的显示模式： "浏览" 和 "设计"。</span><span class="sxs-lookup"><span data-stu-id="57510-960">Two of the provided display modes, browse and design, are always supported on a page.</span></span> <span data-ttu-id="57510-961">仅当页面具有特定显示模式所需的相应类型的区域时，才支持其他三种显示模式： "编辑"、"目录" 和 "连接"。</span><span class="sxs-lookup"><span data-stu-id="57510-961">The other three display modes, edit, catalog, and connections, are supported only when a page has the corresponding type of zone necessary for a particular display mode to work.</span></span> <span data-ttu-id="57510-962">例如，如果页不包含 <xref:System.Web.UI.WebControls.WebParts.EditorZone> 区域，则编辑显示模式将在属性引用的集合中显示 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> ，但不会显示在属性引用的集合中 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-962">For example, if you page does not contain an <xref:System.Web.UI.WebControls.WebParts.EditorZone> zone, the edit display mode would appear in the collection referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> property, but would not appear in the collection referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-963">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-963">The following code example shows the programmatic use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> property.</span></span> <span data-ttu-id="57510-964">该代码使用此属性来填充列表，其中包含 Web 部件控件集中可用的所有显示模式，甚至是当前页上不支持的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-964">The code uses this property to populate the list with all the display modes available in the Web Parts control set, even those that are not supported on the current page.</span></span> <span data-ttu-id="57510-965">在这种情况下，目录和连接显示模式不受支持，因为其相应的所需区域不在页面上。</span><span class="sxs-lookup"><span data-stu-id="57510-965">In this case, the catalog and connect display modes are not supported, because their corresponding required zones are not on the page.</span></span>  
  
 <span data-ttu-id="57510-966">其他三种显示模式--在页面上支持 "浏览"、"设计" 和 "编辑"。</span><span class="sxs-lookup"><span data-stu-id="57510-966">The other three display modes--browse, design, and edit--are supported on the page.</span></span> <span data-ttu-id="57510-967">支持编辑模式，因为页面包含 <xref:System.Web.UI.WebControls.WebParts.EditorZone> 区域，并且始终支持浏览和设计模式。</span><span class="sxs-lookup"><span data-stu-id="57510-967">Edit mode is supported because the page contains an <xref:System.Web.UI.WebControls.WebParts.EditorZone> zone, while browse and design modes are always supported.</span></span>  
  
 <span data-ttu-id="57510-968">在浏览器中加载页面后，可以使用下拉列表控件将页面从浏览模式切换到设计模式，然后切换到编辑模式。</span><span class="sxs-lookup"><span data-stu-id="57510-968">After you load the page in a browser, you can use the drop-down list control to switch the page from browse mode to design mode, and then to edit mode.</span></span> <span data-ttu-id="57510-969">在编辑模式下，可以单击其中一个服务器控件标头中的下拉谓词菜单，然后选择 " **编辑** " 以编辑控件。</span><span class="sxs-lookup"><span data-stu-id="57510-969">In edit mode, you can click the drop-down verbs menu in the header of one of the server controls, and select **Edit** to edit the control.</span></span> <span data-ttu-id="57510-970">请注意，如果在下拉列表中选择 " **目录** " 或 " **连接** "，则会生成错误页。</span><span class="sxs-lookup"><span data-stu-id="57510-970">Note that if you select **Catalog** or **Connect** in the drop-down list, an error page is generated.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_DisplayModes#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_DisplayModes/CS/wpmgrDisplayModescs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_DisplayModes#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_DisplayModes/VB/wpmgrDisplayModesvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDisplayModes" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-971">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-971">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-972">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-972">Web Parts Page Display Modes</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0"><span data-ttu-id="57510-973">演练：在 Web 部件页上更改显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-973">Walkthrough: Changing Display Modes on a Web Parts Page</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DynamicConnections">
      <MemberSignature Language="C#" Value="protected internal System.Web.UI.WebControls.WebParts.WebPartConnectionCollection DynamicConnections { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartConnectionCollection DynamicConnections" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" />
      <MemberSignature Language="VB.NET" Value="Protected Friend ReadOnly Property DynamicConnections As WebPartConnectionCollection" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartConnectionCollection ^ DynamicConnections { System::Web::UI::WebControls::WebParts::WebPartConnectionCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.DynamicConnections : System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-974">获取网页上当前存在的所有动态连接的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-974">Gets the collection of all dynamic connections that currently exist on a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-975">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" />，其中包含对页上所有动态连接的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-975">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" /> that contains references to all dynamic connections on a page.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-976">动态连接是以编程方式创建的连接，而不是静态的。</span><span class="sxs-lookup"><span data-stu-id="57510-976">Dynamic connections are connections that are created programmatically, as opposed to statically.</span></span> <span data-ttu-id="57510-977">通过在 Web 窗体页的标记中声明静态连接来创建静态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-977">Static connections are created by declaring them in the markup of a Web Forms page.</span></span> <span data-ttu-id="57510-978">动态连接可通过编程方式或使用连接用户界面 (UI) 创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-978">Dynamic connections are formed either programmatically, or by a user creating a connection using the connection user interface (UI).</span></span>  
  
 <span data-ttu-id="57510-979"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections%2A>尽管该集合是只读的并且不能更改其内容，但它提供了对每个动态连接对象的编程访问。</span><span class="sxs-lookup"><span data-stu-id="57510-979">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections%2A> collection, though it is read-only and you cannot change its contents, does provide programmatic access to each dynamic connection object.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-980">若要执行诸如连接或断开控件等常见操作 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，开发人员应使用类上的公共方法（ <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 如 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 和 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> ），而不是尝试直接修改集合中的连接对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-980">To perform common operations such as connecting or disconnecting <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, developers should use the public methods on the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class, such as <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A>, rather than trying to directly modify connection objects in the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DynamicConnections%2A> collection.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreateDynamicConnectionID" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-981">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-981">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="EditDisplayMode">
      <MemberSignature Language="C#" Value="public static readonly System.Web.UI.WebControls.WebParts.WebPartDisplayMode EditDisplayMode;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly class System.Web.UI.WebControls.WebParts.WebPartDisplayMode EditDisplayMode" />
      <MemberSignature Language="DocId" Value="F:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly EditDisplayMode As WebPartDisplayMode " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly System::Web::UI::WebControls::WebParts::WebPartDisplayMode ^ EditDisplayMode;" />
      <MemberSignature Language="F#" Value=" staticval mutable EditDisplayMode : System.Web.UI.WebControls.WebParts.WebPartDisplayMode" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayMode</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-982">表示最终用户可在其中编辑和修改服务器控件的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-982">Represents the display mode in which end users can edit and modify server controls.</span></span> <span data-ttu-id="57510-983">此字段为只读。</span><span class="sxs-lookup"><span data-stu-id="57510-983">This field is read-only.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-984"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode>字段引用由 <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> 控件创建并包含的自定义对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-984">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode> field references a custom <xref:System.Web.UI.WebControls.WebParts.WebPartDisplayMode> object that is created and contained by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-985">因为这是一个静态对象，所以可以直接通过类引用它， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 而无需控件的实例。</span><span class="sxs-lookup"><span data-stu-id="57510-985">Because this is a static object, you can refer to it directly through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class without needing an instance of the control.</span></span>  
  
 <span data-ttu-id="57510-986">当包含 Web 部件控件的页面首次加载时，默认情况下，它处于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> (浏览模式) 中。</span><span class="sxs-lookup"><span data-stu-id="57510-986">When a page that contains Web Parts controls first loads, it is in <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BrowseDisplayMode> (browse mode) by default.</span></span> <span data-ttu-id="57510-987">当用户想要编辑或修改服务器控件时，必须先将页面切换到 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode> (编辑模式) 。</span><span class="sxs-lookup"><span data-stu-id="57510-987">When users want to edit or modify a server control, they must first switch the page to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode> (edit mode).</span></span> <span data-ttu-id="57510-988">其次，它们必须选择要编辑的特定服务器控件，方法是单击该控件标题中谓词菜单上的 "编辑" 谓词。</span><span class="sxs-lookup"><span data-stu-id="57510-988">Second, they must select a specific server control to edit, by clicking the edit verb on the verbs menu in that control's header.</span></span> <span data-ttu-id="57510-989">控件处于编辑模式后，将显示编辑用户界面 (UI) 以便编辑选定的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-989">After the control is in edit mode, the editing user interface (UI) appears for editing the selected control.</span></span>  
  
 <span data-ttu-id="57510-990">若要在页面上启用编辑模式，页面必须包含至少一个区域，其中 <xref:System.Web.UI.WebControls.WebParts.EditorZone> 包含一个或多个所提供的编辑控件（例如 <xref:System.Web.UI.WebControls.WebParts.LayoutEditorPart> 控件）或自定义编辑控件。</span><span class="sxs-lookup"><span data-stu-id="57510-990">To enable edit mode on a page, the page must contain at least one <xref:System.Web.UI.WebControls.WebParts.EditorZone> zone that includes one or more of the provided editing controls, such as the <xref:System.Web.UI.WebControls.WebParts.LayoutEditorPart> control, or custom editing controls.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-991">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode> 字段。</span><span class="sxs-lookup"><span data-stu-id="57510-991">The following code example demonstrates how to work with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode> field programmatically.</span></span> <span data-ttu-id="57510-992">此代码使用页面支持的显示模式填充下拉列表，在本例中为 "浏览"、"设计" 和 "编辑"。</span><span class="sxs-lookup"><span data-stu-id="57510-992">The code populates a drop-down list with the supported display modes for the page, which in this case are browse, design, and edit.</span></span> <span data-ttu-id="57510-993">若要支持编辑，请 `<asp:EditorZone>` 在页面中提供一个元素。</span><span class="sxs-lookup"><span data-stu-id="57510-993">To support editing, an `<asp:EditorZone>` element is in the page.</span></span> <span data-ttu-id="57510-994">请注意，在 `Page_PreRender` 方法中，代码检查当前 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> 属性是否设置为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode> 。</span><span class="sxs-lookup"><span data-stu-id="57510-994">Notice that, in the `Page_PreRender` method, the code checks whether the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayMode%2A> property is set to <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EditDisplayMode>.</span></span> <span data-ttu-id="57510-995">如果是这样，将 `Label1` 显示，如果不可见， `Label1` 将隐藏。</span><span class="sxs-lookup"><span data-stu-id="57510-995">If so, `Label1` will be visible, and if not, `Label1` will be hidden.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_EditDisplayMode#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_EditDisplayMode/CS/wpmgrEditDisplayModecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_EditDisplayMode#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_EditDisplayMode/VB/wpmgrEditDisplayModevb.aspx#1)]  
  
 <span data-ttu-id="57510-996">在浏览器中加载页面后，默认情况下处于浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-996">After you load the page in a browser, you are in browse mode by default.</span></span> <span data-ttu-id="57510-997">请注意，页面上的标签处于隐藏状态。</span><span class="sxs-lookup"><span data-stu-id="57510-997">Notice the label on the page is hidden.</span></span> <span data-ttu-id="57510-998">使用下拉列表控件将页面切换到编辑模式。</span><span class="sxs-lookup"><span data-stu-id="57510-998">Use the drop-down list control to switch the page to edit mode.</span></span> <span data-ttu-id="57510-999">请注意，由于方法中的代码 `Page_PreRender` ，标签现在可见。</span><span class="sxs-lookup"><span data-stu-id="57510-999">Notice that, because of the code in the `Page_PreRender` method, the label is now visible.</span></span> <span data-ttu-id="57510-1000">单击其中一个控件的谓词菜单中的 " **编辑** " 谓词，以启用对该特定控件的编辑。</span><span class="sxs-lookup"><span data-stu-id="57510-1000">Click the **Edit** verb in the verbs menu on one of the controls, to enable editing of that specific control.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1001">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1001">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-1002">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-1002">Web Parts Page Display Modes</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="EnableClientScript">
      <MemberSignature Language="C#" Value="public virtual bool EnableClientScript { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool EnableClientScript" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property EnableClientScript As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property bool EnableClientScript { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.EnableClientScript : bool with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue(true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue(true)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1003">获取或设置一个值，该值确定在包含 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的网页上是否启用了客户端脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-1003">Gets or sets a value that determines whether client-side scripting is enabled on the Web page that contains a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <value><span data-ttu-id="57510-1004">一个布尔值，指示页上是否可以运行客户端脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-1004">A Boolean value that indicates whether client script can run on the page.</span></span> <span data-ttu-id="57510-1005">默认值是 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1005">The default value is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1006"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript%2A>属性为开发人员提供了一种禁用客户端脚本的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1006">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableClientScript%2A> property provides a way for developers to disable client scripts.</span></span> <span data-ttu-id="57510-1007">出于安全目的，您可能希望禁用客户端脚本，或确保某个页面的所有用户都具有类似的用户体验，即使他们使用不同的浏览器也是如此。</span><span class="sxs-lookup"><span data-stu-id="57510-1007">You might want to disable client scripting for security purposes, or to ensure that all users of a page will have a similar user experience, even if they use different browsers.</span></span>  
  
 <span data-ttu-id="57510-1008">可以通过将 `EnableClientScript` 特性添加到网页上的元素来禁用客户端脚本 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，如以下声明性代码行所示：</span><span class="sxs-lookup"><span data-stu-id="57510-1008">You can disable client scripting by adding an `EnableClientScript` attribute to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> element on a Web page, as in the following line of declarative code:</span></span>  
  
 `<asp:webpartmanager id="manager" runat="server"`  
  
 `EnableClientScript="false" />`  
  
 <span data-ttu-id="57510-1009">此外，开发人员可以通过从 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 类继承并将默认值设置为来消除此属性 `false` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1009">Also, developers could eliminate this property by inheriting from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class and setting the default value to `false`.</span></span>  
  
 <span data-ttu-id="57510-1010">Web 部件控件集使用客户端脚本来提供一些客户端用户界面 (UI) 和个性化功能。</span><span class="sxs-lookup"><span data-stu-id="57510-1010">The Web Parts control set uses client scripting to provide some of the client user interface (UI) and personalization features.</span></span> <span data-ttu-id="57510-1011">如果禁用客户端脚本，则 Web 部件控件仍然有效，但某些功能处于禁用状态。</span><span class="sxs-lookup"><span data-stu-id="57510-1011">If you disable client scripting, Web Parts controls still work, but some features are disabled.</span></span> <span data-ttu-id="57510-1012">禁用将控件拖放到不同区域的功能，以及在控件标题栏的下拉谓词菜单中呈现谓词的能力 (谓词在控件的标题栏) 中显示为链接。</span><span class="sxs-lookup"><span data-stu-id="57510-1012">The ability to drag controls into different zones is disabled, along with the ability to render verbs in a drop-down verbs menu in a control's title bar (the verbs are instead displayed as links in the control's title bar).</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1013">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1013">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="EnableTheming">
      <MemberSignature Language="C#" Value="public override bool EnableTheming { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool EnableTheming" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.EnableTheming" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Property EnableTheming As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property bool EnableTheming { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.EnableTheming : bool with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.EnableTheming" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue(true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue(true)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1014">获取一个值，该值指示网页启用了主题。</span><span class="sxs-lookup"><span data-stu-id="57510-1014">Gets a value indicating that the use of themes is enabled on a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-1015">一个布尔值，指示是否启用了主题。</span><span class="sxs-lookup"><span data-stu-id="57510-1015">A Boolean value that indicates whether themes are enabled.</span></span> <span data-ttu-id="57510-1016">在所有情况下均为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1016"><see langword="true" /> in all cases.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1017"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件重写基 <xref:System.Web.UI.Control.EnableTheming%2A> 属性，以确保它始终返回值 `true` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1017">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control overrides the base <xref:System.Web.UI.Control.EnableTheming%2A> property to ensure that it always returns a value of `true`.</span></span> <span data-ttu-id="57510-1018">这样做是因为 Web 部件控件集需要使用主题来呈现 Web 部件控件，这些控件是控件的子控件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，并且构成网页 (UI) 的用户界面。</span><span class="sxs-lookup"><span data-stu-id="57510-1018">This is done because the Web Parts control set requires the use of themes to render the Web Parts controls that are child controls of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control and that form the user interface (UI) of a Web page.</span></span> <span data-ttu-id="57510-1019">例如，主题用于呈现不同的区域以及驻留在区域中的控件，包括各种类型的部件控件 (从类继承的控件 <xref:System.Web.UI.WebControls.WebParts.Part>) 、用户控件、ASP.NET 服务器控件和自定义服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1019">For example, themes are used to render the various zones, and the controls that reside in the zones, including the various types of part controls (controls that inherit from the <xref:System.Web.UI.WebControls.WebParts.Part> class), user controls, ASP.NET server controls, and custom server controls.</span></span>  
  
 <span data-ttu-id="57510-1020">尽管重写的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableTheming%2A> 属性根据其基本属性实现为读/写属性，但无法设置属性，因为它的设计必须始终返回值 `true` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1020">Although the overridden <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EnableTheming%2A> property is implemented as a read/write property in accordance with its base property, you cannot set the property, because by design it must always return a value of `true`.</span></span> <span data-ttu-id="57510-1021">如果尝试设置该属性，则 <xref:System.NotSupportedException> 会引发异常。</span><span class="sxs-lookup"><span data-stu-id="57510-1021">If you attempt to set the property, a <xref:System.NotSupportedException> exception is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="57510-1022">尝试设置该属性值。</span><span class="sxs-lookup"><span data-stu-id="57510-1022">An attempt was made to set the property value.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1023">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1023">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="EndWebPartConnecting">
      <MemberSignature Language="C#" Value="public virtual void EndWebPartConnecting ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void EndWebPartConnecting() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub EndWebPartConnecting ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void EndWebPartConnecting();" />
      <MemberSignature Language="F#" Value="abstract member EndWebPartConnecting : unit -&gt; unit&#xA;override this.EndWebPartConnecting : unit -&gt; unit" Usage="webPartManager.EndWebPartConnecting " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1024">完成将 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件连接到另一个控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1024">Completes the process of connecting a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control to another control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1025"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting%2A>方法完成将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件连接到另一控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1025">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting%2A> method finishes the process of connecting a <xref:System.Web.UI.WebControls.WebParts.WebPart> control to another control.</span></span> <span data-ttu-id="57510-1026">它与方法是对应的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1026">It is the counterpart to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting%2A> method.</span></span>  
  
 <span data-ttu-id="57510-1027"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting%2A>方法可确保属性引用的个性化对象是可 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 修改的，这是必需的，因为构建连接本身就是一种个性化类型。</span><span class="sxs-lookup"><span data-stu-id="57510-1027">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartConnecting%2A> method ensures that the personalization object referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property is modifiable, which is necessary because forming a connection is itself a type of personalization.</span></span> <span data-ttu-id="57510-1028">然后，方法确保 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> 对象不为 `null` ，最后调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1028">The method then ensures that the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> object is not `null`, and finally calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-1029"><see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> 属性所引用的控件为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1029">The control referenced by the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> property is <see langword="null" />.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1030">需要扩展控件的开发人员 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 可能希望在派生类中重写此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1030">Developers who need to extend the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control might want to override this method in a derived class.</span></span> <span data-ttu-id="57510-1031">一种方法是调用基方法，然后添加一些附加的自定义处理，或者您可能需要完全自定义完成控件之间的连接的整个过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1031">One approach would be to call the base method and then add some additional custom handling, or you might want to completely customize the entire process of completing a connection between controls.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartConnecting(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1032">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1032">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="EndWebPartEditing">
      <MemberSignature Language="C#" Value="public virtual void EndWebPartEditing ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void EndWebPartEditing() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub EndWebPartEditing ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void EndWebPartEditing();" />
      <MemberSignature Language="F#" Value="abstract member EndWebPartEditing : unit -&gt; unit&#xA;override this.EndWebPartEditing : unit -&gt; unit" Usage="webPartManager.EndWebPartEditing " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1033">完成编辑 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1033">Completes the process of editing a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1034"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A>方法完成编辑控件的过程 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1034">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A> method finishes the process of editing a <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-1035">它与方法是对应的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1035">It is the counterpart to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> method.</span></span>  
  
 <span data-ttu-id="57510-1036"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A>方法可确保属性引用的个性化对象是可 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 修改的，这是必需的，因为编辑控件是需要进行个性化更改的进程。</span><span class="sxs-lookup"><span data-stu-id="57510-1036">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A> method ensures that the personalization object referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property is modifiable, which is necessary because editing a control is a process that requires personalization changes.</span></span> <span data-ttu-id="57510-1037">然后，方法确保 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> 对象不是 `null` ，以便当前选定的 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件可以更改，最后调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1037">The method then ensures that the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> object is not `null`, so that the currently selected <xref:System.Web.UI.WebControls.WebParts.WebPart> control can change, and finally it calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-1038"><see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> 属性所引用的控件为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1038">The control referenced by the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> property is <see langword="null" />.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1039">需要扩展控件的开发人员 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 可能希望在派生类中重写此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1039">Developers who need to extend the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control might want to override this method in a derived class.</span></span> <span data-ttu-id="57510-1040">一种方法是调用基方法，然后添加一些附加的自定义处理，或者您可能需要完全自定义完成控件编辑的整个过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1040">One approach would be to call the base method and then add some additional custom handling, or you might want to completely customize the entire process of completing the editing of a control.</span></span> <span data-ttu-id="57510-1041">例如，在重写方法中，你可以先调用基方法，然后添加一些代码来确定进行了哪些编辑更改，并显示返回给最终用户的更改列表作为确认。</span><span class="sxs-lookup"><span data-stu-id="57510-1041">For example, in the override method, you could call the base method first, and then add some code that determines what editing changes were made, and displays the list of changes back to the end user as a confirmation.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1042">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1042">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ExportSensitiveDataWarning">
      <MemberSignature Language="C#" Value="public virtual string ExportSensitiveDataWarning { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ExportSensitiveDataWarning" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property ExportSensitiveDataWarning As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ ExportSensitiveDataWarning { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ExportSensitiveDataWarning : string with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1043">获取或设置在用户尝试从 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件导出敏感状态数据时显示的警告消息的文本。</span><span class="sxs-lookup"><span data-stu-id="57510-1043">Gets or sets the text of a warning message that is displayed when a user attempts to export sensitive state data from a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></summary>
        <value><span data-ttu-id="57510-1044">一个包含警告消息的字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-1044">A string that contains the warning message.</span></span> <span data-ttu-id="57510-1045">默认消息是由 .NET Framework 提供的、特定于区域性的值。</span><span class="sxs-lookup"><span data-stu-id="57510-1045">The default message is a culture-specific value supplied by the .NET Framework.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1046">当用户尝试从控件中导出敏感状态数据时 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，如果导出的任何数据来自源代码中标记为 "敏感" 的成员，则会在消息框中向用户显示一条警告消息，告诉他们正在导出敏感数据，并提供取消导出的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1046">When a user attempts to export sensitive state data from a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, if any of the data being exported comes from a member that was marked as sensitive in the source code, a warning message is displayed to the user in a message box, telling them that sensitive data is being exported and providing an opportunity to cancel the export.</span></span> <span data-ttu-id="57510-1047">开发人员可以通过 `isSensitive` `[Personalizable]` 在成员上将属性的参数设置为来将特定成员的数据标记为敏感数据 `true` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1047">Developers can mark a specific member's data as sensitive by setting the `isSensitive` parameter of the `[Personalizable]` attribute to `true` on the member.</span></span> <span data-ttu-id="57510-1048">有关此特性和参数的详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.PersonalizableAttribute> 类。</span><span class="sxs-lookup"><span data-stu-id="57510-1048">For more information about this attribute and parameter, see the <xref:System.Web.UI.WebControls.WebParts.PersonalizableAttribute> class.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="57510-1049">使用 Web 部件的导出功能时，敏感数据可能会导出到未经授权的用户。</span><span class="sxs-lookup"><span data-stu-id="57510-1049">When you use the export feature of Web Parts, sensitive data could potentially be exported to unauthorized users.</span></span> <span data-ttu-id="57510-1050">有关如何防范此威胁的详细信息，请参阅 [保护 Web 部件页面](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2)。</span><span class="sxs-lookup"><span data-stu-id="57510-1050">For details on how to protect against this threat, see [Securing Web Parts Pages](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2).</span></span>  
  
 <span data-ttu-id="57510-1051">每当用户尝试导出时，都会显示默认消息。</span><span class="sxs-lookup"><span data-stu-id="57510-1051">The default message is displayed whenever users attempt to export.</span></span> <span data-ttu-id="57510-1052">但是，通过将值分配给 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning%2A> 属性，可以提供自定义警告消息。</span><span class="sxs-lookup"><span data-stu-id="57510-1052">However, by assigning a value to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning%2A> property, you can provide a custom warning message.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1053">下面的代码示例演示了属性的声明性用法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1053">The following code example demonstrates the declarative use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportSensitiveDataWarning%2A> property.</span></span>  
  
 <span data-ttu-id="57510-1054">以下网页的代码使用标准 <xref:System.Web.UI.WebControls.BulletedList> 控件，并将其放在区域中。</span><span class="sxs-lookup"><span data-stu-id="57510-1054">The code for the following Web page uses a standard <xref:System.Web.UI.WebControls.BulletedList> control and places it in a zone.</span></span> <span data-ttu-id="57510-1055">控件将 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 在运行时与控件一起包装，这样它就可以作为真正的 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1055">The control will be wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control at run time, which enables it to act as a true <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-1056">若要使控件可导出，请将 `ExportMode` 属性添加到 `<asp:bulletedlist>` 元素，并将属性值设置为 <xref:System.Web.UI.WebControls.WebParts.WebPartExportMode.All> ，这意味着可以导出敏感数据和非敏感数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1056">To make the control exportable, an `ExportMode` attribute is added to the `<asp:bulletedlist>` element, and the attribute value is set to <xref:System.Web.UI.WebControls.WebParts.WebPartExportMode.All>, which means that both sensitive and non-sensitive data can be exported.</span></span> <span data-ttu-id="57510-1057">另请注意，在 `<asp:webpartmanager>` 元素中， `ExportSensitiveDataWarning` 为属性分配自定义值。</span><span class="sxs-lookup"><span data-stu-id="57510-1057">Note also that in the `<asp:webpartmanager>` element, the `ExportSensitiveDataWarning` attribute is assigned a custom value.</span></span>  
  
 <span data-ttu-id="57510-1058">请注意，若要使代码示例正常运行，必须在 Web.config 文件中添加一个设置，以便导出 Web 部件说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1058">Note that for the code example to work, there is a setting you must add in the Web.config file to enable exporting Web Parts description files.</span></span> <span data-ttu-id="57510-1059">请确保在此代码示例的网页所在的同一目录中有一个 Web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1059">Ensure that you have a Web.config file in the same directory as the Web page for this code example.</span></span> <span data-ttu-id="57510-1060">在 `<system.web>` 部分中，请确保有一个 `<webParts>` 元素的 `enableExport` 属性设置为 `true` ，如以下标记所示。</span><span class="sxs-lookup"><span data-stu-id="57510-1060">Within the `<system.web>` section, make sure there is a `<webParts>` element with an `enableExport` attribute set to `true`, as in the following markup.</span></span>  
  
 `<webParts enableExport="true">`  
  
 `...`  
  
 `</webParts>`  
  
 [!code-aspx-csharp[WebParts_WebPartManager_ExportSensitiveData#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_ExportSensitiveData/CS/wpmgrExportSensitiveWarningCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_ExportSensitiveData#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_ExportSensitiveData/VB/wpmgrExportSensitiveWarningVB.aspx#1)]  
  
 <span data-ttu-id="57510-1061">在浏览器中加载页面后，在包含链接的控件的标题栏中，单击谓词菜单 (表示的向下箭头) 。</span><span class="sxs-lookup"><span data-stu-id="57510-1061">After you load the page in a browser, click the verbs menu (represented by a downward arrow) in the title bar of the control that contains the links.</span></span> <span data-ttu-id="57510-1062">在谓词菜单中，选择 " **导出**"，并注意出现带有自定义警告的消息框。</span><span class="sxs-lookup"><span data-stu-id="57510-1062">In the verbs menu, select **Export**, and notice that a message box appears with the custom warning.</span></span> <span data-ttu-id="57510-1063">如果要继续导出，请单击 **"确定**"，这将允许你使用有关控件的所有数据保存 XML 说明文件的本地副本。</span><span class="sxs-lookup"><span data-stu-id="57510-1063">If you want to continue with the export, click **OK**, which will allow you to save a local copy of an XML description file with all the data about the control.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.ExportMode" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Xml.XmlWriter)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1064">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1064">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ExportWebPart">
      <MemberSignature Language="C#" Value="public virtual void ExportWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart, System.Xml.XmlWriter writer);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ExportWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart, class System.Xml.XmlWriter writer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Xml.XmlWriter)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub ExportWebPart (webPart As WebPart, writer As XmlWriter)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ExportWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart, System::Xml::XmlWriter ^ writer);" />
      <MemberSignature Language="F#" Value="abstract member ExportWebPart : System.Web.UI.WebControls.WebParts.WebPart * System.Xml.XmlWriter -&gt; unit&#xA;override this.ExportWebPart : System.Web.UI.WebControls.WebParts.WebPart * System.Xml.XmlWriter -&gt; unit" Usage="webPartManager.ExportWebPart (webPart, writer)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="writer" Type="System.Xml.XmlWriter" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1065">将从中导出数据的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1065">The control from which data will be exported.</span></span></param>
        <param name="writer"><span data-ttu-id="57510-1066">一个 <see cref="T:System.Xml.XmlWriter" />，它将导出的数据从 <paramref name="webPart" /> 写入 XML 说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1066">An <see cref="T:System.Xml.XmlWriter" /> that writes the exported data from <paramref name="webPart" /> to an XML description file.</span></span></param>
        <summary><span data-ttu-id="57510-1067">创建包含服务器控件的状态和属性数据的 XML 说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1067">Creates an XML description file that contains state and property data for a server control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1068"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A>方法将各种状态和属性数据从汇编 `webPart` 到 XML 文件中。</span><span class="sxs-lookup"><span data-stu-id="57510-1068">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A> method assembles various state and property data from `webPart` into an XML file.</span></span> <span data-ttu-id="57510-1069">数据包括有关控件本身的信息，包括其程序集、状态数据和属性数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1069">The data includes information about the control itself, including its assembly, state data, and property data.</span></span> <span data-ttu-id="57510-1070">启动导出的用户可将 XML 文件保存到本地计算机或网络上的磁盘。</span><span class="sxs-lookup"><span data-stu-id="57510-1070">The user who initiates the export can save the XML file to disk on the local computer or the network.</span></span> <span data-ttu-id="57510-1071">然后，其他用户可以将该描述文件导入到另一个页面或网站，并将状态和属性数据应用到的另一个实例 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1071">Other users can then import the description file to a different page or Web site, and apply the state and property data to a different instance of `webPart`.</span></span> <span data-ttu-id="57510-1072">这为用户提供了一种快速而方便的机制，用于在服务器控件上共享和重用其设置，还为开发人员提供了一种控制导出和导入控件的外观和行为的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1072">This provides a fast and convenient mechanism for users to share and reuse their settings on server controls, and it also provides developers with a means to control the appearance and behavior of exported and imported controls.</span></span>  
  
 <span data-ttu-id="57510-1073">`webPart`默认情况下，不导出上的属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1073">Properties on `webPart` are not exported by default.</span></span> <span data-ttu-id="57510-1074">若要允许导出属性，必须在源代码中使用属性对其进行标记 `[Personalizable]` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1074">To enable export of a property, you must mark it with the `[Personalizable]` attribute in the source code.</span></span> <span data-ttu-id="57510-1075">通过将属性的参数设置为，还可以选择性地将可导出属性标记为包含敏感数据 `isSensitive` `[Personalizable]` `true` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1075">You can also optionally mark an exportable property as containing sensitive data, by setting the `isSensitive` parameter of the `[Personalizable]` attribute to `true`.</span></span> <span data-ttu-id="57510-1076">默认情况下， `isSensitive` 为 `false` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1076">By default, `isSensitive` is `false`.</span></span> <span data-ttu-id="57510-1077">开发人员可以将参数设置为， `true` 以指示数据是敏感的。</span><span class="sxs-lookup"><span data-stu-id="57510-1077">Developers can set the parameter to `true` to indicate that the data is sensitive.</span></span>  
  
 <span data-ttu-id="57510-1078">若要允许 `webPart` 导出，开发人员可将其 <xref:System.Web.UI.WebControls.WebParts.WebPart.ExportMode%2A> 属性值设置为 <xref:System.Web.UI.WebControls.WebParts.WebPartExportMode.All> (其中包括) 的所有可个性化属性和敏感属性，或导出到的所有 <xref:System.Web.UI.WebControls.WebParts.WebPartExportMode.NonSensitiveData> 内容（敏感属性除外）。</span><span class="sxs-lookup"><span data-stu-id="57510-1078">To enable `webPart` to be exported, a developer sets its <xref:System.Web.UI.WebControls.WebParts.WebPart.ExportMode%2A> property value to either <xref:System.Web.UI.WebControls.WebParts.WebPartExportMode.All> (which includes all personalizable and sensitive properties), or to <xref:System.Web.UI.WebControls.WebParts.WebPartExportMode.NonSensitiveData>, which exports everything except for sensitive properties.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="57510-1079">允许用户从控件中导出数据，并将数据导入到其他控件中，这会带来一些安全风险。</span><span class="sxs-lookup"><span data-stu-id="57510-1079">Allowing users to export data from controls, and to import data into other controls, entails some security risks.</span></span> <span data-ttu-id="57510-1080">开发人员应使用上面所述的方法来保护敏感数据，如果他们想避免完全公开数据的风险，根本不应启用导出 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1080">Developers should use the approach discussed above to protect sensitive data, and if they want to avoid the risk of exposing data altogether, they should not enable export on `webPart` at all.</span></span> <span data-ttu-id="57510-1081">有关 Web 部件安全问题的详细信息，请参阅 [保护 Web 部件页面](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2)。</span><span class="sxs-lookup"><span data-stu-id="57510-1081">For details on Web Parts security issues, see [Securing Web Parts Pages](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1082"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1082"><paramref name="webPart" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="57510-1083">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1083">-or-</span></span> 
 <span data-ttu-id="57510-1084"><paramref name="writer" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1084"><paramref name="writer" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-1085"><paramref name="webPart" /> 未包含在 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> 中所引用的控件集合中。</span><span class="sxs-lookup"><span data-stu-id="57510-1085"><paramref name="webPart" /> is not contained in the collection of controls referenced in <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" />.</span></span>  
  
<span data-ttu-id="57510-1086">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1086">-or-</span></span> 
<span data-ttu-id="57510-1087"><paramref name="webPart" /> 的 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.ExportMode" /> 属性设置为值 <see cref="F:System.Web.UI.WebControls.WebParts.WebPartExportMode.None" />，该值表明对 <paramref name="webPart" /> 禁用导出。</span><span class="sxs-lookup"><span data-stu-id="57510-1087">The <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.ExportMode" /> property of <paramref name="webPart" /> is set to a value of <see cref="F:System.Web.UI.WebControls.WebParts.WebPartExportMode.None" />, which means that export is disabled for <paramref name="webPart" />.</span></span></exception>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.ExportMode" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart(System.Xml.XmlReader,System.String@)" />
        <related type="Article" href="https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2"><span data-ttu-id="57510-1088">保护 Web 部件页面</span><span class="sxs-lookup"><span data-stu-id="57510-1088">Securing Web Parts Pages</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Focus">
      <MemberSignature Language="C#" Value="public override void Focus ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Focus() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.Focus" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Focus ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Focus();" />
      <MemberSignature Language="F#" Value="override this.Focus : unit -&gt; unit" Usage="webPartManager.Focus " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1089">被重写以防止将焦点设置在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件上，因为该控件没有用户界面 (UI)。</span><span class="sxs-lookup"><span data-stu-id="57510-1089">Overridden to prevent focus from ever being set on the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control, because it has no user interface (UI).</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1090"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Focus%2A>方法将重写基 <xref:System.Web.UI.Control.Focus%2A?displayProperty=nameWithType> 方法，并在调用方调用方法时引发异常。</span><span class="sxs-lookup"><span data-stu-id="57510-1090">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Focus%2A> method overrides the base <xref:System.Web.UI.Control.Focus%2A?displayProperty=nameWithType> method, and throws an exception if a caller calls the method.</span></span> <span data-ttu-id="57510-1091">由于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件没有 UI，并且对用户从不可见，因此它永远不允许对其自身设置焦点。</span><span class="sxs-lookup"><span data-stu-id="57510-1091">Because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has no UI and is never visible to users, it can never allow focus to be set on itself.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="57510-1092">调用方尝试调用 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.Focus" /> 方法，该方法在没有用户界面的控件中不受支持。</span><span class="sxs-lookup"><span data-stu-id="57510-1092">A caller tries to call the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.Focus" /> method, which is not supported in a control that has no UI.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetConsumerConnectionPoints">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection GetConsumerConnectionPoints (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection GetConsumerConnectionPoints(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetConsumerConnectionPoints (webPart As WebPart) As ConsumerConnectionPointCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::ConsumerConnectionPointCollection ^ GetConsumerConnectionPoints(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member GetConsumerConnectionPoints : System.Web.UI.WebControls.WebParts.WebPart -&gt; System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection&#xA;override this.GetConsumerConnectionPoints : System.Web.UI.WebControls.WebParts.WebPart -&gt; System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection" Usage="webPartManager.GetConsumerConnectionPoints webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1093">作为连接中的使用者的服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1093">A server control that is acting as a consumer in a connection.</span></span></param>
        <summary><span data-ttu-id="57510-1094">检索 <see cref="T:System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" /> 对象的集合，这些对象可以作为来自如下服务器控件的连接点：该服务器控件正在作为 Web 部件连接中的使用者。</span><span class="sxs-lookup"><span data-stu-id="57510-1094">Retrieves the collection of <see cref="T:System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" /> objects that can act as connection points from a server control that is acting as a consumer within a Web Parts connection.</span></span></summary>
        <returns><span data-ttu-id="57510-1095">包含使用者中的所有连接点的 <see cref="T:System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1095">A <see cref="T:System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection" /> that contains all connection points in the consumer.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1096">Web 部件连接始终只涉及两个控件，一个充当数据的提供者，另一个用作数据的使用者。</span><span class="sxs-lookup"><span data-stu-id="57510-1096">A Web Parts connection always involves exactly two controls, one acting as the provider of data, the other acting as the consumer of data.</span></span> <span data-ttu-id="57510-1097">每个控件都必须具有一个或多个定义为连接点的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1097">Each control must have one or more methods that are defined as connection points.</span></span> <span data-ttu-id="57510-1098">对于使用者控件，其连接点为 <xref:System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-1098">In the case of a consumer control, its connection points are <xref:System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint> objects.</span></span> <span data-ttu-id="57510-1099">若要构建 Web 部件连接，必须检索使用者连接点。</span><span class="sxs-lookup"><span data-stu-id="57510-1099">Retrieving the consumer connection points is a necessary step in forming a Web Parts connection.</span></span>  
  
 <span data-ttu-id="57510-1100">使用者必须始终至少有一个连接点才能建立连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1100">A consumer must always have at least one connection point to be able to establish a connection.</span></span> <span data-ttu-id="57510-1101"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A>方法检查使用者控件并检索其所有连接点的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-1101">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> method checks a consumer control and retrieves a collection of all its connection points.</span></span> <span data-ttu-id="57510-1102">如果 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件没有连接点，则该方法返回一个空集合。</span><span class="sxs-lookup"><span data-stu-id="57510-1102">If a <xref:System.Web.UI.WebControls.WebParts.WebPart> control has no connection points, the method returns an empty collection.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1103">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1103">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> method.</span></span>  
  
 <span data-ttu-id="57510-1104">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-1104">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-1105">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1105">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-1106">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1106">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, and an `<asp:webpartmanager>` element.</span></span>  
  
-   <span data-ttu-id="57510-1107">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1107">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-1108">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-1108">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-1109">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1109">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-1110">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1110">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-1111">有关显示模式和用户控件工作方式的详细信息，请参阅主题 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-1111">For more information about display modes and how the user control works, see the topic [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-1112">网页的声明性标记包含 `Register` 用户控件和自定义控件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-1112">The declarative markup for the Web page contains `Register` directives for both the user control and the custom controls.</span></span> <span data-ttu-id="57510-1113">有一个 `<asp:webpartmanager>` 元素、一个 `<asp:webpartzone>` 元素包含自定义控件和一个 `<asp:connectionszone>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1113">There is an `<asp:webpartmanager>` element, an `<asp:webpartzone>` element to contain the custom controls, and an `<asp:connectionszone>` element.</span></span> <span data-ttu-id="57510-1114">请注意，在 `Page_Load` 方法中，代码会检查连接是否已存在，如果不存在，则定义一个提供程序、一个使用者及其各自的连接点，然后将新连接添加到属性引用的静态连接集 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1114">Notice that in the `Page_Load` method, the code checks to see whether a connection already exists and, if not, defines a provider, a consumer, and their respective connection points, and then adds a new connection to the set of static connections referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> property.</span></span> <span data-ttu-id="57510-1115">请注意， <xref:System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection> 通过使用方法检索的对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> 被传递给 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> 方法，以确定是否可以创建两个控件之间的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1115">Note that the <xref:System.Web.UI.WebControls.WebParts.ConsumerConnectionPointCollection> object that is retrieved by using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints%2A> method is then passed to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method to determine whether a connection between the two controls can be created.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/CS/wpmgrStaticConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/VB/wpmgrStaticConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-1116">该示例的第三部分是控件的源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-1116">The third part of the example is the source code for the controls.</span></span> <span data-ttu-id="57510-1117">你可以从类概述的 "示例" 部分获取此代码以及用于编译该代码的说明 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1117">You can obtain this code, and instructions for compiling it, from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span>  
  
 <span data-ttu-id="57510-1118">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1118">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-1119">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1119">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-1120">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-1120">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-1121">连接用户界面 (UI) 出现后，请注意该方法中包含的代码已创建连接 `Page_Load` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1121">After the connection user interface (UI) appears, notice that a connection has already been created by the code contained in the `Page_Load` method.</span></span> <span data-ttu-id="57510-1122">如果在后续浏览器会话中返回到此页，则已建立此静态连接，并且每次加载页面时都不需要重新创建此静态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1122">If you return to this page in a later browser session, this static connection will already be established and will not need to be recreated each time the page loads.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1123"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1123"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.ConsumerConnectionPoint" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1124">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1124">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetCurrentWebPartManager">
      <MemberSignature Language="C#" Value="public static System.Web.UI.WebControls.WebParts.WebPartManager GetCurrentWebPartManager (System.Web.UI.Page page);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Web.UI.WebControls.WebParts.WebPartManager GetCurrentWebPartManager(class System.Web.UI.Page page) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager(System.Web.UI.Page)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetCurrentWebPartManager (page As Page) As WebPartManager" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Web::UI::WebControls::WebParts::WebPartManager ^ GetCurrentWebPartManager(System::Web::UI::Page ^ page);" />
      <MemberSignature Language="F#" Value="static member GetCurrentWebPartManager : System.Web.UI.Page -&gt; System.Web.UI.WebControls.WebParts.WebPartManager" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager page" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartManager</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="page" Type="System.Web.UI.Page" />
      </Parameters>
      <Docs>
        <param name="page"><span data-ttu-id="57510-1125">包含 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 的实例的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-1125">The Web page that contains an instance of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />.</span></span></param>
        <summary><span data-ttu-id="57510-1126">检索对页上的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的当前实例的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1126">Retrieves a reference to the current instance of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control on a page.</span></span></summary>
        <returns><span data-ttu-id="57510-1127">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />，引用该控件在页上的当前实例。</span><span class="sxs-lookup"><span data-stu-id="57510-1127">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> that references the current instance of the control on a page.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1128"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A>当要检索对当前控件的引用的上下文中，方法非常有用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1128">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A> method is useful in contexts where you want to retrieve a reference to the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-1129">常见的情况是，如果您正在编写一个自定义控件，而该控件在开发过程中无法识别，则 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 其页上的控件的 ID 将是什么。</span><span class="sxs-lookup"><span data-stu-id="57510-1129">A common scenario where this would occur is if you are writing a custom control that cannot know during development what the ID of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control on its page will be.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1130"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A>方法是静态的，因此可以直接调用，而无需使用控件的实例 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1130">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A> method is static, so you can call it directly without needing an instance of a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="57510-1131">Web 部件控件集中的某些控件（如 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件）具有 <xref:System.Web.UI.WebControls.WebParts.WebPart.WebPartManager%2A> 可以检索对当前控件的引用的属性 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1131">Some controls in the Web Parts control set, such as <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, have a <xref:System.Web.UI.WebControls.WebParts.WebPart.WebPartManager%2A> property that can retrieve a reference to the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-1132">因此，使用此类控件时，应使用此属性来检索引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1132">Hence, when working with such controls, you should use this property to retrieve a reference.</span></span>  
  
 <span data-ttu-id="57510-1133">如果要在知道控件 ID 的上下文（ <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 例如在网页中编写内联代码）中进行编码，则使用其 ID 直接引用控件是最简单且最有效的方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1133">If you are coding in a context where you know the ID of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, such as writing code inline within a Web page, it is simplest and most efficient to refer directly to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control by using its ID.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1134">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1134">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A> method.</span></span> <span data-ttu-id="57510-1135">该示例包含两个部分：一个自定义服务器控件和一个承载控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-1135">The example has two parts: a custom server control, and a Web page that hosts the control.</span></span>  
  
 <span data-ttu-id="57510-1136">自定义 <xref:System.Web.UI.WebControls.Label> 控件使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A> 方法检索 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 当前页上的控件的 id，然后显示该 id。</span><span class="sxs-lookup"><span data-stu-id="57510-1136">The custom <xref:System.Web.UI.WebControls.Label> control uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetCurrentWebPartManager%2A> method to retrieve the ID of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control on the current page, and then displays the ID.</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_GetCurrentWebPartManager#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_GetCurrentWebPartManager/CS/MyManagerIDLabel.cs#2)]
 [!code-vb[WebParts_WebPartManager_GetCurrentWebPartManager#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_GetCurrentWebPartManager/VB/MyManagerIDLabel.vb#2)]  
  
 <span data-ttu-id="57510-1137">下面的代码示例提供了在区域中承载控件的网页 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1137">The following code example provides the Web page that hosts the control in a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_GetCurrentWebPartManager#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_GetCurrentWebPartManager/CS/getCurrentWPManagerCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_GetCurrentWebPartManager#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_GetCurrentWebPartManager/VB/getcurrentWPManagervb.aspx#1)]  
  
 <span data-ttu-id="57510-1138">在浏览器中加载页面后，请注意，当前控件的 ID <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 显示在自定义 <xref:System.Web.UI.WebControls.Label> 控件中。</span><span class="sxs-lookup"><span data-stu-id="57510-1138">After you load the page in a browser, notice that the ID of the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control is displayed within the custom <xref:System.Web.UI.WebControls.Label> control.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1139"><paramref name="page" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1139"><paramref name="page" /> is <see langword="null" />.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1140">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1140">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetDisplayTitle">
      <MemberSignature Language="C#" Value="protected internal virtual string GetDisplayTitle (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig newslot virtual instance string GetDisplayTitle(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetDisplayTitle(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overridable Function GetDisplayTitle (webPart As WebPart) As String" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; virtual System::String ^ GetDisplayTitle(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member GetDisplayTitle : System.Web.UI.WebControls.WebParts.WebPart -&gt; string&#xA;override this.GetDisplayTitle : System.Web.UI.WebControls.WebParts.WebPart -&gt; string" Usage="webPartManager.GetDisplayTitle webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1141">此方法返回其 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" /> 值的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1141">The control for which the method returns the value of <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" />.</span></span></param>
        <summary><span data-ttu-id="57510-1142">获取一个字符串，其中包含 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" /> 控件的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 属性的值。</span><span class="sxs-lookup"><span data-stu-id="57510-1142">Gets a string containing the value for the <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" /> property of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></summary>
        <returns><span data-ttu-id="57510-1143">一个字符串，包含 <paramref name="webPart" /> 的计算得出的 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" /> 值。</span><span class="sxs-lookup"><span data-stu-id="57510-1143">A string that contains the calculated value of <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" /> for <paramref name="webPart" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1144">获取的属性的计算值 <xref:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle%2A> `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1144">Gets the calculated value of the <xref:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle%2A> property for `webPart`.</span></span> <span data-ttu-id="57510-1145">当开发人员不将值分配给 <xref:System.Web.UI.WebControls.WebParts.Part.Title%2A> 控件的属性时 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，此方法将生成要显示为标题的值。</span><span class="sxs-lookup"><span data-stu-id="57510-1145">When developers do not assign a value to the <xref:System.Web.UI.WebControls.WebParts.Part.Title%2A> property of a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, this method produces the value to display as the title.</span></span> <span data-ttu-id="57510-1146">"无标题" 控件的计算值包含一个追加到字符串的数字，该数字指示控件在当前区域中的序列。</span><span class="sxs-lookup"><span data-stu-id="57510-1146">The calculated value for untitled controls consists of a number appended to a string, with the number indicating a control's sequence within the current zone.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1147"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1147"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-1148"><paramref name="webPart" /> 不在 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> 集合中。</span><span class="sxs-lookup"><span data-stu-id="57510-1148"><paramref name="webPart" /> is not in the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> collection.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1149">可以重写此方法，以更改如何计算默认显示标题。</span><span class="sxs-lookup"><span data-stu-id="57510-1149">This method can be overridden to change how the default display title is calculated.</span></span></para></block>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.DisplayTitle" />
      </Docs>
    </Member>
    <Member MemberName="GetExportUrl">
      <MemberSignature Language="C#" Value="public string GetExportUrl (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string GetExportUrl(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetExportUrl(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetExportUrl (webPart As WebPart) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ GetExportUrl(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="member this.GetExportUrl : System.Web.UI.WebControls.WebParts.WebPart -&gt; string" Usage="webPartManager.GetExportUrl webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1150">正在导出的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1150">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> that is being exported.</span></span></param>
        <summary><span data-ttu-id="57510-1151">获取当用户尝试导出 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件时包含在请求中的相对虚拟路径和查询字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-1151">Gets the relative virtual path and the query string that are part of the request when a user attempts to export a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control.</span></span></summary>
        <returns><span data-ttu-id="57510-1152">一个字符串，其中包含共同形成导出控件请求的相对虚拟路径和查询字符串。</span><span class="sxs-lookup"><span data-stu-id="57510-1152">A string that contains the relative virtual path and the query string that together form the request to export a control.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1153">方法返回的值 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetExportUrl%2A> 是指向包含控件的页面的服务器位置的相对虚拟路径，以及构成提交到服务器的导出请求的追加查询字符串值。</span><span class="sxs-lookup"><span data-stu-id="57510-1153">The value returned by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetExportUrl%2A> method is a relative virtual path to the server location of the page that contains the control, plus the appended query string value that forms the export request submitted to the server.</span></span> <span data-ttu-id="57510-1154"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetExportUrl%2A>方法在允许提交请求之前对字符串进行编码，以防止恶意脚本攻击。</span><span class="sxs-lookup"><span data-stu-id="57510-1154">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetExportUrl%2A> method encodes the string before allowing the request to be submitted, to protect against malicious script attacks.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1155">有关保护 Web 部件应用程序安全的详细信息，请参阅 [保护 Web 部件页面](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2)。</span><span class="sxs-lookup"><span data-stu-id="57510-1155">For more information about securing Web Parts applications, see [Securing Web Parts Pages](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Xml.XmlWriter)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1156">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1156">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetGenericWebPart">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.GenericWebPart GetGenericWebPart (System.Web.UI.Control control);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Web.UI.WebControls.WebParts.GenericWebPart GetGenericWebPart(class System.Web.UI.Control control) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart(System.Web.UI.Control)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetGenericWebPart (control As Control) As GenericWebPart" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Web::UI::WebControls::WebParts::GenericWebPart ^ GetGenericWebPart(System::Web::UI::Control ^ control);" />
      <MemberSignature Language="F#" Value="member this.GetGenericWebPart : System.Web.UI.Control -&gt; System.Web.UI.WebControls.WebParts.GenericWebPart" Usage="webPartManager.GetGenericWebPart control" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.GenericWebPart</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="control" Type="System.Web.UI.Control" />
      </Parameters>
      <Docs>
        <param name="control"><span data-ttu-id="57510-1157">一个服务器控件，它存在于 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 中，并在运行时被包装为 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 的子控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1157">A server control that exists in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> and is wrapped as a child control of a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> at run time.</span></span></param>
        <summary><span data-ttu-id="57510-1158">获取对 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 控件的实例的引用，该实例包含一个服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1158">Gets a reference to the instance of the <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> control that contains a server control.</span></span></summary>
        <returns><span data-ttu-id="57510-1159">一个 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />，将 <paramref name="control" /> 包装为子控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1159">A <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> that wraps <paramref name="control" /> as a child control.</span></span> <span data-ttu-id="57510-1160">如果 <paramref name="control" /> 未包含在 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 中，则此方法返回 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1160">The method returns <see langword="null" /> if <paramref name="control" /> is not contained in a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1161">通常，开发人员将两类控件置于 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 区域中以参与 Web 部件应用程序： <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件（继承自基类的控件） <xref:System.Web.UI.WebControls.WebParts.WebPart> 以及其他服务器控件，这些控件可以是标准 ASP.NET 控件、自定义控件或用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1161">In general, there are two categories of controls that developers place in <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zones to participate in Web Parts applications: <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, which inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPart> base class, and other server controls, which can be standard ASP.NET controls, custom controls, or user controls.</span></span> <span data-ttu-id="57510-1162">如果这些控件中有任何控件放在某个 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 区域中，它将采用控件的功能 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1162">When any of these controls is placed in a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone, it takes on the functionality of a <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-1163"><xref:System.Web.UI.WebControls.WebParts.WebPart>控件在本质上是此功能，但其他类型的服务器控件不具有此功能。</span><span class="sxs-lookup"><span data-stu-id="57510-1163">A <xref:System.Web.UI.WebControls.WebParts.WebPart> control has this functionality inherently, but the other kinds of server controls do not.</span></span> <span data-ttu-id="57510-1164">为了使其他服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在被放置在区域中时作为控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> ，ASP.NET 使用控件对它们进行包装 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1164">To enable the other server controls to act as <xref:System.Web.UI.WebControls.WebParts.WebPart> controls when they are placed in a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone, ASP.NET wraps them with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control.</span></span> <span data-ttu-id="57510-1165">由于 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 控件是直接从类继承的 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，因此它提供具有 true Web 部件功能的子控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1165">Because the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control inherits directly from the <xref:System.Web.UI.WebControls.WebParts.WebPart> class, it provides its child controls with true Web Parts features.</span></span>  
  
 <span data-ttu-id="57510-1166">通常在运行时，页开发人员可能希望获取对 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 包含区域中的服务器控件之一的控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1166">Often at run time, page developers might want to get a reference to the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control that contains one of the server controls in a zone.</span></span> <span data-ttu-id="57510-1167"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A>方法使它们能够检索对控件的引用 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1167">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> method enables them to retrieve a reference to the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1168">下面的代码示例演示方法的用法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1168">The following code example demonstrates the use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> method.</span></span> <span data-ttu-id="57510-1169">此代码示例包含 <xref:System.Web.UI.WebControls.Calendar> 在区域中声明的控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1169">The code example contains a <xref:System.Web.UI.WebControls.Calendar> control declared within a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone.</span></span> <span data-ttu-id="57510-1170">`Button1_Click`方法首先将控件的 ID 输出 <xref:System.Web.UI.WebControls.Calendar> 到标签，然后使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> 方法检索对 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 包装日历的控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1170">The `Button1_Click` method first prints the ID of the <xref:System.Web.UI.WebControls.Calendar> control to a label, and then uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> method to retrieve a reference to the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control that wraps the calendar.</span></span> <span data-ttu-id="57510-1171">控件的 ID <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 及其子控件的 id (这是 <xref:System.Web.UI.WebControls.Calendar> 控件) ，均打印到第二个标签。</span><span class="sxs-lookup"><span data-stu-id="57510-1171">The ID of the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control, and the ID of its child control (which is the <xref:System.Web.UI.WebControls.Calendar> control), are both printed to a second label.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_GetGenericWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_GetGenericWebPart/CS/getGenericWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_GetGenericWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_GetGenericWebPart/VB/getGenericWebPartVB.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1172"><paramref name="control" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1172"><paramref name="control" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1173">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1173">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetProviderConnectionPoints">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection GetProviderConnectionPoints (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection GetProviderConnectionPoints(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetProviderConnectionPoints (webPart As WebPart) As ProviderConnectionPointCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::ProviderConnectionPointCollection ^ GetProviderConnectionPoints(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="abstract member GetProviderConnectionPoints : System.Web.UI.WebControls.WebParts.WebPart -&gt; System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection&#xA;override this.GetProviderConnectionPoints : System.Web.UI.WebControls.WebParts.WebPart -&gt; System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection" Usage="webPartManager.GetProviderConnectionPoints webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1174">作为连接中的提供者的服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1174">A server control that is acting as a provider in a connection.</span></span></param>
        <summary><span data-ttu-id="57510-1175">检索 <see cref="T:System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" /> 对象的集合，这些对象可作为来自如下服务器控件的连接点：该服务器控件正在作为 Web 部件连接中的提供者。</span><span class="sxs-lookup"><span data-stu-id="57510-1175">Retrieves the collection of <see cref="T:System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" /> objects that can act as connection points from a server control that is acting as a provider within a Web Parts connection.</span></span></summary>
        <returns><span data-ttu-id="57510-1176">包含提供者中的所有连接点的 <see cref="T:System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1176">A <see cref="T:System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection" /> that contains all connection points in the provider.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1177">Web 部件连接始终只涉及两个控件，一个充当数据的提供者，另一个用作数据的使用者。</span><span class="sxs-lookup"><span data-stu-id="57510-1177">A Web Parts connection always involves exactly two controls, one acting as the provider of data, the other acting as the consumer of data.</span></span> <span data-ttu-id="57510-1178">每个控件都必须具有一个或多个定义为连接点的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1178">Each control must have one or more methods that are defined as connection points.</span></span> <span data-ttu-id="57510-1179">对于提供程序控件，其连接点为 <xref:System.Web.UI.WebControls.WebParts.ProviderConnectionPoint> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-1179">In the case of a provider control, its connection points are <xref:System.Web.UI.WebControls.WebParts.ProviderConnectionPoint> objects.</span></span>  
  
 <span data-ttu-id="57510-1180">提供程序必须始终至少有一个连接点才能建立连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1180">A provider must always have at least one connection point to be able to establish a connection.</span></span> <span data-ttu-id="57510-1181"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A>方法检查提供程序控件，并检索其所有连接点的集合。</span><span class="sxs-lookup"><span data-stu-id="57510-1181">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> method checks a provider control and retrieves a collection of all its connection points.</span></span> <span data-ttu-id="57510-1182">检索提供程序连接点是建立 Web 部件连接的必需步骤。</span><span class="sxs-lookup"><span data-stu-id="57510-1182">Retrieving the provider connection points is a necessary step in forming a Web Parts connection.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1183">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1183">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> method.</span></span>  
  
 <span data-ttu-id="57510-1184">该示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-1184">The example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-1185">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1185">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-1186">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1186">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, and an `<asp:webpartmanager>` element.</span></span>  
  
-   <span data-ttu-id="57510-1187">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1187">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-1188">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-1188">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-1189">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1189">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-1190">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1190">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-1191">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-1191">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-1192">网页的声明性标记包含 `Register` 用户控件和自定义控件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-1192">The declarative markup for the Web page contains `Register` directives for both the user control and the custom controls.</span></span> <span data-ttu-id="57510-1193">有一个 `<asp:webpartmanager>` 元素、一个 `<asp:webpartzone>` 元素包含自定义控件和一个 `<asp:connectionszone>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1193">There is an `<asp:webpartmanager>` element, an `<asp:webpartzone>` element to contain the custom controls, and an `<asp:connectionszone>` element.</span></span> <span data-ttu-id="57510-1194">请注意，在 `Page_Load` 方法中，代码会检查连接是否已存在，如果不存在，则定义一个提供程序、一个使用者及其各自的连接点，然后将新连接添加到属性引用的静态连接集 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1194">Notice that in the `Page_Load` method, the code checks to see whether a connection already exists and, if not, defines a provider, a consumer, and their respective connection points, and then adds a new connection to the set of static connections referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> property.</span></span> <span data-ttu-id="57510-1195">请注意， <xref:System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection> 通过使用方法检索的对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> 被传递给 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> 方法，以确定是否可以创建两个控件之间的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1195">Note that the <xref:System.Web.UI.WebControls.WebParts.ProviderConnectionPointCollection> object that is retrieved by using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetProviderConnectionPoints%2A> method is then passed to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CanConnectWebParts%2A> method to determine whether a connection between the two controls can be created.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/CS/wpmgrStaticConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/VB/wpmgrStaticConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-1196">该示例的第三部分是控件的源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-1196">The third part of the example is the source code for the controls.</span></span> <span data-ttu-id="57510-1197">你可以从类概述的 "示例" 部分获取此代码以及用于编译该代码的说明 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1197">You can obtain this code, and instructions for compiling it, from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span>  
  
 <span data-ttu-id="57510-1198">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1198">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-1199">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1199">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-1200">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-1200">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-1201">连接用户界面 (UI) 出现后，请注意该方法中包含的代码已创建连接 `Page_Load` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1201">After the connection user interface (UI) appears, notice that a connection has already been created by the code contained in the `Page_Load` method.</span></span> <span data-ttu-id="57510-1202">如果在后续浏览器会话中返回到此页，则已建立此静态连接，并且每次加载页面时都不需要重新创建此静态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1202">If you return to this page in a later browser session, this static connection will already be established and will not need to be recreated each time the page loads.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1203"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1203"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.ProviderConnectionPoint" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.GetConsumerConnectionPoints(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1204">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1204">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ImportWebPart">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.WebPart ImportWebPart (System.Xml.XmlReader reader, out string errorMessage);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.WebPart ImportWebPart(class System.Xml.XmlReader reader, [out] string&amp; errorMessage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart(System.Xml.XmlReader,System.String@)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function ImportWebPart (reader As XmlReader, ByRef errorMessage As String) As WebPart" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::WebPart ^ ImportWebPart(System::Xml::XmlReader ^ reader, [Runtime::InteropServices::Out] System::String ^ % errorMessage);" />
      <MemberSignature Language="F#" Value="abstract member ImportWebPart : System.Xml.XmlReader * string -&gt; System.Web.UI.WebControls.WebParts.WebPart&#xA;override this.ImportWebPart : System.Xml.XmlReader * string -&gt; System.Web.UI.WebControls.WebParts.WebPart" Usage="webPartManager.ImportWebPart (reader, errorMessage)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPart</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="reader" Type="System.Xml.XmlReader" />
        <Parameter Name="errorMessage" Type="System.String" RefType="out" />
      </Parameters>
      <Docs>
        <param name="reader"><span data-ttu-id="57510-1205">一个 <see cref="T:System.Xml.XmlReader" />，它从导入的 XML 说明文件中读取状态和属性数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1205">An <see cref="T:System.Xml.XmlReader" /> that reads the state and property data from the XML description file that is being imported.</span></span></param>
        <param name="errorMessage"><span data-ttu-id="57510-1206">在导入过程中遇到错误时将向用户显示的 <see cref="T:System.String" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1206">A <see cref="T:System.String" /> that is displayed to the user if an error is encountered during import.</span></span></param>
        <summary><span data-ttu-id="57510-1207">导入包含 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的状态和属性数据的 XML 说明文件，并将这些数据应用于控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1207">Imports an XML description file that contains state and property data for a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control, and applies the data to the control.</span></span></summary>
        <returns><span data-ttu-id="57510-1208">在导入的 XML 说明文件中引用的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />（或由 <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> 包装并因此被视为 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 的服务器控件）。</span><span class="sxs-lookup"><span data-stu-id="57510-1208">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> (or a server control that is wrapped by a <see cref="T:System.Web.UI.WebControls.WebParts.GenericWebPart" /> and thus treated as a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />) that is referenced in the imported XML description file.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1209"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A>方法将导入由 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A> 方法为服务器控件创建的 XML 说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1209">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A> method imports an XML description file that was created by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A> method for a server control.</span></span> <span data-ttu-id="57510-1210">它不是实际导入的服务器控件，而只是包含有关控件的状态和属性数据的说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1210">It is not the actual server control that is imported, but only the description file containing state and property data about the control.</span></span> <span data-ttu-id="57510-1211">说明文件中引用的控件和程序集必须已在用户尝试导入说明文件的服务器上可用。</span><span class="sxs-lookup"><span data-stu-id="57510-1211">The control and assembly referenced in the description file must already be available on the server where a user attempts to import the description file.</span></span>  
  
 <span data-ttu-id="57510-1212">若要启用导入控件，开发人员需要 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 在启用了导入的页面上添加一个控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1212">To enable importing a control, a developer needs to add a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> control on the page where import will be enabled.</span></span> <span data-ttu-id="57510-1213">在区域中， <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> 必须添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1213">Within the zone, an <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> control must be added.</span></span> <span data-ttu-id="57510-1214">此控件提供一个文件对话框，该对话框允许用户浏览并找到要导入的描述文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1214">This control provides a file dialog box that allows users to browse and locate the description file to import.</span></span>  
  
 <span data-ttu-id="57510-1215">用户查找说明文件并开始导入后，将通过方法读取说明文件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1215">After a user finds a description file and begins the import, the description file is read by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A> method.</span></span> <span data-ttu-id="57510-1216">如果没有错误并且找到程序集和控件，则将服务器控件添加到控件内的目录中 <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> ，并将说明文件中指定的各种属性和状态数据应用于控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1216">If there are no errors and if the assembly and control are found, the server control is added to the catalog within the <xref:System.Web.UI.WebControls.WebParts.ImportCatalogPart> control, and the various property and state data specified in the description file are applied to the control.</span></span> <span data-ttu-id="57510-1217">然后，用户可以选择控件，并将其添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-1217">The user can then select the control and add it to the page.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="57510-1218">与 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A> 方法一样，此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A> 方法可能会导致安全风险。</span><span class="sxs-lookup"><span data-stu-id="57510-1218">Like the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart%2A> method, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ImportWebPart%2A> method has some potential for security risks.</span></span> <span data-ttu-id="57510-1219">由于它涉及到将数据导入到网站，因此恶意用户可能会尝试将错误的数据甚至脚本代码插入到导入的描述文件中。</span><span class="sxs-lookup"><span data-stu-id="57510-1219">Because it involves importing data into a Web site, a malicious user could try to insert bad data or even script code into the description file that is imported.</span></span> <span data-ttu-id="57510-1220">然后，错误数据可能出现在页面或数据库中，或者插入的脚本可以运行。</span><span class="sxs-lookup"><span data-stu-id="57510-1220">Then the bad data could appear on a page, or in a database, or the inserted script could run.</span></span> <span data-ttu-id="57510-1221">有关与导入说明文件相关的潜在风险的概述，以及避免这些风险的方法，请参阅 [保护 Web 部件页面](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2)。</span><span class="sxs-lookup"><span data-stu-id="57510-1221">For an overview of the potential risks associated with importing description files, and ways of avoiding those risks, see [Securing Web Parts Pages](https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1222"><paramref name="reader" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1222"><paramref name="reader" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.IO.EndOfStreamException"><span data-ttu-id="57510-1223"><paramref name="reader" /> 未能读取文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1223"><paramref name="reader" /> could not read the file.</span></span>  
  
<span data-ttu-id="57510-1224">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1224">-or-</span></span> 
 <span data-ttu-id="57510-1225">需要 <paramref name="reader" /> 来显示导入错误消息，但在文件中未找到。</span><span class="sxs-lookup"><span data-stu-id="57510-1225"><paramref name="reader" /> needed to display an import error message but did not find one in the file.</span></span>  
  
<span data-ttu-id="57510-1226">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1226">-or-</span></span> 
 <span data-ttu-id="57510-1227"><paramref name="reader" /> 已到达文件末尾，但未找到包含导出数据的 XML 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1227"><paramref name="reader" /> reached the end of the file without finding the XML element that contains the exported data.</span></span></exception>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.ImportCatalogPart" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.ExportWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Xml.XmlWriter)" />
        <related type="Article" href="https://msdn.microsoft.com/library/8ada6210-ed00-4157-b3e9-a7e87e77caa2"><span data-ttu-id="57510-1228">保护 Web 部件页面</span><span class="sxs-lookup"><span data-stu-id="57510-1228">Securing Web Parts Pages</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Internals">
      <MemberSignature Language="C#" Value="protected System.Web.UI.WebControls.WebParts.WebPartManagerInternals Internals { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartManagerInternals Internals" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.Internals" />
      <MemberSignature Language="VB.NET" Value="Protected ReadOnly Property Internals As WebPartManagerInternals" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::Web::UI::WebControls::WebParts::WebPartManagerInternals ^ Internals { System::Web::UI::WebControls::WebParts::WebPartManagerInternals ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Internals : System.Web.UI.WebControls.WebParts.WebPartManagerInternals" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.Internals" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartManagerInternals</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1229">获取对 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" /> 类的引用，该类用于合并和拆分实际在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类中实现的，但通常对控件开发人员很有用的一组方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1229">Gets a reference to the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" /> class, which is used to combine and separate a set of methods that are actually implemented in the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class, but are mostly useful for control developers.</span></span></summary>
        <value><span data-ttu-id="57510-1230">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" />，<see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 通过它可引用已拆分为 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" /> 的各种方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1230">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" />, through which a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> can reference the various methods that have been separated into the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManagerInternals" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1231"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A>属性公开 api 以调入一组 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 方法，这些方法主要用于扩展性情况。</span><span class="sxs-lookup"><span data-stu-id="57510-1231">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A> property exposes the APIs to call into a set of <xref:System.Web.UI.WebControls.WebParts.WebPartManager> methods that are used mostly in extensibility cases.</span></span>  
  
 <span data-ttu-id="57510-1232">使用这些内部方法的设计方式是通过属性访问这些方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1232">The designed way to use these internal methods is to access them through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Internals%2A> property.</span></span> <span data-ttu-id="57510-1233">由于属性是受保护的，因此只能 <xref:System.Web.UI.WebControls.WebParts.WebPartManagerInternals> 通过从类继承来访问它并调用类的实例中的方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1233">Because the property is protected, you can only access it and call the methods within an instance of the <xref:System.Web.UI.WebControls.WebParts.WebPartManagerInternals> class by inheriting from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1234">Microsoft Visual Studio 2005 中的 IntelliSense 隐藏了此属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1234">This property is hidden from IntelliSense in Microsoft Visual Studio 2005.</span></span> <span data-ttu-id="57510-1235">但是，在派生 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 类中，你仍然可以访问属性及其各种成员。</span><span class="sxs-lookup"><span data-stu-id="57510-1235">However, in a derived <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class, you can still access the property and its various members.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1236">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1236">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="IsAuthorized">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="57510-1237">确定能否将 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或其他服务器控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1237">Determines whether a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control can be added to a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1238">Web 部件功能的一个灵活性，就是在运行时将服务器控件添加到网页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1238">Part of the flexibility of the Web Parts feature is the ability to add server controls to Web pages at run time.</span></span> <span data-ttu-id="57510-1239">在许多常见情况下，服务器控件 (可以是自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件、自定义服务器控件、用户控件或 ASP.NET 控件) 可添加。</span><span class="sxs-lookup"><span data-stu-id="57510-1239">There are a number of common scenarios in which a server control (which can be a custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control, a custom server control, a user control, or an ASP.NET control) can be added.</span></span>  
  
 <span data-ttu-id="57510-1240">在下面的常见方案中，Web 部件控件集尝试将服务器控件添加到页，并 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 调用方法来授权它们：</span><span class="sxs-lookup"><span data-stu-id="57510-1240">In the following common scenarios, the Web Parts control set attempts to add server controls to a page, and the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method is called to authorize them:</span></span>  
  
-   <span data-ttu-id="57510-1241">添加服务器控件时，通过在区域内的网页的标记中对其进行声明来添加服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1241">When a server control is added by declaring it in the markup of a Web page within a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone.</span></span>  
  
-   <span data-ttu-id="57510-1242">以编程方式将服务器控件添加到区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1242">When a server control is added programmatically to a zone.</span></span>  
  
-   <span data-ttu-id="57510-1243">用户将服务器控件导入到 Web 部件的控件目录中。</span><span class="sxs-lookup"><span data-stu-id="57510-1243">When a user imports a server control into a Web Parts catalog of controls.</span></span>  
  
-   <span data-ttu-id="57510-1244">从个性化设置数据存储区加载现有服务器控件时。</span><span class="sxs-lookup"><span data-stu-id="57510-1244">When an existing server control is loaded from the personalization data store.</span></span>  
  
-   <span data-ttu-id="57510-1245">将服务器控件添加到 <xref:System.Web.UI.WebControls.WebParts.DeclarativeCatalogPart> 控件，使其在服务器控件的目录中可用。</span><span class="sxs-lookup"><span data-stu-id="57510-1245">When a server control is added to a <xref:System.Web.UI.WebControls.WebParts.DeclarativeCatalogPart> control to make it available in a catalog of server controls.</span></span>  
  
 <span data-ttu-id="57510-1246">在添加控件的每个方案中，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 调用方法以确保已满足所有授权条件，以允许添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1246">In each scenario where controls are added, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method is called to ensure that all authorization criteria have been met to allow a control to be added.</span></span> <span data-ttu-id="57510-1247">当控件获得授权时，它将以正常方式添加（如果没有筛选方案）。</span><span class="sxs-lookup"><span data-stu-id="57510-1247">When a control is authorized, it is added normally as it would be if there was no filtering scenario.</span></span> <span data-ttu-id="57510-1248">当控件未获得授权时，Web 部件控件集可以通过多种方式进行响应，具体取决于上下文。</span><span class="sxs-lookup"><span data-stu-id="57510-1248">When a control is not authorized, the Web Parts control set can respond in several ways, depending on the context.</span></span> <span data-ttu-id="57510-1249">如果无需通知用户) ，控件集可以在无提示的情况下添加未经授权的部分 (，它可以显示错误消息，也可以将类的实例添加 <xref:System.Web.UI.WebControls.WebParts.UnauthorizedWebPart> 为占位符。</span><span class="sxs-lookup"><span data-stu-id="57510-1249">The control set can silently fail to add an unauthorized part (if there is no need to inform the user), it can display an error message, or it can add an instance of the <xref:System.Web.UI.WebControls.WebParts.UnauthorizedWebPart> class as a placeholder.</span></span> <span data-ttu-id="57510-1250">此占位符对象在页面上不可见，但在页源代码中可见，表示排除了未经授权的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1250">This placeholder object is not visible on the page, but is visible in the page source code to indicate that an unauthorized control was excluded.</span></span>  
  
 <span data-ttu-id="57510-1251">控制是否获得授权的决定是授权筛选器。</span><span class="sxs-lookup"><span data-stu-id="57510-1251">The determinant of whether a control is authorized is the authorization filter.</span></span> <span data-ttu-id="57510-1252">授权筛选器是 Web 部件控件集中的一项功能，它使开发人员可以从页中排除不满足指定条件的任何控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1252">An authorization filter is a feature in the Web Parts control set that enables developers to exclude from a page any controls that do not meet the specified criteria.</span></span>  
  
 <span data-ttu-id="57510-1253">若要创建筛选方案，开发人员必须执行两项操作。</span><span class="sxs-lookup"><span data-stu-id="57510-1253">To create a filtering scenario, developers must do two things.</span></span> <span data-ttu-id="57510-1254">首先，它们必须分配一个字符串值 (值可以任意) 到 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> <xref:System.Web.UI.WebControls.WebParts.WebPart> 计划在方案中使用的每个控件的属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1254">First, they must assign a string value (the value can be arbitrary) to the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property of each <xref:System.Web.UI.WebControls.WebParts.WebPart> control they plan to use in the scenario.</span></span> <span data-ttu-id="57510-1255">它们还可以为不是控件的其他类型的服务器控件分配此属性的值 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，因为如果将这些控件放置在 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 区域中，则在运行时将此类控件与控件一起包装 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> ，并且此控件继承 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1255">They can also assign a value to this property for other types of server controls that are not <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, because if they are placed in <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zones, such controls are wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control at run time, and this control inherits the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property.</span></span>  
  
 <span data-ttu-id="57510-1256">创建筛选方案的第二个必要步骤是重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> 方法，或创建事件的事件处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1256">The second necessary step for creating a filtering scenario is to either override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> method, or to create an event handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event.</span></span> <span data-ttu-id="57510-1257">在这些方法中，开发人员可以检查 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性，如果该值指示控件不应获得授权，开发人员可确保该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 方法返回值 `false` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1257">In these methods, a developer can check the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property, and if the value indicates that the control should not be authorized, the developer ensures that the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method returns a value of `false`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1258">有关代码示例和如何使用方法设置自定义筛选方案的说明 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> ，请参阅方法重载主题。</span><span class="sxs-lookup"><span data-stu-id="57510-1258">For code examples and a description of how to set up a customized filtering scenario using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method, see the topics for the overloads of the method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" />
      </Docs>
    </MemberGroup>
    <Member MemberName="IsAuthorized">
      <MemberSignature Language="C#" Value="public bool IsAuthorized (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool IsAuthorized(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Public Function IsAuthorized (webPart As WebPart) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool IsAuthorized(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="member this.IsAuthorized : System.Web.UI.WebControls.WebParts.WebPart -&gt; bool" Usage="webPartManager.IsAuthorized webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1259">正在接受授权检查的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或其他服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1259">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control being checked for authorization.</span></span></param>
        <summary><span data-ttu-id="57510-1260">执行确定控件是否被授权添加到页中的初始步骤。</span><span class="sxs-lookup"><span data-stu-id="57510-1260">Carries out the initial steps in determining whether a control is authorized to be added to a page.</span></span></summary>
        <returns><span data-ttu-id="57510-1261">一个布尔值，指示能否将 <paramref name="webPart" /> 添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1261">A Boolean value that indicates whether <paramref name="webPart" /> can be added to a page.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1262"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A>方法是 Web 部件控件集调用的初始方法，以检查控件的授权 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1262">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method is the initial method called by the Web Parts control set to check authorization for a <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-1263">它接受 `webPart` 作为参数，并开始最终确定是否将控件添加到页面的进程。</span><span class="sxs-lookup"><span data-stu-id="57510-1263">It accepts `webPart` as a parameter, and begins a process that ultimately determines whether the control will be added to a page.</span></span> <span data-ttu-id="57510-1264">需要确定给定控件是否已获得授权时，直接从代码调用此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1264">Call this method from your code directly when you need to determine whether a given control is authorized.</span></span>  
  
 <span data-ttu-id="57510-1265">此方法执行初始任务，这些任务确定控件是从类继承还是从控件继承， <xref:System.Web.UI.WebControls.WebParts.WebPart> 如果是，则执行 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 其包含的子控件的类型。</span><span class="sxs-lookup"><span data-stu-id="57510-1265">This method carries out the initial tasks of determining whether the control inherits from the <xref:System.Web.UI.WebControls.WebParts.WebPart> class or is a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control and, if so, what type of child control it contains.</span></span> <span data-ttu-id="57510-1266">若要完成授权任务，它将调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> 重载方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1266">To finish the task of authorization, it calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> overload method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1267">下面的代码示例演示如何 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Web.UI.WebControls.WebParts.WebPart%29> 从代码中调用方法，以确定是否有权将控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1267">The following code example demonstrates how to call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Web.UI.WebControls.WebParts.WebPart%29> method from your code to determine whether a control is authorized to be added to a page.</span></span>  
  
 <span data-ttu-id="57510-1268">此代码示例包含三个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-1268">The code example has three parts:</span></span>  
  
-   <span data-ttu-id="57510-1269"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>重写方法的自定义控件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1269">A custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control that overrides the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method.</span></span>  
  
-   <span data-ttu-id="57510-1270">为控件创建筛选器的网页 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1270">A Web page that creates a filter for a <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span>  
  
-   <span data-ttu-id="57510-1271">有关如何运行代码示例的说明。</span><span class="sxs-lookup"><span data-stu-id="57510-1271">An explanation of how to run the code example.</span></span>  
  
 <span data-ttu-id="57510-1272">此代码示例使用一个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件，该控件重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> 重载方法以提供对属性的自定义处理 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1272">This code example uses a custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control that overrides the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> overload method to provide custom handling of the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property.</span></span> <span data-ttu-id="57510-1273">此控件检查的属性值是否为， `admin` 如果值存在，则授权控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1273">This control checks for a property value of `admin` and, if the value is present, authorizes the control.</span></span> <span data-ttu-id="57510-1274">如果控件具有不同的值，则不会获得授权;不具有属性值的控件也会获得授权，因为它们不是筛选方案的一部分。</span><span class="sxs-lookup"><span data-stu-id="57510-1274">If a control has a different value, it is not authorized; controls without the property value are authorized as well, as they are presumed not to be part of the filtering scenario.</span></span>  
  
 <span data-ttu-id="57510-1275">若要运行此代码示例，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-1275">For this code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-1276">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-1276">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-1277">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-1277">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-1278">此代码示例使用动态编译方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1278">This code example uses the dynamic compile method.</span></span> <span data-ttu-id="57510-1279">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-1279">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_IsAuthorized#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/CS/MyManagerAuthorize.cs#2)]
 [!code-vb[WebParts_WebPartManager_IsAuthorized#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/VB/MyManagerAuthorize.vb#2)]  
  
 <span data-ttu-id="57510-1280">此代码示例的第二部分创建可能排除控件的筛选器。</span><span class="sxs-lookup"><span data-stu-id="57510-1280">The second part of the code example creates a filter that can potentially exclude a control.</span></span> <span data-ttu-id="57510-1281">以下网页包含元素中的三个 ASP.NET 服务器控件 `<asp:webpartzone>` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1281">The following Web page contains three ASP.NET server controls in an `<asp:webpartzone>` element.</span></span> <span data-ttu-id="57510-1282">请注意，第一个和第二个控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性设置为不同的值，而第三个控件未分配属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1282">Notice that the first and second controls have their <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> properties set to different values, and the third does not assign the property.</span></span> <span data-ttu-id="57510-1283">此授权值可在运行时检查，如果筛选器与开发人员设置的条件匹配，则可以将控件添加到页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1283">This authorization value can be checked at run time, and the control can be added to the page if the filter matches criteria set by the developer.</span></span> <span data-ttu-id="57510-1284">另请注意，在 `Page_Load` 方法中，代码调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Web.UI.WebControls.WebParts.WebPart%29> 方法来确定每个控件是否获得授权，如果是，则设置每个控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.ExportMode%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1284">Notice also that in the `Page_Load` method, the code calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Web.UI.WebControls.WebParts.WebPart%29> method to determine whether each of the controls is authorized, and if so, it sets each control's <xref:System.Web.UI.WebControls.WebParts.WebPart.ExportMode%2A> property.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_IsAuthorized#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/CS/IsAuthorizedCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_IsAuthorized#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/VB/IsAuthorizedVB.aspx#1)]  
  
 <span data-ttu-id="57510-1285">请注意，若要使代码示例正常运行，必须在 Web.config 文件中添加一个设置，以便导出 Web 部件说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1285">Note that for the code example to work, you must add a setting in the Web.config file to enable exporting Web Parts description files.</span></span> <span data-ttu-id="57510-1286">请确保在此代码示例的网页所在的同一目录中有一个 Web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1286">Ensure that you have a Web.config file in the same directory as the Web page for this code example.</span></span> <span data-ttu-id="57510-1287">在 `<system.web>` 部分中，请确保有一个 `<webParts>` 元素的 `enableExport` 属性设置为 `true` ，如以下标记所示。</span><span class="sxs-lookup"><span data-stu-id="57510-1287">Within the `<system.web>` section, make sure there is a `<webParts>` element with an `enableExport` attribute set to `true`, as in the following markup.</span></span>  
  
 `<webParts enableExport="true">`  
  
 `...`  
  
 `</webParts>`  
  
 <span data-ttu-id="57510-1288">在浏览器中加载页面后，请注意，将显示第一个控件，因为它与重写的方法中的条件相匹配。</span><span class="sxs-lookup"><span data-stu-id="57510-1288">After you load the page in a browser, note that the first control is displayed, because it matches the criteria in the overridden method.</span></span> <span data-ttu-id="57510-1289">不会将第二个控件添加到页面中，因为它已被筛选器排除。</span><span class="sxs-lookup"><span data-stu-id="57510-1289">The second control is not added to the page, because it is excluded by the filter.</span></span> <span data-ttu-id="57510-1290">还添加了第三个控件，因为它没有设置其 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1290">The third control is also added, because it does not have its <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property set.</span></span> <span data-ttu-id="57510-1291">请注意，如果单击任一控件的标题栏中的谓词菜单图标，则可以导出它们，因为它们各自的 <xref:System.Web.UI.WebControls.WebParts.WebPart.ExportMode%2A> 属性值已分配。</span><span class="sxs-lookup"><span data-stu-id="57510-1291">Notice that if you click the verbs menu icon in the title bar of either control, they can both be exported because their respective <xref:System.Web.UI.WebControls.WebParts.WebPart.ExportMode%2A> property values were assigned.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1292"><paramref name="webPart" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1292"><paramref name="webPart" /> is <see langword="null" />.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="57510-1293">此方法是从代码中直接调用的。</span><span class="sxs-lookup"><span data-stu-id="57510-1293">This method is called directly from your code.</span></span> <span data-ttu-id="57510-1294">如果要对授权过程进行更多的编程控制，可以重写 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized(System.Type,System.String,System.String,System.Boolean)" /> 重载方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1294">If you want to gain greater programmatic control over the authorization process, you can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized(System.Type,System.String,System.String,System.Boolean)" /> overload method.</span></span></para></block>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1295">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1295">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsAuthorized">
      <MemberSignature Language="C#" Value="public virtual bool IsAuthorized (Type type, string path, string authorizationFilter, bool isShared);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool IsAuthorized(class System.Type type, string path, string authorizationFilter, bool isShared) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized(System.Type,System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function IsAuthorized (type As Type, path As String, authorizationFilter As String, isShared As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool IsAuthorized(Type ^ type, System::String ^ path, System::String ^ authorizationFilter, bool isShared);" />
      <MemberSignature Language="F#" Value="abstract member IsAuthorized : Type * string * string * bool -&gt; bool&#xA;override this.IsAuthorized : Type * string * string * bool -&gt; bool" Usage="webPartManager.IsAuthorized (type, path, authorizationFilter, isShared)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="type" Type="System.Type" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="authorizationFilter" Type="System.String" />
        <Parameter Name="isShared" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="type"><span data-ttu-id="57510-1296">被检查授权情况的控件的 <see cref="T:System.Type" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1296">The <see cref="T:System.Type" /> of the control being checked for authorization.</span></span></param>
        <param name="path"><span data-ttu-id="57510-1297">被授权的控件的源文件的相对应用程序路径（如果该控件为用户控件）。</span><span class="sxs-lookup"><span data-stu-id="57510-1297">The relative application path to the source file for the control being authorized, if the control is a user control.</span></span></param>
        <param name="authorizationFilter"><span data-ttu-id="57510-1298">赋予 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter" /> 控件的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 属性的任意字符串值，用于授权是否可将控件添加至页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1298">An arbitrary string value assigned to the <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter" /> property of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control, used to authorize whether a control can be added to a page.</span></span></param>
        <param name="isShared"><span data-ttu-id="57510-1299">指示被检查授权情况的控件是否为共享控件，共享意味着它对应用程序的许多用户或所有用户可见，并且其 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.IsShared" /> 属性值设为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1299">Indicates whether the control being checked for authorization is a shared control, meaning that it is visible to many or all users of the application, and its <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.IsShared" /> property value is set to <see langword="true" />.</span></span></param>
        <summary><span data-ttu-id="57510-1300">执行确定控件是否已经过授权可添加至页的最后步骤。</span><span class="sxs-lookup"><span data-stu-id="57510-1300">Carries out the final steps in determining whether a control is authorized to be added to a page.</span></span></summary>
        <returns><span data-ttu-id="57510-1301">一个布尔值，指示控件是否已经过授权可添加至页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1301">A Boolean value that indicates whether a control is authorized to be added to a page.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1302"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29>重载方法执行确定是否有权将控件添加到页中的最后一个步骤。</span><span class="sxs-lookup"><span data-stu-id="57510-1302">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> overload method carries out the final steps in determining whether a control is authorized to be added to a page.</span></span> <span data-ttu-id="57510-1303">方法可确保 `type` 为有效类型，且 `path` 只有当要检查的控件是用户控件时才具有值。</span><span class="sxs-lookup"><span data-stu-id="57510-1303">The method ensures that `type` is a valid type, and that `path` has a value only if the control being checked is a user control.</span></span> <span data-ttu-id="57510-1304">然后，它调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> 引发事件的关键方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1304">Then it calls the critical <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method, which raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1305">下面的代码示例演示如何重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 方法，以确定是否有权将控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1305">The following code example demonstrates how to override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method to determine whether a control is authorized to be added to a page.</span></span>  
  
 <span data-ttu-id="57510-1306">第一步是创建可能排除控件的筛选器。</span><span class="sxs-lookup"><span data-stu-id="57510-1306">The first step is to create a filter that can potentially exclude a control.</span></span> <span data-ttu-id="57510-1307">以下网页包含元素中的三个 ASP.NET 服务器控件 `<asp:webpartzone>` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1307">The following Web page contains three ASP.NET server controls in an `<asp:webpartzone>` element.</span></span> <span data-ttu-id="57510-1308">请注意，第一个和第二个控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性设置为不同的值，而第三个控件未分配属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1308">Notice that the first and second controls have their <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> properties set to different values, and the third does not assign the property.</span></span> <span data-ttu-id="57510-1309">此授权值可在运行时检查，如果筛选器与开发人员设置的条件匹配，则可以将控件添加到页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1309">This authorization value can be checked at run time, and the control can be added to the page if the filter matches criteria set by the developer.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_IsAuthorized#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/CS/IsAuthorizedCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_IsAuthorized#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/VB/IsAuthorizedVB.aspx#1)]  
  
 <span data-ttu-id="57510-1310">第二步是重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> 方法，并为授权筛选器创建自定义处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1310">The second step is to override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29> method, and create custom handling for authorization filters.</span></span> <span data-ttu-id="57510-1311">请注意，代码首先检查属性是否具有值，以便自动添加未分配属性的任何控件 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1311">Note that the code first checks whether the property has a value, so that any control that does not assign the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property will be added automatically.</span></span> <span data-ttu-id="57510-1312">如果控件具有筛选器，则 `true` 仅当筛选器值等于时，代码才会返回 `admin` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1312">If a control has a filter, the code returns `true` only if the filter value is equal to `admin`.</span></span> <span data-ttu-id="57510-1313">这说明了一种简单的机制，可用于根据特定用户的角色向某些用户显示特定控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1313">This demonstrates a simple mechanism you can use for displaying certain controls to certain users, depending on their role.</span></span> <span data-ttu-id="57510-1314">尽管使用角色的完整示例超出了本主题的范围，但你可以使用与此代码示例中的重写方法相同的逻辑，但你可以检查当前用户是否在与授权筛选器值匹配的角色中，然后仅为该用户添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1314">While a full example using roles is beyond the scope of this topic, you could use the same logic as the overridden method in this code example, except that you could check whether the current user is in a role that matches the authorization filter value, and then add the control only for that user.</span></span> <span data-ttu-id="57510-1315">这使您能够创建一些用户将看到所有控件的页面，而其他用户将只看到选定的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1315">This would enable you to create pages where some users would see all the controls, and other users would see only selected controls.</span></span> <span data-ttu-id="57510-1316">这就是使用角色检查筛选器的逻辑的方式：</span><span class="sxs-lookup"><span data-stu-id="57510-1316">This is how the logic that checks the filter might look if you used roles:</span></span>  
  
```vb  
If Roles.IsUserInRole(Page.User.Identity.Name, authorizationFilter) Then  
  return True  
Else  
  return False  
End If  
```  
  
```csharp  
if(Roles.IsUserInRole(Page.User.Identity.Name, authorizationFilter))  
    return true;  
else  
    return false;  
```  
  
 <span data-ttu-id="57510-1317">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-1317">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-1318">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-1318">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-1319">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-1319">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-1320">此代码示例使用动态编译方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1320">This code example uses the dynamic compile method.</span></span> <span data-ttu-id="57510-1321">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-1321">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_IsAuthorized#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/CS/MyManagerAuthorize.cs#2)]
 [!code-vb[WebParts_WebPartManager_IsAuthorized#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_IsAuthorized/VB/MyManagerAuthorize.vb#2)]  
  
 <span data-ttu-id="57510-1322">在浏览器中加载页面后，请注意，将显示第一个控件，因为它与重写的方法中的条件相匹配。</span><span class="sxs-lookup"><span data-stu-id="57510-1322">After you load the page in a browser, note that the first control is displayed, because it matches the criteria in the overridden method.</span></span> <span data-ttu-id="57510-1323">不会将第二个控件添加到页面，因为它的筛选器值已排除。</span><span class="sxs-lookup"><span data-stu-id="57510-1323">The second control is not added to the page, because its filter value is excluded.</span></span> <span data-ttu-id="57510-1324">添加第三个控件，因为它没有 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 设置其属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1324">The third control is added, because it does not have its <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property set.</span></span> <span data-ttu-id="57510-1325">如果在第二个控件上将属性值更改为与第一个控件的属性值相匹配，然后再次运行该页，则还将添加第二个控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1325">If you change the property value on the second control to match that of the first control, and then run the page again, the second control is added as well.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1326"><paramref name="type" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1326"><paramref name="type" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-1327"><paramref name="type" /> 为用户控件，且 <paramref name="path" /> 为 <see langword="null" /> 或空字符串 ("")。</span><span class="sxs-lookup"><span data-stu-id="57510-1327"><paramref name="type" /> is a user control, and <paramref name="path" /> is either <see langword="null" /> or an empty string ("").</span></span>  
  
<span data-ttu-id="57510-1328">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1328">-or-</span></span> 
 <span data-ttu-id="57510-1329"><paramref name="type" /> 不是用户控件，且 <paramref name="path" /> 已赋值。</span><span class="sxs-lookup"><span data-stu-id="57510-1329"><paramref name="type" /> is not a user control, and <paramref name="path" /> has a value assigned to it.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1330"><see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />如果要在检查授权时提供附加处理，可以通过从类继承来重写此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1330">This method can be overridden by inheriting from the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class, if you want to provide additional handling when checking authorization.</span></span> <span data-ttu-id="57510-1331">你可能想要重写方法以检查参数中的某些值 <paramref name="authorizationFilter" /> ，并根据值返回一个布尔值，该值确定是否将控件添加到页中。</span><span class="sxs-lookup"><span data-stu-id="57510-1331">You might want to override the method to check for certain values in the <paramref name="authorizationFilter" /> parameter, and based on the value, return a Boolean value that determines whether the control will be added to a page.</span></span>  
  
<span data-ttu-id="57510-1332">对于还希望检查授权筛选器并提供自定义处理的页开发人员，可以选择在 .aspx 页或代码隐藏文件中执行此操作，而无需从任何类继承。</span><span class="sxs-lookup"><span data-stu-id="57510-1332">For page developers who also want to check for authorization filters and provide custom handling, there is an option for doing this inline in an .aspx page, or in a code-behind file, without having to inherit from any classes.</span></span> <span data-ttu-id="57510-1333">可以在页中为控件的方法声明备用事件处理程序 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" /> <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1333">You can declare an alternate event handler in the page for the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" /> method of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span> <span data-ttu-id="57510-1334">有关更多详细信息和示例，请参见 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" /> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1334">For more details and an example, see the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" /> method.</span></span></para></block>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1335">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1335">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsCustomPersonalizationStateDirty">
      <MemberSignature Language="C#" Value="protected virtual bool IsCustomPersonalizationStateDirty { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsCustomPersonalizationStateDirty" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable ReadOnly Property IsCustomPersonalizationStateDirty As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual property bool IsCustomPersonalizationStateDirty { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.IsCustomPersonalizationStateDirty : bool" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1336">获取一个值，该值指示是否已进行了个性化设置更改，这些更改影响 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件所控制的页级别个性化设置详细信息。</span><span class="sxs-lookup"><span data-stu-id="57510-1336">Gets a value that indicates whether personalization changes have been made that affect page-level personalization details controlled by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <value><span data-ttu-id="57510-1337">一个布尔值，指示是否已进行了个性化设置更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1337">A Boolean value that indicates whether personalization changes have been made.</span></span> <span data-ttu-id="57510-1338">默认值是 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1338">The default value is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1339"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty%2A> 在内部使用此属性来跟踪它所管理的任何页面级别的个性化设置数据是否已更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1339">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty%2A> property internally to track whether any of the page-level personalization data that it manages has changed.</span></span> <span data-ttu-id="57510-1340">当用户在页面级别执行各种个性化设置操作（例如，添加或删除 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件、连接或断开控件、更改页的布局、移动控件和其他操作）时，个性化数据会发生更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1340">The personalization data changes when users carry out various personalization actions at the page level, such as adding or removing <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, connecting or disconnecting controls, changing the page's layout by moving controls, and other actions.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1341">用户还可以在控件级别执行个性化设置，这意味着它们对特定控件进行个性化更改，而更改只影响该控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1341">Users can also perform personalization at the control level, which means that they make personalization changes to a specific control, and the changes affect only that control.</span></span> <span data-ttu-id="57510-1342">例如，将编辑该控件并更改其标题文本或其背景色。</span><span class="sxs-lookup"><span data-stu-id="57510-1342">An example would be editing the control and changing its title text, or its background color.</span></span> <span data-ttu-id="57510-1343">控件级别的个性化设置不会影响控件所跟踪的页级别的个性化设置数据 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，因此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty%2A> `true` 当发生控件级个性化时，属性值不会更改为。</span><span class="sxs-lookup"><span data-stu-id="57510-1343">Control-level personalization does not affect the page-level personalization data tracked by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, and so the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty%2A> property value is not changed to `true` when control-level personalization occurs.</span></span>  
  
 <span data-ttu-id="57510-1344">尽管方法是受保护的，并且不能由调用方直接访问，但该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> 属性可由调用方直接访问，并返回此属性的值。</span><span class="sxs-lookup"><span data-stu-id="57510-1344">Although the method is protected and cannot be accessed directly by a caller, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property can be accessed directly by callers, and it returns the value of this property.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.PersonalizationState.IsDirty" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.PersonalizationState.SetDirty" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#IsDirty" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1345">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1345">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="LoadControlState">
      <MemberSignature Language="C#" Value="protected internal override void LoadControlState (object savedState);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void LoadControlState(object savedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.LoadControlState(System.Object)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub LoadControlState (savedState As Object)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void LoadControlState(System::Object ^ savedState);" />
      <MemberSignature Language="F#" Value="override this.LoadControlState : obj -&gt; unit" Usage="webPartManager.LoadControlState savedState" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="savedState" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="savedState"><span data-ttu-id="57510-1346">包含要加载的保留的状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1346">Contains the persisted state data to be loaded.</span></span></param>
        <summary><span data-ttu-id="57510-1347">加载从前一个页请求保存并需要在后续请求上还原的控件状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1347">Loads control state data that was saved from a previous page request, and needs to be restored on a subsequent request.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1348"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadControlState%2A>方法有助于还原应在页的回发之间保留的属性数据，即使在属性设置为时也是如此 <xref:System.Web.UI.Control.EnableViewState%2A> `false` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1348">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadControlState%2A> method is helpful for restoring property data that should be persisted across postbacks of a page, even when the <xref:System.Web.UI.Control.EnableViewState%2A> property is set to `false`.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-1349"><paramref name="savedState" /> 不是有效的 <see cref="P:System.Web.UI.PageStatePersister.ControlState" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1349"><paramref name="savedState" /> is not a valid <see cref="P:System.Web.UI.PageStatePersister.ControlState" />.</span></span></exception>
        <altmember cref="M:System.Web.UI.Control.LoadControlState(System.Object)" />
      </Docs>
    </Member>
    <Member MemberName="LoadCustomPersonalizationState">
      <MemberSignature Language="C#" Value="protected virtual void LoadCustomPersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationDictionary state);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void LoadCustomPersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationDictionary state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub LoadCustomPersonalizationState (state As PersonalizationDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void LoadCustomPersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationDictionary ^ state);" />
      <MemberSignature Language="F#" Value="abstract member LoadCustomPersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit&#xA;override this.LoadCustomPersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit" Usage="webPartManager.LoadCustomPersonalizationState state" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="57510-1350">一个 <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />，它包含要加载的状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1350">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" /> that contains the state data to be loaded.</span></span></param>
        <summary><span data-ttu-id="57510-1351">存储由个性化对象传递给 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的自定义个性化数据，稍后会将其用于初始化过程中。</span><span class="sxs-lookup"><span data-stu-id="57510-1351">Stores the custom personalization data that has been passed to the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control by the personalization objects to be used later during the initialization process.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1352"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState%2A>方法以对象的形式提供保存的状态数据 <xref:System.Web.UI.WebControls.WebParts.PersonalizationDictionary> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1352">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState%2A> method provides saved state data in the form of a <xref:System.Web.UI.WebControls.WebParts.PersonalizationDictionary> object.</span></span> <span data-ttu-id="57510-1353">此数据最终用于将个性化设置数据加载到 Web 部件控件中并执行其他初始化任务。</span><span class="sxs-lookup"><span data-stu-id="57510-1353">This data is eventually used to load personalization data into the Web Parts controls and to perform other initialization tasks.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1354">此方法由一系列方法调用，此方法在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.TrackViewState%2A> 方法最初请求关联 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> 对象以向控件提供个性化数据时开始 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1354">This method is called by a sequence of methods that begins when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.TrackViewState%2A> method initially requests the associated <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> object to supply personalization data to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="57510-1355">不能直接从代码中调用此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1355">You cannot call this method directly from your code.</span></span> <span data-ttu-id="57510-1356">但是，可以直接调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Load%2A> 方法，该方法本身会调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState%2A> 方法并返回个性化数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1356">You can, however, directly call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Load%2A> method, which itself calls the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState%2A> method and returns the personalization data.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1357">开发人员可以 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" /> 在派生类中重写方法 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1357">Developers can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" /> method in a derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Load(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1358">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1358">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="MediumPermissionSet">
      <MemberSignature Language="C#" Value="protected virtual System.Security.PermissionSet MediumPermissionSet { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Security.PermissionSet MediumPermissionSet" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.MediumPermissionSet" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable ReadOnly Property MediumPermissionSet As PermissionSet" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual property System::Security::PermissionSet ^ MediumPermissionSet { System::Security::PermissionSet ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.MediumPermissionSet : System.Security.PermissionSet" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.MediumPermissionSet" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.PermissionSet</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1359">获取仅允许 <see cref="T:System.Security.PermissionSet" /> 权限和 <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> 权限的 <see cref="F:System.Web.AspNetHostingPermissionLevel.Medium" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-1359">Gets a <see cref="T:System.Security.PermissionSet" /> object that allows only <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> permission and <see cref="F:System.Web.AspNetHostingPermissionLevel.Medium" /> permission.</span></span></summary>
        <value><span data-ttu-id="57510-1360">仅允许 <see cref="T:System.Security.PermissionSet" /> 权限和 <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> 权限的 <see cref="F:System.Web.AspNetHostingPermissionLevel.Medium" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-1360">A <see cref="T:System.Security.PermissionSet" /> object that allows only <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> permission and <see cref="F:System.Web.AspNetHostingPermissionLevel.Medium" /> permission.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1361"><xref:System.Security.PermissionSet>此属性返回的对象在类型反序列化过程中使用。</span><span class="sxs-lookup"><span data-stu-id="57510-1361">The <xref:System.Security.PermissionSet> object that is returned by this property is used during import for type deserialization.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MinimalPermissionSet">
      <MemberSignature Language="C#" Value="protected virtual System.Security.PermissionSet MinimalPermissionSet { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Security.PermissionSet MinimalPermissionSet" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.MinimalPermissionSet" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable ReadOnly Property MinimalPermissionSet As PermissionSet" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual property System::Security::PermissionSet ^ MinimalPermissionSet { System::Security::PermissionSet ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.MinimalPermissionSet : System.Security.PermissionSet" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.MinimalPermissionSet" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.PermissionSet</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1362">获取仅允许 <see cref="T:System.Security.PermissionSet" /> 权限和 <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> 权限的 <see cref="F:System.Web.AspNetHostingPermissionLevel.Minimal" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-1362">Gets a <see cref="T:System.Security.PermissionSet" /> object that allows only <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> permission and <see cref="F:System.Web.AspNetHostingPermissionLevel.Minimal" /> permission.</span></span></summary>
        <value><span data-ttu-id="57510-1363">获取仅允许 <see cref="T:System.Security.PermissionSet" /> 权限和 <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> 权限的 <see cref="F:System.Web.AspNetHostingPermissionLevel.Minimal" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="57510-1363">Gets a <see cref="T:System.Security.PermissionSet" /> object that allows only <see cref="F:System.Security.Permissions.SecurityPermissionFlag.Execution" /> permission and <see cref="F:System.Web.AspNetHostingPermissionLevel.Minimal" /> permission.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1364"><xref:System.Security.PermissionSet>在导入过程中，将使用此属性返回的对象来实现除类型反序列化之外的所有内容。</span><span class="sxs-lookup"><span data-stu-id="57510-1364">The <xref:System.Security.PermissionSet> object returned by this property is used during import for everything except type deserialization.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MoveWebPart">
      <MemberSignature Language="C#" Value="public virtual void MoveWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart, System.Web.UI.WebControls.WebParts.WebPartZoneBase zone, int zoneIndex);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void MoveWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart, class System.Web.UI.WebControls.WebParts.WebPartZoneBase zone, int32 zoneIndex) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub MoveWebPart (webPart As WebPart, zone As WebPartZoneBase, zoneIndex As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void MoveWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart, System::Web::UI::WebControls::WebParts::WebPartZoneBase ^ zone, int zoneIndex);" />
      <MemberSignature Language="F#" Value="abstract member MoveWebPart : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.WebPartZoneBase * int -&gt; unit&#xA;override this.MoveWebPart : System.Web.UI.WebControls.WebParts.WebPart * System.Web.UI.WebControls.WebParts.WebPartZoneBase * int -&gt; unit" Usage="webPartManager.MoveWebPart (webPart, zone, zoneIndex)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
        <Parameter Name="zone" Type="System.Web.UI.WebControls.WebParts.WebPartZoneBase" />
        <Parameter Name="zoneIndex" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1365">要移动的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或其他服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1365">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control being moved.</span></span></param>
        <param name="zone"><span data-ttu-id="57510-1366"><paramref name="webPart" /> 要移动到的目标 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1366">The target <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> to which <paramref name="webPart" /> is being moved.</span></span></param>
        <param name="zoneIndex"><span data-ttu-id="57510-1367">一个整数，指示 <paramref name="webPart" /> 在 <paramref name="zone" /> 中相对于其他控件的索引。</span><span class="sxs-lookup"><span data-stu-id="57510-1367">An integer that indicates the index of <paramref name="webPart" /> relative to other controls within <paramref name="zone" />.</span></span></param>
        <summary><span data-ttu-id="57510-1368">将 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件从一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 区域移动到另一个区域，或移动到相同区域中的新位置。</span><span class="sxs-lookup"><span data-stu-id="57510-1368">Moves a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control from one <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone to another, or to a new position within the same zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1369"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> 方法移动 `webPart` 到同一区域或不同区域中的新位置。</span><span class="sxs-lookup"><span data-stu-id="57510-1369">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> method to move `webPart` to a new location in the same zone, or in a different zone.</span></span> <span data-ttu-id="57510-1370">您可以直接从代码调用此方法，并且在用户使用 Web 部件用户界面中的各种选项 (UI) 将控件移动到新位置时也会调用此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1370">You can call this method directly from code, and it is also invoked when a user moves a control to a new position using various options in the Web Parts user interface (UI).</span></span>  
  
 <span data-ttu-id="57510-1371">必须满足一些条件，然后才能 `webPart` 移动，其中的大部分条件由本主题的 "例外" 部分中列出的项指示。</span><span class="sxs-lookup"><span data-stu-id="57510-1371">A number of conditions must be met before `webPart` can be moved, and most of these are indicated by items listed in the Exceptions section of this topic.</span></span> <span data-ttu-id="57510-1372">如果 `webPart` 不包含在 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 要开始的区域中，则不能将其移动到区域中。</span><span class="sxs-lookup"><span data-stu-id="57510-1372">If `webPart` was not contained in a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone to begin with, it cannot be moved into a zone.</span></span>  
  
 <span data-ttu-id="57510-1373">满足条件后，将发生以下操作序列 `webPart` ：</span><span class="sxs-lookup"><span data-stu-id="57510-1373">After the conditions have been met, the following sequence of actions occurs to move `webPart`:</span></span>  
  
1.  <span data-ttu-id="57510-1374"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving%2A> 方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1374">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> event.</span></span>  
  
2.  <span data-ttu-id="57510-1375">`webPart` 如果需要) 并将其添加到新区域或其当前区域内的新位置，则将从其当前区域中删除 (。</span><span class="sxs-lookup"><span data-stu-id="57510-1375">`webPart` is removed from its current zone (if necessary), and added to its new zone or new position within its current zone.</span></span>  
  
3.  <span data-ttu-id="57510-1376"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved%2A> 方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1376">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> event.</span></span>  
  
4.  <span data-ttu-id="57510-1377">`zoneIndex` <xref:System.Web.UI.WebControls.WebParts.WebPart> 源区域和目标区域中每个控件的都将重置，以反映已移动的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1377">The `zoneIndex` of every <xref:System.Web.UI.WebControls.WebParts.WebPart> control in both the origin and destination zones is reset to reflect the moved control.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1378">下面的代码示例演示如何 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> 从代码中直接调用方法，以将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件从一个区域移到另一个区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1378">The following code example demonstrates how to call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> method directly from code to move a <xref:System.Web.UI.WebControls.WebParts.WebPart> control from one zone to another.</span></span>  
  
 <span data-ttu-id="57510-1379">此代码示例包含三个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-1379">The code example has three parts:</span></span>  
  
-   <span data-ttu-id="57510-1380">用于更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1380">A user control for changing display modes.</span></span>  
  
-   <span data-ttu-id="57510-1381">用于承载控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-1381">A Web page to host the controls.</span></span>  
  
-   <span data-ttu-id="57510-1382">有关如何运行代码示例的说明。</span><span class="sxs-lookup"><span data-stu-id="57510-1382">An explanation of how to run the code example.</span></span>  
  
 <span data-ttu-id="57510-1383">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1383">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-1384">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1384">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-1385">有关显示模式和用户控件工作方式的详细信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-1385">For more information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-1386">该示例的第二部分是包含两个区域的网页，其中每个区域包含两个服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1386">The second part of the example is a Web page that contains two zones, each of which contains two server controls.</span></span> <span data-ttu-id="57510-1387">当用户单击页面上的 " **移动 WebPart** " 按钮时，方法中的代码会 `Button1_Click` 将一个控件从第一个区域移动到第二个区域中的新位置。</span><span class="sxs-lookup"><span data-stu-id="57510-1387">When a user clicks the **Move WebPart** button on the page, the code in the `Button1_Click` method moves a control from the first zone to a new position in the second zone.</span></span> <span data-ttu-id="57510-1388">请注意，代码优先必须调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> 方法以检索 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 包装控件的对象 `list1` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1388">Notice that the code first must call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.GetGenericWebPart%2A> method to retrieve the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object that wraps the `list1` control.</span></span> <span data-ttu-id="57510-1389">这是必需的，因为方法的第一个参数 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> 需要 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，而 `list1` 是 ASP.NET 服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1389">This is required because the first parameter of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> method requires a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, whereas `list1` is an ASP.NET server control.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_MoveWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_MoveWebPart/CS/MoveWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_MoveWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_MoveWebPart/VB/MoveWebPartVB.aspx#1)]  
  
 <span data-ttu-id="57510-1390">页面加载后，请单击 " **移动" "Web 部件** " 按钮，并注意包含链接的控件将移到第二个区域中的中间位置。</span><span class="sxs-lookup"><span data-stu-id="57510-1390">After the page loads, click the **Move WebPart** button, and note that the control that contains the links moves into the middle position in the second zone.</span></span> <span data-ttu-id="57510-1391">控件的这一移动是通过调用方法以编程方式完成的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1391">This movement of the control is accomplished programmatically by calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> method.</span></span> <span data-ttu-id="57510-1392">你还可以使用 " **显示模式** " 下拉列表控件将页面切换到设计模式，并且在设计模式下，可以将控件拖动到不同的区域或其区域中的不同位置。</span><span class="sxs-lookup"><span data-stu-id="57510-1392">You can also use the **Display Mode** drop-down list control to switch the page to design mode, and in design mode, you can drag the controls to different zones or different positions within their zones.</span></span> <span data-ttu-id="57510-1393"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A>控件也会调用方法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 来处理此类用户启动的移动。</span><span class="sxs-lookup"><span data-stu-id="57510-1393">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> method is also called by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to handle such user-initiated moves.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="57510-1394"><paramref name="webPart" /> 未包含在 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> 控件的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 集合中。</span><span class="sxs-lookup"><span data-stu-id="57510-1394"><paramref name="webPart" /> is not contained in the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Controls" /> collection of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span>  
  
<span data-ttu-id="57510-1395">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1395">-or-</span></span> 
 <span data-ttu-id="57510-1396"><paramref name="zone" /> 未包含在 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Zones" /> 控件的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 集合中。</span><span class="sxs-lookup"><span data-stu-id="57510-1396"><paramref name="zone" /> is not contained in the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.Zones" /> collection of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span>  
  
<span data-ttu-id="57510-1397">- 或 -</span><span class="sxs-lookup"><span data-stu-id="57510-1397">-or-</span></span> 
<span data-ttu-id="57510-1398"><paramref name="webPart" /> 控件的 <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.Zone" /> 属性所引用的区域为 <see langword="null" />，意味着 <paramref name="webPart" /> 当前未包含在任何区域中。</span><span class="sxs-lookup"><span data-stu-id="57510-1398">The zone referenced by the <paramref name="webPart" /> control's <see cref="P:System.Web.UI.WebControls.WebParts.WebPart.Zone" /> property is <see langword="null" />, which means that <paramref name="webPart" /> is not currently contained in a zone.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="57510-1399"><paramref name="webPart" /> 或 <paramref name="zone" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1399"><paramref name="webPart" /> or <paramref name="zone" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="57510-1400"><paramref name="zoneIndex" /> 小于零。</span><span class="sxs-lookup"><span data-stu-id="57510-1400"><paramref name="zoneIndex" /> is less than zero.</span></span></exception>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving(System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1401">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1401">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnAuthorizeWebPart">
      <MemberSignature Language="C#" Value="protected virtual void OnAuthorizeWebPart (System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAuthorizeWebPart(class System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart(System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAuthorizeWebPart (e As WebPartAuthorizationEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAuthorizeWebPart(System::Web::UI::WebControls::WebParts::WebPartAuthorizationEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnAuthorizeWebPart : System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs -&gt; unit&#xA;override this.OnAuthorizeWebPart : System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs -&gt; unit" Usage="webPartManager.OnAuthorizeWebPart e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1402">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1402">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs" /> that contains event data.</span></span></param>
        <summary><span data-ttu-id="57510-1403">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" /> 事件并调用该事件的处理程序（如果存在）。</span><span class="sxs-lookup"><span data-stu-id="57510-1403">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" /> event and invokes a handler for the event, if one exists.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1404"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 当 <xref:System.Web.UI.WebControls.WebParts.WebPart> 检查控件中是否有要添加到页的授权时，方法将调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1404">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method is called by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method, when a <xref:System.Web.UI.WebControls.WebParts.WebPart> control is being checked for authorization to be added to a page.</span></span> <span data-ttu-id="57510-1405"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A>调用方法时，它会引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> 事件，如果有事件的处理程序方法，则会调用该处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1405">When the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method is called, it raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event, and if there is a handler method for the event, it invokes the handler.</span></span>  
  
 <span data-ttu-id="57510-1406">授权 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控制过程是一项重要的 Web 部件功能。</span><span class="sxs-lookup"><span data-stu-id="57510-1406">The process of authorizing <xref:System.Web.UI.WebControls.WebParts.WebPart> controls is an important Web Parts feature.</span></span> <span data-ttu-id="57510-1407"><xref:System.Web.UI.WebControls.WebParts.WebPart>由控件添加到区域的每个或服务器控件都将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 通过授权过程来确定是否可以添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1407">Every <xref:System.Web.UI.WebControls.WebParts.WebPart> or server control that is added to a zone by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control goes through an authorization process to determine whether the control can be added.</span></span> <span data-ttu-id="57510-1408">默认情况下，Web 部件控件集不提供任何筛选条件来阻止将控件添加到区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1408">By default, the Web Parts control set does not provide any filtering criteria to prevent controls from being added to a zone.</span></span> <span data-ttu-id="57510-1409">但控制集确实为开发人员提供了创建其自己的筛选条件所需的机制。</span><span class="sxs-lookup"><span data-stu-id="57510-1409">But the control set does provide the mechanisms necessary for developers to create their own filtering criteria.</span></span> <span data-ttu-id="57510-1410">通过使用这些机制，你可以创建自定义筛选方案。</span><span class="sxs-lookup"><span data-stu-id="57510-1410">By using these mechanisms, you can create custom filtering scenarios.</span></span> <span data-ttu-id="57510-1411">例如，你可以创建一个筛选器，以便在用户为管理员角色的情况下，在呈现页面时将某些控件添加到区域，如果用户处于用户角色中，则不会添加这些控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1411">For example, you could create a filter so that, if a user is in an administrator role, certain controls would be added to a zone when the page is rendered, and if the user is in a user role, those controls would not be added.</span></span>  
  
 <span data-ttu-id="57510-1412">在授权过程中筛选控件的机制是 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 控件上的属性 <xref:System.Web.UI.WebControls.WebParts.WebPart> 、 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 和方法以及 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> 控件上的事件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1412">The mechanisms for filtering controls during the authorization process are the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property on <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> and <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> methods, and the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event on the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="57510-1413">若要创建筛选方案，实质上有两个任务。</span><span class="sxs-lookup"><span data-stu-id="57510-1413">To create a filtering scenario, there are essentially two tasks.</span></span> <span data-ttu-id="57510-1414">首先，将字符串分配给 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 要筛选的每个控件的属性 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1414">First, you assign strings to the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property of each <xref:System.Web.UI.WebControls.WebParts.WebPart> control you want to filter.</span></span> <span data-ttu-id="57510-1415">这些字符串值可以是任意的，但它们应该包含要筛选的条件。</span><span class="sxs-lookup"><span data-stu-id="57510-1415">These string values can be arbitrary, but they should contain the criteria you want to filter on.</span></span> <span data-ttu-id="57510-1416">例如，如果希望仅当管理员用户正在查看页面时才将给定控件添加到区域，则可以将的字符串值分配 `admin` 给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1416">For example, if you wanted a given control to be added to a zone only if an administrator user is viewing the page, then you might assign a string value of `admin` to the property.</span></span> <span data-ttu-id="57510-1417">然后，可以使用 ASP.NET 角色功能，并将站点的所有用户添加到各种角色，如管理员、管理人员和用户。</span><span class="sxs-lookup"><span data-stu-id="57510-1417">Then you could use the ASP.NET roles feature, and add all users of your site to various roles such as administrator, manager, and user.</span></span> <span data-ttu-id="57510-1418">加载页面时，筛选代码将检查用户所在的角色，并将其与要检查的控件上的授权筛选器值进行比较; 如果 (例如，) 用户处于管理员角色中，并且已将控件的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 值设置为 `admin` ，则可以添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1418">When a page is loading, your filtering code would check what role a user is in, compare it to the authorization filter value on a control being checked, and if (for example) the user is in an administrator role and you had set the control's <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> value to `admin`, the control could be added.</span></span>  
  
 <span data-ttu-id="57510-1419">创建筛选方案的第二步是编写代码来检查 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 控件上的属性值 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，并确定是否在将每个控件添加到其区域之前对其进行授权。</span><span class="sxs-lookup"><span data-stu-id="57510-1419">The second step in creating a filtering scenario is to write code to check the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property values on <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, and determine whether each control is authorized before it is added to its zone.</span></span> <span data-ttu-id="57510-1420">有两个选项可用于放置此筛选代码。</span><span class="sxs-lookup"><span data-stu-id="57510-1420">There are two options for where to place this filtering code.</span></span> <span data-ttu-id="57510-1421">第一个选项是页面开发人员的首选选项。</span><span class="sxs-lookup"><span data-stu-id="57510-1421">The first option is the preferred option for page developers.</span></span> <span data-ttu-id="57510-1422">您可以创建一个方法来 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> 直接在网页服务器脚本代码或代码分离文件中处理事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1422">You can create a method to handle the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event directly in the Web page server script code, or in a code separation file.</span></span> <span data-ttu-id="57510-1423">将方法与事件相关联，方法是将 `OnAuthorizeWebPart` 属性添加到 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 页面中控件的标记中，如下面的示例标记代码所示。</span><span class="sxs-lookup"><span data-stu-id="57510-1423">Associate your method with the event by adding the `OnAuthorizeWebPart` attribute to the tag for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control in the page, as shown in the following sample markup code.</span></span>  
  
```  
<asp:webpartmanager id="manager1" runat="server"   
   OnAuthorizeWebPart="manager1_AuthorizeWebPart" />  
```  
  
 <span data-ttu-id="57510-1424">所有自定义方法都必须检查每个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件的筛选条件，然后根据结果，为对象的属性指定一个布尔值， <xref:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs.IsAuthorized%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs> 以指示是否 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1424">All your custom method has to do is check each <xref:System.Web.UI.WebControls.WebParts.WebPart> control for the filtering criteria and then, based on the results, assign a Boolean value to the <xref:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs.IsAuthorized%2A> property of the <xref:System.Web.UI.WebControls.WebParts.WebPartAuthorizationEventArgs> object to indicate whether the <xref:System.Web.UI.WebControls.WebParts.WebPart> control can be added.</span></span> <span data-ttu-id="57510-1425">"示例" 部分中的代码演示如何执行此操作。</span><span class="sxs-lookup"><span data-stu-id="57510-1425">The code in the Example section demonstrates how to do this.</span></span>  
  
 <span data-ttu-id="57510-1426">用于放置筛选代码的第二个选项是从 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 类继承，并重写方法以检查筛选条件。</span><span class="sxs-lookup"><span data-stu-id="57510-1426">The second option for where to place your filtering code is to inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class, and override a method to check the filter criteria.</span></span> <span data-ttu-id="57510-1427">可以重写的两个方法是 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29?displayProperty=nameWithType> 方法或 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1427">The two methods you can override to do this are the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29?displayProperty=nameWithType> method or the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method.</span></span> <span data-ttu-id="57510-1428">尽管这两种方法都可正常运行，但在大多数情况下，最好重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> 方法，因为它为您提供了对整个授权过程的更强的编程控制，而 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> 方法只执行了一项特定任务，即引发事件并检查处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1428">Although either method would work, in most cases it is preferable to override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method, because it provides you with greater programmatic control over the whole authorization process, whereas the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method does only one specific task, which is to raise the event and check for a handler.</span></span> <span data-ttu-id="57510-1429">有关重写方法的自定义 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 类的代码示例 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> ，请参见 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29?displayProperty=nameWithType> 方法的重载。</span><span class="sxs-lookup"><span data-stu-id="57510-1429">For a code example of a custom <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class that overrides the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%2A> method, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized%28System.Type%2CSystem.String%2CSystem.String%2CSystem.Boolean%29?displayProperty=nameWithType> overload of the method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1430">下面的代码示例演示如何设置事件的自定义事件处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> ，以便处理程序可以为方法提供自定义筛选代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1430">The following code example demonstrates how to set a custom event handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart> event, so that the handler can provide custom filtering code for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnAuthorizeWebPart%2A> method.</span></span> <span data-ttu-id="57510-1431">此示例是一种典型的方法，供页面开发人员提供筛选方案和授权 <xref:System.Web.UI.WebControls.WebParts.WebPart> 要添加到页面的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1431">This example would be a typical way for a page developer to provide a filtering scenario and authorization of <xref:System.Web.UI.WebControls.WebParts.WebPart> controls to be added to a page.</span></span>  
  
 <span data-ttu-id="57510-1432">请注意，在网页中， `<asp:webpartmanager>` 元素具有 `OnAuthorizeWebPart` 属性，该属性具有分配给它的事件处理程序的名称。</span><span class="sxs-lookup"><span data-stu-id="57510-1432">In the Web page, notice that the `<asp:webpartmanager>` element has the `OnAuthorizeWebPart` attribute with the name of the event handler assigned to it.</span></span> <span data-ttu-id="57510-1433">方法检查页上的控件是否将其各自的 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 属性值设置为， `admin` 如果是，则返回 `true` ，这意味着将对其进行授权并将其添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-1433">The method checks whether the controls on the page have their respective <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property values set to `admin` and, if so, returns `true`, which means that they will be authorized and added to the page.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1434">请注意，没有任何分配给该属性的值的控件 <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> 也会添加，因为它们被假定不是筛选方案的一部分。</span><span class="sxs-lookup"><span data-stu-id="57510-1434">Note that controls that do not have any value assigned to the <xref:System.Web.UI.WebControls.WebParts.WebPart.AuthorizationFilter%2A> property are added as well, because they are assumed not to be part of a filtering scenario.</span></span> <span data-ttu-id="57510-1435">这种方法在筛选方案中是一种常见的方法：筛选某些控件，而其他控件则不是，因为假定这些控件可供所有用户使用。</span><span class="sxs-lookup"><span data-stu-id="57510-1435">This would be a common approach in a filtering scenario: some controls would be filtered, and others would not be, because they are presumed to be available for all users.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_AuthorizeWebPart#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_AuthorizeWebPart/CS/AuthorizeWebPartCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_AuthorizeWebPart#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_AuthorizeWebPart/VB/AuthorizeWebPartVB.aspx#1)]  
  
 <span data-ttu-id="57510-1436">由于在角色中设置用户超出了本主题的范围，此代码示例不检查筛选中的用户角色。</span><span class="sxs-lookup"><span data-stu-id="57510-1436">Because setting up users in roles is beyond the scope of this topic, this code example does not check user roles in the filtering.</span></span> <span data-ttu-id="57510-1437">但是，根据用户角色筛选控件的方案可能是此筛选功能的最常见用途之一。</span><span class="sxs-lookup"><span data-stu-id="57510-1437">However, the scenario of filtering controls according to user roles is likely to be one of the most common uses of this filtering feature.</span></span> <span data-ttu-id="57510-1438">如果你在站点上具有角色，并且想要检查此方法中的用户角色以筛选控件，则该方法将类似于下面的代码块 (与前面的代码示例中的更简单方法不同，后者不使用) 的角色。</span><span class="sxs-lookup"><span data-stu-id="57510-1438">If you have roles on your site, and you want to check user roles in this method to filter controls, the method would resemble the following code block (versus the simpler approach in the preceding code example, which does not use roles).</span></span>  
  
```vb  
Protected Sub WebPartManager1_AuthorizeWebPart(ByVal sender _  
  As Object, ByVal e As WebPartAuthorizationEventArgs)  
  
  If String.IsNullOrEmpty(e.AuthorizationFilter) Then  
    If Roles.IsUserInRole(Page.User.Identity.Name, _  
      e.AuthorizationFilter) Then  
  
      e.IsAuthorized = True  
    Else  
      e.IsAuthorized = False  
    End If  
  End If  
  
End Sub  
```  
  
```csharp  
protected void mgr1_AuthorizeWebPart(object sender,   
  WebPartAuthorizationEventArgs e)  
{  
  if (!String.IsNullOrEmpty(e.AuthorizationFilter))  
  {  
    if(Roles.IsUserInRole(Page.User.Identity.Name, e.authorizationFilter))  
      e.IsAuthorized = true;  
    else  
      e.IsAuthorized = false;  
  }  
}  
```  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.AuthorizeWebPart" />
        <altmember cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.IsAuthorized" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1439">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1439">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnConnectionsActivated">
      <MemberSignature Language="C#" Value="protected virtual void OnConnectionsActivated (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnConnectionsActivated(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnConnectionsActivated (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnConnectionsActivated(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnConnectionsActivated : EventArgs -&gt; unit&#xA;override this.OnConnectionsActivated : EventArgs -&gt; unit" Usage="webPartManager.OnConnectionsActivated e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1440">包含事件数据的 <see cref="T:System.EventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1440">An <see cref="T:System.EventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1441">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated" /> 事件以指示已加载页及其控件，并且已激活页上的连接，可以开始共享数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1441">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated" /> event to indicate that a page and its controls are loaded, and connections on the page have been activated to begin sharing data.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1442"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated%2A>方法在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated> 页面完成加载过程后引发事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1442">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated> event after a page has completed the loading process.</span></span> <span data-ttu-id="57510-1443">方法提供了一种为事件添加处理程序的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1443">The method provides a way to add a handler for the event.</span></span>  
  
 <span data-ttu-id="57510-1444">页面开发人员可以为事件添加自定义处理程序，方法是将 `OnConnectionsActivated` 属性添加到 `<asp:webpartmanager>` 页面中的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1444">Page developers can add a custom handler for the event by adding an `OnConnectionsActivated` attribute to the `<asp:webpartmanager>` element in a page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1445">开发人员可以 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated(System.EventArgs)" /> 在派生类中重写方法 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1445">Developers can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivated(System.EventArgs)" /> method in a derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivated" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1446">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1446">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnConnectionsActivating">
      <MemberSignature Language="C#" Value="protected virtual void OnConnectionsActivating (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnConnectionsActivating(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnConnectionsActivating (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnConnectionsActivating(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnConnectionsActivating : EventArgs -&gt; unit&#xA;override this.OnConnectionsActivating : EventArgs -&gt; unit" Usage="webPartManager.OnConnectionsActivating e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1447">包含事件数据的 <see cref="T:System.EventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1447">An <see cref="T:System.EventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1448">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating" /> 事件以指示已加载页及其控件，可以开始激活连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1448">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating" /> event to indicate that a page and its controls have loaded, and the process of activating connections can begin.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1449"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating> 事件，该事件为开发人员提供了一种机制，用于以编程方式自定义激活连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1449">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating> event, which provides developers with a mechanism for programmatically customizing the process of activating connections.</span></span>  
  
 <span data-ttu-id="57510-1450">页面开发人员可以为事件添加自定义处理程序，方法是将 `OnConnectionsActivating` 属性添加到 `<asp:webpartmanager>` 页面中的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1450">Page developers can add a custom handler for the event by adding an `OnConnectionsActivating` attribute to the `<asp:webpartmanager>` element in a page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1451">开发人员可以 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating(System.EventArgs)" /> 在派生类中重写方法 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1451">Developers can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnConnectionsActivating(System.EventArgs)" /> method in a derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectionsActivating" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1452">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1452">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnDisplayModeChanged">
      <MemberSignature Language="C#" Value="protected virtual void OnDisplayModeChanged (System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnDisplayModeChanged(class System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged(System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnDisplayModeChanged (e As WebPartDisplayModeEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnDisplayModeChanged(System::Web::UI::WebControls::WebParts::WebPartDisplayModeEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnDisplayModeChanged : System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs -&gt; unit&#xA;override this.OnDisplayModeChanged : System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs -&gt; unit" Usage="webPartManager.OnDisplayModeChanged e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1453">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs" />，包含与更改后的显示模式相关联的事件数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1453">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs" /> that contains event data associated with a changed display mode.</span></span></param>
        <summary><span data-ttu-id="57510-1454">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanged" /> 事件，以指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件在网页上已完成从一种显示模式切换到另一种显示模式的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1454">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanged" /> event to indicate that the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control has completed the process of switching from one display mode to another on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1455"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged%2A>其基窗体中的方法只引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanged> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1455">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged%2A> method in its base form simply raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanged> event.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1456">您可以重写 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged(System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs)" /> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1456">You can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanged(System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs)" /> method.</span></span> <span data-ttu-id="57510-1457">例如，在显示模式发生更改后，你可能想要根据属性中包含的显示模式 (UI) 更改用户界面外观中的某些内容 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs.OldDisplayMode" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1457">For example, after a change of display mode, you might want to change something in the appearance of the user interface (UI), depending on which display mode is contained in the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartDisplayModeEventArgs.OldDisplayMode" /> property.</span></span> <span data-ttu-id="57510-1458">或者，您可能希望隐藏某些内容，或显示某个控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1458">Or you might want to hide certain content, or display a certain control.</span></span>  
  
<span data-ttu-id="57510-1459">重写方法时，通常应调用基方法作为重写方法的最后一步，以便先运行自定义代码，最后引发事件，这表示模式更改已完成。</span><span class="sxs-lookup"><span data-stu-id="57510-1459">When you override the method, you should normally call the base method as the last step of the overridden method, so that your custom code runs first, and the event is raised last, indicating that the mode change is complete.</span></span></para></block>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1460">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1460">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnDisplayModeChanging">
      <MemberSignature Language="C#" Value="protected virtual void OnDisplayModeChanging (System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnDisplayModeChanging(class System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging(System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnDisplayModeChanging (e As WebPartDisplayModeCancelEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnDisplayModeChanging(System::Web::UI::WebControls::WebParts::WebPartDisplayModeCancelEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnDisplayModeChanging : System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs -&gt; unit&#xA;override this.OnDisplayModeChanging : System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs -&gt; unit" Usage="webPartManager.OnDisplayModeChanging e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1461">一个 <see cref="T:System.EventArgs" />，包含与正在更改的显示模式相关联的事件数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1461">An <see cref="T:System.EventArgs" /> that contains event data associated with a changing display mode.</span></span></param>
        <summary><span data-ttu-id="57510-1462">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanging" /> 事件，以指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件在网页上正处于从一种显示模式切换到另一种显示模式的过程中。</span><span class="sxs-lookup"><span data-stu-id="57510-1462">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanging" /> event to indicate that the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control is in the process of switching from one display mode to another on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1463"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging%2A>其基窗体中的方法只引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanging> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1463">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging%2A> method in its base form simply raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModeChanging> event.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1464">您可以重写 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging(System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs)" /> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1464">You can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnDisplayModeChanging(System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs)" /> method.</span></span> <span data-ttu-id="57510-1465">例如，在显示模式发生变化时，您可能希望使用属性) 检查新的显示模式 (， <see cref="P:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs.NewDisplayMode" /> 并根据新的显示模式将在用户界面 (UI) 中更改某些内容。</span><span class="sxs-lookup"><span data-stu-id="57510-1465">For example, as a display mode is changing, you might want to check what the new display mode will be (by using the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCancelEventArgs.NewDisplayMode" /> property) and change something in the user interface (UI) based on what the new display mode will be.</span></span> <span data-ttu-id="57510-1466">如果有自定义的显示模式，则在自定义模式要为新的显示模式时，您可能希望使某些控件可见。</span><span class="sxs-lookup"><span data-stu-id="57510-1466">If you had a custom display mode, you might want to make certain controls visible if the custom mode is going to be the new display mode.</span></span>  
  
<span data-ttu-id="57510-1467">重写此方法时，通常应调用基方法作为重写方法的第一步，以便引发事件以指示显示模式正在开始更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1467">When you override this method, you should normally call the base method as the first step of the overridden method, so that the event is raised to indicate a display mode is starting to change.</span></span> <span data-ttu-id="57510-1468">然后，在实际显示新的显示模式之前，您的自定义代码可以在用户界面 (UI) 中进行更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1468">Then, your custom code can make changes in the user interface (UI) before the new display mode is actually displayed.</span></span></para></block>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1469">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1469">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnInit">
      <MemberSignature Language="C#" Value="protected internal override void OnInit (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void OnInit(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnInit(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub OnInit (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void OnInit(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="override this.OnInit : EventArgs -&gt; unit" Usage="webPartManager.OnInit e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1470">包含事件数据的 <see cref="T:System.EventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1470">An <see cref="T:System.EventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1471">引发 <see cref="E:System.Web.UI.Control.Init" /> 事件，该事件是 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件生命周期中的第一个事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1471">Raises the <see cref="E:System.Web.UI.Control.Init" /> event, which is the first event in the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control life cycle.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1472"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnInit%2A>方法调用基方法（该基方法 <xref:System.Web.UI.Control.Init> 为控件引发事件），然后执行几个准备步骤，如确保在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 页上只有一个控件实例，并加载个性化设置数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1472">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnInit%2A> method calls the base method, which raises the <xref:System.Web.UI.Control.Init> event for the control, and then carries out several preparatory steps, such as ensuring that there is only one instance of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control on a page, and loading personalization data.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="57510-1473">页上还有另一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件</span><span class="sxs-lookup"><span data-stu-id="57510-1473">There is another <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control on the page</span></span></exception>
        <altmember cref="E:System.Web.UI.Control.Init" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1474">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1474">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnPreRender">
      <MemberSignature Language="C#" Value="protected internal override void OnPreRender (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void OnPreRender(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnPreRender(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub OnPreRender (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void OnPreRender(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="override this.OnPreRender : EventArgs -&gt; unit" Usage="webPartManager.OnPreRender e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1475">包含事件数据的 <see cref="T:System.EventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1475">An <see cref="T:System.EventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1476">引发 <see cref="E:System.Web.UI.Control.PreRender" /> 事件，该事件恰好在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件被呈现在网页上之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1476">Raises the <see cref="E:System.Web.UI.Control.PreRender" /> event, which occurs just before a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control is rendered on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1477"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnPreRender%2A>方法调用基方法（该基方法引发 <xref:System.Web.UI.Control.PreRender> 控件的事件），然后注册包含 Web 部件控件的页上所需的多个客户端脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-1477">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnPreRender%2A> method calls the base method, which raises the <xref:System.Web.UI.Control.PreRender> event for the control, and then registers several client scripts that are needed on pages that contain Web Parts controls.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.Control.PreRender" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1478">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1478">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnSelectedWebPartChanged">
      <MemberSignature Language="C#" Value="protected virtual void OnSelectedWebPartChanged (System.Web.UI.WebControls.WebParts.WebPartEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSelectedWebPartChanged(class System.Web.UI.WebControls.WebParts.WebPartEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSelectedWebPartChanged (e As WebPartEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSelectedWebPartChanged(System::Web::UI::WebControls::WebParts::WebPartEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnSelectedWebPartChanged : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit&#xA;override this.OnSelectedWebPartChanged : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit" Usage="webPartManager.OnSelectedWebPartChanged e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1479">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1479">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1480">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" /> 事件，该事件在新选择了某个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件或清除对它的选择之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1480">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" /> event, which occurs after a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control has either been newly selected or had its selection cleared.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1481"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged> 事件，这通常是一个时间点，开发人员可能想要更改用户界面)  (UI 的外观。</span><span class="sxs-lookup"><span data-stu-id="57510-1481">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged> event, which is typically a point in time where a developer might want to change the appearance of the user interface (UI).</span></span> <span data-ttu-id="57510-1482">例如，当 <xref:System.Web.UI.WebControls.WebParts.WebPart> 选择新控件时，Web 部件控件集更改新选定控件的呈现方式。</span><span class="sxs-lookup"><span data-stu-id="57510-1482">For example, when a new <xref:System.Web.UI.WebControls.WebParts.WebPart> control is selected, the Web Parts control set changes the rendering of the newly selected control.</span></span> <span data-ttu-id="57510-1483">清除控件的选定内容后，呈现将恢复为正常。</span><span class="sxs-lookup"><span data-stu-id="57510-1483">After a control's selection is cleared, the rendering is returned to normal.</span></span>  
  
 <span data-ttu-id="57510-1484">用户选择特定 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件进行编辑后，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1484">After a user selects a particular <xref:System.Web.UI.WebControls.WebParts.WebPart> control for editing, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method is called.</span></span> <span data-ttu-id="57510-1485">当用户完成对控件的编辑并将其关闭时，如果已清除该控件的选定内容，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> 再次调用该方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1485">When the user finishes editing the control and closes it, with the result that the control's selection is cleared, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method is called again.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1486">有几个与事件相关的选项 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" /> ，使开发人员可以自定义在所选控件更改后发生的呈现。</span><span class="sxs-lookup"><span data-stu-id="57510-1486">There are several options related to the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" /> event, to allow developers to customize the rendering that occurs after the selected control has changed.</span></span> <span data-ttu-id="57510-1487">在声明性代码中，可以在 <see langword="&lt;asp:webpartmanager&gt;" /> 元素中设置 <see langword="OnSelectedWebPartChanged" /> 特性，并为其分配自定义方法的名称。</span><span class="sxs-lookup"><span data-stu-id="57510-1487">In declarative code, within the <see langword="&lt;asp:webpartmanager&gt;" /> element you could set the <see langword="OnSelectedWebPartChanged" /> attribute, and assign to it the name of a custom method.</span></span> <span data-ttu-id="57510-1488">在自定义方法中，可以在事件发生时修改所选控件的呈现。</span><span class="sxs-lookup"><span data-stu-id="57510-1488">In the custom method, you could modify the rendering of the selected controls when the event occurs.</span></span> <span data-ttu-id="57510-1489">另一种方法是从 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类继承并重写方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1489">Another option is to inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class and override the method.</span></span> <span data-ttu-id="57510-1490">第三种方法是在区域级别自定义呈现;例如，你可以从 <see cref="T:System.Web.UI.WebControls.WebParts.EditorZoneBase" /> 类继承并重写其 <see cref="M:System.Web.UI.WebControls.WebParts.EditorZoneBase.OnSelectedWebPartChanged(System.Object,System.Web.UI.WebControls.WebParts.WebPartEventArgs)" /> 方法，以自定义在编辑过程中选定和清除的控件的呈现。</span><span class="sxs-lookup"><span data-stu-id="57510-1490">A third option is to customize the rendering at the zone level; for example, you can inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.EditorZoneBase" /> class, and override its <see cref="M:System.Web.UI.WebControls.WebParts.EditorZoneBase.OnSelectedWebPartChanged(System.Object,System.Web.UI.WebControls.WebParts.WebPartEventArgs)" /> method, to customize the rendering of controls selected and cleared during the editing process.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1491">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1491">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnSelectedWebPartChanging">
      <MemberSignature Language="C#" Value="protected virtual void OnSelectedWebPartChanging (System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSelectedWebPartChanging(class System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSelectedWebPartChanging (e As WebPartCancelEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSelectedWebPartChanging(System::Web::UI::WebControls::WebParts::WebPartCancelEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnSelectedWebPartChanging : System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs -&gt; unit&#xA;override this.OnSelectedWebPartChanging : System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs -&gt; unit" Usage="webPartManager.OnSelectedWebPartChanging e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1492">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1492">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1493">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging" /> 事件，该事件在更改当前选择的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1493">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging" /> event, which occurs during the process of changing which <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control is currently selected.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1494"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 事件，该事件在更改当前选定的控件的过程中发生 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1494">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> event, which occurs during the process of changing which <xref:System.Web.UI.WebControls.WebParts.WebPart> control is currently selected.</span></span>  
  
 <span data-ttu-id="57510-1495"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件使用此方法和关联的事件，以提供取消所选控件更改的进程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1495">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control uses this method, and the associated event, to provide an opportunity to cancel a process in which the selected control is changing.</span></span> <span data-ttu-id="57510-1496">例如，方法在方法中调用，也在方法中调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A> ，以便提供取消进程的方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1496">For example, the method is called within the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.BeginWebPartEditing%2A> method, and also within the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.EndWebPartEditing%2A> method, to provide a way to cancel the process.</span></span> <span data-ttu-id="57510-1497">如果用户单击正在编辑的控件上的 cancel 谓词，则不再选择该控件并且不会保存任何编辑更改，因为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> 方法可以取消编辑更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1497">If a user clicks the cancel verb on a control that is being edited, the control is no longer selected and any editing changes are not saved, because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> method makes it possible to cancel the editing changes.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1498">在开始和结束将控件连接到另一控件的过程的方法中，可通过类似方式调用方法 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，以启用取消该进程。</span><span class="sxs-lookup"><span data-stu-id="57510-1498">The method is similarly called during the methods that begin and end the process of connecting a <xref:System.Web.UI.WebControls.WebParts.WebPart> control to another control, to enable canceling that process.</span></span>  
  
 <span data-ttu-id="57510-1499">页面开发人员可以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 通过 `OnSelectedWebPartChanging` `<asp:webpartmanager>` 在声明性页标记中将特性添加到元素，并为属性分配自定义方法的名称，来为事件创建自定义处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1499">Page developers can create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> event by adding the `OnSelectedWebPartChanging` attribute to the `<asp:webpartmanager>` element in declarative page markup, and assigning to the attribute the name of a custom method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1500">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1500">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnUnload">
      <MemberSignature Language="C#" Value="protected internal override void OnUnload (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void OnUnload(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnUnload(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub OnUnload (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void OnUnload(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="override this.OnUnload : EventArgs -&gt; unit" Usage="webPartManager.OnUnload e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1501">与控件的移除相关联的事件数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1501">Event data associated with the removal of the control.</span></span></param>
        <summary><span data-ttu-id="57510-1502">引发基 <see cref="E:System.Web.UI.Control.Unload" /> 事件，并从网页中移除 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 实例。</span><span class="sxs-lookup"><span data-stu-id="57510-1502">Raises the base <see cref="E:System.Web.UI.Control.Unload" /> event and removes the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> instance from a Web page.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartAdded">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartAdded (System.Web.UI.WebControls.WebParts.WebPartEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartAdded(class System.Web.UI.WebControls.WebParts.WebPartEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartAdded (e As WebPartEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartAdded(System::Web::UI::WebControls::WebParts::WebPartEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartAdded : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit&#xA;override this.OnWebPartAdded : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit" Usage="webPartManager.OnWebPartAdded e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1503">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1503">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1504">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded" /> 事件，该事件在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件已被添加到某个页之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1504">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded" /> event, which occurs after a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control has been added to a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1505">在将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded%2A> <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件添加 (或添加到区域) 的其他服务器控件的过程中，将调用方法 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1505">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded%2A> method is called during the process of adding a <xref:System.Web.UI.WebControls.WebParts.WebPart> control (or other server control that is added to a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone) to a page.</span></span>  
  
 <span data-ttu-id="57510-1506">页面开发人员可以为事件创建自定义处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> ，方法是将 `OnWebPartAdded` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1506">Page developers can create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> event by adding the `OnWebPartAdded` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1507">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1507">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartAdding">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartAdding (System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartAdding(class System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding(System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartAdding (e As WebPartAddingEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartAdding(System::Web::UI::WebControls::WebParts::WebPartAddingEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartAdding : System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs -&gt; unit&#xA;override this.OnWebPartAdding : System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs -&gt; unit" Usage="webPartManager.OnWebPartAdding e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1508">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1508">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1509">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding" /> 事件，该事件将在向 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域添加 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 控件（或服务器控件，或用户控件）的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1509">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding" /> event, which occurs during the process of adding a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control (or a server or user control) to a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1510"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding> 事件，以指示控件正在添加。</span><span class="sxs-lookup"><span data-stu-id="57510-1510">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding> event to indicate that a control is in the process of being added.</span></span> <span data-ttu-id="57510-1511">方法还提供了用于取消添加过程的选项。</span><span class="sxs-lookup"><span data-stu-id="57510-1511">The method also provides the option to cancel the adding process.</span></span> <span data-ttu-id="57510-1512">如果成功添加了控件，则将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> 出现以下事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1512">If the control is successfully added, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> event follows.</span></span>  
  
 <span data-ttu-id="57510-1513">页面开发人员可以为关联的事件提供自定义处理程序，方法是将 `OnWebPartAdding` 属性添加到网页 `<asp:webpartmanager>` 上的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1513">Page developers can provide a custom handler for the associated event by adding the `OnWebPartAdding` attribute to the `<asp:webpartmanager>` element on a Web page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1514">创建派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的开发人员可以重 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding(System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs)" /> 写方法以自定义事件处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1514">Developers who create derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> classes can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding(System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs)" /> method to customize the event handling.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1515">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1515">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartClosed">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartClosed (System.Web.UI.WebControls.WebParts.WebPartEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartClosed(class System.Web.UI.WebControls.WebParts.WebPartEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartClosed (e As WebPartEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartClosed(System::Web::UI::WebControls::WebParts::WebPartEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartClosed : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit&#xA;override this.OnWebPartClosed : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit" Usage="webPartManager.OnWebPartClosed e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1516">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1516">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1517">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed" /> 事件以表明控件已从页中移除。</span><span class="sxs-lookup"><span data-stu-id="57510-1517">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed" /> event to signal that a control has been removed from a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1518"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> 事件，以指示 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件 (或其他服务器或用户控件) 在页上已成功关闭。</span><span class="sxs-lookup"><span data-stu-id="57510-1518">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> event to indicate that a <xref:System.Web.UI.WebControls.WebParts.WebPart> control (or other server or user control) has been successfully closed on a page.</span></span>  
  
 <span data-ttu-id="57510-1519">若要关闭某个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，请将其从页中移除，使其不会呈现，还会将其放在称为页目录的特殊保存对象中。</span><span class="sxs-lookup"><span data-stu-id="57510-1519">To close a <xref:System.Web.UI.WebControls.WebParts.WebPart> control means to remove it from a page so that it is not rendered, and also to place it in a special holding object called a page catalog.</span></span> <span data-ttu-id="57510-1520">对应于控件的页目录将 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 维护对 <xref:System.Web.UI.WebControls.WebParts.WebPart> 每个页面的已关闭控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1520">A page catalog, which corresponds to the <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> control, maintains references to closed <xref:System.Web.UI.WebControls.WebParts.WebPart> controls for each page.</span></span> <span data-ttu-id="57510-1521">如果 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 控件在区域内的某个页面上声明 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> ，则用户可以将页面切换到目录显示模式，然后再将其添加回页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1521">If a <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> control is declared on a page within a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone, users can switch the page into catalog display mode, and add back to the page any controls that were previously closed.</span></span>  
  
 <span data-ttu-id="57510-1522"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed%2A>方法为开发人员提供了为事件创建自定义处理程序的机会 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1522">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed%2A> method provides an opportunity for developers to create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> event.</span></span> <span data-ttu-id="57510-1523">页面开发人员可以为事件添加自定义处理程序，方法是将 `OnWebPartClosed` 属性添加到 `<asp:webpartmanager>` 页面中的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1523">Page developers can add a custom handler for the event by adding an `OnWebPartClosed` attribute to the `<asp:webpartmanager>` element in a page, and then assigning a custom method name to the attribute.</span></span> <span data-ttu-id="57510-1524">开发人员在此方法中可能执行的一项有用任务是：显示占位符来代替关闭的控件，并使用工具提示完成，通知用户如何将控件添加回页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1524">One useful task a developer might carry out in this method is to display a placeholder in place of the closed control, complete with a ToolTip that would inform users how to add the control back to the page.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1525">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1525">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartClosing">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartClosing (System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartClosing(class System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartClosing (e As WebPartCancelEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartClosing(System::Web::UI::WebControls::WebParts::WebPartCancelEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartClosing : System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs -&gt; unit&#xA;override this.OnWebPartClosing : System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs -&gt; unit" Usage="webPartManager.OnWebPartClosing e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1526">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1526">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1527">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing" /> 事件，该事件将在从页中移除 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1527">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing" /> event, which occurs during the process of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control being removed from a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1528"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> 事件，以指示控件正在关闭或已从页中删除。</span><span class="sxs-lookup"><span data-stu-id="57510-1528">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> event to indicate that a control is in the process of being closed or removed from a page.</span></span> <span data-ttu-id="57510-1529">方法还提供了取消关闭进程的选项。</span><span class="sxs-lookup"><span data-stu-id="57510-1529">The method also provides the option to cancel the closing process.</span></span> <span data-ttu-id="57510-1530">如果已成功从页面中删除该控件，则将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> 出现以下事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1530">If the control is successfully removed from the page, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> event follows.</span></span>  
  
 <span data-ttu-id="57510-1531">页面开发人员可以为关联的事件提供自定义处理程序，方法是将 `OnWebPartClosing` 属性添加到网页 `<asp:webpartmanager>` 上的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1531">Page developers can provide a custom handler for the associated event by adding the `OnWebPartClosing` attribute to the `<asp:webpartmanager>` element on a Web page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1532">创建派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的开发人员可以重 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" /> 写方法以自定义事件处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1532">Developers who create derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> classes can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" /> method to customize the event handling.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1533">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1533">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartDeleted">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartDeleted (System.Web.UI.WebControls.WebParts.WebPartEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartDeleted(class System.Web.UI.WebControls.WebParts.WebPartEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleted(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartDeleted (e As WebPartEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartDeleted(System::Web::UI::WebControls::WebParts::WebPartEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartDeleted : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit&#xA;override this.OnWebPartDeleted : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit" Usage="webPartManager.OnWebPartDeleted e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1534">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1534">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1535">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted" /> 事件，该事件在从页中永久删除 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1535">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted" /> event, which occurs after a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control has been permanently deleted from a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1536">在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleted%2A> <xref:System.Web.UI.WebControls.WebParts.WebPart> 从页中删除 (或添加到区域) 的其他服务器控件的过程中，将调用方法 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1536">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleted%2A> method is called during the process of deleting a <xref:System.Web.UI.WebControls.WebParts.WebPart> control (or other server control that is added to a <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone) from a page.</span></span>  
  
 <span data-ttu-id="57510-1537">页面开发人员可以为事件创建自定义处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> ，方法是将 `OnWebPartDeleted` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1537">Page developers can create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> event by adding the `OnWebPartDeleted` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1538">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1538">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartDeleting">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartDeleting (System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartDeleting(class System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartDeleting (e As WebPartCancelEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartDeleting(System::Web::UI::WebControls::WebParts::WebPartCancelEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartDeleting : System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs -&gt; unit&#xA;override this.OnWebPartDeleting : System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs -&gt; unit" Usage="webPartManager.OnWebPartDeleting e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1539">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1539">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1540">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting" /> 事件，该事件指示动态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件（或 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 区域中包含的服务器控件或用户控件）正处于被删除的过程中。</span><span class="sxs-lookup"><span data-stu-id="57510-1540">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting" /> event, which indicates that a dynamic <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control (or server or user control that is contained in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone) is in the process of being deleted.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1541">只有动态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件可以删除，当控件被删除时，该控件实例将从页中永久删除且无法还原。</span><span class="sxs-lookup"><span data-stu-id="57510-1541">Only dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> controls can be deleted, and when a control is deleted, the control instance is permanently removed from a page and cannot be restored.</span></span> <span data-ttu-id="57510-1542">动态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件是以编程方式添加的控件，也可以是从 Web 部件目录中添加的控件，而不是在网页标记中声明的静态控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1542">Dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> controls are those that are added programmatically, or from a Web Parts catalog, as opposed to static controls that are declared in the markup of a Web page.</span></span>  
  
 <span data-ttu-id="57510-1543"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting> 事件，以指示控件从其区域中被永久删除。</span><span class="sxs-lookup"><span data-stu-id="57510-1543">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting> event to indicate that a control is being permanently deleted from its zone.</span></span> <span data-ttu-id="57510-1544">方法还提供了取消删除过程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1544">The method also provides the opportunity to cancel the deleting process.</span></span> <span data-ttu-id="57510-1545">如果已成功从页面中删除该控件，则将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> 出现以下事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1545">If the control is successfully deleted from the page, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> event follows.</span></span>  
  
 <span data-ttu-id="57510-1546">页面开发人员可以为关联的事件提供自定义处理程序，方法是将 `OnWebPartDeleting` 属性添加到网页 `<asp:webpartmanager>` 上的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1546">Page developers can provide a custom handler for the associated event by adding the `OnWebPartDeleting` attribute to the `<asp:webpartmanager>` element on a Web page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1547">创建派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的开发人员可以重 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" /> 写方法以自定义事件处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1547">Developers who create derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> classes can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" /> method to customize the event handling.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1548">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1548">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartMoved">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartMoved (System.Web.UI.WebControls.WebParts.WebPartEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartMoved(class System.Web.UI.WebControls.WebParts.WebPartEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartMoved (e As WebPartEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartMoved(System::Web::UI::WebControls::WebParts::WebPartEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartMoved : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit&#xA;override this.OnWebPartMoved : System.Web.UI.WebControls.WebParts.WebPartEventArgs -&gt; unit" Usage="webPartManager.OnWebPartMoved e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1549">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1549">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1550">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved" /> 事件，该事件在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件已被移动到页上的不同位置之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1550">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved" /> event, which occurs after a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control has been moved to a different location on a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1551"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved%2A>方法在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> 方法的最末尾引发事件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> ，这可以确保在运行事件处理程序中的任何代码之前，移动控件的过程已完成。</span><span class="sxs-lookup"><span data-stu-id="57510-1551">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> event at the very end of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart%2A> method, which ensures that the process of moving a control is complete before any code in the event handler runs.</span></span>  
  
 <span data-ttu-id="57510-1552"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved>当控件在其当前区域内移动或移动到另一个区域时，将引发事件，并且无论是以编程方式还是由用户拖动控件来完成移动都不重要。</span><span class="sxs-lookup"><span data-stu-id="57510-1552">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> event is raised when a control is moved within its current zone, or to another zone, and it does not matter whether the movement is done programmatically or by a user dragging the control.</span></span>  
  
 <span data-ttu-id="57510-1553">页面开发人员可以为事件创建自定义处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> ，方法是将 `OnWebPartMoved` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1553">Page developers can create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> event by adding the `OnWebPartMoved` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1554">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1554">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartMoving">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartMoving (System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartMoving(class System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving(System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartMoving (e As WebPartMovingEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartMoving(System::Web::UI::WebControls::WebParts::WebPartMovingEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartMoving : System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs -&gt; unit&#xA;override this.OnWebPartMoving : System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs -&gt; unit" Usage="webPartManager.OnWebPartMoving e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1555">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1555">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1556">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving" /> 事件，该事件指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域中的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" />、服务器控件或用户控件正处于移动过程中。</span><span class="sxs-lookup"><span data-stu-id="57510-1556">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving" /> event, which indicates that a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server or user control in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone is in the process of being moved.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1557"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> 事件，该事件在 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或其他服务器控件在其区域内移动或在另一个区域内移动时发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1557">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> event, which occurs when a <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server control is being moved within its zone or to another zone.</span></span> <span data-ttu-id="57510-1558">方法还提供了取消移动过程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1558">The method also provides the opportunity to cancel the moving process.</span></span> <span data-ttu-id="57510-1559">如果移动成功完成，则将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> 出现以下事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1559">If the move is successfully completed, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> event follows.</span></span>  
  
 <span data-ttu-id="57510-1560">页面开发人员可以为关联的事件提供自定义处理程序，方法是将 `OnWebPartMoving` 属性添加到网页 `<asp:webpartmanager>` 上的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1560">Page developers can provide a custom handler for the associated event by adding the `OnWebPartMoving` attribute to the `<asp:webpartmanager>` element on a Web page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1561">创建派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的开发人员可以重 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving(System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs)" /> 写方法以自定义事件处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1561">Developers who create derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> classes can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving(System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs)" /> method to customize the event handling.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1562">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1562">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartsConnected">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartsConnected (System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartsConnected(class System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnected(System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartsConnected (e As WebPartConnectionsEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartsConnected(System::Web::UI::WebControls::WebParts::WebPartConnectionsEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartsConnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs -&gt; unit&#xA;override this.OnWebPartsConnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs -&gt; unit" Usage="webPartManager.OnWebPartsConnected e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1563">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1563">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1564">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" /> 事件，该事件在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件之间建立了连接之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1564">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" /> event, which occurs after a connection has been established between <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1565"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnected%2A>方法在方法的最末尾引发其相应的事件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> ，这可确保在事件处理程序中的任何代码运行之前完成连接两个控件所需的步骤。</span><span class="sxs-lookup"><span data-stu-id="57510-1565">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnected%2A> method raises its corresponding event at the very end of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts%2A> method, which ensures that the steps necessary to connect two controls are completed before any code in the event handler runs.</span></span>  
  
 <span data-ttu-id="57510-1566">方法提供了对创建连接过程的编程控制，关联的事件是将用户界面更新 (UI 的便利点) 或通知用户已建立连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1566">The method provides programmatic control over the process of creating connections, and the associated event is a convenient point at which to update the user interface (UI) or notify a user that a connection has been established.</span></span>  
  
 <span data-ttu-id="57510-1567">页面开发人员可以为事件创建自定义处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> ，方法是将 `OnWebPartsConnected` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1567">Page developers can create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> event by adding the `OnWebPartsConnected` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1568">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1568">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartsConnecting">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartsConnecting (System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartsConnecting(class System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartsConnecting (e As WebPartConnectionsCancelEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartsConnecting(System::Web::UI::WebControls::WebParts::WebPartConnectionsCancelEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartsConnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs -&gt; unit&#xA;override this.OnWebPartsConnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs -&gt; unit" Usage="webPartManager.OnWebPartsConnecting e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1569">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1569">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1570">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting" /> 事件，该事件发生于在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域内包含的两个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 或服务器控件或用户控件之间建立连接的过程中。</span><span class="sxs-lookup"><span data-stu-id="57510-1570">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting" /> event, which occurs during the process of establishing a connection between two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server or user controls contained in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1571"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting> 事件，该事件在两个控件尝试建立连接时发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1571">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting> event, which occurs when two controls attempt to establish a connection.</span></span> <span data-ttu-id="57510-1572">方法提供了取消连接尝试的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1572">The method provides the opportunity to cancel the connection attempt.</span></span> <span data-ttu-id="57510-1573">如果连接成功，则执行 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> 以下事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1573">If the connection is successful, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> event follows.</span></span>  
  
 <span data-ttu-id="57510-1574">页面开发人员可以为关联的事件提供自定义处理程序，方法是将 `OnWebPartsConnecting` 属性添加到网页 `<asp:webpartmanager>` 上的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1574">Page developers can provide a custom handler for the associated event by adding the `OnWebPartsConnecting` attribute to the `<asp:webpartmanager>` element on a Web page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1575">创建派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的开发人员可以重 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" /> 写方法以自定义事件处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1575">Developers who create derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> classes can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" /> method to customize the event handling.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" />
        <altmember cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1576">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1576">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartsDisconnected">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartsDisconnected (System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartsDisconnected(class System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnected(System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartsDisconnected (e As WebPartConnectionsEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartsDisconnected(System::Web::UI::WebControls::WebParts::WebPartConnectionsEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartsDisconnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs -&gt; unit&#xA;override this.OnWebPartsDisconnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs -&gt; unit" Usage="webPartManager.OnWebPartsDisconnected e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1577">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1577">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1578">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected" /> 事件，该事件在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件之间的连接已终止之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1578">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected" /> event, which occurs after a connection between <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls has ended.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1579"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnected%2A>方法在方法的最末尾引发其相应的事件 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> ，该方法执行终止两个控件之间的连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1579">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnected%2A> method raises its corresponding event at the very end of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method, which carries out the process of terminating a connection between two controls.</span></span>  
  
 <span data-ttu-id="57510-1580">方法提供对结束连接的过程的编程控制，使开发人员可以通知用户、更改用户界面 (UI) 或对应用程序进行其他更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1580">The method provides programmatic control over the process of ending a connection, so that developers can inform the user, make changes to the user interface (UI), or make other changes to the application.</span></span>  
  
 <span data-ttu-id="57510-1581">页面开发人员可以为事件创建自定义处理程序 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> ，方法是将 `OnWebPartsDisconnected` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1581">Page developers can create a custom handler for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> event by adding the `OnWebPartsDisconnected` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1582">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1582">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnWebPartsDisconnecting">
      <MemberSignature Language="C#" Value="protected virtual void OnWebPartsDisconnecting (System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnWebPartsDisconnecting(class System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnWebPartsDisconnecting (e As WebPartConnectionsCancelEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnWebPartsDisconnecting(System::Web::UI::WebControls::WebParts::WebPartConnectionsCancelEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnWebPartsDisconnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs -&gt; unit&#xA;override this.OnWebPartsDisconnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs -&gt; unit" Usage="webPartManager.OnWebPartsDisconnecting e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="57510-1583">包含事件数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1583">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="57510-1584">引发 <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting" /> 事件，该事件指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域中的两个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 或服务器控件或用户控件正处于结束连接的过程中。</span><span class="sxs-lookup"><span data-stu-id="57510-1584">Raises the <see cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting" /> event, which indicates that two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server or user controls in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone are in the process of ending a connection.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1585"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting%2A>方法引发 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件，该事件在两个控件结束连接时发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1585">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting%2A> method raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event, which occurs when two controls are ending a connection.</span></span> <span data-ttu-id="57510-1586">方法提供了取消断开连接过程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1586">The method provides the opportunity to cancel the disconnection process.</span></span> <span data-ttu-id="57510-1587">如果成功删除连接，则将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> 出现以下事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1587">If the connection is successfully removed, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> event follows.</span></span>  
  
 <span data-ttu-id="57510-1588">页面开发人员可以为关联的事件提供自定义处理程序，方法是将 `OnWebPartsDisconnecting` 属性添加到网页 `<asp:webpartmanager>` 上的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1588">Page developers can provide a custom handler for the associated event by adding the `OnWebPartsDisconnecting` attribute to the `<asp:webpartmanager>` element on a Web page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1589">创建派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类的开发人员可以重 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" /> 写方法以自定义事件处理。</span><span class="sxs-lookup"><span data-stu-id="57510-1589">Developers who create derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> classes can override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" /> method to customize the event handling.</span></span></para></block>
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts(System.Web.UI.WebControls.WebParts.WebPartConnection)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1590">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1590">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Personalization">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartPersonalization Personalization { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartPersonalization Personalization" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Personalization As WebPartPersonalization" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartPersonalization ^ Personalization { System::Web::UI::WebControls::WebParts::WebPartPersonalization ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Personalization : System.Web.UI.WebControls.WebParts.WebPartPersonalization" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.Personalization" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue(null)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue(null)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Content)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Content)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.NotifyParentProperty(true)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.NotifyParentProperty(true)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartPersonalization</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1591">获取对包含网页个性化设置数据的对象的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1591">Gets a reference to an object that contains personalization data for a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-1592">包含个性化设置数据的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1592">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> that contains personalization data.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1593"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A>属性提供了一种方法， <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> 通过控件访问与页关联的对象 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1593">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property provides a way to access the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> object that is associated with a page through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-1594">使用此属性，你可以访问个性化对象的各种成员。</span><span class="sxs-lookup"><span data-stu-id="57510-1594">Using this property, you can access the various members of the personalization object.</span></span> <span data-ttu-id="57510-1595">例如，可以使用 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ToggleScope%2A> 方法将页的个性化设置范围从 "共享" 切换到 "用户" 范围，反之亦然。</span><span class="sxs-lookup"><span data-stu-id="57510-1595">For example, you can use the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ToggleScope%2A> method to switch the page's personalization scope from shared to user scope, or vice versa.</span></span> <span data-ttu-id="57510-1596">你还可以查看页面的当前个性化设置范围、是否甚至在页面上启用了个性化设置，以及要将哪些提供程序用于个性化设置数据等。</span><span class="sxs-lookup"><span data-stu-id="57510-1596">You can also find out the current personalization scope of the page, whether personalization is even enabled on the page, which provider is being used for the personalization data, and more.</span></span>  
  
 <span data-ttu-id="57510-1597">请注意，属性引用的数据 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 只是控件所跟踪的页级别的个性化设置数据 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1597">Note that the data referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property is only the page-level personalization data that is tracked by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span> <span data-ttu-id="57510-1598">控件特定的个性化设置数据（如控件上可个性化属性的值） <xref:System.Web.UI.WebControls.WebParts.WebPart> 不是属性的组成部分 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1598">Control-specific personalization data, such as the values of personalizable properties on <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, is not part of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1599">有关 Web 部件个性化的详细信息，请参阅 [Web 部件个性化概述](https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="57510-1599">For more information on Web Parts personalization, see [Web Parts Personalization Overview](https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1600">下面的代码示例演示如何以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 编程方式使用属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1600">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property programmatically.</span></span>  
  
 <span data-ttu-id="57510-1601">以下网页允许用户进入编辑模式来编辑控件的某些方面 <xref:System.Web.UI.WebControls.Calendar> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1601">The following Web page allows a user to enter edit mode to edit certain aspects of the <xref:System.Web.UI.WebControls.Calendar> control.</span></span> <span data-ttu-id="57510-1602">" **切换范围** " 按钮将页面切换为 "用户" 或 "共享" 个性化设置范围。</span><span class="sxs-lookup"><span data-stu-id="57510-1602">The **Toggle Scope** button switches the page to user or shared personalization scope.</span></span> <span data-ttu-id="57510-1603">每个 " **编辑模式** " 和 " **浏览" 模式** 按钮都将页面切换到适当的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1603">The **Edit Mode** and **Browse Mode** buttons each switch the page into the appropriate display mode.</span></span> <span data-ttu-id="57510-1604">请注意，在 `<script>` 文件的标记部分，处理事件的两个方法都使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 属性来访问基础对象的有用成员。</span><span class="sxs-lookup"><span data-stu-id="57510-1604">Notice that in the `<script>` tag section of the file, two of the methods that handle events use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property to access useful members of the underlying object.</span></span> <span data-ttu-id="57510-1605">具体而言，这些方法对 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ToggleScope%2A> <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Scope%2A> 通过属性访问的对象使用方法和属性 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1605">Specifically, these methods use the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ToggleScope%2A> method and the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Scope%2A> property on the object accessed through the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Personalization%2A> property.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_Personalization#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_Personalization/CS/wpmgrPersonalizationCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_Personalization#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_Personalization/VB/wpmgrPersonalizationVB.aspx#1)]  
  
 <span data-ttu-id="57510-1606">若要运行该代码示例，还必须使用户或用户能够对共享作用域中的页面进行个性化设置。</span><span class="sxs-lookup"><span data-stu-id="57510-1606">For the code example to run, you also must enable a user or users to personalize pages in shared scope.</span></span> <span data-ttu-id="57510-1607">将条目添加到部分中的 Web.config 文件，该文件类似于 `<system.web>` 以下标记。</span><span class="sxs-lookup"><span data-stu-id="57510-1607">Add an entry to the Web.config file, within the `<system.web>` section, that looks like the following markup.</span></span>  
  
```  
<webParts>  
  <personalization>  
    <authorization>  
      <allow  
        users="[Replace the text and brackets with a user name or   
           group.]"  
        roles="admin"   
        verbs="enterSharedScope"  />  
    </authorization>  
  </personalization>  
</webParts>   
```  
  
 <span data-ttu-id="57510-1608">在浏览器中加载页面后，单击 " **切换范围** " 按钮，此时会显示该页已共享。</span><span class="sxs-lookup"><span data-stu-id="57510-1608">After you load the page in a browser, click the **Toggle Scope** button, and notice that the page now says the scope is shared.</span></span> <span data-ttu-id="57510-1609">单击 " **编辑模式** " 以更改显示模式，单击可见控件上的谓词菜单，然后从菜单中选择 " **编辑** "。</span><span class="sxs-lookup"><span data-stu-id="57510-1609">Click **Edit Mode** to change the display mode, click the verbs menu on the visible control, and select **Edit** from the menu.</span></span> <span data-ttu-id="57510-1610">请注意，将显示两个编辑控件 (UI) 的用户界面。</span><span class="sxs-lookup"><span data-stu-id="57510-1610">Notice that the user interface (UI) for both editing controls appears.</span></span> <span data-ttu-id="57510-1611">现在，单击 " **浏览" 模式** 返回到正常浏览。</span><span class="sxs-lookup"><span data-stu-id="57510-1611">Now click **Browse Mode** to return to normal browsing.</span></span> <span data-ttu-id="57510-1612">如果该页显示处于共享作用域中，请再次单击 " **切换范围** " 以确保该页处于用户范围内。</span><span class="sxs-lookup"><span data-stu-id="57510-1612">If the page says it is in shared scope, click **Toggle Scope** again to ensure the page is in user scope.</span></span> <span data-ttu-id="57510-1613">接下来，请执行相同的步骤来再次编辑控件，但请注意，在编辑 UI 中， <xref:System.Web.UI.WebControls.WebParts.BehaviorEditorPart> 控件不会出现。</span><span class="sxs-lookup"><span data-stu-id="57510-1613">Next, follow the same steps to edit the control again, but notice that now in the editing UI, the <xref:System.Web.UI.WebControls.WebParts.BehaviorEditorPart> control does not appear.</span></span> <span data-ttu-id="57510-1614">这是因为，此控件仅在页位于共享个性化设置范围中时才起作用。</span><span class="sxs-lookup"><span data-stu-id="57510-1614">That is because this control only works when the page is in shared personalization scope.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1615">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1615">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)"><span data-ttu-id="57510-1616">Web 部件个性化概述</span><span class="sxs-lookup"><span data-stu-id="57510-1616">Web Parts Personalization Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RegisterClientScript">
      <MemberSignature Language="C#" Value="protected virtual void RegisterClientScript ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void RegisterClientScript() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.RegisterClientScript" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub RegisterClientScript ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void RegisterClientScript();" />
      <MemberSignature Language="F#" Value="abstract member RegisterClientScript : unit -&gt; unit&#xA;override this.RegisterClientScript : unit -&gt; unit" Usage="webPartManager.RegisterClientScript " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1617">使 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件能够发出用于各种个性化设置功能（例如，在网页中拖动 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件）的客户端脚本。</span><span class="sxs-lookup"><span data-stu-id="57510-1617">Enables the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to emit client-side script that is used for various personalization features, such as dragging <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls in a Web page.</span></span></summary>
        <remarks>To be added.</remarks>
        <altmember cref="M:System.Web.UI.Page.RegisterClientScriptBlock(System.String,System.String)" />
      </Docs>
    </Member>
    <Member MemberName="Render">
      <MemberSignature Language="C#" Value="protected internal override void Render (System.Web.UI.HtmlTextWriter writer);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void Render(class System.Web.UI.HtmlTextWriter writer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.Render(System.Web.UI.HtmlTextWriter)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub Render (writer As HtmlTextWriter)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void Render(System::Web::UI::HtmlTextWriter ^ writer);" />
      <MemberSignature Language="F#" Value="override this.Render : System.Web.UI.HtmlTextWriter -&gt; unit" Usage="webPartManager.Render writer" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="writer" Type="System.Web.UI.HtmlTextWriter" />
      </Parameters>
      <Docs>
        <param name="writer"><span data-ttu-id="57510-1618">一个 <see cref="T:System.Web.UI.HtmlTextWriter" />，它接收控件的内容以写入页。</span><span class="sxs-lookup"><span data-stu-id="57510-1618">An <see cref="T:System.Web.UI.HtmlTextWriter" /> that receives the content of the control to write to the page.</span></span></param>
        <summary><span data-ttu-id="57510-1619">重写以防止 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件呈现任何内容。</span><span class="sxs-lookup"><span data-stu-id="57510-1619">Overridden to prevent the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control from rendering any content.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SaveControlState">
      <MemberSignature Language="C#" Value="protected internal override object SaveControlState ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance object SaveControlState() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.SaveControlState" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function SaveControlState () As Object" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Object ^ SaveControlState();" />
      <MemberSignature Language="F#" Value="override this.SaveControlState : unit -&gt; obj" Usage="webPartManager.SaveControlState " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Object</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1620">保存 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的状态数据，以便在将来请求包含该控件的网页时可以还原这些数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1620">Saves state data for the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control so the data can be restored on future request to the Web page that contains the control.</span></span></summary>
        <returns><span data-ttu-id="57510-1621">一个 <see cref="T:System.Object" />，它包含控件的已保存的状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1621">An <see cref="T:System.Object" /> to contain the control's saved state data.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1622"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveControlState%2A>方法保存应在页回发之间保留的属性的状态数据，即使在 <xref:System.Web.UI.Control.EnableViewState%2A> 属性设置为时也是如此 `false` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1622">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveControlState%2A> method saves state data for properties that should be persisted across page postbacks, even when the <xref:System.Web.UI.Control.EnableViewState%2A> property is set to `false`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SaveCustomPersonalizationState">
      <MemberSignature Language="C#" Value="protected virtual void SaveCustomPersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationDictionary state);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SaveCustomPersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationDictionary state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub SaveCustomPersonalizationState (state As PersonalizationDictionary)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void SaveCustomPersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationDictionary ^ state);" />
      <MemberSignature Language="F#" Value="abstract member SaveCustomPersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit&#xA;override this.SaveCustomPersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit" Usage="webPartManager.SaveCustomPersonalizationState state" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="57510-1623">一个 <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />，它包含要加载的状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1623">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" /> that contains the state data to be loaded.</span></span></param>
        <summary><span data-ttu-id="57510-1624">保存由 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件维护的自定义个性化设置状态数据，以便重新加载该页时可以重新加载此数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1624">Saves custom personalization state data maintained by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control, so that this data can be reloaded whenever the page is reloaded.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1625">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState%2A> 方法在个性化设置过程中至关重要，因为它可以存储个性化的用户设置以供将来浏览器会话和对页面的访问。</span><span class="sxs-lookup"><span data-stu-id="57510-1625">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState%2A> method is critical in the process of personalization, because it enables personalized user settings to be stored for future browser sessions and visits to a page.</span></span> <span data-ttu-id="57510-1626">方法保存自定义个性化设置状态数据，其中包含如下所示的项：已 <xref:System.Web.UI.WebControls.WebParts.WebPart> 添加到页面或从页面中删除的动态控件或服务器控件; 已移动到页面上的控件; 已创建或已删除的动态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1626">The method saves custom personalization state data, which includes items such as the following: dynamic <xref:System.Web.UI.WebControls.WebParts.WebPart> or server controls that have been added to a page or deleted from a page; controls that have been moved on a page; and dynamic connections that have been created or deleted.</span></span>  
  
 <span data-ttu-id="57510-1627">不能直接从代码中调用此方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1627">You cannot call this method directly from your code.</span></span> <span data-ttu-id="57510-1628">但是，可以调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Save%2A> 方法，该方法本身会调用此方法来保存个性化设置数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1628">You can, however, call the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Save%2A> method, which itself calls this method to save personalization data.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1629">开发人员可以在派生类中重写此方法 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> ，以自定义保存个性化设置数据的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1629">Developers can override this method in a derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class to customize the process of saving personalization data.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Save(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1630">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1630">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SelectedWebPart">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPart SelectedWebPart { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPart SelectedWebPart" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property SelectedWebPart As WebPart" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPart ^ SelectedWebPart { System::Web::UI::WebControls::WebParts::WebPart ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.SelectedWebPart : System.Web.UI.WebControls.WebParts.WebPart" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPart</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1631">获取对当前选择的用于编辑或用于创建与另一个控件的连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或其他服务器控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1631">Gets a reference to a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control that is currently selected for editing or for creating a connection with another control.</span></span></summary>
        <value><span data-ttu-id="57510-1632">当前选择的用于编辑或建立连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1632">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control that is currently selected for editing or forming a connection.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1633"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A>属性返回对 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或其他服务器控件的引用，此服务器控件当前已选定用于编辑或用于创建与其他控件的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1633">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart%2A> property returns a reference to a <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server control that is currently selected for editing or for creating a connection with another control.</span></span>  
  
 <span data-ttu-id="57510-1634"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件提供了几个有用的方法和事件来处理选择控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1634">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control provides several useful methods and events for handling the process of selecting a control.</span></span> <span data-ttu-id="57510-1635">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 事件恰好在选定控件后发生，但在进行任何更改之前发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1635">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> event occurs just after a control is selected, but before any changes are made.</span></span> <span data-ttu-id="57510-1636">若要在选定控件后对其执行某些操作，请重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1636">To carry out some actions on the control after it is selected, override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> method.</span></span> <span data-ttu-id="57510-1637">例如，你可能想要更改已选中但尚未更改的控件的外观，以直观地强调选择了哪个控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1637">For example, you might want to change the appearance of a control that is selected but has not changed yet, to emphasize visually which control is selected.</span></span>  
  
 <span data-ttu-id="57510-1638">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged> 事件恰好在选定控件更改后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1638">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged> event occurs just after the selected control has been changed.</span></span> <span data-ttu-id="57510-1639">若要在控件发生更改后对其执行某些操作，请重写 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1639">To carry out some actions on the control after it has changed, override the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.SetSelectedWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1640">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1640">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SelectedWebPartChanged">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartEventHandler SelectedWebPartChanged;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartEventHandler SelectedWebPartChanged" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanged" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SelectedWebPartChanged As WebPartEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartEventHandler ^ SelectedWebPartChanged;" />
      <MemberSignature Language="F#" Value="member this.SelectedWebPartChanged : System.Web.UI.WebControls.WebParts.WebPartEventHandler " Usage="member this.SelectedWebPartChanged : System.Web.UI.WebControls.WebParts.WebPartEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1641">在对一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的选择已经发生更改并被移动到网页上的另一个控件之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1641">Occurs after the selection of one <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control has changed and moved to another control on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1642">此事件可与方法结合使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> ，以更改所选控件 (UI) 的用户界面。</span><span class="sxs-lookup"><span data-stu-id="57510-1642">This event can be used in conjunction with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged%2A> method to change the user interface (UI) of a selected control.</span></span> <span data-ttu-id="57510-1643">例如，如果用户将页面切换到设计模式 (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode>) ，然后选择一个控件，并 <xref:System.Web.UI.WebControls.WebParts.WebPart> 将其拖动到新位置，则通常更改所选控件的呈现方式（例如，通过更改选定控件的边框或背景的颜色）。</span><span class="sxs-lookup"><span data-stu-id="57510-1643">For example, if the user switches the page to design mode (<xref:System.Web.UI.WebControls.WebParts.WebPartManager.DesignDisplayMode>), and then selects a <xref:System.Web.UI.WebControls.WebParts.WebPart> control with the intent of dragging it to a new position, it is common to change the rendering of the selected control, for example by changing the color of its border or background while it is selected.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1644">有关使用事件的详细信息，请参阅 [如何：在 Web 窗体应用程序中使用事件](/dotnet/standard/events/how-to-consume-events-in-a-web-forms-application)。</span><span class="sxs-lookup"><span data-stu-id="57510-1644">For more information on consuming events, see [How to: Consume Events in a Web Forms Application](/dotnet/standard/events/how-to-consume-events-in-a-web-forms-application).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1645">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1645">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SelectedWebPartChanging">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler SelectedWebPartChanging;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler SelectedWebPartChanging" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event SelectedWebPartChanging As WebPartCancelEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartCancelEventHandler ^ SelectedWebPartChanging;" />
      <MemberSignature Language="F#" Value="member this.SelectedWebPartChanging : System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler " Usage="member this.SelectedWebPartChanging : System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1646">在更改网页上 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件当前的选定状态的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1646">Occurs during the process of changing which <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control is currently selected on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1647">此事件可与方法一起使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1647">This event can be used in conjunction with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> method.</span></span> <span data-ttu-id="57510-1648">页面开发人员可以通过将 `OnSelectedWebPartChanging` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并将属性的值设置为将处理事件的自定义方法的名称，在代码中创建事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1648">Page developers can create an event handler in their code by adding the `OnSelectedWebPartChanging` attribute to the `<asp:webpartmanager>` element in a page, and setting the value of the attribute to the name of a custom method that will handle the event.</span></span>  
  
 <span data-ttu-id="57510-1649">此事件在开始或结束控件之间的连接的过程中，以及在开始和结束控件编辑时引发。</span><span class="sxs-lookup"><span data-stu-id="57510-1649">This event is raised during the process of beginning or ending a connection between controls, and when beginning and ending an edit of a control.</span></span> <span data-ttu-id="57510-1650">有关详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1650">For details, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging%2A> method.</span></span>  
  
 <span data-ttu-id="57510-1651">通常，当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 事件由于用户操作更改所选控件的直接结果而引发时，可以取消该事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1651">Normally, when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> event is raised as a direct result of a user's action that changes the selected control, the event can be cancelled.</span></span> <span data-ttu-id="57510-1652">但是，在某些情况下无法取消事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1652">However, there is a scenario in which the event cannot be cancelled.</span></span> <span data-ttu-id="57510-1653">如果 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 删除了控件， <xref:System.Web.UI.WebControls.WebParts.WebPart> 则该控件所包含的控件必须全部关闭，否则将会孤立。</span><span class="sxs-lookup"><span data-stu-id="57510-1653">If a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control is deleted, the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls it contains must all be closed, otherwise they would be orphaned.</span></span> <span data-ttu-id="57510-1654">在这种情况下， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件将关闭 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件（而不是用户），并且它必须确定当前选择的控件以及何时在不中断的情况下更改选择，使其能够完成清理所有控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1654">In this case the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control closes the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, not the user, and it must determine which control is currently selected and when to change the selection without any chance of interruption, so that it can complete the process of cleaning up all the controls.</span></span> <span data-ttu-id="57510-1655">因此， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> 在这种情况下，不能取消设计方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1655">Therefore, by design the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPartChanging> method cannot be cancelled in this scenario.</span></span> <span data-ttu-id="57510-1656">有关可取消的相关事件，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1656">For a related event that can be cancelled, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> event.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1657">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1657">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetPersonalizationDirty">
      <MemberSignature Language="C#" Value="protected void SetPersonalizationDirty ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance void SetPersonalizationDirty() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty" />
      <MemberSignature Language="VB.NET" Value="Protected Sub SetPersonalizationDirty ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; void SetPersonalizationDirty();" />
      <MemberSignature Language="F#" Value="member this.SetPersonalizationDirty : unit -&gt; unit" Usage="webPartManager.SetPersonalizationDirty " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1658">设置一个标志，该标志指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的自定义个性化设置数据已更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1658">Sets a flag indicating that custom personalization data for the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control has changed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1659"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty%2A>方法将设置一个标志，该标志最终会导致 Web 部件控件集中的个性化设置组件保存更新的个性化数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1659">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty%2A> method sets a flag that ultimately causes the personalization components in the Web Parts control set to save the updated personalization data.</span></span> <span data-ttu-id="57510-1660">有关可能导致控件所跟踪的个性化设置数据发生更改的方案的详细信息 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1660">For more information on the scenarios that can cause changes to the personalization data tracked by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property.</span></span>  
  
 <span data-ttu-id="57510-1661"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty%2A>不能从代码中直接调用方法，并且不能重写，因为它由 Web 部件控件集在内部由 Web 部件个性化功能的一部分使用。</span><span class="sxs-lookup"><span data-stu-id="57510-1661">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetPersonalizationDirty%2A> method cannot be called directly from your code, and cannot be overridden, because it is used internally by the Web Parts control set as part of the Web Parts personalization feature.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1662">方法可由派生 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类调用。</span><span class="sxs-lookup"><span data-stu-id="57510-1662">The method can be called by a derived <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class.</span></span> <span data-ttu-id="57510-1663">如果要自定义 Web 部件控件集的个性化组件，并因此需要控制设置个性化数据标志的过程，这将很有用。</span><span class="sxs-lookup"><span data-stu-id="57510-1663">This would be useful if you want to customize the personalization components of the Web Parts control set, and thus need to control the process of setting flags for personalization data.</span></span></para></block>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#IsDirty" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1664">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1664">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SetSelectedWebPart">
      <MemberSignature Language="C#" Value="protected void SetSelectedWebPart (System.Web.UI.WebControls.WebParts.WebPart webPart);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance void SetSelectedWebPart(class System.Web.UI.WebControls.WebParts.WebPart webPart) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.SetSelectedWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
      <MemberSignature Language="VB.NET" Value="Protected Sub SetSelectedWebPart (webPart As WebPart)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; void SetSelectedWebPart(System::Web::UI::WebControls::WebParts::WebPart ^ webPart);" />
      <MemberSignature Language="F#" Value="member this.SetSelectedWebPart : System.Web.UI.WebControls.WebParts.WebPart -&gt; unit" Usage="webPartManager.SetSelectedWebPart webPart" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPart" Type="System.Web.UI.WebControls.WebParts.WebPart" />
      </Parameters>
      <Docs>
        <param name="webPart"><span data-ttu-id="57510-1665">已被选择的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1665">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control that has been selected.</span></span></param>
        <summary><span data-ttu-id="57510-1666">将 <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> 属性值设置为等于当前选定的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1666">Sets the <see cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" /> property value equal to the currently selected <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1667"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetSelectedWebPart%2A>方法在开始或结束对参数指定的控件的处理过程中调用 `webPart` ，后者用于开始或结束包含的连接 `webPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1667">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetSelectedWebPart%2A> method is called during the processes that begin or end editing of the control specified by the `webPart` parameter, and those that begin or end a connection that includes `webPart`.</span></span>  
  
 <span data-ttu-id="57510-1668">在编辑进程和连接进程开始时， `webPart` 是已选择要编辑的控件或用于输入连接的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1668">At the beginning of the edit and connection processes, `webPart` is the control that has been selected to be edited or to enter a connection.</span></span>  
  
 <span data-ttu-id="57510-1669">在编辑和连接进程结束时， `null` 将传递到 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetSelectedWebPart%2A> 方法，这将导致当前选定的控件不再处于选中状态。</span><span class="sxs-lookup"><span data-stu-id="57510-1669">At the end of the edit and connection processes, `null` is passed to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SetSelectedWebPart%2A> method, which results in the currently selected control no longer being selected.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanged(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnSelectedWebPartChanging(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.SelectedWebPart" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1670">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1670">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SkinID">
      <MemberSignature Language="C#" Value="public override string SkinID { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SkinID" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.SkinID" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Property SkinID As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ SkinID { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SkinID : string with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.SkinID" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue("")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue("")&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1671">获取或设置一个空字符串 ("")，使 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件不能应用任何外观。</span><span class="sxs-lookup"><span data-stu-id="57510-1671">Gets or sets an empty string ("") so that no skin can be applied to the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <value><span data-ttu-id="57510-1672">一个空字符串，该字符串防止 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件使用指定给它的外观。</span><span class="sxs-lookup"><span data-stu-id="57510-1672">An empty string that prevents the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control from having a skin assigned to it.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1673"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SkinID%2A>属性重写继承的 <xref:System.Web.UI.Control.SkinID%2A?displayProperty=nameWithType> 属性，以防止 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件（这是不可见的控件）使用外观。</span><span class="sxs-lookup"><span data-stu-id="57510-1673">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SkinID%2A> property overrides the inherited <xref:System.Web.UI.Control.SkinID%2A?displayProperty=nameWithType> property to prevent the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, which is an invisible control, from using skins.</span></span> <span data-ttu-id="57510-1674">属性的实现会阻止通过从访问器返回空字符串来分配外观 `get` ，并且如果尝试在访问器中设置值，则总是引发异常 `set` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1674">The implementation of the property prevents a skin from being assigned by always returning an empty string from the `get` accessor, and always throwing an exception if there is an attempt to set a value in the `set` accessor.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="57510-1675">尝试设置该属性值。</span><span class="sxs-lookup"><span data-stu-id="57510-1675">An attempt was made to set the property value.</span></span></exception>
        <altmember cref="P:System.Web.UI.Control.SkinID" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1676">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1676">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="StaticConnections">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartConnectionCollection StaticConnections { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartConnectionCollection StaticConnections" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property StaticConnections As WebPartConnectionCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartConnectionCollection ^ StaticConnections { System::Web::UI::WebControls::WebParts::WebPartConnectionCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.StaticConnections : System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue(null)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue(null)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Content)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Content)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.MergableProperty(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.MergableProperty(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1677">获取对网页上所有定义为静态连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" /> 对象的集合的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1677">Gets a reference to the collection of all <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" /> objects on a Web page that are defined as static connections.</span></span></summary>
        <value><span data-ttu-id="57510-1678">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" />，包含页上的所有静态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1678">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartConnectionCollection" /> that contains all the static connections on the page.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1679"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A>控件使用属性 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 来跟踪和管理页上的所有静态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1679">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> property is used by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to track and manage all static connections on a page.</span></span> <span data-ttu-id="57510-1680">与动态连接相比，静态连接无需在每次呈现页面时添加到页面中。</span><span class="sxs-lookup"><span data-stu-id="57510-1680">A static connection, in contrast with a dynamic connection, does not need to be added to a page every time the page is rendered.</span></span>  
  
 <span data-ttu-id="57510-1681">此属性引用的集合包含页上存在的所有静态连接，无论它们是以编程方式创建，还是通过 `<asp:webpartconnection>` 页标记中的元素指定的。</span><span class="sxs-lookup"><span data-stu-id="57510-1681">The collection referenced by this property contains all the static connections that exist on the page, whether they are created programmatically or specified with an `<asp:webpartconnection>` element in the page's markup.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1682">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1682">The following code example demonstrates programmatic use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> property.</span></span>  
  
 <span data-ttu-id="57510-1683">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-1683">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-1684">使您能够在 Web 部件页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1684">A user control that enables you to change display modes on a Web Parts page.</span></span>  
  
-   <span data-ttu-id="57510-1685">包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件和自定义接口的源代码文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1685">A source code file that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls and a custom interface.</span></span>  
  
-   <span data-ttu-id="57510-1686">一个网页，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件和一个 `<asp:webpartmanager>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1686">A Web page that contains two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, and an `<asp:webpartmanager>` element.</span></span>  
  
-   <span data-ttu-id="57510-1687">说明如何在浏览器中工作。</span><span class="sxs-lookup"><span data-stu-id="57510-1687">An explanation of how the example works in a browser.</span></span>  
  
 <span data-ttu-id="57510-1688">下面的代码仅包含示例的网页部分。</span><span class="sxs-lookup"><span data-stu-id="57510-1688">The following code contains only the Web page portion of the example.</span></span> <span data-ttu-id="57510-1689">还需要从类概述的 "示例" 部分获取示例的前两个部分，即自定义用户控件和自定义控件和接口的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1689">You will also need to obtain the first two parts of the example--the custom user control and the source code for the custom controls and interface--from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-1690">本主题还介绍了用于编译控件的选项 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1690">That topic also explains your options for compiling the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span>  
  
 <span data-ttu-id="57510-1691">此代码示例的第三部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-1691">The third part of the code example is the Web page.</span></span> <span data-ttu-id="57510-1692">页的声明性标记包含 `Register` 用户控件和自定义控件的指令。</span><span class="sxs-lookup"><span data-stu-id="57510-1692">The declarative markup for the page contains `Register` directives for both the user control and the custom controls.</span></span> <span data-ttu-id="57510-1693">有一个 `<asp:webpartmanager>` 元素、一个 `<asp:webpartzone>` 元素包含自定义控件和一个 `<asp:connectionszone>` 元素。</span><span class="sxs-lookup"><span data-stu-id="57510-1693">There is an `<asp:webpartmanager>` element, an `<asp:webpartzone>` element to contain the custom controls, and an `<asp:connectionszone>` element.</span></span> <span data-ttu-id="57510-1694">请注意，在 `Page_Load` 方法中，代码会检查连接是否已存在，如果不存在，则定义一个提供程序、一个使用者及其各自的连接点，然后将新连接添加到属性引用的静态连接集 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1694">Notice that in the `Page_Load` method, the code checks to see whether a connection already exists and, if not, defines a provider, a consumer, and their respective connection points, and then adds a new connection to the set of static connections referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.StaticConnections%2A> property.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/CS/wpmgrStaticConnectionCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_StaticConnections#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_StaticConnections/VB/wpmgrStaticConnectionVB.aspx#1)]  
  
 <span data-ttu-id="57510-1695">在浏览器中加载网页后，请单击 " **显示模式** " 下拉列表控件，然后选择 " **连接** "，将页面切换到连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1695">After you have loaded the Web page in a browser, click the **Display Mode** drop-down list control and select **Connect** to switch the page to connect mode.</span></span> <span data-ttu-id="57510-1696">连接模式使用 `<asp:connectionszone>` 元素使您能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1696">Connect mode uses the `<asp:connectionszone>` element to enable you to create connections between controls.</span></span> <span data-ttu-id="57510-1697">在连接模式下，单击 **邮政编码** 控件标题栏中的向下箭头以激活其谓词菜单，然后单击 " **连接**"。</span><span class="sxs-lookup"><span data-stu-id="57510-1697">In connect mode, click the downward arrow in the title bar of the **ZIP Code** control to activate its verbs menu, and then click **Connect**.</span></span> <span data-ttu-id="57510-1698">连接用户界面 (UI) 出现后，请注意该方法中包含的代码已创建连接 `Page_Load` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1698">After the connection user interface (UI) appears, notice that a connection has already been created by the code contained in the `Page_Load` method.</span></span> <span data-ttu-id="57510-1699">如果在后续浏览器会话中返回到此页，则已建立此静态连接，并且每次加载页面时都不需要重新创建此静态连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1699">If you return to this page in a later browser session, this static connection will already be established and will not need to be recreated each time the page loads.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.WebPartConnection" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1700">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1700">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SupportedDisplayModes">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection SupportedDisplayModes { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection SupportedDisplayModes" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property SupportedDisplayModes As WebPartDisplayModeCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartDisplayModeCollection ^ SupportedDisplayModes { System::Web::UI::WebControls::WebParts::WebPartDisplayModeCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.SupportedDisplayModes : System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1701">获取特定网页上所有可用显示模式的只读集合。</span><span class="sxs-lookup"><span data-stu-id="57510-1701">Gets a read-only collection of all display modes that are available on a particular Web page.</span></span></summary>
        <value><span data-ttu-id="57510-1702">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" />，包含特定网页上的可用 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> 对象集。</span><span class="sxs-lookup"><span data-stu-id="57510-1702">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayModeCollection" /> that contains the set of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartDisplayMode" /> objects available on a specific Web page.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1703">在 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 给定页面上存在的区域控件类型的情况下，属性仅包含页上实际可用的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1703">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property contains only the display modes that are actually available on a page, given the kinds of zone controls present on the page.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1704">可以禁用显示模式; 当显示模式处于禁用状态时，它不会添加到 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 集合中，即使在页面上存在支持该显示模式的相应类型的区域时也是如此。</span><span class="sxs-lookup"><span data-stu-id="57510-1704">Display modes can be disabled, and when a display mode is disabled, it is not added to the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> collection, even when the corresponding type of zone that supports that display mode is present on the page.</span></span>  
  
 <span data-ttu-id="57510-1705">始终支持浏览模式和设计模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1705">Browse mode and design mode are always supported.</span></span> <span data-ttu-id="57510-1706">可能变化的显示模式包括编辑、目录和连接模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1706">The display modes that can vary are the edit, catalog, and connect modes.</span></span> <span data-ttu-id="57510-1707">其中每个显示模式都与特定类型的控件相关联 <xref:System.Web.UI.WebControls.WebParts.ToolZone> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1707">Each of these display modes is associated with a particular type of <xref:System.Web.UI.WebControls.WebParts.ToolZone> control.</span></span> <span data-ttu-id="57510-1708">这就是在网页上存在一种特殊类型的区域，导致将特定显示模式添加到属性引用的集合 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1708">It is the presence of that specially typed zone on a Web page that causes a particular display mode to be added to the collection referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span> <span data-ttu-id="57510-1709">例如，如果网页包含 <xref:System.Web.UI.WebControls.WebParts.EditorZone> 区域，而不包含 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 区域，则编辑显示模式为该页面上支持的模式之一，但不支持目录显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1709">For example, if a Web page contains an <xref:System.Web.UI.WebControls.WebParts.EditorZone> zone but not a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone, then the edit display mode is one of the supported modes on that page, but the catalog display mode is not supported.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1710"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A>属性不同于 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> 属性，后者引用包含当前控件可用的所有显示模式的集合 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，甚至包括在特定页上不支持的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1710">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property differs from the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes%2A> property, which references a collection containing all the display modes that are available to the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, even those that are not supported on a particular page.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1711">下面的代码示例演示如何以编程方式使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1711">The following code example shows the programmatic use of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SupportedDisplayModes%2A> property.</span></span> <span data-ttu-id="57510-1712">此代码使用此属性来填充列表，该列表仅包含当前网页中可用的显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1712">The code uses this property to populate the list with only the display modes available in the current Web page.</span></span>  
  
 <span data-ttu-id="57510-1713">此页上有三种受支持的显示模式： "浏览"、"设计" 和 "编辑"。</span><span class="sxs-lookup"><span data-stu-id="57510-1713">There are three supported display modes on this page: browse, design, and edit.</span></span> <span data-ttu-id="57510-1714">前两个始终可用，并且编辑模式在此代码示例中可用，因为该页面包含一个 <xref:System.Web.UI.WebControls.WebParts.EditorZone> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1714">The first two are always available, and the edit mode is available in this code example because the page contains an <xref:System.Web.UI.WebControls.WebParts.EditorZone> control.</span></span> <span data-ttu-id="57510-1715">不显示目录和连接显示模式，因为其相应的区域不在此页上。</span><span class="sxs-lookup"><span data-stu-id="57510-1715">The catalog and connect display modes are not shown, because their corresponding zones are not on this page.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_SupportedDisplayModes#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_SupportedDisplayModes/CS/wpmgrSuppDisplayModescs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_SupportedDisplayModes#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_SupportedDisplayModes/VB/wpmgrSuppDisplayModesvb.aspx#1)]  
  
 <span data-ttu-id="57510-1716">在浏览器中加载页面后，可以使用下拉列表控件将页面从浏览模式切换到设计模式，然后切换到编辑模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1716">After you load the page in a browser, you can use the drop-down list control to switch the page from browse mode to design mode, and then to edit mode.</span></span> <span data-ttu-id="57510-1717">在编辑模式下，可以单击其中一个服务器控件标头中的下拉谓词菜单，然后选择 " **编辑** " 以编辑控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1717">In edit mode, you can click the drop-down verbs menu in the header of one of the server controls, and select **Edit** to edit the control.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.DisplayModes" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1718">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1718">ASP.NET Web Parts Controls</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/cc106284-82dc-4770-98cb-673dbc4ed4c4"><span data-ttu-id="57510-1719">Web 部件页面显示模式</span><span class="sxs-lookup"><span data-stu-id="57510-1719">Web Parts Page Display Modes</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty">
      <MemberSignature Language="C#" Value="bool System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#IsDirty" />
      <MemberSignature Language="VB.NET" Value=" ReadOnly Property IsDirty As Boolean Implements IPersonalizable.IsDirty" />
      <MemberSignature Language="C++ CLI" Value="property bool System::Web::UI::WebControls::WebParts::IPersonalizable::IsDirty { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty : bool" Usage="System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty" />
      <MemberType>Property</MemberType>
      <Implements>
        <InterfaceMember>P:System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1720">获取一个值，该值指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件管理的自定义个性化设置状态数据是否已在网页上更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1720">Gets a value that indicates whether custom personalization state data managed by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control has changed on a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-1721">一个布尔值，指示个性化设置状态数据是否已更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1721">A Boolean value that indicates whether the personalization state data has changed.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1722"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A>属性提供了一种方法，供调用方确定由控件管理的个性化设置状态数据是否已 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1722">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property provides a way for callers to determine whether personalization state data that is managed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has changed.</span></span> <span data-ttu-id="57510-1723">当用户个性化页级别的详细信息（例如，通过更改页布局、创建或删除连接以及添加或删除控件）时，由控件管理的个性化设置数据会 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1723">When users personalize page-level details, for example by changing page layout, creating or deleting connections, and adding or deleting controls, the personalization data managed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control changes.</span></span> <span data-ttu-id="57510-1724">这是一个传递方法，它将受保护属性的值返回给调用方 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty%2A> ，而调用方无法直接访问该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1724">This is a pass-through method that returns to callers the value of the protected <xref:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty%2A> property, which cannot be directly accessed by callers.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1725"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A>属性不指示可个性化属性值或影响各个控件外观的各个属性是否 <xref:System.Web.UI.WebControls.WebParts.WebPart> 已更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1725">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property does not indicate whether personalizable property values, or individual properties that affect the appearance of individual <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, have changed.</span></span> <span data-ttu-id="57510-1726">为每个控件单独跟踪控制级别的个性化设置。</span><span class="sxs-lookup"><span data-stu-id="57510-1726">Control-level personalization is tracked for each control individually.</span></span> <span data-ttu-id="57510-1727"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A>属性仅指示位于页面级别并且由控件管理的个性化设置数据是否已 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1727">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property indicates only whether personalization data that is at the page level and is managed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has changed.</span></span>  
  
 <span data-ttu-id="57510-1728">下面的列表描述了一些常见的个性化设置，这些实例将导致 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> 属性返回值 `true` ，这指示该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件具有一些更改的个性化设置数据：</span><span class="sxs-lookup"><span data-stu-id="57510-1728">The following list describes some common instances of personalization that would cause the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property to return a value of `true`, indicating that the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has some changed personalization data:</span></span>  
  
-   <span data-ttu-id="57510-1729">关闭静态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件 (或) 页上的服务器控件或用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1729">Closing a static <xref:System.Web.UI.WebControls.WebParts.WebPart> control (or server or user control) on a page.</span></span>  
  
-   <span data-ttu-id="57510-1730">将关闭的静态 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件从页目录还原回页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1730">Restoring a closed static <xref:System.Web.UI.WebControls.WebParts.WebPart> control from a page catalog back to a page.</span></span>  
  
-   <span data-ttu-id="57510-1731">将控件移动到其区域内或移动到另一个区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1731">Moving any control within its zone or to another zone.</span></span>  
  
-   <span data-ttu-id="57510-1732">从或服务器控件的目录添加控件 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，或以编程方式添加控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1732">Adding a control from a catalog of <xref:System.Web.UI.WebControls.WebParts.WebPart> or server controls, or adding a control programmatically.</span></span>  
  
-   <span data-ttu-id="57510-1733"><xref:System.Web.UI.WebControls.WebParts.WebPart>以编程方式或通过使用连接用户界面 (UI) 创建两个控件之间的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1733">Creating a connection between two <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, either programmatically or by using the connection user interface (UI).</span></span>  
  
-   <span data-ttu-id="57510-1734"><xref:System.Web.UI.WebControls.WebParts.WebPart>以编程方式或通过使用连接 UI 删除两个控件之间的连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1734">Deleting a connection between two <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, either programmatically or by using the connection UI.</span></span>  
  
 <span data-ttu-id="57510-1735">若要访问此属性值，必须将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件实例强制转换为 <xref:System.Web.UI.WebControls.WebParts.IPersonalizable> 接口; 然后，可以读取 <xref:System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty%2A> 属性值。</span><span class="sxs-lookup"><span data-stu-id="57510-1735">To access this property value, you must cast the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control instance to the <xref:System.Web.UI.WebControls.WebParts.IPersonalizable> interface; you can then read the <xref:System.Web.UI.WebControls.WebParts.IPersonalizable.IsDirty%2A> property value.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1736">下面的代码示例演示了属性的简单用法 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> ，以指示导致 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件的个性化设置数据更改的一些常见页面个性化设置实例。</span><span class="sxs-lookup"><span data-stu-id="57510-1736">The following code example demonstrates a simple usage of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23IsDirty%2A> property, to indicate some common page personalization instances that cause a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control's personalization data to change.</span></span>  
  
 <span data-ttu-id="57510-1737">此代码示例包含四个部分：</span><span class="sxs-lookup"><span data-stu-id="57510-1737">The code example has four parts:</span></span>  
  
-   <span data-ttu-id="57510-1738">允许您在包含 Web 部件控件的页上更改显示模式的用户控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1738">A user control that allows you to change display modes on a page that contains Web Parts controls.</span></span>  
  
-   <span data-ttu-id="57510-1739">一个源文件，其中包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以连接的自定义控件的代码和一个接口。</span><span class="sxs-lookup"><span data-stu-id="57510-1739">A source file that contains the code for two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that can be connected, and an interface.</span></span>  
  
-   <span data-ttu-id="57510-1740">承载所有控件的网页。</span><span class="sxs-lookup"><span data-stu-id="57510-1740">A Web page that hosts all the controls.</span></span>  
  
-   <span data-ttu-id="57510-1741">对代码示例的工作方式的说明。</span><span class="sxs-lookup"><span data-stu-id="57510-1741">An explanation of how the code example works.</span></span>  
  
 <span data-ttu-id="57510-1742">此代码示例的第一部分是用户控件，用于更改显示模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1742">The first part of the code example is the user control for changing display modes.</span></span> <span data-ttu-id="57510-1743">你可以从类概述的 "示例" 部分获取用户控件的源代码 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1743">You can obtain the source code for the user control from the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> class overview.</span></span> <span data-ttu-id="57510-1744">有关显示模式和用户控件工作方式的信息，请参阅 [演练：更改 Web 部件页上的显示模式](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0)。</span><span class="sxs-lookup"><span data-stu-id="57510-1744">For information about display modes and how the user control works, see [Walkthrough: Changing Display Modes on a Web Parts Page](https://msdn.microsoft.com/library/24e42f74-82dc-4c13-8574-130398985fc0).</span></span>  
  
 <span data-ttu-id="57510-1745">该示例的第二部分是包含自定义控件和接口的源文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1745">The second part of the example is the source file with the custom controls and the interface.</span></span> <span data-ttu-id="57510-1746">请注意， `IZipCode` 接口公开了一种方法，在自定义控件中实现的此方法将用作 `ZipCodeWebPart` 回调方法，以使 `ZipCodeWebPart` 能够充当连接方案中的提供程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1746">Notice that the `IZipCode` interface exposes one method, and that this method as implemented in the custom `ZipCodeWebPart` control serves as a callback method to enable `ZipCodeWebPart` to act as a provider in a connection scenario.</span></span> <span data-ttu-id="57510-1747">其他控件作为 `WeatherWebPart` 连接中的使用者控件，它可以使用提供的特定接口 `ZipCodeWebPart` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1747">The other control, `WeatherWebPart`, acts as the consumer control in a connection; it can consume the particular interface provided by `ZipCodeWebPart`.</span></span> <span data-ttu-id="57510-1748">在实际应用程序中， `WeatherWebPart` 可以从提供程序使用个性化的邮政编码值，然后向用户提供图形天气信息。</span><span class="sxs-lookup"><span data-stu-id="57510-1748">In a real application, `WeatherWebPart` could consume a personalized ZIP Code value from the provider, and then provide graphical weather information to users.</span></span>  
  
 <span data-ttu-id="57510-1749">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="57510-1749">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="57510-1750">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="57510-1750">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="57510-1751">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="57510-1751">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="57510-1752">此代码示例使用动态编译;因此，请注意，网页 `Register` 顶部的此组件的指令只包含 `TagPrefix` 和 `Namespace` 属性，但没有 `Assembly` 属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1752">This code example uses dynamic compilation; therefore, notice that the `Register` directive for this component at the top of the Web page contains only `TagPrefix` and `Namespace` attributes, without an `Assembly` attribute.</span></span> <span data-ttu-id="57510-1753">有关演示如何编译的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="57510-1753">For a walkthrough that demonstrates how to compile, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 [!code-csharp[WebParts_WebPartManager_IsDirty#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_IsDirty/CS/ZipCodeComponent.cs#2)]
 [!code-vb[WebParts_WebPartManager_IsDirty#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_IsDirty/VB/ZipCodeComponent.vb#2)]  
  
 <span data-ttu-id="57510-1754">此代码示例的第三部分是网页。</span><span class="sxs-lookup"><span data-stu-id="57510-1754">The third part of the code example is the Web page.</span></span> <span data-ttu-id="57510-1755">请注意，它包含两个 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 区域，其中第一个区域包含两个自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1755">Notice that it contains two <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zones, with the first one containing the two custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="57510-1756">还有一个 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> 区域，其中包含 <xref:System.Web.UI.WebControls.Calendar> 用户可以添加到页面的标准控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1756">There is also a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone, which contains a standard <xref:System.Web.UI.WebControls.Calendar> control that users can add to the page.</span></span> <span data-ttu-id="57510-1757">`<asp:connectionszone>`元素提供了一个连接用户界面，使用户能够在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1757">The `<asp:connectionszone>` element provides a connection UI for users to create connections between controls.</span></span> <span data-ttu-id="57510-1758">在 `Page_PreRender` 方法中，请注意，它会检查个性化设置数据是否已更改，如果已更改，则更新的文本 `Label1` 。</span><span class="sxs-lookup"><span data-stu-id="57510-1758">In the `Page_PreRender` method, notice that it checks to see whether the personalization data has changed and, if so, updates the text of `Label1`.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_IsDirty#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_IsDirty/CS/wpmgrIsDirtyCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_IsDirty#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_IsDirty/VB/wpmgrIsDirtyVB.aspx#1)]  
  
 <span data-ttu-id="57510-1759">在浏览器中加载页面后，尝试创建本主题的 "备注" 部分中列出的一些方案，这些方案将更改个性化数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1759">After you load the page in a browser, try to create some of the scenarios listed in the Remarks section of this topic that will change the personalization data.</span></span> <span data-ttu-id="57510-1760">进行各种更改时，当更改涉及控件所跟踪的个性化设置方案之一时 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，会显示控件的文本， `Label1` 指示个性化设置数据已更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1760">As you make various changes, when a change involves one of the personalization scenarios tracked by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, the text of the `Label1` control is displayed to indicate that personalization data has changed.</span></span> <span data-ttu-id="57510-1761">例如，你能够：</span><span class="sxs-lookup"><span data-stu-id="57510-1761">For example, you can:</span></span>  
  
-   <span data-ttu-id="57510-1762">单击 " **连接" Web 部件控件** 按钮，在控件之间创建连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1762">Create a connection between controls by clicking the **Connect WebPart Controls** button.</span></span>  
  
-   <span data-ttu-id="57510-1763">使用 " **显示模式** " 下拉列表控件将页面切换到目录模式，然后将 "我的 **日历** " 控件添加到第二个 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1763">Use the **Display Mode** drop-down list control to switch the page to catalog mode, and add the **My Calendar** control to the second <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone.</span></span>  
  
-   <span data-ttu-id="57510-1764">将页面更改回 "浏览" 模式，在 " **我的日历** " 控件) 的标题栏中，单击谓词菜单 (显示箭头符号，然后选择 " **关闭** " 以关闭它并将其添加到页面目录。</span><span class="sxs-lookup"><span data-stu-id="57510-1764">Change the page back to browse mode, click on the verbs menu (shown with an arrow symbol in the title bar) for the **My Calendar** control, and select **Close** to close it and add it to the page catalog.</span></span>  
  
-   <span data-ttu-id="57510-1765">将页面返回到目录模式，然后将 " **我的日历** " 控件添加回页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1765">Return the page to catalog mode, and add the **My Calendar** control back to the page.</span></span>  
  
-   <span data-ttu-id="57510-1766">使用 " **显示模式** " 控件将页面切换到设计模式，并通过将控件的一个或多个位置拖动到另一个区域，或在同一区域中的其他位置来重新排列控件的布局。</span><span class="sxs-lookup"><span data-stu-id="57510-1766">Use the **Display Mode** control to switch the page to design mode, and rearrange the layout of the controls by dragging one or more of them to another zone, or to a different position in the same zone.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.UI.WebControls.WebParts.IPersonalizable" />
        <altmember cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.IsCustomPersonalizationStateDirty" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1767">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1767">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="System.Web.UI.WebControls.WebParts.IPersonalizable.Load">
      <MemberSignature Language="C#" Value="void IPersonalizable.Load (System.Web.UI.WebControls.WebParts.PersonalizationDictionary state);" />
      <MemberSignature Language="ILAsm" Value=".method hidebysig newslot virtual instance void System.Web.UI.WebControls.WebParts.IPersonalizable.Load(class System.Web.UI.WebControls.WebParts.PersonalizationDictionary state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Load(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
      <MemberSignature Language="VB.NET" Value="Sub Load (state As PersonalizationDictionary) Implements IPersonalizable.Load" />
      <MemberSignature Language="C++ CLI" Value=" virtual void System.Web.UI.WebControls.WebParts.IPersonalizable.Load(System::Web::UI::WebControls::WebParts::PersonalizationDictionary ^ state) = System::Web::UI::WebControls::WebParts::IPersonalizable::Load;" />
      <MemberSignature Language="F#" Value="abstract member System.Web.UI.WebControls.WebParts.IPersonalizable.Load : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit&#xA;override this.System.Web.UI.WebControls.WebParts.IPersonalizable.Load : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit" Usage="webPartManager.System.Web.UI.WebControls.WebParts.IPersonalizable.Load state" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.UI.WebControls.WebParts.IPersonalizable.Load(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="57510-1768">一个 <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />，它包含要加载的状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1768">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" /> that contains the state data to be loaded.</span></span></param>
        <summary><span data-ttu-id="57510-1769">返回先前保存的需要加载到 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的自定义个性化状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1769">Returns previously saved custom personalization state data that needs to be loaded to the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1770">此方法是方法的实现，该方法 <xref:System.Web.UI.WebControls.WebParts.IPersonalizable.Load%2A?displayProperty=nameWithType> 提供了一种方法，使 Web 部件控件集直接访问受保护的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState%2A?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1770">This method is an implementation of the <xref:System.Web.UI.WebControls.WebParts.IPersonalizable.Load%2A?displayProperty=nameWithType> method, which provides a way for the Web Parts control set to directly access the protected <xref:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="57510-1771">调用此方法时，它将存储由控件管理的自定义个性化数据 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> ，并且以前保存在永久性数据存储中以供以后在初始化过程中使用。</span><span class="sxs-lookup"><span data-stu-id="57510-1771">When this method is called, it stores the custom personalized data that is managed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control, and that was previously saved in the permanent data store for use later in the initialization process.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1772">在大多数情况下，页面和控件开发人员代码不需要调用此方法，因为它主要由 Web 部件控件集用于检索个性化设置数据的机制。</span><span class="sxs-lookup"><span data-stu-id="57510-1772">In most cases, page and control developer code does not need to call this method, because it is primarily used by the Web Parts control set as its mechanism for retrieving personalization data.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1773">开发人员使用此方法的一种情况是，他们要开发一个自定义的个性化框架，用来代替 Web 部件控件集提供的个性化框架。</span><span class="sxs-lookup"><span data-stu-id="57510-1773">One scenario in which developers would use this method is if they are developing a custom personalization framework to use in place of the one provided by the Web Parts control set.</span></span> <span data-ttu-id="57510-1774">在这种情况下，开发人员可以从 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类继承并重写 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization" /> 方法以返回对象的自定义实现 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1774">In such cases, developers could inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class and override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization" /> method to return a custom implementation of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> object.</span></span> <span data-ttu-id="57510-1775">自定义 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> 对象将 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Load(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" /> 在适当的时间调用方法的实现以加载自定义个性化设置数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1775">The custom <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> object would call the implementation of the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Load(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" /> method at the proper time to load custom personalization data.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.LoadCustomPersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1776">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1776">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="System.Web.UI.WebControls.WebParts.IPersonalizable.Save">
      <MemberSignature Language="C#" Value="void IPersonalizable.Save (System.Web.UI.WebControls.WebParts.PersonalizationDictionary state);" />
      <MemberSignature Language="ILAsm" Value=".method hidebysig newslot virtual instance void System.Web.UI.WebControls.WebParts.IPersonalizable.Save(class System.Web.UI.WebControls.WebParts.PersonalizationDictionary state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Save(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
      <MemberSignature Language="VB.NET" Value="Sub Save (state As PersonalizationDictionary) Implements IPersonalizable.Save" />
      <MemberSignature Language="C++ CLI" Value=" virtual void System.Web.UI.WebControls.WebParts.IPersonalizable.Save(System::Web::UI::WebControls::WebParts::PersonalizationDictionary ^ state) = System::Web::UI::WebControls::WebParts::IPersonalizable::Save;" />
      <MemberSignature Language="F#" Value="abstract member System.Web.UI.WebControls.WebParts.IPersonalizable.Save : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit&#xA;override this.System.Web.UI.WebControls.WebParts.IPersonalizable.Save : System.Web.UI.WebControls.WebParts.PersonalizationDictionary -&gt; unit" Usage="webPartManager.System.Web.UI.WebControls.WebParts.IPersonalizable.Save state" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.UI.WebControls.WebParts.IPersonalizable.Save(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="57510-1777">一个 <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" />，包含待保存的状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1777">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationDictionary" /> that contains the state data to be saved.</span></span></param>
        <summary><span data-ttu-id="57510-1778">保存由 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件管理的自定义个性化设置状态数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1778">Saves custom personalization state data that is managed by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1779"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Save%2A>方法是方法的实现，该方法 <xref:System.Web.UI.WebControls.WebParts.IPersonalizable.Save%2A?displayProperty=nameWithType> 提供了一种方法，以便 Web 部件控件集直接访问受保护的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState%2A?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1779">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.System%23Web%23UI%23WebControls%23WebParts%23IPersonalizable%23Save%2A> method is an implementation of the <xref:System.Web.UI.WebControls.WebParts.IPersonalizable.Save%2A?displayProperty=nameWithType> method, which provides a way for the Web Parts control set to directly access the protected <xref:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="57510-1780">调用此方法时，它会将控件管理的所有个性化数据保存 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 到为 Web 部件应用程序配置的永久数据存储区。</span><span class="sxs-lookup"><span data-stu-id="57510-1780">When this method is called, it saves all personalized data that is managed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to the permanent data store configured for a Web Parts application.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1781">在大多数情况下，页面和控件开发人员代码不需要调用此方法，因为它主要由 Web 部件控件集用于保存个性化设置数据的机制。</span><span class="sxs-lookup"><span data-stu-id="57510-1781">In most cases, page and control developer code does not need to call this method, because it is primarily used by the Web Parts control set as its mechanism for saving personalization data.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="57510-1782">开发人员使用此方法的一种情况是，他们要开发一个自定义的个性化框架，用来代替 Web 部件控件集提供的个性化框架。</span><span class="sxs-lookup"><span data-stu-id="57510-1782">One scenario in which developers would work with this method is if they are developing a custom personalization framework to use in place of the one provided by the Web Parts control set.</span></span> <span data-ttu-id="57510-1783">在这种情况下，开发人员可以从 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 类继承并重写 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization" /> 方法以返回对象的自定义实现 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1783">In such cases, developers could inherit from the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> class and override the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CreatePersonalization" /> method to return a custom implementation of a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> object.</span></span> <span data-ttu-id="57510-1784">自定义 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> 对象将 <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Save(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" /> 在适当的时间调用方法的实现以保存自定义个性化设置数据。</span><span class="sxs-lookup"><span data-stu-id="57510-1784">The custom <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> object would call the implementation of the <see cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#Save(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" /> method at the proper time to save the custom personalization data.</span></span></para></block>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.SaveCustomPersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationDictionary)" />
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartManager.System#Web#UI#WebControls#WebParts#IPersonalizable#IsDirty" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1785">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1785">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="TrackViewState">
      <MemberSignature Language="C#" Value="protected override void TrackViewState ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void TrackViewState() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartManager.TrackViewState" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub TrackViewState ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void TrackViewState();" />
      <MemberSignature Language="F#" Value="override this.TrackViewState : unit -&gt; unit" Usage="webPartManager.TrackViewState " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="57510-1786">将个性化设置状态数据应用到 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件，调用基方法以便能够跟踪对控件视图状态数据的更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1786">Applies personalization state data to the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control, and calls the base method to enable tracking changes to the view-state data for the control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1787">对视图状态数据的更改存储在 <xref:System.Web.UI.StateBag> 对象中，并可通过控件的属性进行访问 <xref:System.Web.UI.Control.ViewState%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1787">The changes to the view-state data are stored in a <xref:System.Web.UI.StateBag> object, and can be accessed through the control's <xref:System.Web.UI.Control.ViewState%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Visible">
      <MemberSignature Language="C#" Value="public override bool Visible { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool Visible" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.Visible" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Property Visible As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property bool Visible { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.Visible : bool with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.Visible" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Bindable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Bindable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1788">获取一个值，该值可使子控件可见。</span><span class="sxs-lookup"><span data-stu-id="57510-1788">Gets a value that enables child controls to be visible.</span></span></summary>
        <value><span data-ttu-id="57510-1789">一个布尔值，指示 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件及其子控件是否可见。</span><span class="sxs-lookup"><span data-stu-id="57510-1789">A Boolean value that indicates whether a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control and its child controls are visible.</span></span> <span data-ttu-id="57510-1790">在所有情况下均为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1790"><see langword="true" /> in all cases.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1791"><xref:System.Web.UI.WebControls.WebParts.WebPartManager>控件重写基 <xref:System.Web.UI.Control.Visible%2A?displayProperty=nameWithType> 属性，以始终为属性返回值 `true` <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1791">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control overrides the base <xref:System.Web.UI.Control.Visible%2A?displayProperty=nameWithType> property to always return a value of `true` for the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> property.</span></span> <span data-ttu-id="57510-1792">即使 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件本身不可见， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> 属性也需要设置为， `true` 以便默认情况下其所有子控件都可见。</span><span class="sxs-lookup"><span data-stu-id="57510-1792">Even though the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control itself is not visible, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> property needs to be set to `true` so that all its child controls are visible by default.</span></span>  
  
 <span data-ttu-id="57510-1793">如果尝试设置属性的值 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> ，则它始终会生成错误，因为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件已经重写基属性行为，并阻止为属性赋值。</span><span class="sxs-lookup"><span data-stu-id="57510-1793">If you try to set the value of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Visible%2A> property, it always generates an error because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control has overridden the base property behavior and prevents assigning any value to the property.</span></span>  
  
 <span data-ttu-id="57510-1794">此属性在可视化设计器中不可绑定，但在运行时是可绑定的。</span><span class="sxs-lookup"><span data-stu-id="57510-1794">This property is not bindable in visual designers, but is bindable at runtime.</span></span> <span data-ttu-id="57510-1795">有关详细信息，请参阅 <xref:System.ComponentModel.BindableAttribute>。</span><span class="sxs-lookup"><span data-stu-id="57510-1795">For more information, see <xref:System.ComponentModel.BindableAttribute>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="57510-1796">尝试向该属性指定一个值。</span><span class="sxs-lookup"><span data-stu-id="57510-1796">An attempt was made to assign a value to the property.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="WebPartAdded">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartAdded;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartAdded" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartAdded As WebPartEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartEventHandler ^ WebPartAdded;" />
      <MemberSignature Language="F#" Value="member this.WebPartAdded : System.Web.UI.WebControls.WebParts.WebPartEventHandler " Usage="member this.WebPartAdded : System.Web.UI.WebControls.WebParts.WebPartEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1797">在动态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或其他服务器控件已被添加到 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 区域之后发生，以指示已成功添加了控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1797">Occurs after a dynamic <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control has been added to a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone, to indicate that the control was added successfully.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1798">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> 事件用于指示动态控件 (以编程方式添加的控件，而不是在页标记) 已成功添加到区域中。</span><span class="sxs-lookup"><span data-stu-id="57510-1798">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> event is useful for indicating that a dynamic control (a control added programmatically, as opposed to being declared in page markup) was successfully added to a zone.</span></span> <span data-ttu-id="57510-1799">与方法一起使用时 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded%2A> ，事件为开发人员提供了一种方法，用于更新用户界面 (UI) 或以其他方式通知用户控件已成功添加。</span><span class="sxs-lookup"><span data-stu-id="57510-1799">In conjunction with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded%2A> method, the event provides developers with a way to update the user interface (UI) or otherwise notify users that a control was successfully added.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdded(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1800">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1800">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartAdding">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartAddingEventHandler WebPartAdding;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartAddingEventHandler WebPartAdding" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartAdding As WebPartAddingEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartAddingEventHandler ^ WebPartAdding;" />
      <MemberSignature Language="F#" Value="member this.WebPartAdding : System.Web.UI.WebControls.WebParts.WebPartAddingEventHandler " Usage="member this.WebPartAdding : System.Web.UI.WebControls.WebParts.WebPartAddingEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartAddingEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1801">在向 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域添加动态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 或其他服务器控件的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1801">Occurs during the process of adding a dynamic <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control to a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1802">将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding%2A> 控件添加到区域的过程开始后，方法将引发事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1802">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdding> event is raised by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding%2A> method after the process of adding a control to a zone has begun.</span></span> <span data-ttu-id="57510-1803">此事件提供在进程完成之前取消该过程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1803">This event provides an opportunity to cancel the process before it is complete.</span></span> <span data-ttu-id="57510-1804">如果添加进程成功，则此事件后跟 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1804">If the adding process is successful, this event is followed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded> event.</span></span>  
  
 <span data-ttu-id="57510-1805">页面开发人员可以通过将 `OnWebPartAdding` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并为属性分配自定义方法名称，为事件提供自定义处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1805">Page developers can provide custom handlers for the event by adding the `OnWebPartAdding` attribute to the `<asp:webpartmanager>` element in a page, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartAdding(System.Web.UI.WebControls.WebParts.WebPartAddingEventArgs)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.AddWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartAdded" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1806">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1806">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartClosed">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartClosed;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartClosed" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartClosed As WebPartEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartEventHandler ^ WebPartClosed;" />
      <MemberSignature Language="F#" Value="member this.WebPartClosed : System.Web.UI.WebControls.WebParts.WebPartEventHandler " Usage="member this.WebPartClosed : System.Web.UI.WebControls.WebParts.WebPartEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1807">当从页中移除 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件（或服务器控件，或用户控件）时发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1807">Occurs when a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control (or server or user control) is removed from a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1808">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> 事件指示控件已成功关闭，无论是由用户还是以编程方式。</span><span class="sxs-lookup"><span data-stu-id="57510-1808">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> event indicates that a control has been successfully closed, either by a user or programmatically.</span></span> <span data-ttu-id="57510-1809">若要关闭某个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，请将其从页中移除，使其不会呈现，还会将其放在称为页目录的特殊保存对象中。</span><span class="sxs-lookup"><span data-stu-id="57510-1809">To close a <xref:System.Web.UI.WebControls.WebParts.WebPart> control means to remove it from a page so that it is not rendered, and also to place it in a special holding object called a page catalog.</span></span> <span data-ttu-id="57510-1810">对应于控件的页目录将 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 维护对 <xref:System.Web.UI.WebControls.WebParts.WebPart> 每个页面的已关闭控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1810">A page catalog, which corresponds to the <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> control, maintains references to closed <xref:System.Web.UI.WebControls.WebParts.WebPart> controls for each page.</span></span> <span data-ttu-id="57510-1811">如果 <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> 控件在区域内的某个页面上声明 <xref:System.Web.UI.WebControls.WebParts.CatalogZone> ，则用户可以将页面切换到目录显示模式，然后再将其添加回某个页面。</span><span class="sxs-lookup"><span data-stu-id="57510-1811">If a <xref:System.Web.UI.WebControls.WebParts.PageCatalogPart> control is declared on a page within a <xref:System.Web.UI.WebControls.WebParts.CatalogZone> zone, users can switch a page into catalog display mode, and add back to a page any controls that were previously closed.</span></span>  
  
 <span data-ttu-id="57510-1812"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed>事件与方法相关联 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed%2A> ，这两个方法都引发事件并为其提供处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1812">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> event is associated with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed%2A> method, which both raises the event and provides a handler for it.</span></span>  
  
 <span data-ttu-id="57510-1813">页面开发人员可以为事件添加自定义处理程序，方法是将 `OnWebPartClosed` 属性添加到 `<asp:webpartmanager>` 页面中的元素，然后将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1813">Page developers can add a custom handler for the event by adding an `OnWebPartClosed` attribute to the `<asp:webpartmanager>` element in a page, and then assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosed(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1814">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1814">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartClosing">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler WebPartClosing;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler WebPartClosing" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartClosing As WebPartCancelEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartCancelEventHandler ^ WebPartClosing;" />
      <MemberSignature Language="F#" Value="member this.WebPartClosing : System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler " Usage="member this.WebPartClosing : System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1815">在从页中移除 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件（或服务器控件，或用户控件）的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1815">Occurs during the process of removing a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> control (or server or user control) from a page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1816"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing%2A> 当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件处于关闭控件的过程中时，由方法引发事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1816">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> event is raised by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing%2A> method when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control is in the process of closing a control.</span></span> <span data-ttu-id="57510-1817">如果移除控件成功，则此事件后跟 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1817">If the removal of the control is successful, this event is followed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed> event.</span></span>  
  
 <span data-ttu-id="57510-1818">页面开发人员可以为事件提供自定义处理程序，方法是将 `OnWebPartClosed` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1818">Page developers can provide a custom handler for the event by adding the `OnWebPartClosed` attribute to the `<asp:webpartmanager>` element in a page, and assigning a custom method name to the attribute.</span></span>  
  
 <span data-ttu-id="57510-1819">通常，当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> 用户关闭控件的直接结果引发事件时， <xref:System.Web.UI.WebControls.WebParts.WebPart> 可以取消该事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1819">Normally, when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> event is raised as a direct result of a user closing a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, the event can be cancelled.</span></span> <span data-ttu-id="57510-1820">但是，在某些情况下无法取消事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1820">However, there is a scenario in which the event cannot be cancelled.</span></span> <span data-ttu-id="57510-1821">如果 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 删除了控件， <xref:System.Web.UI.WebControls.WebParts.WebPart> 则该控件所包含的控件必须全部关闭，否则将会孤立。</span><span class="sxs-lookup"><span data-stu-id="57510-1821">If a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control is deleted, the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls it contains must all be closed, otherwise they would be orphaned.</span></span> <span data-ttu-id="57510-1822">在这种情况下， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件将关闭 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，而不是用户。</span><span class="sxs-lookup"><span data-stu-id="57510-1822">In this case the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control closes the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, not the user.</span></span> <span data-ttu-id="57510-1823">如果 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件正在调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> 方法以关闭每个控件并 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> 引发事件，则无法取消设计) 的事件，因为 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 需要完成清理区域的所有控件所需的任务 (。</span><span class="sxs-lookup"><span data-stu-id="57510-1823">And when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control is in the process of calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart%2A> method to close each control, and the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> event is raised, the event cannot be cancelled (by design) because the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> needs to complete the task of cleaning up all the zone's controls.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartClosing(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosed" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.CloseWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1824">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1824">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartDeleted">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartDeleted;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartDeleted" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartDeleted As WebPartEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartEventHandler ^ WebPartDeleted;" />
      <MemberSignature Language="F#" Value="member this.WebPartDeleted : System.Web.UI.WebControls.WebParts.WebPartEventHandler " Usage="member this.WebPartDeleted : System.Web.UI.WebControls.WebParts.WebPartEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1825">在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或其他服务器控件已从 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 区域删除之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1825">Occurs after a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control has been deleted from a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1826">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> 事件可用于指示动态控件 (以编程方式添加的控件，而不是在已成功从区域中删除的页标记) 中声明。</span><span class="sxs-lookup"><span data-stu-id="57510-1826">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> event is useful for indicating that a dynamic control (a control added programmatically, as opposed to being declared in page markup) was successfully deleted from a zone.</span></span> <span data-ttu-id="57510-1827">与方法一起使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleted%2A> ，事件为开发人员提供了一种方法来更新用户界面 (UI) 或以其他方式通知用户控件已成功删除。</span><span class="sxs-lookup"><span data-stu-id="57510-1827">In conjunction with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleted%2A> method, the event provides developers with a way to update the user interface (UI) or otherwise notify users that a control was successfully deleted.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleted(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1828">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1828">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartDeleting">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler WebPartDeleting;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler WebPartDeleting" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartDeleting As WebPartCancelEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartCancelEventHandler ^ WebPartDeleting;" />
      <MemberSignature Language="F#" Value="member this.WebPartDeleting : System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler " Usage="member this.WebPartDeleting : System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartCancelEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1829">在从 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域中永久删除动态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 或其他服务器控件的实例的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1829">Occurs during the process of permanently deleting an instance of a dynamic <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control from a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1830">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting> 事件由 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting%2A> 方法引发，在删除动态控件的过程中， (通过编程方式或通过用户界面) Web 部件用户界面添加的控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1830">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleting> event is raised by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting%2A> method, during the process of deleting a dynamic control (one that has been added programmatically or by a user through the Web Parts user interface).</span></span> <span data-ttu-id="57510-1831">事件提供了在进程完成之前取消进程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1831">The event provides an opportunity to cancel the process before it is finished.</span></span> <span data-ttu-id="57510-1832">如果删除进程已成功完成，则此事件后跟 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1832">If the deletion process is successfully completed, this event is followed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted> event.</span></span>  
  
 <span data-ttu-id="57510-1833">页面开发人员可以通过将 `OnWebPartDeleting` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并为属性分配自定义方法名称，为事件提供自定义处理程序。</span><span class="sxs-lookup"><span data-stu-id="57510-1833">Page developers can provide custom handlers for the event by adding the `OnWebPartDeleting` attribute to the `<asp:webpartmanager>` element in a page, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartDeleting(System.Web.UI.WebControls.WebParts.WebPartCancelEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartDeleted" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DeleteWebPart(System.Web.UI.WebControls.WebParts.WebPart)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1834">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1834">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartMoved">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartMoved;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartEventHandler WebPartMoved" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartMoved As WebPartEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartEventHandler ^ WebPartMoved;" />
      <MemberSignature Language="F#" Value="member this.WebPartMoved : System.Web.UI.WebControls.WebParts.WebPartEventHandler " Usage="member this.WebPartMoved : System.Web.UI.WebControls.WebParts.WebPartEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1835">在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件已被移动到网页上的不同位置之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1835">Occurs after a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server control has been moved to a different location on a Web page.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1836">此事件适用于) 和动态控件的网页标记中声明的静态 (。</span><span class="sxs-lookup"><span data-stu-id="57510-1836">This event applies to both static (declared in the markup of a Web page) and dynamic controls.</span></span> <span data-ttu-id="57510-1837">它与方法相关联 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1837">It is associated with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved%2A> method.</span></span> <span data-ttu-id="57510-1838">由于事件是在移动完成后引发的，因此开发人员可以包含事件处理程序，以向用户提供某些通知、某些验证或一些其他操作。</span><span class="sxs-lookup"><span data-stu-id="57510-1838">Because the event is raised after a move is complete, developers can include an event handler to provide some notification to users, some validation, or some other actions.</span></span> <span data-ttu-id="57510-1839">若要添加一个事件处理程序，你可以将一个 `OnWebPartMoved` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并将自定义方法的名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1839">To add an event handler, you can add an `OnWebPartMoved` attribute to the `<asp:webpartmanager>` element in a page, and assign the name of a custom method to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoved(System.Web.UI.WebControls.WebParts.WebPartEventArgs)" />
      </Docs>
    </Member>
    <Member MemberName="WebPartMoving">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartMovingEventHandler WebPartMoving;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartMovingEventHandler WebPartMoving" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartMoving As WebPartMovingEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartMovingEventHandler ^ WebPartMoving;" />
      <MemberSignature Language="F#" Value="member this.WebPartMoving : System.Web.UI.WebControls.WebParts.WebPartMovingEventHandler " Usage="member this.WebPartMoving : System.Web.UI.WebControls.WebParts.WebPartMovingEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartMovingEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1840">在移动 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 区域中包含的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 或其他服务器控件的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1840">Occurs during the process of moving a <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server control that is contained in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1841"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving>当 <xref:System.Web.UI.WebControls.WebParts.WebPart> 或其他服务器控件在其自己的区域内移动或移动到其他区域时，将引发该事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1841">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> event is raised when a <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server control is being moved within its own zone, or to another zone.</span></span> <span data-ttu-id="57510-1842">当用户拖动控件时，以及当发生编程移动时，会发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="57510-1842">This can occur both when a user drags a control, and when there is a programmatic move.</span></span>  
  
 <span data-ttu-id="57510-1843">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> 事件由 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving%2A> 方法引发，并提供在移动过程完成前取消该过程的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1843">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoving> event is raised by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving%2A> method, and it provides an opportunity to cancel the moving process before it is complete.</span></span> <span data-ttu-id="57510-1844">如果移动完成并且控件置于新位置，则此事件后跟 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1844">If the move is completed and the control placed in a new position, this event is followed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved> event.</span></span>  
  
 <span data-ttu-id="57510-1845">页面开发人员可以为事件创建自定义处理程序，方法是将 `OnWebPartMoving` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1845">Page developers can create a custom handler for the event by adding the `OnWebPartMoving` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartMoving(System.Web.UI.WebControls.WebParts.WebPartMovingEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartMoved" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.MoveWebPart(System.Web.UI.WebControls.WebParts.WebPart,System.Web.UI.WebControls.WebParts.WebPartZoneBase,System.Int32)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1846">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1846">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebParts">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartCollection WebParts { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartCollection WebParts" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property WebParts As WebPartCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartCollection ^ WebParts { System::Web::UI::WebControls::WebParts::WebPartCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.WebParts : System.Web.UI.WebControls.WebParts.WebPartCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.WebParts" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1847">获取对网页上的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件所跟踪的所有 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1847">Gets a reference to all <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls tracked by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control on a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-1848">一个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCollection" />，包含对一组 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1848">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCollection" /> that contains references to a set of <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1849"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A>控件使用属性 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 来跟踪 <xref:System.Web.UI.WebControls.WebParts.WebPart> 页面上区域中包含的所有控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1849">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property is used by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to track all <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that are contained within <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zones on the page.</span></span> <span data-ttu-id="57510-1850">尽管该集合是只读的，但你可以 <xref:System.Web.UI.WebControls.WebParts.WebPart> 通过集合访问各个控件并以编程方式对其进行更改。</span><span class="sxs-lookup"><span data-stu-id="57510-1850">Although the collection is read-only, you can access individual <xref:System.Web.UI.WebControls.WebParts.WebPart> controls through the collection and make changes to them programmatically.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="57510-1851">可以将 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件放置在区域外的某个页面上 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，这会导致控件不会被 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件跟踪或在其集合中被引用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1851">It is possible to have a <xref:System.Web.UI.WebControls.WebParts.WebPart> control placed on a page outside of a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone, which results in the control not being tracked by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control or referenced in its <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> collection.</span></span> <span data-ttu-id="57510-1852">不过，几乎不需要在 <xref:System.Web.UI.WebControls.WebParts.WebPart> 区域外使用控件，因为它会丢失其 Web 部件功能，并充当普通服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1852">However, there is little reason to use a <xref:System.Web.UI.WebControls.WebParts.WebPart> control outside of a zone, because it then loses its Web Parts functionality and acts as a normal server control.</span></span>  
  
 <span data-ttu-id="57510-1853">可在区域中放置的任何类型的控件、自定义 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件、标准 ASP.NET 控件、用户控件或自定义服务器控件是否可 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在运行时视为控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1853">Any type of control that can be placed in a zone, whether a custom <xref:System.Web.UI.WebControls.WebParts.WebPart> control, a standard ASP.NET control, a user control, or a custom server control, can be treated as a <xref:System.Web.UI.WebControls.WebParts.WebPart> control at run time.</span></span> <span data-ttu-id="57510-1854">如果不是控件的控件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 放置在区域中，则 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 在运行时 ASP.NET 使用对象包装控件 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> ，使控件可以作为真正的 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1854">When a control that is not a <xref:System.Web.UI.WebControls.WebParts.WebPart> control is placed in a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone, at run time ASP.NET wraps the control with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object, so that the control can behave as a true <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span> <span data-ttu-id="57510-1855">因此，通过使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 属性， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 无论是否从类派生，控件都可以跟踪任意类型的服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1855">Therefore, by using the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control can track any type of server control, regardless of whether it derives from the <xref:System.Web.UI.WebControls.WebParts.WebPart> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1856">下面的代码示例演示如何以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 编程方式使用属性来访问各个 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1856">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property programmatically to access individual <xref:System.Web.UI.WebControls.WebParts.WebPart> controls.</span></span> <span data-ttu-id="57510-1857">请注意，在该网页的声明性标记中， `<asp:webpartzone>` 有两个标准 ASP.NET 服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1857">Notice that in the declarative markup for the Web page, within the `<asp:webpartzone>` element there are two standard ASP.NET server controls.</span></span> <span data-ttu-id="57510-1858">虽然这些不是从类继承的 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，但由于它们位于区域，它们会在 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 运行时用对象进行包装，因此将包含在属性引用的集合中 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1858">Although these do not inherit from the <xref:System.Web.UI.WebControls.WebParts.WebPart> class, because they are in a zone they will be wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object at run time, and thus will be included in the collection referenced by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property.</span></span> <span data-ttu-id="57510-1859">你还可以 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在此区域中添加自定义控件、用户控件或自定义服务器控件，并以相同的方式处理它们。</span><span class="sxs-lookup"><span data-stu-id="57510-1859">You could also add custom <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, user controls, or custom server controls in this zone, and they would be handled the same way.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_WebParts#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_WebParts/CS/wpmgrWebPartsCS.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_WebParts#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_WebParts/VB/wpmgrWebPartsVB.aspx#1)]  
  
 <span data-ttu-id="57510-1860">请注意，若要使代码示例正常运行，必须在 Web.config 文件中添加一个设置，以便导出 Web 部件说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1860">Note that for the code example to work, you must add a setting in the Web.config file to enable exporting Web Parts description files.</span></span> <span data-ttu-id="57510-1861">请确保在此代码示例的网页所在的同一目录中有一个 Web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1861">Ensure that you have a Web.config file in the same directory as the Web page for this code example.</span></span> <span data-ttu-id="57510-1862">在 `<system.web>` 部分中，请确保有一个 `<webParts>` 元素的 `enableExport` 属性设置为 `true` ，如以下标记所示。</span><span class="sxs-lookup"><span data-stu-id="57510-1862">Within the `<system.web>` section, make sure there is a `<webParts>` element with an `enableExport` attribute set to `true`, as in the following markup.</span></span>  
  
 `<webParts enableExport="true">`  
  
 `...`  
  
 `</webParts>`  
  
 <span data-ttu-id="57510-1863">将页面加载到浏览器后，如果单击 " **Web 部件计数** " 按钮，代码将使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> 属性返回集合中的控件计数。</span><span class="sxs-lookup"><span data-stu-id="57510-1863">After you load the page into a browser, if you click the **WebPart Count** button, the code uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebParts%2A> property to return the count of controls in the collection.</span></span> <span data-ttu-id="57510-1864">如果单击 " **隐藏日历标题** " 按钮，则代码会更改日历，使其仅使用边框而不是标题进行呈现。</span><span class="sxs-lookup"><span data-stu-id="57510-1864">If you click the **Hide Calendar Title** button, the code changes the calendar so that it renders with only a border and not a title.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="WebPartsConnected">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler WebPartsConnected;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler WebPartsConnected" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartsConnected As WebPartConnectionsEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartConnectionsEventHandler ^ WebPartsConnected;" />
      <MemberSignature Language="F#" Value="member this.WebPartsConnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler " Usage="member this.WebPartsConnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1865">当 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件（或者服务器或用户控件）之间已建立特定连接之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1865">Occurs after a specific connection has been established between <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls (or server or user controls).</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1866"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected>事件与方法相关联 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnected%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1866">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> event is associated with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnected%2A> method.</span></span> <span data-ttu-id="57510-1867">此事件非常有用，因为在知道连接完成后，你可能想要将事实通知用户，甚至更改页面 (UI) 的用户界面。</span><span class="sxs-lookup"><span data-stu-id="57510-1867">The event is useful because after you know that a connection is complete, you might want to inform the user of the fact, or even change the user interface (UI) of the page.</span></span> <span data-ttu-id="57510-1868">例如，您可能希望显示一些图形图像，该图像在两个控件之间建议成功连接，或显示简短消息，然后将页面显示模式改回为浏览模式。</span><span class="sxs-lookup"><span data-stu-id="57510-1868">For example, you might want to display some graphic image that suggests a successful connection between two controls, or display a brief message, and then change the page display mode back to browse mode.</span></span>  
  
 <span data-ttu-id="57510-1869">页面开发人员可以通过将 `OnWebPartsConnected` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并为属性分配自定义方法名称，将自定义事件处理程序与此事件相关联。</span><span class="sxs-lookup"><span data-stu-id="57510-1869">Page developers can associate a custom event handler with this event by adding the `OnWebPartsConnected` attribute to the `<asp:webpartmanager>` element in the page, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnected(System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1870">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1870">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartsConnecting">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler WebPartsConnecting;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler WebPartsConnecting" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartsConnecting As WebPartConnectionsCancelEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartConnectionsCancelEventHandler ^ WebPartsConnecting;" />
      <MemberSignature Language="F#" Value="member this.WebPartsConnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler " Usage="member this.WebPartsConnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1871">在创建 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件（或放置在 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 区域中的服务器控件或用户控件）之间的连接的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1871">Occurs during the process of creating a connection between <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls (or server or user controls placed in a <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zone).</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1872">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting> 事件由 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting%2A> 方法引发，并通知连接进程已开始 (例如，用户已选择一个控件并单击了连接谓词) ，但尚未完成。</span><span class="sxs-lookup"><span data-stu-id="57510-1872">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnecting> event is raised by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting%2A> method, and it signals that the connection process has begun (for example, a user has selected a control and clicked a connect verb), but is not yet completed.</span></span> <span data-ttu-id="57510-1873">事件提供了在连接完成前取消连接的机会。</span><span class="sxs-lookup"><span data-stu-id="57510-1873">The event provides an opportunity to cancel a connection before it is complete.</span></span> <span data-ttu-id="57510-1874">如果连接成功完成，则此事件后跟 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1874">If the connection is successfully completed, this event is followed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected> event.</span></span>  
  
 <span data-ttu-id="57510-1875">页面开发人员可以为事件添加自定义处理程序，方法是将 `OnWebPartsConnecting` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1875">Page developers can add a custom handler for the event by adding the `OnWebPartsConnecting` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsConnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsConnected" />
        <altmember cref="Overload:System.Web.UI.WebControls.WebParts.WebPartManager.ConnectWebParts" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1876">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1876">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartsDisconnected">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler WebPartsDisconnected;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler WebPartsDisconnected" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartsDisconnected As WebPartConnectionsEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartConnectionsEventHandler ^ WebPartsDisconnected;" />
      <MemberSignature Language="F#" Value="member this.WebPartsDisconnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler " Usage="member this.WebPartsDisconnected : System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionsEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1877">在两个 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件之间的连接已终止之后发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1877">Occurs after a connection between two <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server controls has been terminated.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1878"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected>事件与方法相关联 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnected%2A> 。</span><span class="sxs-lookup"><span data-stu-id="57510-1878">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> event is associated with the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnected%2A> method.</span></span> <span data-ttu-id="57510-1879">此事件非常有用，因为在知道连接终止后，你可能希望通知用户，在代码中执行一些清理操作，或在用户界面中进行其他更改 (UI) 。</span><span class="sxs-lookup"><span data-stu-id="57510-1879">The event is useful because after you know that a connection is terminated, you might want to inform the user, perform some cleanup actions in the code, or make other changes in the user interface (UI).</span></span>  
  
 <span data-ttu-id="57510-1880">页面开发人员可以通过将 `OnWebPartsDisConnected` 属性添加到 `<asp:webpartmanager>` 页面中的元素，并为属性分配自定义方法名称，将自定义事件处理程序与此事件相关联。</span><span class="sxs-lookup"><span data-stu-id="57510-1880">Page developers can associate a custom event handler with this event by adding the `OnWebPartsDisConnected` attribute to the `<asp:webpartmanager>` element in the page, and assigning a custom method name to the attribute.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnected(System.Web.UI.WebControls.WebParts.WebPartConnectionsEventArgs)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1881">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1881">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WebPartsDisconnecting">
      <MemberSignature Language="C#" Value="public event System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler WebPartsDisconnecting;" />
      <MemberSignature Language="ILAsm" Value=".event class System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler WebPartsDisconnecting" />
      <MemberSignature Language="DocId" Value="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting" />
      <MemberSignature Language="VB.NET" Value="Public Custom Event WebPartsDisconnecting As WebPartConnectionsCancelEventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event System::Web::UI::WebControls::WebParts::WebPartConnectionsCancelEventHandler ^ WebPartsDisconnecting;" />
      <MemberSignature Language="F#" Value="member this.WebPartsDisconnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler " Usage="member this.WebPartsDisconnecting : System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1882">在结束以前连接的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 或服务器控件之间的连接的过程中发生。</span><span class="sxs-lookup"><span data-stu-id="57510-1882">Occurs during the process of ending the connection between previously connected <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or server controls.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1883">此 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件由 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting%2A> 方法引发，它指示用户单击了断开连接谓词，或已 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1883">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event is raised by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting%2A> method, and it signals the fact that a user has clicked a disconnect verb, or the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts%2A> method has otherwise been called.</span></span> <span data-ttu-id="57510-1884">事件提供了一种方法，可在连接完成前取消结束连接的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1884">The event provides an opportunity to cancel the process of ending a connection before it is complete.</span></span> <span data-ttu-id="57510-1885">如果连接成功结束，则此事件后跟 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1885">If the connection is ended successfully, this event is followed by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected> event.</span></span>  
  
 <span data-ttu-id="57510-1886">页面开发人员可以为事件添加自定义处理程序，方法是将 `OnWebPartsDisconnecting` 属性添加到 `<asp:webpartmanager>` 元素，并将自定义方法名称分配给该属性。</span><span class="sxs-lookup"><span data-stu-id="57510-1886">Page developers can add a custom handler for the event by adding the `OnWebPartsDisconnecting` attribute to the `<asp:webpartmanager>` element, and assigning a custom method name to the attribute.</span></span>  
  
 <span data-ttu-id="57510-1887">通常，当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件由于结束连接的用户操作的直接结果引发时，可以取消该事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1887">Normally, when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event is raised as a direct result of a user's action that ends a connection, the event can be cancelled.</span></span> <span data-ttu-id="57510-1888">但是，在某些情况下，无法取消事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1888">However, there are several scenarios in which the event cannot be cancelled.</span></span> <span data-ttu-id="57510-1889">第一种情况是，如果 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 删除控件， <xref:System.Web.UI.WebControls.WebParts.WebPart> 则该控件所包含的控件必须全部关闭，否则将会孤立。</span><span class="sxs-lookup"><span data-stu-id="57510-1889">The first scenario is, if a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control is deleted, the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls it contains must all be closed, otherwise they would be orphaned.</span></span> <span data-ttu-id="57510-1890">在这种情况下， <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件将关闭 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件而不是用户，并且它还必须能够在不中断的情况下终止任何连接的控件的连接，以便它可以完成清理和关闭所有控件的过程。</span><span class="sxs-lookup"><span data-stu-id="57510-1890">In this case the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control closes the <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, not the user, and it must also be able to terminate the connections of any connected controls without any chance of interruption, so that it can complete the process of cleaning up and closing all the controls.</span></span> <span data-ttu-id="57510-1891">因此， <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 在这种情况下，不能取消设计方法。</span><span class="sxs-lookup"><span data-stu-id="57510-1891">Therefore, by design the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> method cannot be cancelled in this scenario.</span></span> <span data-ttu-id="57510-1892">有关可取消的相关事件，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> 事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1892">For a related event that can be cancelled, see the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartClosing> event.</span></span>  
  
 <span data-ttu-id="57510-1893">不能取消事件的第二种情况 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 是，当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> 调用方法时 (此方法在对页的每个请求期间调用，例如) ，而页面上的现有连接中存在某种类型的冲突。</span><span class="sxs-lookup"><span data-stu-id="57510-1893">The second scenario in which the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event cannot be cancelled is when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.ActivateConnections%2A> method is called (this called during each request to a page, for example), and there is some type of conflict in the existing connections on a page.</span></span> <span data-ttu-id="57510-1894">例如，用户可能会将 control x 连接到 control y，但共享用户将 control x 连接到 control z，但不允许 control x 建立多个连接。</span><span class="sxs-lookup"><span data-stu-id="57510-1894">For example, perhaps a user connects control x to control y, but a shared user connects control x to control z, and yet control x is not allowed to form multiple connections.</span></span> <span data-ttu-id="57510-1895">在这种情况下，将优先使用单个用户的连接设置，并且该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件通过调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 方法并结束 x 和 z 与特定用户之间的连接来解决冲突。</span><span class="sxs-lookup"><span data-stu-id="57510-1895">In this case, the individual user's settings for the connection take precedence, and the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control resolves the conflict by calling the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method and ending the connection between x and z for the particular user.</span></span> <span data-ttu-id="57510-1896">由于此断开连接对于解决冲突至关重要，因此设计该 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 事件在此方案中不能取消。</span><span class="sxs-lookup"><span data-stu-id="57510-1896">Because this disconnection is essential to resolving the conflict, by design the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event cannot be cancelled in this scenario.</span></span>  
  
 <span data-ttu-id="57510-1897">不能取消方法的第三种情况 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> 是 <xref:System.Web.UI.WebControls.WebParts.WebPart> ：当前连接的或服务器控件被删除或关闭。</span><span class="sxs-lookup"><span data-stu-id="57510-1897">The third scenario in which the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> method cannot be cancelled is when a <xref:System.Web.UI.WebControls.WebParts.WebPart> or server control that is currently connected is either deleted or closed.</span></span> <span data-ttu-id="57510-1898">由于控件确实要从页中移除，因此，删除其连接是一种合乎逻辑的必要性。</span><span class="sxs-lookup"><span data-stu-id="57510-1898">Because the control is definitely going to be removed from the page, it is a logical necessity to remove its connection.</span></span> <span data-ttu-id="57510-1899">因此，当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件调用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> 方法，而该方法反过来引发事件时 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> ，设计将无法取消事件。</span><span class="sxs-lookup"><span data-stu-id="57510-1899">Therefore, when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control invokes the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebPart%2A> method, which in turn raises the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnecting> event, by design there is no possibility of canceling the event.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.OnWebPartsDisconnecting(System.Web.UI.WebControls.WebParts.WebPartConnectionsCancelEventArgs)" />
        <altmember cref="E:System.Web.UI.WebControls.WebParts.WebPartManager.WebPartsDisconnected" />
        <altmember cref="M:System.Web.UI.WebControls.WebParts.WebPartManager.DisconnectWebParts(System.Web.UI.WebControls.WebParts.WebPartConnection)" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="57510-1900">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="57510-1900">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Zones">
      <MemberSignature Language="C#" Value="public System.Web.UI.WebControls.WebParts.WebPartZoneCollection Zones { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.WebControls.WebParts.WebPartZoneCollection Zones" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartManager.Zones" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Zones As WebPartZoneCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::UI::WebControls::WebParts::WebPartZoneCollection ^ Zones { System::Web::UI::WebControls::WebParts::WebPartZoneCollection ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Zones : System.Web.UI.WebControls.WebParts.WebPartZoneCollection" Usage="System.Web.UI.WebControls.WebParts.WebPartManager.Zones" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartZoneCollection</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="57510-1901">获取对网页上所有 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> 区域的集合的引用。</span><span class="sxs-lookup"><span data-stu-id="57510-1901">Gets a reference to a collection of all the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zones on a Web page.</span></span></summary>
        <value><span data-ttu-id="57510-1902">引用一组 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneCollection" /> 区域的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" />。</span><span class="sxs-lookup"><span data-stu-id="57510-1902">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneCollection" /> that references a set of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZoneBase" /> zones.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="57510-1903"><xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A>控件使用属性 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 来跟踪网页 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 上的区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1903">The <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> property is used by the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to track the <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zones on a Web page.</span></span> <span data-ttu-id="57510-1904">请注意，属性不引用所有类型的区域;它仅引用派生自类的区域 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> ，包括 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 区域。</span><span class="sxs-lookup"><span data-stu-id="57510-1904">Note that the property does not reference all types of zones; it references only zones that derive from the <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> class, including <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zones.</span></span>  
  
 <span data-ttu-id="57510-1905">尽管属性引用的集合是只读的，但你可以使用它来访问集合中的各个对象并以编程方式使用它们。</span><span class="sxs-lookup"><span data-stu-id="57510-1905">Although the collection referenced by the property is read-only, you can use it to access the individual objects in the collection and work with them programmatically.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="57510-1906">下面的代码示例演示如何以 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> 编程方式使用属性访问单个 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 区域控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1906">The following code example demonstrates how to use the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> property programmatically to access individual <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> zone controls.</span></span> <span data-ttu-id="57510-1907">请注意，在网页的声明性标记中，有两个 `<asp:webpartzone>` 元素，每个元素都包含一个服务器控件。</span><span class="sxs-lookup"><span data-stu-id="57510-1907">Notice that in the declarative markup for the Web page, there are two `<asp:webpartzone>` elements, each containing a server control.</span></span> <span data-ttu-id="57510-1908">在 `<script>` 该页的节中，代码使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> 属性访问各个区域，列出所有区域 id，然后更改第二个区域的背景色。</span><span class="sxs-lookup"><span data-stu-id="57510-1908">In the `<script>` section of the page, the code uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> property to access the individual zones, listing all the zone IDs and then changing the background color on the second zone.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartManager_Zones#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartManager_Zones/CS/wpmgrzonescs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartManager_Zones#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartManager_Zones/VB/wpmgrzonesvb.aspx#1)]  
  
 <span data-ttu-id="57510-1909">请注意，若要使代码示例正常运行，必须在 Web.config 文件中添加一个设置，以便导出 Web 部件说明文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1909">Note that for the code example to work, you must add a setting in the Web.config file to enable exporting Web Parts description files.</span></span> <span data-ttu-id="57510-1910">请确保在此代码示例的网页所在的同一目录中有一个 Web.config 文件。</span><span class="sxs-lookup"><span data-stu-id="57510-1910">Ensure that you have a Web.config file in the same directory as the Web page for this code example.</span></span> <span data-ttu-id="57510-1911">在 `<system.web>` 部分中，请确保有一个 `<webParts>` 元素的 `enableExport` 属性设置为 `true` ，如以下标记所示。</span><span class="sxs-lookup"><span data-stu-id="57510-1911">Within the `<system.web>` section, make sure there is a `<webParts>` element with an `enableExport` attribute set to `true`, as in the following markup.</span></span>  
  
 `<webParts enableExport="true">`  
  
 `...`  
  
 `</webParts>`  
  
 <span data-ttu-id="57510-1912">将页面加载到浏览器中后，如果单击 " **列出区域 id** " 按钮，代码将使用 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> 属性列出集合中所有区域的 id。</span><span class="sxs-lookup"><span data-stu-id="57510-1912">After you load the page into a browser, if you click the **List Zone IDs** button, the code uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.Zones%2A> property to list the IDs of all zones in the collection.</span></span> <span data-ttu-id="57510-1913">如果单击 " **更改区域背景色** " 按钮，则代码会更改第二个区域的背景色。</span><span class="sxs-lookup"><span data-stu-id="57510-1913">If you click the **Change Zone BackColor** button, the code changes the background color of the second zone.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>

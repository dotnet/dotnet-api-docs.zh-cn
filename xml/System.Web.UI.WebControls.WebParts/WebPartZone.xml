<Type Name="WebPartZone" FullName="System.Web.UI.WebControls.WebParts.WebPartZone">
  <Metadata><Meta Name="ms.openlocfilehash" Value="7ce0f6f916c1f70a52e2412e4ac596641cd9442f" /><Meta Name="ms.sourcegitcommit" Value="b53d35b4a410c949742abd4c6a989d1af5357bca" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="07/21/2020" /><Meta Name="ms.locfileid" Value="86673203" /></Metadata><TypeSignature Language="C#" Value="public class WebPartZone : System.Web.UI.WebControls.WebParts.WebPartZoneBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit WebPartZone extends System.Web.UI.WebControls.WebParts.WebPartZoneBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.WebPartZone" />
  <TypeSignature Language="VB.NET" Value="Public Class WebPartZone&#xA;Inherits WebPartZoneBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class WebPartZone : System::Web::UI::WebControls::WebParts::WebPartZoneBase" />
  <TypeSignature Language="F#" Value="type WebPartZone = class&#xA;    inherit WebPartZoneBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.WebControls.WebParts.WebPartZoneBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
      <AttributeName Language="C#">[System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartZoneDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartZoneDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")&gt;]</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName Language="C#">[System.Web.UI.SupportsEventValidation]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Web.UI.SupportsEventValidation&gt;]</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName Language="C#">[System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartZoneDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]</AttributeName>
      <AttributeName Language="F#">[&lt;System.ComponentModel.Designer("System.Web.UI.Design.WebControls.WebParts.WebPartZoneDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="531dd-101">用作 Web 部件控件集内的主控件，用于在网页中承载 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-101">Serves as the primary control in the Web Parts control set for hosting <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls on a Web page.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="531dd-102">在 Web 部件功能中，区域是包含 Web 部件控件的网页上的已定义区域。</span><span class="sxs-lookup"><span data-stu-id="531dd-102">In the Web Parts feature, a zone is a defined region on a Web page that contains Web Parts controls.</span></span> <span data-ttu-id="531dd-103">区域的主要功能是布局其包含的控件，并为这些控件提供 (UI) 的通用用户界面。</span><span class="sxs-lookup"><span data-stu-id="531dd-103">The primary functions of a zone are to lay out the controls it contains, and to provide a common user interface (UI) for those controls.</span></span> <span data-ttu-id="531dd-104">有关区域及其在 Web 部件应用程序中的使用方式的一般信息，请参阅基本和类的参考文档 <xref:System.Web.UI.WebControls.WebParts.WebZone> <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> 和标题为 " [Web 部件控制集概述](https://docs.microsoft.com/previous-versions/aspnet/k3w2y2tf(v=vs.100))" 的主题。</span><span class="sxs-lookup"><span data-stu-id="531dd-104">For general information about zones and how they are used in Web Parts applications, see the reference documentation for the base <xref:System.Web.UI.WebControls.WebParts.WebZone> and <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> classes, and the topic entitled [Web Parts Control Set Overview](https://docs.microsoft.com/previous-versions/aspnet/k3w2y2tf(v=vs.100)).</span></span>  
  
 <span data-ttu-id="531dd-105">控件的特殊功能 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 是包含 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件，它们构成了 Web 部件应用程序的主 UI。</span><span class="sxs-lookup"><span data-stu-id="531dd-105">The special function of the <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control is to contain <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, which form the main UI of Web Parts applications.</span></span> <span data-ttu-id="531dd-106"><xref:System.Web.UI.WebControls.WebParts.WebPartZone>控件可以在网页上以持久性格式声明，使开发人员能够将其用作模板并在元素内添加其他服务器控件 `<asp:webpartzone>` 。</span><span class="sxs-lookup"><span data-stu-id="531dd-106">A <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control can be declared in persistence format on a Web page, enabling developers to use it as a template and to add other server controls within the `<asp:webpartzone>` element.</span></span> <span data-ttu-id="531dd-107">任何类型的服务器控件（如果添加到 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 区域）都可 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在运行时作为控件运行。</span><span class="sxs-lookup"><span data-stu-id="531dd-107">Any type of server control, if added to a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone, can function as a <xref:System.Web.UI.WebControls.WebParts.WebPart> control at run time.</span></span> <span data-ttu-id="531dd-108">无论添加的控件是 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件、用户控件、自定义控件还是 ASP.NET 控件，都是如此。</span><span class="sxs-lookup"><span data-stu-id="531dd-108">This is true regardless of whether the added control is a <xref:System.Web.UI.WebControls.WebParts.WebPart> control, a user control, a custom control, or an ASP.NET control.</span></span> <span data-ttu-id="531dd-109">有关详细信息，请参阅类的主题 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-109">For more information, see the topic for the <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> class.</span></span>  
  
 <span data-ttu-id="531dd-110">除了包含 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件以外， <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 控件还为它所包含的控件提供公共 UI。</span><span class="sxs-lookup"><span data-stu-id="531dd-110">Besides containing <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control also provides a common UI for the controls it contains.</span></span> <span data-ttu-id="531dd-111">这种通用的 UI （统称为 chrome）由所有控件上的外围用户界面元素组成，如边框、标题、页眉和页脚、样式特征以及用户可以在控件上执行的 (UI 操作，如关闭或最小化) 。</span><span class="sxs-lookup"><span data-stu-id="531dd-111">This common UI, known collectively as chrome, consists of the peripheral UI elements on all the controls, such as the border, title, header and footer, style characteristics, and verbs (UI actions that a user can carry out on a control, such as close or minimize).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="531dd-112">Internet Explorer 可能会 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 以意外的方式呈现或其包含的控件的高度，具体取决于区域的方向。</span><span class="sxs-lookup"><span data-stu-id="531dd-112">Internet Explorer might render the height of a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> or its contained controls in an unexpected way, depending on the orientation of the zone.</span></span> <span data-ttu-id="531dd-113">有关更多详细信息，请参阅 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase.LayoutOrientation%2A> 或属性的文档 <xref:System.Web.UI.WebControls.WebParts.WebPart.Height%2A> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-113">For more details, see the documentation for the <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase.LayoutOrientation%2A> or the <xref:System.Web.UI.WebControls.WebParts.WebPart.Height%2A> properties.</span></span>  
  
 <span data-ttu-id="531dd-114"><xref:System.Web.UI.WebControls.WebParts.WebPartZone>类从基类派生其大多数行为 <xref:System.Web.UI.WebControls.WebParts.WebZone> <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> ; 它仅添加一个唯一成员，即 <xref:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="531dd-114">The <xref:System.Web.UI.WebControls.WebParts.WebPartZone> class derives most of its behavior from the base <xref:System.Web.UI.WebControls.WebParts.WebZone> and <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase> classes; it adds only one unique member, the <xref:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate%2A> property.</span></span> <span data-ttu-id="531dd-115">此属性引用一个 <xref:System.Web.UI.ITemplate> 对象，该对象是一个模板，它允许页面开发人员使用 `<zonetemplate>` .aspx 页面的声明性标记中的元素以静态方式定义区域中的控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-115">This property references an <xref:System.Web.UI.ITemplate> object, which is a template that allows page developers to define the controls in a zone statically by using a `<zonetemplate>` element in the declarative markup of an .aspx page.</span></span>  
  
## <a name="accessibility"></a><span data-ttu-id="531dd-116">可访问性</span><span class="sxs-lookup"><span data-stu-id="531dd-116">Accessibility</span></span>  
 <span data-ttu-id="531dd-117">默认情况下，为此控件呈现的标记可能不符合辅助功能标准，例如 Web 内容可访问性准则 1.0 (WCAG) 优先级1指导原则。</span><span class="sxs-lookup"><span data-stu-id="531dd-117">The markup rendered by default for this control might not conform to accessibility standards such as the Web Content Accessibility Guidelines 1.0 (WCAG) priority 1 guidelines.</span></span> <span data-ttu-id="531dd-118">有关此控件的辅助功能支持的详细信息，请参阅 [ASP.NET 控件和辅助功能](https://docs.microsoft.com/previous-versions/ms227996(v=vs.140))。</span><span class="sxs-lookup"><span data-stu-id="531dd-118">For details about accessibility support for this control, see [ASP.NET Controls and Accessibility](https://docs.microsoft.com/previous-versions/ms227996(v=vs.140)).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="531dd-119">下面的代码示例演示如何 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 在 Web 部件页中使用控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-119">The following code example demonstrates the use of the <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control in a Web Parts page.</span></span> <span data-ttu-id="531dd-120">要使代码示例运行，必须编译此源代码。</span><span class="sxs-lookup"><span data-stu-id="531dd-120">For the code example to run, you must compile this source code.</span></span> <span data-ttu-id="531dd-121">可以显式编译该程序集，并将生成的程序集放在网站的 Bin 文件夹或全局程序集缓存中。</span><span class="sxs-lookup"><span data-stu-id="531dd-121">You can compile it explicitly and put the resulting assembly in your Web site's Bin folder or the global assembly cache.</span></span> <span data-ttu-id="531dd-122">或者，您可以将源代码放在站点的 App_Code 文件夹中，它将在运行时动态编译。</span><span class="sxs-lookup"><span data-stu-id="531dd-122">Alternatively, you can put the source code in your site's App_Code folder, where it will be dynamically compiled at run time.</span></span> <span data-ttu-id="531dd-123">有关演示两种编译方法的演练，请参阅 [演练：开发和使用自定义 Web 服务器控件](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08)。</span><span class="sxs-lookup"><span data-stu-id="531dd-123">For a walkthrough that demonstrates both methods of compiling, see [Walkthrough: Developing and Using a Custom Web Server Control](https://msdn.microsoft.com/library/6d90782a-a1a4-45a6-b2d4-cf6362b83b08).</span></span>  
  
 <span data-ttu-id="531dd-124">该示例的第一部分演示从类继承的自定义类 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，并在构造函数中设置了两个基本区域属性。</span><span class="sxs-lookup"><span data-stu-id="531dd-124">The first part of the example shows a custom class that inherits from the <xref:System.Web.UI.WebControls.WebParts.WebPartZone> class, and that sets two of the base zone properties in the constructor.</span></span>  
  
 [!code-csharp[WebParts_WebPartZone_Overview#3](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/CS/mywebpartzone.cs#3)]
 [!code-vb[WebParts_WebPartZone_Overview#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/VB/mywebpartzone.vb#3)]  
  
 <span data-ttu-id="531dd-125">该示例的第二部分演示包含自定义控件的页面 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-125">The second part of the example shows a page that contains the custom <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control.</span></span> <span data-ttu-id="531dd-126">请注意，页面顶部需要特殊的 `Register` 指令，才能引用包含自定义区域的程序集。</span><span class="sxs-lookup"><span data-stu-id="531dd-126">Notice that the page requires a special `Register` directive near the top of the page to reference the assembly that contains the custom zone.</span></span> <span data-ttu-id="531dd-127">此页还包含一个 `<asp:webpartmanager>` 元素，该元素在每个 Web 部件页上都是必需的。</span><span class="sxs-lookup"><span data-stu-id="531dd-127">The page also contains an `<asp:webpartmanager>` element, which is required on every Web Parts page.</span></span> <span data-ttu-id="531dd-128">`<cc1:MyWebPartZone>`表示自定义控件的元素 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 包含标准的 ASP.NET <xref:System.Web.UI.WebControls.Calendar> 控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-128">The `<cc1:MyWebPartZone>` element, which represents the custom <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control, contains a standard ASP.NET <xref:System.Web.UI.WebControls.Calendar> control.</span></span> <span data-ttu-id="531dd-129">由于控件包含在区域中 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，因此 <xref:System.Web.UI.WebControls.Calendar> 控件将 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> 在运行时与控件一起包装，这使它能够作为 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-129">Because it is contained within a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone, the <xref:System.Web.UI.WebControls.Calendar> control will be wrapped with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> control at run time, which enables it to act as a <xref:System.Web.UI.WebControls.WebParts.WebPart> control.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartZone_Overview#1](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/CS/webpartzonecs.aspx#1)]
 [!code-aspx-vb[WebParts_WebPartZone_Overview#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/VB/webpartzonevb.aspx#1)]  
  
 <span data-ttu-id="531dd-130">检查自定义控件的声明性标记 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-130">Examine the declarative markup for the custom <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control.</span></span> <span data-ttu-id="531dd-131">请注意，您可以在标记中设置各种区域级别的属性，如下面的代码示例所示。</span><span class="sxs-lookup"><span data-stu-id="531dd-131">Notice that you can set various zone-level properties in the markup, as shown in the following code example.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="531dd-132">注意元素的使用非常重要 `<zonetemplate>` 。</span><span class="sxs-lookup"><span data-stu-id="531dd-132">It is very important to note the use of the `<zonetemplate>` element.</span></span> <span data-ttu-id="531dd-133">如 "备注" 部分中所述，此元素在区域内需要 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 用于包装 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在页面中声明的静态控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-133">This element, as described in the Remarks section, is required within a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone to wrap the static <xref:System.Web.UI.WebControls.WebParts.WebPart> controls that are declared in a page.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartZone_Overview#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/CS/webpartzonecs.aspx#2)]
 [!code-aspx-vb[WebParts_WebPartZone_Overview#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/VB/webpartzonevb.aspx#2)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.WebZone" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/k3w2y2tf(v=vs.100)"><span data-ttu-id="531dd-134">Web 部件控制集概述</span><span class="sxs-lookup"><span data-stu-id="531dd-134">Web Parts Control Set Overview</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/hhy9ewf1(v=vs.100)"><span data-ttu-id="531dd-135">ASP.NET Web 部件概述</span><span class="sxs-lookup"><span data-stu-id="531dd-135">ASP.NET Web Parts Overview</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="531dd-136">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="531dd-136">ASP.NET Web Parts Controls</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebPartZone ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartZone.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebPartZone();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="531dd-137">初始化 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZone" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="531dd-137">Initializes a new instance of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartZone" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="531dd-138">此 <xref:System.Web.UI.WebControls.WebParts.WebPartZone.%23ctor%2A> 方法是一个无参数的构造函数，不会设置任何值。</span><span class="sxs-lookup"><span data-stu-id="531dd-138">The <xref:System.Web.UI.WebControls.WebParts.WebPartZone.%23ctor%2A> method is a parameterless constructor and does not set any values.</span></span> <span data-ttu-id="531dd-139">但是，派生类可以使用构造函数来设置基本区域属性，以创建自定义区域控件的标准行为和外观。</span><span class="sxs-lookup"><span data-stu-id="531dd-139">However, derived classes can use the constructor to set base zone properties, to create standard behaviors and appearance for a custom zone control.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="531dd-140">下面的代码示例演示如何在自定义类上使用构造函数 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 来设置区域的几个基属性。</span><span class="sxs-lookup"><span data-stu-id="531dd-140">The following code example demonstrates the use of a constructor on a custom <xref:System.Web.UI.WebControls.WebParts.WebPartZone> class to set several base properties for the zone.</span></span> <span data-ttu-id="531dd-141">如果要创建 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 具有特定行为和外观的自定义控件，此方法可能会很有用。</span><span class="sxs-lookup"><span data-stu-id="531dd-141">This approach could be useful if you want to create a custom <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control that has specific behaviors and appearance.</span></span> <span data-ttu-id="531dd-142">此示例的完整代码包括自定义类和承载控件的 .aspx 页，位于类概述主题的 "示例" 部分 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-142">The full code for the example, including both the custom class and an .aspx page to host the control, is found in the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartZone> class overview topic.</span></span>  
  
 [!code-csharp[WebParts_WebPartZone_Overview#3](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/CS/mywebpartzone.cs#3)]
 [!code-vb[WebParts_WebPartZone_Overview#3](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/VB/mywebpartzone.vb#3)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="531dd-143">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="531dd-143">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetInitialWebParts">
      <MemberSignature Language="C#" Value="protected internal override System.Web.UI.WebControls.WebParts.WebPartCollection GetInitialWebParts ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance class System.Web.UI.WebControls.WebParts.WebPartCollection GetInitialWebParts() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function GetInitialWebParts () As WebPartCollection" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Web::UI::WebControls::WebParts::WebPartCollection ^ GetInitialWebParts();" />
      <MemberSignature Language="F#" Value="override this.GetInitialWebParts : unit -&gt; System.Web.UI.WebControls.WebParts.WebPartCollection" Usage="webPartZone.GetInitialWebParts " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.WebPartCollection</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="531dd-144">重写抽象基方法，并获取区域模板中初始的静态 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件集。</span><span class="sxs-lookup"><span data-stu-id="531dd-144">Overrides the abstract base method and gets the initial set of static <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls contained within the zone's template.</span></span></summary>
        <returns><span data-ttu-id="531dd-145">包含区域模板中的所有 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCollection" /> 控件或其他服务器控件的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />。</span><span class="sxs-lookup"><span data-stu-id="531dd-145">A <see cref="T:System.Web.UI.WebControls.WebParts.WebPartCollection" /> that contains all the <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> or other server controls contained in the zone's template.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="531dd-146"><xref:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts%2A>方法提供抽象基方法的实现 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase.GetInitialWebParts%2A> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-146">The <xref:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts%2A> method provides an implementation of the abstract base <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase.GetInitialWebParts%2A> method.</span></span> <span data-ttu-id="531dd-147">基方法不提供实现，而是声明方法，以便派生类可以自定义如何获取属于某个区域的初始控件集，而无需考虑个性化更改。</span><span class="sxs-lookup"><span data-stu-id="531dd-147">The base method provides no implementation, but declares the method so that derived classes can customize how they will get the initial set of controls that belong in a zone, without taking personalization changes into account.</span></span>  
  
 <span data-ttu-id="531dd-148">对于在区域中找到的每个服务器控件，将 <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> 调用方法。</span><span class="sxs-lookup"><span data-stu-id="531dd-148">For each server control found in the zone, the <xref:System.Web.UI.WebControls.WebParts.WebPartManager.CreateWebPart%2A> method is called.</span></span> <span data-ttu-id="531dd-149">如果控件是直接从类继承的 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，则只需将其添加到区域的 <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase.WebParts%2A> 集合 (和类似的 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件集合) 。</span><span class="sxs-lookup"><span data-stu-id="531dd-149">If a control inherits directly from the <xref:System.Web.UI.WebControls.WebParts.WebPart> class, it is simply added to the zone's <xref:System.Web.UI.WebControls.WebParts.WebPartZoneBase.WebParts%2A> collection (and to the similar collection of the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control).</span></span> <span data-ttu-id="531dd-150">如果控件不是直接从继承的 <xref:System.Web.UI.WebControls.WebParts.WebPart> ，则 Web 部件控件集会将控件与对象包装在一起 <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> ，从而使控件 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在运行时表现为控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-150">If a control does not inherit directly from <xref:System.Web.UI.WebControls.WebParts.WebPart>, the Web Parts control set wraps the control with a <xref:System.Web.UI.WebControls.WebParts.GenericWebPart> object, which enables the control to behave as a <xref:System.Web.UI.WebControls.WebParts.WebPart> control at run time.</span></span>  
  
 <span data-ttu-id="531dd-151"><xref:System.Web.UI.WebControls.WebParts.WebPartZone>类通过返回控件集来实现基方法， (如果在 Web 部件页标记的标记集中静态声明的任何) `<zonetemplate>` 。</span><span class="sxs-lookup"><span data-stu-id="531dd-151">The <xref:System.Web.UI.WebControls.WebParts.WebPartZone> class implements the base method by returning the set of controls (if any) that are statically declared within a set of `<zonetemplate>` tags in the markup of a Web Parts page.</span></span> <span data-ttu-id="531dd-152">如果 <xref:System.Web.UI.WebControls.PlaceHolder> 控件在区域中声明，则会添加该控件的子控件，而不是控件本身。</span><span class="sxs-lookup"><span data-stu-id="531dd-152">If a <xref:System.Web.UI.WebControls.PlaceHolder> control is declared in a zone, the child controls of that control are added, rather than the control itself.</span></span> <span data-ttu-id="531dd-153">例如，此实现允许您在母版页中创建一个 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 区域，然后 <xref:System.Web.UI.WebControls.WebParts.WebPart> 在内容页中声明各个控件或服务器控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-153">This implementation allows you to, for example, create a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone in a master page, and then declare individual <xref:System.Web.UI.WebControls.WebParts.WebPart> or server controls in a content page.</span></span> <span data-ttu-id="531dd-154">如果在 <xref:System.Web.UI.WebControls.Literal> 区域中声明控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，则这些控件将被忽略。</span><span class="sxs-lookup"><span data-stu-id="531dd-154">If you declare <xref:System.Web.UI.WebControls.Literal> controls in a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> zone, they are ignored.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="531dd-155">执行个性化后，方法返回的控件的初始集合 <xref:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts%2A> 可能与区域中控件的实际运行时集合不同。</span><span class="sxs-lookup"><span data-stu-id="531dd-155">The initial collection of controls returned by the <xref:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts%2A> method might be different from the actual run-time collection of controls in a zone, after personalization has taken place.</span></span> <span data-ttu-id="531dd-156">例如，假设有一个包含两个控件的网页 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，第一个控件包含名为的用户控件，该控件在 `User1` 标记内静态声明 `<zonetemplate>` 。</span><span class="sxs-lookup"><span data-stu-id="531dd-156">For example, suppose you have a Web page with two <xref:System.Web.UI.WebControls.WebParts.WebPartZone> controls, and the first one contains user control named `User1` that is statically declared within the `<zonetemplate>` tags.</span></span> <span data-ttu-id="531dd-157">如果用户加载页面并拖 `User1` 放到第二个区域，则 `User1` 仍是通过调用第一个区域的方法返回的集合的一部分 <xref:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts%2A> ，因为它是在该区域中声明的。</span><span class="sxs-lookup"><span data-stu-id="531dd-157">If a user loads the page and drags `User1` into the second zone, then `User1` is still part of the collection that is returned by calling the <xref:System.Web.UI.WebControls.WebParts.WebPartZone.GetInitialWebParts%2A> method for the first zone, because it is declared in that zone.</span></span> <span data-ttu-id="531dd-158">但在运行时，当 <xref:System.Web.UI.WebControls.WebParts.WebPartManager> 控件加载个性化设置数据时， `User1` 实际上会出现在用户拖动它的第二个区域中。</span><span class="sxs-lookup"><span data-stu-id="531dd-158">But at run time, when the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control loads the personalization data, `User1` actually appears in the second zone where the user dragged it.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="531dd-159">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="531dd-159">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="OnInit">
      <MemberSignature Language="C#" Value="protected internal override void OnInit (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void OnInit(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.WebPartZone.OnInit(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub OnInit (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void OnInit(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="override this.OnInit : EventArgs -&gt; unit" Usage="webPartZone.OnInit e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="531dd-160">包含事件数据的 <see cref="T:System.EventArgs" />。</span><span class="sxs-lookup"><span data-stu-id="531dd-160">An <see cref="T:System.EventArgs" /> that contains the event data.</span></span></param>
        <summary><span data-ttu-id="531dd-161">重写基方法，以指示区域已向 <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> 控件进行了成功的注册。</span><span class="sxs-lookup"><span data-stu-id="531dd-161">Overrides the base method to indicate that the zone has successfully been registered with the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control.</span></span></summary>
        <remarks>To be added.</remarks>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="531dd-162">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="531dd-162">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ZoneTemplate">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.ITemplate ZoneTemplate { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.UI.ITemplate ZoneTemplate" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property ZoneTemplate As ITemplate" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::Web::UI::ITemplate ^ ZoneTemplate { System::Web::UI::ITemplate ^ get(); void set(System::Web::UI::ITemplate ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ZoneTemplate : System.Web.UI.ITemplate with get, set" Usage="System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.Browsable(false)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.Browsable(false)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.ComponentModel.DefaultValue(null)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.ComponentModel.DefaultValue(null)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.PersistenceMode(System.Web.UI.PersistenceMode.InnerProperty)&gt;]</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName Language="C#">[System.Web.UI.TemplateInstance(System.Web.UI.TemplateInstance.Single)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Web.UI.TemplateInstance(System.Web.UI.TemplateInstance.Single)&gt;]</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName Language="C#">[get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")]</AttributeName>
          <AttributeName Language="F#">[&lt;get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")&gt;]</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.UI.ITemplate</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="531dd-163">获取或设置对 <see cref="T:System.Web.UI.ITemplate" /> 实例的引用，该实例包含网页标记中声明的控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-163">Gets or sets a reference to an <see cref="T:System.Web.UI.ITemplate" /> instance that contains the controls declared in the markup of a Web page.</span></span></summary>
        <value><span data-ttu-id="531dd-164">包含区域中 <see cref="T:System.Web.UI.ITemplate" /> 控件的 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" />。</span><span class="sxs-lookup"><span data-stu-id="531dd-164">An <see cref="T:System.Web.UI.ITemplate" /> that contains the <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls in a zone.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="531dd-165"><xref:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate%2A>属性引用 <xref:System.Web.UI.ITemplate> 控件中的实例 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-165">The <xref:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate%2A> property refers to an <xref:System.Web.UI.ITemplate> instance within a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control.</span></span> <span data-ttu-id="531dd-166">模板包含可在控件中声明的静态服务器控件 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，包括 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件、用户控件、自定义控件和 ASP.NET 控件。</span><span class="sxs-lookup"><span data-stu-id="531dd-166">The template contains static server controls that you can declare within a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control, including <xref:System.Web.UI.WebControls.WebParts.WebPart> controls, user controls, custom controls, and ASP.NET controls.</span></span>  
  
 <span data-ttu-id="531dd-167">在网页 <xref:System.Web.UI.WebControls.WebParts.WebPart> 的声明性标记中将静态或其他服务器控件添加到 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 中时，必须将控件的标记放在一对 `<zonetemplate>` 标记中。</span><span class="sxs-lookup"><span data-stu-id="531dd-167">When you add static <xref:System.Web.UI.WebControls.WebParts.WebPart> or other server controls to a <xref:System.Web.UI.WebControls.WebParts.WebPartZone> in the declarative markup of a Web page, you must place the tags for the controls within a pair of `<zonetemplate>` tags.</span></span> <span data-ttu-id="531dd-168">如果未在标记中声明控件 `<zonetemplate>` ，则会引发异常。</span><span class="sxs-lookup"><span data-stu-id="531dd-168">If you do not declare the controls within `<zonetemplate>` tags, an exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="531dd-169">下面的代码示例演示如何使用 <xref:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate%2A> Web 部件页的声明性标记中的属性。</span><span class="sxs-lookup"><span data-stu-id="531dd-169">The following code example demonstrates the use of the <xref:System.Web.UI.WebControls.WebParts.WebPartZone.ZoneTemplate%2A> property in the declarative markup of a Web Parts page.</span></span> <span data-ttu-id="531dd-170">类概述主题的 "示例" 部分中提供了此示例的完整代码，包括用于承载控件的自定义类和 .aspx 页 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> 。</span><span class="sxs-lookup"><span data-stu-id="531dd-170">The full code for the example, including a custom class and an .aspx page to host the control, is found in the Example section of the <xref:System.Web.UI.WebControls.WebParts.WebPartZone> class overview topic.</span></span>  
  
 <span data-ttu-id="531dd-171">请注意，在控件的标记中 <xref:System.Web.UI.WebControls.WebParts.WebPartZone> ，有一个 `<zonetemplate>` 元素包含对日历控件的引用。</span><span class="sxs-lookup"><span data-stu-id="531dd-171">Notice that, in the markup for the <xref:System.Web.UI.WebControls.WebParts.WebPartZone> control, there is a `<zonetemplate>` element that contains a reference to the Calendar control.</span></span> <span data-ttu-id="531dd-172">如果要将其他 <xref:System.Web.UI.WebControls.WebParts.WebPart> 控件或其他服务器控件添加到区域，还可以在标记中添加这些控件或其他服务器控件 `<zonetemplate>` 。</span><span class="sxs-lookup"><span data-stu-id="531dd-172">If you wanted to add additional <xref:System.Web.UI.WebControls.WebParts.WebPart> controls or other server controls to the zone, you could also add them within the `<zonetemplate>` tags.</span></span>  
  
 [!code-aspx-csharp[WebParts_WebPartZone_Overview#2](~/samples/snippets/csharp/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/CS/webpartzonecs.aspx#2)]
 [!code-aspx-vb[WebParts_WebPartZone_Overview#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/WebParts_WebPartZone_Overview/VB/webpartzonevb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="531dd-173">区域中 <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> 控件的注册工作已完成。</span><span class="sxs-lookup"><span data-stu-id="531dd-173">Registration of the <see cref="T:System.Web.UI.WebControls.WebParts.WebPart" /> controls in the zone is already complete.</span></span></exception>
        <altmember cref="T:System.Web.UI.ITemplate" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)"><span data-ttu-id="531dd-174">Web 部件个性化概述</span><span class="sxs-lookup"><span data-stu-id="531dd-174">Web Parts Personalization Overview</span></span></related>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="531dd-175">ASP.NET Web 部件控件</span><span class="sxs-lookup"><span data-stu-id="531dd-175">ASP.NET Web Parts Controls</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>

<Type Name="ResourceManager" FullName="System.Resources.ResourceManager">
  <Metadata><Meta Name="ms.openlocfilehash" Value="99a7b8054e09ae82bf5c1457d6382ef54aedc7ce" /><Meta Name="ms.sourcegitcommit" Value="b0947fed0227b6b2e292d7efb43705b488b130aa" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="04/29/2020" /><Meta Name="ms.locfileid" Value="82407927" /></Metadata><TypeSignature Language="C#" Value="public class ResourceManager" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit ResourceManager extends System.Object" FrameworkAlternate="dotnet-uwp-10.0;net-5.0;netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6;netstandard-2.0;netstandard-2.1" />
  <TypeSignature Language="DocId" Value="T:System.Resources.ResourceManager" />
  <TypeSignature Language="VB.NET" Value="Public Class ResourceManager" />
  <TypeSignature Language="C++ CLI" Value="public ref class ResourceManager" />
  <TypeSignature Language="F#" Value="type ResourceManager = class" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable beforefieldinit ResourceManager extends System.Object" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <AssemblyInfo>
    <AssemblyName>System.Resources.ResourceManager</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.1.2.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <TypeForwardingChain>
    <TypeForwarding From="mscorlib" FromVersion="4.0.0.0" To="System.Resources.ResourceManager" ToVersion="0.0.0.0" FrameworkAlternate="dotnet-uwp-10.0" />
    <TypeForwarding From="System.Resources.ResourceManager" FromVersion="5.0.0.0" To="System.Runtime" ToVersion="5.0.0.0" FrameworkAlternate="net-5.0" />
  </TypeForwardingChain>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netcore-2.0;netcore-2.1;netstandard-1.0;netstandard-1.1;netcore-2.2;dotnet-uwp-10.0;netcore-3.0;netcore-3.1;netcore-1.0;netcore-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6;net-5.0">
      <AttributeName>System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.Serializable</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="4c809-101">表示资源管理器，其可在运行时提供对于特定文化资源的便利访问</span><span class="sxs-lookup"><span data-stu-id="4c809-101">Represents a resource manager that provides convenient access to culture-specific resources at run time.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[

## Remarks

[!INCLUDE [untrusted-data-class-note](~/includes/untrusted-data-class-note.md)]

 <span data-ttu-id="4c809-102"><xref:System.Resources.ResourceManager> 类从嵌入程序集或独立 .resources 文件的二进制 .resources 文件中检索资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-102">The <xref:System.Resources.ResourceManager> class retrieves resources from a binary .resources file that is embedded in an assembly or from a standalone .resources file.</span></span> <span data-ttu-id="4c809-103">如果已在[附属程序集中](~/docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md)部署了已本地化和已本地化的资源，则该应用程序会查找特定于区域性的资源，在已本地化的资源不存在时提供资源回退，并支持资源序列化。</span><span class="sxs-lookup"><span data-stu-id="4c809-103">If an app has been localized and localized resources have been deployed in [satellite assemblies](~/docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md), it looks up culture-specific resources, provides resource fallback when a localized resource does not exist, and supports resource serialization.</span></span>

 <span data-ttu-id="4c809-104">若要详细了解如何在桌面应用和 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用中创建和管理资源，请参阅以下部分：</span><span class="sxs-lookup"><span data-stu-id="4c809-104">For more information about creating and managing resources in desktop apps and [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, see the following sections:</span></span>

-   [<span data-ttu-id="4c809-105">桌面应用</span><span class="sxs-lookup"><span data-stu-id="4c809-105">Desktop Apps</span></span>](#desktop)

    -   [<span data-ttu-id="4c809-106">创建资源</span><span class="sxs-lookup"><span data-stu-id="4c809-106">Creating Resources</span></span>](#creating_resources)

    -   [<span data-ttu-id="4c809-107">实例化 ResourceManager 对象</span><span class="sxs-lookup"><span data-stu-id="4c809-107">Instantiating a ResourceManager Object</span></span>](#instantiating)

    -   [<span data-ttu-id="4c809-108">ResourceManager 和特定于区域性的资源</span><span class="sxs-lookup"><span data-stu-id="4c809-108">ResourceManager and Culture-Specific Resources</span></span>](#CultureSpecific)

    -   [<span data-ttu-id="4c809-109">检索资源</span><span class="sxs-lookup"><span data-stu-id="4c809-109">Retrieving Resources</span></span>](#retrieving)

    -   [<span data-ttu-id="4c809-110">处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常</span><span class="sxs-lookup"><span data-stu-id="4c809-110">Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions</span></span>](#exception)

    -   [<span data-ttu-id="4c809-111">资源版本控制</span><span class="sxs-lookup"><span data-stu-id="4c809-111">Resource Versioning</span></span>](#versioning)

    -   [<span data-ttu-id="4c809-112">\<satelliteassemblies > 配置文件节点</span><span class="sxs-lookup"><span data-stu-id="4c809-112">\<satelliteassemblies> Configuration File Node</span></span>](#config)

-   [<span data-ttu-id="4c809-113">Windows 应用商店应用</span><span class="sxs-lookup"><span data-stu-id="4c809-113">Windows Store Apps</span></span>](#ws)

<a name="desktop"></a>
## <a name="desktop-apps"></a><span data-ttu-id="4c809-114">桌面应用</span><span class="sxs-lookup"><span data-stu-id="4c809-114">Desktop Apps</span></span>
 <span data-ttu-id="4c809-115">对于桌面应用程序，<xref:System.Resources.ResourceManager> 类从二进制资源（.resources）文件中检索资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-115">For desktop apps, the <xref:System.Resources.ResourceManager> class retrieves resources from binary resource (.resources) files.</span></span> <span data-ttu-id="4c809-116">通常，语言编译器或[程序集链接器（al.exe）](~/docs/framework/tools/al-exe-assembly-linker.md)将这些资源文件嵌入到程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-116">Typically, a language compiler or the  [Assembly Linker (AL.exe)](~/docs/framework/tools/al-exe-assembly-linker.md) embeds these resource files in an assembly.</span></span> <span data-ttu-id="4c809-117">通过调用 <xref:System.Resources.ResourceManager.CreateFileBasedResourceManager%2A> 方法，还可以使用 <xref:System.Resources.ResourceManager> 对象直接从未嵌入程序集的 .resources 文件中检索资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-117">You can also use a <xref:System.Resources.ResourceManager> object to retrieve resources directly from a .resources file that is not embedded in an assembly, by calling the <xref:System.Resources.ResourceManager.CreateFileBasedResourceManager%2A> method.</span></span>

> [!CAUTION]
>  <span data-ttu-id="4c809-118">使用 ASP.NET 应用程序中的独立 .resources 文件将中断 XCOPY 部署，因为这些资源将一直保持锁定状态，直到 <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> 方法显式释放这些资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-118">Using standalone .resources files in an ASP.NET app will break XCOPY deployment, because the resources remain locked until they are explicitly released by the <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> method.</span></span> <span data-ttu-id="4c809-119">如果要将资源与 ASP.NET 应用程序一起部署，应将 .resources 文件编译为附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-119">If you want to deploy resources with your ASP.NET apps, you should compile your .resources files into satellite assemblies.</span></span>

 <span data-ttu-id="4c809-120">在基于资源的应用程序中，一个 .resources 文件包含默认区域性的资源，如果找不到特定于区域性的资源，则使用其资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-120">In a resource-based app, one .resources file contains the resources of the default culture whose resources are used if no culture-specific resources can be found.</span></span> <span data-ttu-id="4c809-121">例如，如果应用的默认区域性为英语（en），则当找不到特定区域性的本地化资源（例如英语（美国）（en-us）或法语（法国）（fr））时，将使用英语资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-121">For example, if an app's default culture is English (en), the English language resources are used whenever localized resources cannot be found for a specific culture, such as English (United States) (en-US) or French (France) (fr-FR).</span></span> <span data-ttu-id="4c809-122">通常，默认区域性的资源嵌入主应用程序集中，其他本地化的区域性的资源嵌入在附属程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-122">Typically, the resources for the default culture are embedded in the main app assembly, and resources for other localized cultures are embedded in satellite assemblies.</span></span> <span data-ttu-id="4c809-123">附属程序集只包含资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-123">Satellite assemblies contain only resources.</span></span> <span data-ttu-id="4c809-124">它们与主程序集具有相同的根文件名，扩展名为 .resources。</span><span class="sxs-lookup"><span data-stu-id="4c809-124">They have the same root file name as the main assembly and an extension of .resources.dll.</span></span> <span data-ttu-id="4c809-125">对于其程序集未在全局程序集缓存中注册的应用程序，附属程序集存储在其名称与程序集的区域性相对应的应用程序子目录中。</span><span class="sxs-lookup"><span data-stu-id="4c809-125">For apps whose assemblies are not registered in the global assembly cache, satellite assemblies are stored in an app subdirectory whose name corresponds to the assembly's culture.</span></span>

<a name="creating_resources"></a>
### <a name="creating-resources"></a><span data-ttu-id="4c809-126">创建资源</span><span class="sxs-lookup"><span data-stu-id="4c809-126">Creating Resources</span></span>
 <span data-ttu-id="4c809-127">开发基于资源的应用时，会将资源信息存储在文本文件（扩展名为 .txt 或 .restext 的文件）或 XML 文件（扩展名为 .resx 的文件）中。</span><span class="sxs-lookup"><span data-stu-id="4c809-127">When you develop a resource-based app, you store resource information in text files (files that have a .txt or .restext extension) or XML files (files that have a .resx extension).</span></span> <span data-ttu-id="4c809-128">然后，使用[资源文件生成器（resgen.exe）](~/docs/framework/tools/resgen-exe-resource-file-generator.md)编译文本或 XML 文件，以创建二进制 .resources 文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-128">You then compile the text or XML files with the  [Resource File Generator (Resgen.exe)](~/docs/framework/tools/resgen-exe-resource-file-generator.md) to create a binary .resources file.</span></span> <span data-ttu-id="4c809-129">然后，可以通过使用编译器选项（如 `/resources` 用于C#和 Visual Basic 编译器）将生成的 .resources 文件嵌入到可执行文件或库中，也可以使用将其嵌入到附属程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-129">You can then embed the resulting .resources file in an executable or library by using a compiler option such as `/resources` for the C# and Visual Basic compilers, or you can embed it in a satellite assembly by using the .</span></span> <span data-ttu-id="4c809-130">如果你在 Visual Studio 项目中包含 .resx 文件，则 Visual Studio 将在生成过程中自动处理默认值和本地化资源的编译和嵌入。</span><span class="sxs-lookup"><span data-stu-id="4c809-130">If you include a .resx file in your Visual Studio project, Visual Studio handles the compilation and embedding of default and localized resources automatically as part of the build process.</span></span>

 <span data-ttu-id="4c809-131">理想情况下，应为应用支持的每种语言创建资源，或至少为每种语言的有意义的子集创建资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-131">Ideally, you should create resources for every language your app supports, or at least for a meaningful subset of each language.</span></span> <span data-ttu-id="4c809-132">二进制 .resources 文件名称遵循命名约定*basename*。*cultureName*，其中*basename*是应用的名称或类的名称，具体取决于所需的详细程度。</span><span class="sxs-lookup"><span data-stu-id="4c809-132">The binary .resources file names follow the naming convention *basename*.*cultureName*.resources, where *basename* is the name of the app or the name of a class, depending on the level of detail you want.</span></span> <span data-ttu-id="4c809-133"><xref:System.Globalization.CultureInfo.Name%2A?displayProperty=nameWithType> 属性用于确定*cultureName*。</span><span class="sxs-lookup"><span data-stu-id="4c809-133">The <xref:System.Globalization.CultureInfo.Name%2A?displayProperty=nameWithType> property is used to determine *cultureName*.</span></span> <span data-ttu-id="4c809-134">应用的默认区域性的资源应命名为*basename*。</span><span class="sxs-lookup"><span data-stu-id="4c809-134">A resource for the app's default culture should be named *basename*.resources.</span></span>

 <span data-ttu-id="4c809-135">例如，假设程序集在资源文件中有多个资源，而该资源文件的基名称为 MyResources。</span><span class="sxs-lookup"><span data-stu-id="4c809-135">For example, suppose that an assembly has several resources in a resource file that has the base name MyResources.</span></span> <span data-ttu-id="4c809-136">这些资源文件的名称应为日本（日本）区域性的名称，如 MyResources （日本）区域性的资源、简体中文文化的 MyResources、MyResources、简体中文文化的资源，以及法语（比利时）区域性的 MyResources.fr 资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-136">These resource files should have names such as MyResources.ja-JP.resources for the Japan (Japanese) culture, MyResources.de.resources for the German culture, MyResources.zh-CHS.resources for the simplified Chinese culture, and MyResources.fr-BE.resources for the French (Belgium) culture.</span></span> <span data-ttu-id="4c809-137">默认的资源文件应命名为 MyResources。</span><span class="sxs-lookup"><span data-stu-id="4c809-137">The default resource file should be named MyResources.resources.</span></span> <span data-ttu-id="4c809-138">区域性特定的资源文件通常打包在每个区域性的附属程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-138">The culture-specific resource files are commonly packaged in satellite assemblies for each culture.</span></span> <span data-ttu-id="4c809-139">默认资源文件应该嵌入应用程序的主程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-139">The default resource file should be embedded in the app's main assembly.</span></span>

 <span data-ttu-id="4c809-140">请注意，[程序集链接器](~/docs/framework/tools/al-exe-assembly-linker.md)允许将资源标记为私有，但应始终将其标记为公共，以便其他程序集可以访问这些资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-140">Note that [Assembly Linker](~/docs/framework/tools/al-exe-assembly-linker.md) allows resources to be marked as private, but you should always mark them as public so they can be accessed by other assemblies.</span></span> <span data-ttu-id="4c809-141">（因为附属程序集不包含任何代码，所以标记为私有的资源对您的应用程序无法通过任何机制使用。）</span><span class="sxs-lookup"><span data-stu-id="4c809-141">(Because a satellite assembly contains no code, resources that are marked as private are unavailable to your app through any mechanism.)</span></span>

 <span data-ttu-id="4c809-142">有关创建、打包和部署资源的详细信息，请参阅文章[创建资源文件](~/docs/framework/resources/creating-resource-files-for-desktop-apps.md)、[创建附属程序集](~/docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md)以及[打包和部署资源](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)。</span><span class="sxs-lookup"><span data-stu-id="4c809-142">For more information about creating, packaging, and deploying resources, see the articles [Creating Resource Files](~/docs/framework/resources/creating-resource-files-for-desktop-apps.md), [Creating Satellite Assemblies](~/docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md), and [Packaging and Deploying Resources](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

<a name="instantiating"></a>
### <a name="instantiating-a-resourcemanager-object"></a><span data-ttu-id="4c809-143">实例化 ResourceManager 对象</span><span class="sxs-lookup"><span data-stu-id="4c809-143">Instantiating a ResourceManager Object</span></span>
 <span data-ttu-id="4c809-144">可以实例化一个 <xref:System.Resources.ResourceManager> 对象，该对象通过调用其类构造函数重载之一来检索嵌入的 .resources 文件中的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-144">You instantiate a <xref:System.Resources.ResourceManager> object that retrieves resources from an embedded .resources file by calling one of its class constructor overloads.</span></span> <span data-ttu-id="4c809-145">这会将 <xref:System.Resources.ResourceManager> 对象与特定 .resources 文件和附属程序集中任何关联的本地化 .resources 文件紧密耦合在一起。</span><span class="sxs-lookup"><span data-stu-id="4c809-145">This tightly couples a <xref:System.Resources.ResourceManager> object with a particular .resources file and with any associated localized .resources files in satellite assemblies.</span></span>

 <span data-ttu-id="4c809-146">最常调用的两个构造函数为：</span><span class="sxs-lookup"><span data-stu-id="4c809-146">The two most commonly called constructors are:</span></span>

-   <span data-ttu-id="4c809-147"><xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> 根据你提供的以下两部分信息查找资源： .resources 文件的基名称和默认 .resources 文件所在的程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-147"><xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> looks up resources based on two pieces of information that you supply: the base name of the .resources file, and the assembly in which the default .resources file resides.</span></span> <span data-ttu-id="4c809-148">基名称包含 .resources 文件的命名空间和根名称，而不包含其区域性或扩展名。</span><span class="sxs-lookup"><span data-stu-id="4c809-148">The base name includes the namespace and root name of the .resources file, without its culture or extension.</span></span> <span data-ttu-id="4c809-149">请注意，从命令行编译的资源文件通常不包括命名空间名称，而在 Visual Studio 环境中创建的资源文件则执行此操作。</span><span class="sxs-lookup"><span data-stu-id="4c809-149">Note that .resources files that are compiled from the command line typically do not include a namespace name, whereas .resources files that are created in the Visual Studio environment do.</span></span> <span data-ttu-id="4c809-150">例如，如果资源文件命名为 MyCompany，并且 <xref:System.Resources.ResourceManager> 构造函数是从名为 `Example.Main`的静态方法中调用的，则以下代码将实例化一个 <xref:System.Resources.ResourceManager> 对象，该对象可从 .resources 文件中检索资源：</span><span class="sxs-lookup"><span data-stu-id="4c809-150">For example, if a resource file is named MyCompany.StringResources.resources and the <xref:System.Resources.ResourceManager> constructor is called from a static method named `Example.Main`, the following code instantiates a <xref:System.Resources.ResourceManager> object that can retrieve resources from the .resources file:</span></span>

     [!code-csharp[Conceptual.Resources.Retrieving#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/ctor1.cs#1)]
     [!code-vb[Conceptual.Resources.Retrieving#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/ctor1.vb#1)]

-   <span data-ttu-id="4c809-151"><xref:System.Resources.ResourceManager.%23ctor%28System.Type%29> 根据类型对象中的信息在附属程序集中查找资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-151"><xref:System.Resources.ResourceManager.%23ctor%28System.Type%29> looks up resources in satellite assemblies based on information from a type object.</span></span> <span data-ttu-id="4c809-152">该类型的完全限定名对应于 .resources 文件的基名称，而不包含其文件扩展名。</span><span class="sxs-lookup"><span data-stu-id="4c809-152">The type's fully qualified name corresponds to the base name of the .resources file without its file name extension.</span></span> <span data-ttu-id="4c809-153">在使用 Visual Studio 资源设计器创建的桌面应用程序中，Visual Studio 会创建一个包装类，它的完全限定名与 .resources 文件的根名称相同。</span><span class="sxs-lookup"><span data-stu-id="4c809-153">In desktop apps that are created by using the Visual Studio Resource Designer, Visual Studio creates a wrapper class whose fully qualified name is the same as the root name of the .resources file.</span></span> <span data-ttu-id="4c809-154">例如，如果资源文件命名为 MyCompany，并且有一个名为 `MyCompany.StringResources`的包装器类，则以下代码将实例化一个可从 .resources 文件中检索资源的 <xref:System.Resources.ResourceManager> 对象：</span><span class="sxs-lookup"><span data-stu-id="4c809-154">For example, if a resource file is named MyCompany.StringResources.resources and there is a wrapper class named `MyCompany.StringResources`, the following code instantiates a <xref:System.Resources.ResourceManager> object that can retrieve resources from the .resources file:</span></span>

     [!code-csharp[Conceptual.Resources.Retrieving#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/ctor1.cs#2)]
     [!code-vb[Conceptual.Resources.Retrieving#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/ctor1.vb#2)]

 <span data-ttu-id="4c809-155">如果找不到合适的资源，构造函数调用将创建有效的 <xref:System.Resources.ResourceManager> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-155">If the appropriate resources cannot be found, the constructor call creates a valid <xref:System.Resources.ResourceManager> object.</span></span> <span data-ttu-id="4c809-156">不过，尝试检索资源会引发 <xref:System.Resources.MissingManifestResourceException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-156">However, the attempt to retrieve a resource throws a <xref:System.Resources.MissingManifestResourceException> exception.</span></span> <span data-ttu-id="4c809-157">有关处理异常的信息，请参阅本文后面的 "[处理 MissingManifestResourceException 和 MissingSatelliteAssembly 异常](#exception)" 一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-157">For information about dealing with the exception, see the [Handling MissingManifestResourceException and MissingSatelliteAssembly Exceptions](#exception) section later in this article.</span></span>

 <span data-ttu-id="4c809-158">下面的示例演示如何实例化 <xref:System.Resources.ResourceManager> 的对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-158">The following example shows how to instantiate a <xref:System.Resources.ResourceManager> object.</span></span> <span data-ttu-id="4c809-159">它包含名为 ShowTime 的可执行文件的源代码。</span><span class="sxs-lookup"><span data-stu-id="4c809-159">It contains the source code for an executable named ShowTime.exe.</span></span> <span data-ttu-id="4c809-160">它还包括以下名为字符串的文本文件 .txt，其中包含单个字符串资源，`TimeHeader`：</span><span class="sxs-lookup"><span data-stu-id="4c809-160">It also includes the following text file named Strings.txt that contains a single string resource, `TimeHeader`:</span></span>

```
TimeHeader=The current time is
```

 <span data-ttu-id="4c809-161">可以使用批处理文件生成资源文件，并将其嵌入到可执行文件中。</span><span class="sxs-lookup"><span data-stu-id="4c809-161">You can use a batch file to generate the resource file and embed it into the executable.</span></span> <span data-ttu-id="4c809-162">下面是使用C#编译器生成可执行文件的批处理文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-162">Here's the batch file to generate an executable by using the C# compiler:</span></span>

```

resgen strings.txt
csc ShowTime.cs /resource:strings.resources

```

 <span data-ttu-id="4c809-163">对于 Visual Basic 编译器，可以使用以下批处理文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-163">For the Visual Basic compiler, you can use the following batch file:</span></span>

```

resgen strings.txt
vbc ShowTime.vb /resource:strings.resources

```

 [!code-csharp[System.Resources.ResourceManager.Class#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.class/cs/showtime.cs#1)]
 [!code-vb[System.Resources.ResourceManager.Class#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.class/vb/showtime.vb#1)]

<a name="CultureSpecific"></a>
### <a name="resourcemanager-and-culture-specific-resources"></a><span data-ttu-id="4c809-164">ResourceManager 和特定于区域性的资源</span><span class="sxs-lookup"><span data-stu-id="4c809-164">ResourceManager and Culture-Specific Resources</span></span>
 <span data-ttu-id="4c809-165">本地化应用需要部署资源，如[打包和部署资源](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)一文中所述。</span><span class="sxs-lookup"><span data-stu-id="4c809-165">A localized app requires resources to be deployed, as discussed in the article [Packaging and Deploying Resources](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span> <span data-ttu-id="4c809-166">如果正确配置了程序集，则资源管理器会根据当前线程的 <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> 属性来确定要检索的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-166">If the assemblies are properly configured, the resource manager determines which resources to retrieve based on the current thread's <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4c809-167">（该属性还返回当前线程的 UI 区域性。）例如，如果某个应用使用主程序集中的默认英语资源进行编译，并且在两个附属程序集中使用法语和俄文语言资源进行编译，并且 <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> 属性设置为 fr-fr，则资源管理器将检索法语资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-167">(That property also returns the current thread's UI culture.) For example, if an app is compiled with default English language resources in the main assembly and with French and Russian language resources in two satellite assemblies, and the <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> property is set to fr-FR, the resource manager retrieves the French resources.</span></span>

 <span data-ttu-id="4c809-168">可以显式或隐式设置 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="4c809-168">You can set the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> property explicitly or implicitly.</span></span> <span data-ttu-id="4c809-169">设置此方法的方式决定了 <xref:System.Resources.ResourceManager> 对象如何根据区域性检索资源：</span><span class="sxs-lookup"><span data-stu-id="4c809-169">The way you set it determines how the <xref:System.Resources.ResourceManager> object retrieves resources based on culture:</span></span>

-   <span data-ttu-id="4c809-170">如果将 <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> 属性显式设置为特定的区域性，则资源管理器始终会检索该区域性的资源，而不考虑用户的浏览器或操作系统语言。</span><span class="sxs-lookup"><span data-stu-id="4c809-170">If you explicitly set the <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> property to a specific culture, the resource manager always retrieves the resources for that culture, regardless of the user's browser or operating system language.</span></span> <span data-ttu-id="4c809-171">假设某个应用使用默认的英语资源和三个附属程序集进行编译，其中包含英语（美国）、法语（法国）和俄语（俄罗斯）的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-171">Consider an app that is compiled with default English language resources and three satellite assemblies that contain resources for English (United States), French (France), and Russian (Russia).</span></span> <span data-ttu-id="4c809-172">如果 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> 属性设置为 fr-fr，则 <xref:System.Resources.ResourceManager> 对象将始终检索法语（法国）资源，即使用户的操作系统语言不是法语。</span><span class="sxs-lookup"><span data-stu-id="4c809-172">If the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> property is set to fr-FR, the <xref:System.Resources.ResourceManager> object always retrieves the French (France) resources, even if the user's operating system language is not French.</span></span> <span data-ttu-id="4c809-173">在显式设置属性之前，请确保这是所需的行为。</span><span class="sxs-lookup"><span data-stu-id="4c809-173">Make sure that this is the desired behavior before you set the property explicitly.</span></span>

     <span data-ttu-id="4c809-174">在 ASP.NET apps 中，必须显式设置 <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> 属性，因为服务器上的设置不太可能与传入的客户端请求匹配。</span><span class="sxs-lookup"><span data-stu-id="4c809-174">In ASP.NET apps, you must set the <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> property explicitly, because it is unlikely that the setting on the server will match incoming client requests.</span></span> <span data-ttu-id="4c809-175">ASP.NET 应用可以将 <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> 属性显式设置为用户的浏览器接受语言。</span><span class="sxs-lookup"><span data-stu-id="4c809-175">An ASP.NET app can set the <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> property explicitly to the user's browser accept language.</span></span>

     <span data-ttu-id="4c809-176">显式设置 <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> 属性定义该线程的当前 UI 区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-176">Explicitly setting the <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> property defines the current UI culture for that thread.</span></span> <span data-ttu-id="4c809-177">它不会影响应用程序中任何其他线程的当前 UI 区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-177">It does not affect the current UI culture of any other threads in an app.</span></span>

-   <span data-ttu-id="4c809-178">可以通过将表示区域性的 <xref:System.Globalization.CultureInfo> 对象分配给静态 <xref:System.Globalization.CultureInfo.DefaultThreadCurrentUICulture%2A?displayProperty=nameWithType> 属性，来设置应用程序域中所有线程的 UI 区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-178">You can set the UI culture of all threads in an app domain by assigning a <xref:System.Globalization.CultureInfo> object that represents that culture to the static <xref:System.Globalization.CultureInfo.DefaultThreadCurrentUICulture%2A?displayProperty=nameWithType> property.</span></span>

-   <span data-ttu-id="4c809-179">如果未显式设置当前的 UI 区域性并且未定义当前应用程序域的默认区域性，则 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性由 Windows `GetUserDefaultUILanguage` 函数隐式设置。</span><span class="sxs-lookup"><span data-stu-id="4c809-179">If you do not explicitly set the current UI culture and you do not define a default culture for the current app domain, the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property is set implicitly by the Windows `GetUserDefaultUILanguage` function.</span></span> <span data-ttu-id="4c809-180">此函数由多语言用户界面（MUI）提供，使用户能够设置默认语言。</span><span class="sxs-lookup"><span data-stu-id="4c809-180">This function is provided by the Multilingual User Interface (MUI), which enables the user to set the default language.</span></span> <span data-ttu-id="4c809-181">如果用户未设置 UI 语言，则默认为系统安装的语言，这是操作系统资源的语言。</span><span class="sxs-lookup"><span data-stu-id="4c809-181">If the UI language is not set by the user, it defaults to the system-installed language, which is the language of operating system resources.</span></span>

 <span data-ttu-id="4c809-182">以下简单的 "Hello world" 示例显式设置了当前 UI 区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-182">The following simple "Hello world" example sets the current UI culture explicitly.</span></span> <span data-ttu-id="4c809-183">它包含三个区域性的资源：英语（美国）或 en-us、法语（法国）或 fr-fr、俄语（俄罗斯）或 ru。</span><span class="sxs-lookup"><span data-stu-id="4c809-183">It contains resources for three cultures: English (United States) or en-US, French (France) or fr-FR, and Russian (Russia) or ru-RU.</span></span> <span data-ttu-id="4c809-184">En-us 资源包含在名为 "问候" 的文本文件中：</span><span class="sxs-lookup"><span data-stu-id="4c809-184">The en-US resources are contained in a text file named Greetings.txt:</span></span>

```
HelloString=Hello world!
```

 <span data-ttu-id="4c809-185">Fr-fr 资源包含在名为 Greetings.fr-FR.TXT 的文本文件中：</span><span class="sxs-lookup"><span data-stu-id="4c809-185">The fr-FR resources are contained in a text file named Greetings.fr-FR.txt:</span></span>

```
HelloString=Salut tout le monde!
```

 <span data-ttu-id="4c809-186">Ru-RU 资源包含在名为 Greetings.ru-RU.TXT 的文本文件中：</span><span class="sxs-lookup"><span data-stu-id="4c809-186">The ru-RU resources are contained in a text file named Greetings.ru-RU.txt:</span></span>

```
HelloString=Всем привет!
```

 <span data-ttu-id="4c809-187">下面是此示例的源代码（示例 .vb 适用于该C#版本的 Visual Basic 版本或 Example.cs）：</span><span class="sxs-lookup"><span data-stu-id="4c809-187">Here's the source code for the example (Example.vb for the Visual Basic version or Example.cs for the C# version):</span></span>

 [!code-csharp[Conceptual.Resources.CurrentCulture#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.currentculture/cs/example.cs#1)]
 [!code-vb[Conceptual.Resources.CurrentCulture#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.currentculture/vb/example.vb#1)]

 <span data-ttu-id="4c809-188">若要编译此示例，请创建一个包含以下命令的批处理（.bat）文件，并从命令提示符运行该文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-188">To compile this example, create a batch (.bat) file that contains the following commands and run it from the command prompt.</span></span> <span data-ttu-id="4c809-189">如果使用C#，请指定 `csc` 而不是 `vbc` 和 `Example.cs`，而不是 `Example.vb`。</span><span class="sxs-lookup"><span data-stu-id="4c809-189">If you're using C#, specify `csc` instead of `vbc` and `Example.cs` instead of `Example.vb`.</span></span>

```
resgen Greetings.txt
vbc Example.vb /resource:Greetings.resources

resgen Greetings.fr-FR.txt
Md fr-FR
al /embed:Greetings.fr-FR.resources /culture:fr-FR /out:fr-FR\Example.resources.dll

resgen Greetings.ru-RU.txt
Md ru-RU
al /embed:Greetings.ru-RU.resources /culture:ru-RU /out:ru-RU\Example.resources.dll
```

<a name="retrieving"></a>
### <a name="retrieving-resources"></a><span data-ttu-id="4c809-190">检索资源</span><span class="sxs-lookup"><span data-stu-id="4c809-190">Retrieving Resources</span></span>
 <span data-ttu-id="4c809-191">调用 <xref:System.Resources.ResourceManager.GetObject%28System.String%29> 和 <xref:System.Resources.ResourceManager.GetString%28System.String%29> 方法来访问特定资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-191">You call the <xref:System.Resources.ResourceManager.GetObject%28System.String%29> and <xref:System.Resources.ResourceManager.GetString%28System.String%29> methods to access a specific resource.</span></span> <span data-ttu-id="4c809-192">还可以调用 <xref:System.Resources.ResourceManager.GetStream%28System.String%29> 方法，以将非字符串资源作为字节数组来检索。</span><span class="sxs-lookup"><span data-stu-id="4c809-192">You can also call the <xref:System.Resources.ResourceManager.GetStream%28System.String%29> method to retrieve non-string resources as a byte array.</span></span> <span data-ttu-id="4c809-193">默认情况下，在已本地化资源的应用程序中，这些方法返回由进行调用的线程的当前 UI 区域性确定的区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-193">By default, in an app that has localized resources, these methods return the resource for the culture determined by the current UI culture of the thread that made the call.</span></span> <span data-ttu-id="4c809-194">有关如何定义线程的当前 UI 区域性的详细信息，请参阅上一节： [ResourceManager 和特定于区域性的资源](#CultureSpecific)。</span><span class="sxs-lookup"><span data-stu-id="4c809-194">See the previous section, [ResourceManager and Culture-Specific Resources](#CultureSpecific), for more information about how the current UI culture of a thread is defined.</span></span> <span data-ttu-id="4c809-195">如果资源管理器找不到当前线程的 UI 区域性的资源，它将使用回退进程来检索指定的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-195">If the resource manager cannot find the resource for the current thread's UI culture, it uses a fallback process to retrieve the specified resource.</span></span> <span data-ttu-id="4c809-196">如果资源管理器找不到任何已本地化的资源，它将使用默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-196">If the resource manager cannot find any localized resources, it uses the resources of the default culture.</span></span> <span data-ttu-id="4c809-197">有关资源回退规则的详细信息，请参阅[打包和部署资源](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)一文中的 "资源回退进程" 一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-197">For more information about resource fallback rules, see the "Resource Fallback Process" section of the article [Packaging and Deploying Resources](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-198">如果找不到 <xref:System.Resources.ResourceManager> 类构造函数中指定的 .resources 文件，则检索资源的尝试将引发 <xref:System.Resources.MissingManifestResourceException> 或 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-198">If the .resources file specified in the <xref:System.Resources.ResourceManager> class constructor cannot be found, the attempt to retrieve a resource throws a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-199">有关处理异常的信息，请参阅本主题后面的 "[处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常](#exception)" 一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-199">For information about dealing with the exception, see the [Handling  MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions](#exception) section later in this topic.</span></span>

 <span data-ttu-id="4c809-200">下面的示例使用 <xref:System.Resources.ResourceManager.GetString%2A> 方法检索特定于区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-200">The following example uses the <xref:System.Resources.ResourceManager.GetString%2A> method to retrieve culture-specific resources.</span></span> <span data-ttu-id="4c809-201">它包含从 .txt 文件中编译的、英语（en）、法语（法国）（fr）和俄语（俄罗斯）（ru）区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-201">It consists of resources compiled from .txt files for the English (en), French (France) (fr-FR), and Russian (Russia) (ru-RU) cultures.</span></span> <span data-ttu-id="4c809-202">该示例将当前区域性和当前 UI 区域性更改为英语（美国）、法语（法国）、俄语（俄罗斯）和瑞典语（瑞典）。</span><span class="sxs-lookup"><span data-stu-id="4c809-202">The example changes the current culture and current UI culture to English (United States), French (France), Russian (Russia), and Swedish (Sweden).</span></span> <span data-ttu-id="4c809-203">然后，它调用 <xref:System.Resources.ResourceManager.GetString%2A> 方法来检索与当前日期和月份一起显示的本地化字符串。</span><span class="sxs-lookup"><span data-stu-id="4c809-203">It then calls the <xref:System.Resources.ResourceManager.GetString%2A> method to retrieve the localized string, which it displays along with the current day and month.</span></span> <span data-ttu-id="4c809-204">请注意，输出将显示适当的本地化字符串，除非当前 UI 区域性为 "瑞典语（瑞典）"。</span><span class="sxs-lookup"><span data-stu-id="4c809-204">Notice that the output displays the appropriate localized string except when the current UI culture is Swedish (Sweden).</span></span> <span data-ttu-id="4c809-205">由于瑞典语资源不可用，因此应用会改用默认区域性的资源，即英语。</span><span class="sxs-lookup"><span data-stu-id="4c809-205">Because Swedish language resources are unavailable, the app instead uses the resources of the default culture, which is English.</span></span>

 <span data-ttu-id="4c809-206">该示例需要下表中列出的基于文本的资源文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-206">The example requires the text-based resource files listed in following table.</span></span> <span data-ttu-id="4c809-207">每个都有一个名为 `DateStart`的字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-207">Each has a single string resource named `DateStart`.</span></span>

|<span data-ttu-id="4c809-208">环境</span><span class="sxs-lookup"><span data-stu-id="4c809-208">Culture</span></span>|<span data-ttu-id="4c809-209">文件名</span><span class="sxs-lookup"><span data-stu-id="4c809-209">File name</span></span>|<span data-ttu-id="4c809-210">资源名称</span><span class="sxs-lookup"><span data-stu-id="4c809-210">Resource name</span></span>|<span data-ttu-id="4c809-211">资源值</span><span class="sxs-lookup"><span data-stu-id="4c809-211">Resource value</span></span>|
|-------------|---------------|-------------------|--------------------|
|<span data-ttu-id="4c809-212">zh-CN</span><span class="sxs-lookup"><span data-stu-id="4c809-212">en-US</span></span>|<span data-ttu-id="4c809-213">DateStrings.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-213">DateStrings.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-214">今天是</span><span class="sxs-lookup"><span data-stu-id="4c809-214">Today is</span></span>|
|<span data-ttu-id="4c809-215">fr-FR</span><span class="sxs-lookup"><span data-stu-id="4c809-215">fr-FR</span></span>|<span data-ttu-id="4c809-216">DateStrings.fr-FR.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-216">DateStrings.fr-FR.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-217">Aujourd'hui，c'est le</span><span class="sxs-lookup"><span data-stu-id="4c809-217">Aujourd'hui, c'est le</span></span>|
|<span data-ttu-id="4c809-218">ru-RU</span><span class="sxs-lookup"><span data-stu-id="4c809-218">ru-RU</span></span>|<span data-ttu-id="4c809-219">DateStrings.ru-RU.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-219">DateStrings.ru-RU.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-220">Сегодня</span><span class="sxs-lookup"><span data-stu-id="4c809-220">Сегодня</span></span>|

 <span data-ttu-id="4c809-221">下面是示例的源代码（适用于 Visual Basic 版本的 ShowDate 或代码C#版本的 ShowDate.cs）。</span><span class="sxs-lookup"><span data-stu-id="4c809-221">Here's the source code for the example (ShowDate.vb for the Visual Basic version or ShowDate.cs for the C# version of the code).</span></span>

 [!code-csharp[System.Resources.ResourceManager.Class#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.class/cs/showdate.cs#2)]
 [!code-vb[System.Resources.ResourceManager.Class#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.class/vb/showdate.vb#2)]

 <span data-ttu-id="4c809-222">若要编译此示例，请创建一个包含以下命令的批处理文件，并从命令提示符运行该文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-222">To compile this example, create a batch file that contains the following commands and run it from the command prompt.</span></span> <span data-ttu-id="4c809-223">如果使用C#，请指定 `csc` 而不是 `vbc` 和 `showdate.cs`，而不是 `showdate.vb`。</span><span class="sxs-lookup"><span data-stu-id="4c809-223">If you're using C#, specify `csc` instead of `vbc` and `showdate.cs` instead of `showdate.vb`.</span></span>

```

resgen DateStrings.txt
vbc showdate.vb /resource:DateStrings.resources

md fr-FR
resgen DateStrings.fr-FR.txt
al /out:fr-FR\Showdate.resources.dll /culture:fr-FR /embed:DateStrings.fr-FR.resources

md ru-RU
resgen DateStrings.ru-RU.txt
al /out:ru-RU\Showdate.resources.dll /culture:ru-RU /embed:DateStrings.ru-RU.resources

```

 <span data-ttu-id="4c809-224">可以通过两种方法来检索当前 UI 区域性以外的特定区域性的资源：</span><span class="sxs-lookup"><span data-stu-id="4c809-224">There are two ways to retrieve the resources of a specific culture other than the current UI culture:</span></span>

-   <span data-ttu-id="4c809-225">可以调用 <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29>、<xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29>或 <xref:System.Resources.ResourceManager.GetStream%28System.String%2CSystem.Globalization.CultureInfo%29> 方法来检索特定区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-225">You can call the <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29>,  <xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29>, or <xref:System.Resources.ResourceManager.GetStream%28System.String%2CSystem.Globalization.CultureInfo%29> method to retrieve a resource for a specific culture.</span></span> <span data-ttu-id="4c809-226">如果找不到本地化的资源，资源管理器将使用资源回退进程来查找适当的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-226">If a localized resource cannot be found, the resource manager uses the resource fallback process to locate an appropriate resource.</span></span>

-   <span data-ttu-id="4c809-227">可以调用 <xref:System.Resources.ResourceManager.GetResourceSet%2A> 方法来获取表示特定区域性的资源的 <xref:System.Resources.ResourceSet> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-227">You can call the <xref:System.Resources.ResourceManager.GetResourceSet%2A> method to obtain a <xref:System.Resources.ResourceSet> object that represents the resources for a particular culture.</span></span> <span data-ttu-id="4c809-228">在方法调用中，如果资源管理器找不到已本地化的资源，或者是否只是回退到默认区域性的资源，则可以确定资源管理器是否对父区域性进行探测。</span><span class="sxs-lookup"><span data-stu-id="4c809-228">In the method call, you can determine whether the resource manager probes for parent cultures if it is unable to find localized resources, or whether it simply falls back to the resources of the default culture.</span></span> <span data-ttu-id="4c809-229">然后，可以使用 <xref:System.Resources.ResourceSet> 方法通过名称访问资源（针对该区域性进行了本地化）或枚举集中的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-229">You can then use the <xref:System.Resources.ResourceSet> methods to access the resources (localized for that culture) by name, or to enumerate the resources in the set.</span></span>

<a name="exception"></a>
### <a name="handling-missingmanifestresourceexception-and-missingsatelliteassemblyexception-exceptions"></a><span data-ttu-id="4c809-230">处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常</span><span class="sxs-lookup"><span data-stu-id="4c809-230">Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions</span></span>
 <span data-ttu-id="4c809-231">如果尝试检索特定资源，但资源管理器找不到该资源，或者未定义默认区域性，或者找不到默认区域性的资源，则资源管理器会引发 <xref:System.Resources.MissingManifestResourceException> 异常，如果它希望在主程序集中找到资源，则会引发异常或 <xref:System.Resources.MissingSatelliteAssemblyException>。</span><span class="sxs-lookup"><span data-stu-id="4c809-231">If you try to retrieve a specific resource, but the resource manager cannot find that resource and either no default culture has been defined or the resources of the default culture cannot be located, the resource manager throws a <xref:System.Resources.MissingManifestResourceException> exception if it expects to find the resources in the main assembly or a <xref:System.Resources.MissingSatelliteAssemblyException> if it expects to find the resources in a satellite assembly.</span></span> <span data-ttu-id="4c809-232">请注意，调用资源检索方法（例如 <xref:System.Resources.ResourceManager.GetString%2A> 或 <xref:System.Resources.ResourceManager.GetObject%2A>）时将引发异常，而当实例化 <xref:System.Resources.ResourceManager> 对象时，将引发异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-232">Note that the exception is thrown when you call a resource retrieval method such as <xref:System.Resources.ResourceManager.GetString%2A> or <xref:System.Resources.ResourceManager.GetObject%2A>, and not when you instantiate a <xref:System.Resources.ResourceManager> object.</span></span>

 <span data-ttu-id="4c809-233">通常，在下列情况下会引发异常：</span><span class="sxs-lookup"><span data-stu-id="4c809-233">The exception is typically thrown under the following conditions:</span></span>

-   <span data-ttu-id="4c809-234">适当的资源文件或附属程序集不存在。</span><span class="sxs-lookup"><span data-stu-id="4c809-234">The appropriate resource file or satellite assembly does not exist.</span></span> <span data-ttu-id="4c809-235">如果资源管理器希望在主应用程序集中嵌入应用的默认资源，则这些资源不存在。</span><span class="sxs-lookup"><span data-stu-id="4c809-235">If the resource manager expects the app's default resources to be embedded in the main app assembly, they are absent.</span></span> <span data-ttu-id="4c809-236">如果 <xref:System.Resources.NeutralResourcesLanguageAttribute> 特性指示应用程序的默认资源位于附属程序集中，则找不到该程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-236">If the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute indicates that the app's default resources reside in a satellite assembly, that assembly cannot be found.</span></span> <span data-ttu-id="4c809-237">在编译应用程序时，请确保将资源嵌入到主程序集中，或者生成必要的附属程序集并正确命名。</span><span class="sxs-lookup"><span data-stu-id="4c809-237">When you compile your app, make sure that resources are embedded in the main assembly or that the necessary satellite assembly is generated and is named appropriately.</span></span> <span data-ttu-id="4c809-238">其名称应采用*appName*. .resources 格式，并应位于以其所包含资源的区域性命名的目录中。</span><span class="sxs-lookup"><span data-stu-id="4c809-238">Its name should take the form *appName*.resources.dll, and it should be located in a directory named after the culture whose resources it contains.</span></span>

-   <span data-ttu-id="4c809-239">应用未定义默认或非特定区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-239">Your app doesn't have a default or neutral culture defined.</span></span> <span data-ttu-id="4c809-240">将 <xref:System.Resources.NeutralResourcesLanguageAttribute> 特性添加到源代码文件或项目信息文件（用于 Visual Basic 应用的 AssemblyInfo 或C#应用的 AssemblyInfo.cs）文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-240">Add the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to a source code file or to the project information file (AssemblyInfo.vb for a Visual Basic app or AssemblyInfo.cs for a C# app) file.</span></span>

-   <span data-ttu-id="4c809-241"><xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> 构造函数中的 `baseName` 参数未指定 .resources 文件的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-241">The `baseName` parameter in the <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> constructor does not specify the name of a .resources file.</span></span> <span data-ttu-id="4c809-242">名称应包括资源文件的完全限定命名空间，但不包括其文件扩展名。</span><span class="sxs-lookup"><span data-stu-id="4c809-242">The name should include the resource file's fully qualified namespace but not its file name extension.</span></span> <span data-ttu-id="4c809-243">通常，在 Visual Studio 中创建的资源文件包含命名空间名称，但是在命令提示符处创建和编译的资源文件不会包含在内。</span><span class="sxs-lookup"><span data-stu-id="4c809-243">Typically, resource files that are created in Visual Studio include namespace names, but resource files that are created and compiled at the command prompt do not.</span></span> <span data-ttu-id="4c809-244">可以通过编译并运行以下实用工具来确定嵌入 .resources 文件的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-244">You can determine the names of embedded .resources files by compiling and running the following utility.</span></span> <span data-ttu-id="4c809-245">这是一个控制台应用，它接受主程序集或附属程序集的名称作为命令行参数。</span><span class="sxs-lookup"><span data-stu-id="4c809-245">This is a console app that accepts the name of a main assembly or satellite assembly as a command-line parameter.</span></span> <span data-ttu-id="4c809-246">它显示应作为 `baseName` 参数提供的字符串，以便资源管理器可以正确地识别资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-246">It displays the strings that should be provided as the `baseName` parameter so that the resource manager can correctly identify the resource.</span></span>

     [!code-csharp[System.Resources.ResourceManager.Class#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.class/cs/resourcenames.cs#4)]
     [!code-vb[System.Resources.ResourceManager.Class#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.class/vb/resourcenames.vb#4)]

 <span data-ttu-id="4c809-247">如果要显式更改应用程序的当前区域性，还应记住，资源管理器会根据 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性的值而不是 <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> 属性来检索资源集。</span><span class="sxs-lookup"><span data-stu-id="4c809-247">If you are changing the current culture of your application explicitly, you should also remember that the resource manager retrieves a resource set based on the value of the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property, and not the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4c809-248">通常情况下，如果更改一个值，则还应更改另一个值。</span><span class="sxs-lookup"><span data-stu-id="4c809-248">Typically, if you change one value, you should also change the other.</span></span>

<a name="versioning"></a>
### <a name="resource-versioning"></a><span data-ttu-id="4c809-249">资源版本控制</span><span class="sxs-lookup"><span data-stu-id="4c809-249">Resource Versioning</span></span>
 <span data-ttu-id="4c809-250">由于包含应用的默认资源的主程序集是独立于应用程序的附属程序集，因此，您可以在不重新部署附属程序集的情况下发布主程序集的新版本。</span><span class="sxs-lookup"><span data-stu-id="4c809-250">Because the main assembly that contains an app's default resources is separate from the app's satellite assemblies, you can release a new version of your main assembly without redeploying the satellite assemblies.</span></span> <span data-ttu-id="4c809-251">使用 <xref:System.Resources.SatelliteContractVersionAttribute> 特性可使用现有附属程序集，并指示资源管理器不要使用主程序集的新版本重新部署它们。</span><span class="sxs-lookup"><span data-stu-id="4c809-251">You use the <xref:System.Resources.SatelliteContractVersionAttribute> attribute to use existing satellite assemblies and instruct the resource manager not to redeploy them with a new version of your main assembly,</span></span>

 <span data-ttu-id="4c809-252">有关对附属程序集的版本控制支持的详细信息，请参阅文章[检索资源](~/docs/framework/resources/retrieving-resources-in-desktop-apps.md)。</span><span class="sxs-lookup"><span data-stu-id="4c809-252">For more information about versioning support for satellite assemblies, see the article [Retrieving Resources](~/docs/framework/resources/retrieving-resources-in-desktop-apps.md).</span></span>

<a name="config"></a>
### <a name="satelliteassemblies-configuration-file-node"></a><span data-ttu-id="4c809-253">\<satelliteassemblies > 配置文件节点</span><span class="sxs-lookup"><span data-stu-id="4c809-253">\<satelliteassemblies> Configuration File Node</span></span>
 <span data-ttu-id="4c809-254">对于从网站（HREF 文件）部署和运行的可执行文件，<xref:System.Resources.ResourceManager> 对象可能会通过 web 探测附属程序集，这可能会影响应用的性能。</span><span class="sxs-lookup"><span data-stu-id="4c809-254">For executables that are deployed and run from a website (HREF .exe files), the <xref:System.Resources.ResourceManager> object may probe for satellite assemblies over the web, which can hurt your app's performance.</span></span> <span data-ttu-id="4c809-255">若要消除性能问题，可以将此探测范围限制为已与应用一起部署的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-255">To eliminate the performance problem, you can limit this probing to the satellite assemblies that you have deployed with your app.</span></span> <span data-ttu-id="4c809-256">为此，请在应用程序的配置文件中创建一个 `<satelliteassemblies>` 节点，以指定已为应用程序部署一组特定的区域性，并且 <xref:System.Resources.ResourceManager> 对象不应尝试探测该节点中未列出的任何区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-256">To do this, you create a `<satelliteassemblies>` node in your app's configuration file to specify that you have deployed a specific set of cultures for your app, and that the <xref:System.Resources.ResourceManager> object should not try to probe for any culture that is not listed in that node.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-257">创建 `<satelliteassemblies>` 节点的首选方法是使用[ClickOnce 部署清单](/visualstudio/deployment/clickonce-deployment-manifest)功能。</span><span class="sxs-lookup"><span data-stu-id="4c809-257">The preferred alternative to creating a `<satelliteassemblies>` node is to use the [ClickOnce Deployment Manifest](/visualstudio/deployment/clickonce-deployment-manifest) feature.</span></span>

 <span data-ttu-id="4c809-258">在应用的配置文件中，创建如下所示的部分：</span><span class="sxs-lookup"><span data-stu-id="4c809-258">In your app's configuration file, create a section similar to the following:</span></span>

```
<?xml version ="1.0"?>
<configuration>
    <satelliteassemblies>
        <assembly name="MainAssemblyName, Version=versionNumber, Culture=neutral, PublicKeyToken=null|yourPublicKeyToken">
            <culture>cultureName1</culture>
            <culture>cultureName2</culture>
            <culture>cultureName3</culture>
        </assembly>
    </satelliteassemblies>
</configuration>
```

 <span data-ttu-id="4c809-259">按如下所示编辑此配置信息：</span><span class="sxs-lookup"><span data-stu-id="4c809-259">Edit this configuration information as follows:</span></span>

-   <span data-ttu-id="4c809-260">为部署的每个主程序集指定一个或多个 `<assembly>` 节点，其中每个节点指定完全限定的程序集名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-260">Specify one or more `<assembly>` nodes for each main assembly that you deploy, where each node specifies a fully qualified assembly name.</span></span> <span data-ttu-id="4c809-261">指定主程序集的名称代替*MainAssemblyName*，并指定与主程序集对应的 `Version`、`PublicKeyToken`和 `Culture` 特性值。</span><span class="sxs-lookup"><span data-stu-id="4c809-261">Specify the name of your main assembly in place of *MainAssemblyName*, and specify the `Version`, `PublicKeyToken`, and `Culture` attribute values that correspond to your main assembly.</span></span>

     <span data-ttu-id="4c809-262">对于 `Version` 属性，请指定程序集的版本号。</span><span class="sxs-lookup"><span data-stu-id="4c809-262">For the `Version` attribute, specify the version number of your assembly.</span></span> <span data-ttu-id="4c809-263">例如，程序集的第一个版本可能是版本号1.0.0.0。</span><span class="sxs-lookup"><span data-stu-id="4c809-263">For example, the first release of your assembly might be version number 1.0.0.0.</span></span>

     <span data-ttu-id="4c809-264">对于 `PublicKeyToken` 特性，如果尚未使用强名称对程序集进行签名，则指定关键字 `null`; 如果已对程序集进行签名，则指定公钥标记。</span><span class="sxs-lookup"><span data-stu-id="4c809-264">For the `PublicKeyToken` attribute, specify the keyword `null` if you have not signed your assembly with a strong name, or specify your public key token if you have signed your assembly.</span></span>

     <span data-ttu-id="4c809-265">对于 `Culture` 特性，指定关键字 `neutral` 以指定主程序集，并使 <xref:System.Resources.ResourceManager> 类只为 `<culture>` 节点中列出的区域性探测。</span><span class="sxs-lookup"><span data-stu-id="4c809-265">For the `Culture` attribute, specify the keyword `neutral` to designate the main assembly and cause the <xref:System.Resources.ResourceManager> class to probe only for the cultures listed in the `<culture>` nodes.</span></span>

     <span data-ttu-id="4c809-266">有关完全限定的程序集名称的详细信息，请参阅[程序集名称](~/docs/standard/assembly/names.md)一文。</span><span class="sxs-lookup"><span data-stu-id="4c809-266">For more information about fully qualified assembly names, see the article [Assembly Names](~/docs/standard/assembly/names.md).</span></span> <span data-ttu-id="4c809-267">有关强名称程序集的详细信息，请参阅[创建和使用具有强名称的程序集一](~/docs/standard/assembly/create-use-strong-named.md)文。</span><span class="sxs-lookup"><span data-stu-id="4c809-267">For more information about strong-named assemblies, see the article [Create and use strong-named assemblies](~/docs/standard/assembly/create-use-strong-named.md).</span></span>

-   <span data-ttu-id="4c809-268">指定一个或多个具有特定区域性名称（如 "fr"）或非特定区域性名称（如 "fr"）的 `<culture>` 节点。</span><span class="sxs-lookup"><span data-stu-id="4c809-268">Specify one or more `<culture>` nodes with a specific culture name, such as "fr-FR", or a neutral culture name, such as "fr".</span></span>

 <span data-ttu-id="4c809-269">如果 `<satelliteassemblies>` 节点下未列出的任何程序集都需要资源，则 <xref:System.Resources.ResourceManager> 类将使用标准探测规则探测区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-269">If resources are needed for any assembly not listed under the `<satelliteassemblies>` node, the <xref:System.Resources.ResourceManager> class probes for cultures using standard probing rules.</span></span>

<a name="ws"></a>
## <a name="win8_appname_long-apps"></a>[!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] <span data-ttu-id="4c809-270">应用程序</span><span class="sxs-lookup"><span data-stu-id="4c809-270">Apps</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="4c809-271">虽然 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用支持 <xref:System.Resources.ResourceManager> 类，但我们不建议使用它。</span><span class="sxs-lookup"><span data-stu-id="4c809-271">Although the <xref:System.Resources.ResourceManager> class is supported in [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, we do not recommend its use.</span></span> <span data-ttu-id="4c809-272">仅当你开发可用于 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用的 [!INCLUDE[net_portable](~/includes/net-portable-md.md)] 项目时，才使用此类。</span><span class="sxs-lookup"><span data-stu-id="4c809-272">Use this class only when you develop [!INCLUDE[net_portable](~/includes/net-portable-md.md)] projects that can be used with [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps.</span></span> <span data-ttu-id="4c809-273">若要从 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用检索资源，请改用[windows.applicationmodel.resources.resourceloader](https://go.microsoft.com/fwlink/p/?LinkId=238182)类。</span><span class="sxs-lookup"><span data-stu-id="4c809-273">To retrieve resources from [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, use the [Windows.ApplicationModel.Resources.ResourceLoader](https://go.microsoft.com/fwlink/p/?LinkId=238182) class instead.</span></span>

 <span data-ttu-id="4c809-274">对于 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用程序，<xref:System.Resources.ResourceManager> 类从包资源索引（PRI）文件中检索资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-274">For [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, the <xref:System.Resources.ResourceManager> class retrieves resources from package resource index (PRI) files.</span></span> <span data-ttu-id="4c809-275">单个 PRI 文件（应用程序包 PRI 文件）包含默认区域性和任何已本地化的区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-275">A single PRI file (the application package PRI file) contains the resources for both the default culture and any localized cultures.</span></span> <span data-ttu-id="4c809-276">使用 Makepri.exe 实用工具，可以从一个或多个 XML 资源文件（.resw）格式创建 PRI 文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-276">You use the MakePRI utility to create a PRI file from one or more resource files that are in XML resource (.resw) format.</span></span> <span data-ttu-id="4c809-277">对于包含在 Visual Studio 项目中的资源，Visual Studio 会自动处理创建和打包 PRI 文件的过程。</span><span class="sxs-lookup"><span data-stu-id="4c809-277">For resources that are included in a Visual Studio project, Visual Studio handles the process of creating and packaging the PRI file automatically.</span></span> <span data-ttu-id="4c809-278">然后，可以使用 .NET Framework <xref:System.Resources.ResourceManager> 类访问应用程序或库的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-278">You can then use the .NET Framework <xref:System.Resources.ResourceManager> class to access the app's or library's resources.</span></span>

 <span data-ttu-id="4c809-279">可以采用与桌面应用相同的方式实例化 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用的 <xref:System.Resources.ResourceManager> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-279">You can instantiate a <xref:System.Resources.ResourceManager> object for a [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] app in the same way that you do for a desktop app.</span></span>

 <span data-ttu-id="4c809-280">然后，你可以通过传递要检索到 <xref:System.Resources.ResourceManager.GetString%28System.String%29> 方法的资源的名称，来访问特定区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-280">You can then access the resources for a particular culture by passing the name of the resource to be retrieved to the <xref:System.Resources.ResourceManager.GetString%28System.String%29> method.</span></span> <span data-ttu-id="4c809-281">默认情况下，此方法返回由进行调用的线程的当前 UI 区域性确定的区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-281">By default, this method returns the resource for the culture determined by the current UI culture of the thread that made the call.</span></span> <span data-ttu-id="4c809-282">还可以通过传递资源的名称和一个 <xref:System.Globalization.CultureInfo> 对象（该对象表示要将其资源检索到 <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> 方法的区域性）来检索特定区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-282">You can also retrieve the resources for a specific culture by passing the name of the resource and a <xref:System.Globalization.CultureInfo> object that represents the culture whose resource is to be retrieved to the <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> method.</span></span> <span data-ttu-id="4c809-283">如果找不到当前 UI 区域性或指定区域性的资源，资源管理器将使用 UI 语言回退列表定位合适的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-283">If the resource for the current UI culture or the specified culture cannot be found, the resource manager uses a UI language fallback list to locate a suitable resource.</span></span>



## Examples
 <span data-ttu-id="4c809-284">下面的示例演示如何使用显式区域性和隐式当前 UI 区域性从主程序集和附属程序集获取字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-284">The following example demonstrates how to use an explicit culture and the implicit current UI culture to obtain string resources from a main assembly and a satellite assembly.</span></span> <span data-ttu-id="4c809-285">有关详细信息，请参阅[创建附属程序集](~/docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md)主题的 "不在全局程序集缓存中安装附属程序集的目录位置" 部分。</span><span class="sxs-lookup"><span data-stu-id="4c809-285">For more information, see the "Directory Locations for Satellite Assemblies Not Installed in the Global Assembly Cache" section of the [Creating Satellite Assemblies](~/docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) topic.</span></span>

 <span data-ttu-id="4c809-286">若要运行此示例：</span><span class="sxs-lookup"><span data-stu-id="4c809-286">To run this example:</span></span>

1.  <span data-ttu-id="4c809-287">在应用目录中，创建一个名为 rmc 的文件，其中包含以下资源字符串：</span><span class="sxs-lookup"><span data-stu-id="4c809-287">In the app directory, create a file named rmc.txt that contains the following resource strings:</span></span>

    ```

    day=Friday
    year=2006
    holiday="Cinco de Mayo"

    ```

2.  <span data-ttu-id="4c809-288">使用[资源文件生成器](~/docs/framework/tools/resgen-exe-resource-file-generator.md)，按如下所示从 rmc 输入文件生成 rmc 资源文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-288">Use the  [Resource File Generator](~/docs/framework/tools/resgen-exe-resource-file-generator.md) to generate the rmc.resources resource file from the rmc.txt input file as follows:</span></span>

    ```
    resgen rmc.txt
    ```

3.  <span data-ttu-id="4c809-289">创建应用程序目录的子目录，并将其命名为 "es-MX"。</span><span class="sxs-lookup"><span data-stu-id="4c809-289">Create a subdirectory of the app directory and name it "es-MX".</span></span> <span data-ttu-id="4c809-290">这是将在接下来的三个步骤中创建的附属程序集的区域性名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-290">This is the culture name of the satellite assembly that you will create in the next three steps.</span></span>

4.  <span data-ttu-id="4c809-291">在包含以下资源字符串的 rmc.es 目录中创建一个名为-MX 的文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-291">Create a file named rmc.es-MX.txt in the es-MX directory that contains the following resource strings:</span></span>

    ```

    day=Viernes
    year=2006
    holiday="Cinco de Mayo"

    ```

5.  <span data-ttu-id="4c809-292">使用[资源文件生成器](~/docs/framework/tools/resgen-exe-resource-file-generator.md)生成 rmc.es-mx 输入文件中的 rmc.es 资源文件，如下所示：</span><span class="sxs-lookup"><span data-stu-id="4c809-292">Use the  [Resource File Generator](~/docs/framework/tools/resgen-exe-resource-file-generator.md) to generate the rmc.es-MX.resources resource file from the rmc.es-MX.txt input file as follows:</span></span>

    ```
    resgen rmc.es-MX.txt
    ```

6.  <span data-ttu-id="4c809-293">假设此示例的文件名为 rmc 或 rmc.cs。</span><span class="sxs-lookup"><span data-stu-id="4c809-293">Assume that the filename for this example is rmc.vb or rmc.cs.</span></span> <span data-ttu-id="4c809-294">将以下源代码复制到一个文件中。</span><span class="sxs-lookup"><span data-stu-id="4c809-294">Copy the following source code into a file.</span></span> <span data-ttu-id="4c809-295">然后对其进行编译，并在可执行程序集中嵌入主程序集资源文件 rmc。</span><span class="sxs-lookup"><span data-stu-id="4c809-295">Then compile it and embed the main assembly resource file, rmc.resources, in the executable assembly.</span></span> <span data-ttu-id="4c809-296">如果使用 Visual Basic 编译器，则语法为：</span><span class="sxs-lookup"><span data-stu-id="4c809-296">If you are using the Visual Basic compiler, the syntax is:</span></span>

    ```
    vbc rmc.vb /resource:rmc.resources
    ```

     <span data-ttu-id="4c809-297">C#编译器的相应语法为：</span><span class="sxs-lookup"><span data-stu-id="4c809-297">The corresponding syntax for the C# compiler is:</span></span>

    ```
    csc /resource:rmc.resources rmc.cs
    ```

7.  <span data-ttu-id="4c809-298">使用[程序集链接器](~/docs/framework/tools/al-exe-assembly-linker.md)创建附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-298">Use the  [Assembly Linker](~/docs/framework/tools/al-exe-assembly-linker.md) to create a satellite assembly.</span></span> <span data-ttu-id="4c809-299">如果应用的基名称是 rmc，则附属程序集名称必须为 rmc。</span><span class="sxs-lookup"><span data-stu-id="4c809-299">If the base name of the app is rmc, the satellite assembly name must be rmc.resources.dll.</span></span> <span data-ttu-id="4c809-300">应在 es MX 目录中创建附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-300">The satellite assembly should be created in the es-MX directory.</span></span> <span data-ttu-id="4c809-301">如果是当前目录，请使用以下命令：</span><span class="sxs-lookup"><span data-stu-id="4c809-301">If es-MX is the current directory, use this command:</span></span>

    ```
    al /embed:rmc.es-MX.resources /c:es-MX /out:rmc.resources.dll
    ```

8.  <span data-ttu-id="4c809-302">运行 rmc 以获取并显示嵌入的资源字符串。</span><span class="sxs-lookup"><span data-stu-id="4c809-302">Run rmc.exe to obtain and display the embedded resource strings.</span></span>

 [!code-csharp[ResourceManager_Class#1](~/samples/snippets/csharp/VS_Snippets_CLR/ResourceManager_Class/cs/rmc.cs#1)]
 [!code-vb[ResourceManager_Class#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/ResourceManager_Class/vb/rmc.vb#1)]

 ]]></format>
    </remarks>
    <threadsafe><span data-ttu-id="4c809-303">此类型是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="4c809-303">This type is thread safe.</span></span></threadsafe>
    <altmember cref="T:System.Globalization.CultureInfo" />
    <altmember cref="P:System.Globalization.CultureInfo.CurrentUICulture" />
    <altmember cref="T:System.Resources.SatelliteContractVersionAttribute" />
    <related type="Article" href="~/docs/framework/resources/index.md"><span data-ttu-id="4c809-304">应用程序中的资源</span><span class="sxs-lookup"><span data-stu-id="4c809-304">Resources in Applications</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="4c809-305">初始化 <see cref="T:System.Resources.ResourceManager" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="4c809-305">Initializes a new instance of the <see cref="T:System.Resources.ResourceManager" /> class.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected ResourceManager ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; ResourceManager();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="4c809-306">使用默认值初始化 <see cref="T:System.Resources.ResourceManager" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="4c809-306">Initializes a new instance of the <see cref="T:System.Resources.ResourceManager" /> class with default values.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-307">仅当编写派生自 <xref:System.Resources.ResourceManager> 类的自己的类时，此构造函数才有用。</span><span class="sxs-lookup"><span data-stu-id="4c809-307">This constructor is useful only if you write your own class that derives from  the <xref:System.Resources.ResourceManager> class.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ResourceManager (Type resourceSource);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Type resourceSource) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.#ctor(System.Type)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (resourceSource As Type)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ResourceManager(Type ^ resourceSource);" />
      <MemberSignature Language="F#" Value="new System.Resources.ResourceManager : Type -&gt; System.Resources.ResourceManager" Usage="new System.Resources.ResourceManager resourceSource" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="resourceSource" Type="System.Type" />
      </Parameters>
      <Docs>
        <param name="resourceSource"><span data-ttu-id="4c809-308">一个类型，从资源管理器中派生所有用于查找 .resources 文件的信息。</span><span class="sxs-lookup"><span data-stu-id="4c809-308">A type from which the resource manager derives all information for finding .resources files.</span></span></param>
        <summary><span data-ttu-id="4c809-309">它根据指定的对象中的信息在附属程序集内查找资源来初始化 <see cref="T:System.Resources.ResourceManager" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="4c809-309">Initializes a new instance of the <see cref="T:System.Resources.ResourceManager" /> class that looks up resources in satellite assemblies based on information from the specified type object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks

## <a name="desktop-apps"></a><span data-ttu-id="4c809-310">桌面应用</span><span class="sxs-lookup"><span data-stu-id="4c809-310">Desktop Apps</span></span>
 <span data-ttu-id="4c809-311">在桌面应用中，资源管理器使用 `resourceSource` 参数加载特定的资源文件，如下所示：</span><span class="sxs-lookup"><span data-stu-id="4c809-311">In desktop apps, the resource manager uses the `resourceSource` parameter to load a particular resource file as follows:</span></span>

-   <span data-ttu-id="4c809-312">如果未使用 <xref:System.Resources.NeutralResourcesLanguageAttribute> 特性来指示默认区域性的资源位于附属程序集中，则资源管理器假定在与 `resourceSource` 参数所指定的类型相同的程序集中找到默认区域性的资源文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-312">If the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute is not used to indicate that the resources of the default culture reside in a satellite assembly, the resource manager assumes that the resource file for the default culture is found in the same assembly as the type specified by the `resourceSource` parameter.</span></span>

-   <span data-ttu-id="4c809-313">资源管理器假定默认资源文件的基名称与 `resourceSource` 参数所指定的类型相同。</span><span class="sxs-lookup"><span data-stu-id="4c809-313">The resource manager assumes that the default resource file has the same base name as the type specified by the `resourceSource` parameter.</span></span>

-   <span data-ttu-id="4c809-314">资源管理器使用默认 <xref:System.Resources.ResourceSet> 类来处理资源文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-314">The resource manager uses the default <xref:System.Resources.ResourceSet> class to manipulate the resource file.</span></span>

 <span data-ttu-id="4c809-315">例如，假设有一个名为 MyCompany. MyProduct 的类型，则资源管理器会在定义 MyProduct 的程序集内查找名为 MyCompany. MyType. MyType..。</span><span class="sxs-lookup"><span data-stu-id="4c809-315">For example, given a type named MyCompany.MyProduct.MyType, the resource manager looks for a .resources file named MyCompany.MyProduct.MyType.resources in the assembly that defines MyType.</span></span>

 <span data-ttu-id="4c809-316">在 Visual Studio 中，资源设计器会自动生成代码，该代码定义C#`internal` （在中）或 `Friend` （Visual Basic）类，其名称与默认区域性的 .resources 文件的基名称相同。</span><span class="sxs-lookup"><span data-stu-id="4c809-316">In Visual Studio, the Resource Designer automatically generates code that defines an `internal` (in C#) or `Friend` (in Visual Basic) class whose name is the same as the base name of the .resources file for the default culture.</span></span> <span data-ttu-id="4c809-317">这样，就可以通过获取名称与资源名称对应的类型对象来实例化 <xref:System.Resources.ResourceManager> 对象并将其与特定的一组资源相结合，因为只要类对编译器可见，资源也必须相同。</span><span class="sxs-lookup"><span data-stu-id="4c809-317">This makes it possible to instantiate a <xref:System.Resources.ResourceManager> object and couple it with a particular set of resources by getting a type object whose name corresponds to the name of the resource, because as long as the class is visible to the compiler, the resources must be as well.</span></span> <span data-ttu-id="4c809-318">例如，如果 .resources 文件的名称为 Resource1.resx，则以下语句将实例化一个 <xref:System.Resources.ResourceManager> 对象来管理名为 Resource1.resx 的 .resources 文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-318">For example, if a .resources file is named Resource1, the following statement instantiates a <xref:System.Resources.ResourceManager> object to manage the .resources file named Resource1:</span></span>

 [!code-csharp[System.Resources.ResourceManager.ctor#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.ctor/cs/ctor1.cs#2)]

 <span data-ttu-id="4c809-319">如果未使用 Visual Studio，则可以创建一个类，其中没有命名空间和名称与默认 .resources 文件相同的成员。</span><span class="sxs-lookup"><span data-stu-id="4c809-319">If you're not using Visual Studio, you can create a class with no members whose namespace and name are the same as that of the default .resources file.</span></span> <span data-ttu-id="4c809-320">说明如示例所示。</span><span class="sxs-lookup"><span data-stu-id="4c809-320">The example provides an illustration.</span></span>

## <a name="win8_appname_long-apps"></a>[!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] <span data-ttu-id="4c809-321">应用程序</span><span class="sxs-lookup"><span data-stu-id="4c809-321">Apps</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="4c809-322">虽然 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用支持 <xref:System.Resources.ResourceManager> 类，但我们不建议使用它。</span><span class="sxs-lookup"><span data-stu-id="4c809-322">Although the <xref:System.Resources.ResourceManager> class is supported in [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, we do not recommend its use.</span></span> <span data-ttu-id="4c809-323">仅当你开发可用于 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用的 [!INCLUDE[net_portable](~/includes/net-portable-md.md)] 项目时，才使用此类。</span><span class="sxs-lookup"><span data-stu-id="4c809-323">Use this class only when you develop [!INCLUDE[net_portable](~/includes/net-portable-md.md)] projects that can be used with [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps.</span></span> <span data-ttu-id="4c809-324">若要从 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用检索资源，请改用[windows.applicationmodel.resources.resourceloader](https://go.microsoft.com/fwlink/p/?LinkId=238182)类。</span><span class="sxs-lookup"><span data-stu-id="4c809-324">To retrieve resources from [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, use the [Windows.ApplicationModel.Resources.ResourceLoader](https://go.microsoft.com/fwlink/p/?LinkId=238182) class instead.</span></span>

 <span data-ttu-id="4c809-325">在 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用中，<xref:System.Resources.ResourceManager> 使用 `resourceSource` 参数来推断程序集、基名称和命名空间，其中的资源项可位于应用的包资源索引（PRI）文件中。</span><span class="sxs-lookup"><span data-stu-id="4c809-325">In [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, <xref:System.Resources.ResourceManager> uses the `resourceSource` parameter to infer the assembly, base name, and the namespace where the resource items can be located within the app's package resource index (PRI) file.</span></span> <span data-ttu-id="4c809-326">例如，给定 `MyAssembly`中定义的名为 "MyProduct. MyType" 的类型，资源管理器将查找名为 "MyAssembly" 的资源集标识符，并在该资源集内查找作用域 MyCompany. MyProduct。</span><span class="sxs-lookup"><span data-stu-id="4c809-326">For example, given a type named MyCompany.MyProduct.MyType that is defined in `MyAssembly`, the resource manager looks for a resource set identifier named MyAssembly and looks for a scope MyCompany.MyProduct.MyType within that resource set.</span></span> <span data-ttu-id="4c809-327">资源管理器在此范围内搜索默认上下文（当前区域性、当前高对比度设置等）下的资源项。</span><span class="sxs-lookup"><span data-stu-id="4c809-327">The resource manager searches for resource items under the default context (current culture, current high contrast setting, and so on) within this scope.</span></span>



## Examples
 <span data-ttu-id="4c809-328">下面的示例使用 <xref:System.Resources.ResourceManager.%23ctor%28System.Type%29> 构造函数来实例化 <xref:System.Resources.ResourceManager> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-328">The following example uses the <xref:System.Resources.ResourceManager.%23ctor%28System.Type%29> constructor to instantiate a <xref:System.Resources.ResourceManager> object.</span></span> <span data-ttu-id="4c809-329">它包含从 .txt 文件中编译的、英语（en）、法语（法国）（fr）和俄语（俄罗斯）（ru）区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-329">It consists of resources compiled from .txt files for the English (en), French (France) (fr-FR), and Russian (Russia) (ru-RU) cultures.</span></span> <span data-ttu-id="4c809-330">该示例将当前区域性和当前 UI 区域性更改为英语（美国）、法语（法国）、俄语（俄罗斯）和瑞典语（瑞典）。</span><span class="sxs-lookup"><span data-stu-id="4c809-330">The example changes the current culture and current UI culture to English (United States), French (France), Russian (Russia), and Swedish (Sweden).</span></span> <span data-ttu-id="4c809-331">然后，它调用 <xref:System.Resources.ResourceManager.GetString%28System.String%29> 方法来检索已本地化的字符串，该字符串将显示依赖于当天的时间的问候语。</span><span class="sxs-lookup"><span data-stu-id="4c809-331">It then calls the <xref:System.Resources.ResourceManager.GetString%28System.String%29> method to retrieve the localized string, which displays a greeting that depends on the time of day.</span></span>

 <span data-ttu-id="4c809-332">该示例需要三个基于文本的资源文件，如下表所示。</span><span class="sxs-lookup"><span data-stu-id="4c809-332">The example requires three text-based resource files, as listed in the following table.</span></span> <span data-ttu-id="4c809-333">每个文件都包含名为 `Morning`、`Afternoon`和 `Evening`的字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-333">Each file includes string resources named `Morning`, `Afternoon`, and `Evening`.</span></span>

|<span data-ttu-id="4c809-334">环境</span><span class="sxs-lookup"><span data-stu-id="4c809-334">Culture</span></span>|<span data-ttu-id="4c809-335">文件名</span><span class="sxs-lookup"><span data-stu-id="4c809-335">File name</span></span>|<span data-ttu-id="4c809-336">资源名称</span><span class="sxs-lookup"><span data-stu-id="4c809-336">Resource name</span></span>|<span data-ttu-id="4c809-337">资源值</span><span class="sxs-lookup"><span data-stu-id="4c809-337">Resource value</span></span>|
|-------------|---------------|-------------------|--------------------|
|<span data-ttu-id="4c809-338">zh-CN</span><span class="sxs-lookup"><span data-stu-id="4c809-338">en-US</span></span>|<span data-ttu-id="4c809-339">GreetingResources.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-339">GreetingResources.txt</span></span>|`Morning`|<span data-ttu-id="4c809-340">早上好</span><span class="sxs-lookup"><span data-stu-id="4c809-340">Good morning</span></span>|
|<span data-ttu-id="4c809-341">zh-CN</span><span class="sxs-lookup"><span data-stu-id="4c809-341">en-US</span></span>|<span data-ttu-id="4c809-342">GreetingResources.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-342">GreetingResources.txt</span></span>|`Afternoon`|<span data-ttu-id="4c809-343">下午好</span><span class="sxs-lookup"><span data-stu-id="4c809-343">Good afternoon</span></span>|
|<span data-ttu-id="4c809-344">zh-CN</span><span class="sxs-lookup"><span data-stu-id="4c809-344">en-US</span></span>|<span data-ttu-id="4c809-345">GreetingResources.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-345">GreetingResources.txt</span></span>|`Evening`|<span data-ttu-id="4c809-346">晚上好</span><span class="sxs-lookup"><span data-stu-id="4c809-346">Good evening</span></span>|
|<span data-ttu-id="4c809-347">fr-FR</span><span class="sxs-lookup"><span data-stu-id="4c809-347">fr-FR</span></span>|<span data-ttu-id="4c809-348">GreetingResources.fr-FR.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-348">GreetingResources.fr-FR.txt</span></span>|`Morning`|<span data-ttu-id="4c809-349">Bonjour</span><span class="sxs-lookup"><span data-stu-id="4c809-349">Bonjour</span></span>|
|<span data-ttu-id="4c809-350">fr-FR</span><span class="sxs-lookup"><span data-stu-id="4c809-350">fr-FR</span></span>|<span data-ttu-id="4c809-351">GreetingResources.fr-FR.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-351">GreetingResources.fr-FR.txt</span></span>|`Afternoon`|<span data-ttu-id="4c809-352">Bonjour</span><span class="sxs-lookup"><span data-stu-id="4c809-352">Bonjour</span></span>|
|<span data-ttu-id="4c809-353">fr-FR</span><span class="sxs-lookup"><span data-stu-id="4c809-353">fr-FR</span></span>|<span data-ttu-id="4c809-354">GreetingResources.fr-FR.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-354">GreetingResources.fr-FR.txt</span></span>|`Evening`|<span data-ttu-id="4c809-355">Bonsoir</span><span class="sxs-lookup"><span data-stu-id="4c809-355">Bonsoir</span></span>|
|<span data-ttu-id="4c809-356">ru-RU</span><span class="sxs-lookup"><span data-stu-id="4c809-356">ru-RU</span></span>|<span data-ttu-id="4c809-357">GreetingResources.ru-RU.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-357">GreetingResources.ru-RU.txt</span></span>|`Morning`|<span data-ttu-id="4c809-358">Доброе утро</span><span class="sxs-lookup"><span data-stu-id="4c809-358">Доброе утро</span></span>|
|<span data-ttu-id="4c809-359">ru-RU</span><span class="sxs-lookup"><span data-stu-id="4c809-359">ru-RU</span></span>|<span data-ttu-id="4c809-360">GreetingResources.ru-RU.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-360">GreetingResources.ru-RU.txt</span></span>|`Afternoon`|<span data-ttu-id="4c809-361">Добрый день</span><span class="sxs-lookup"><span data-stu-id="4c809-361">Добрый день</span></span>|
|<span data-ttu-id="4c809-362">ru-RU</span><span class="sxs-lookup"><span data-stu-id="4c809-362">ru-RU</span></span>|<span data-ttu-id="4c809-363">GreetingResources.ru-RU.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-363">GreetingResources.ru-RU.txt</span></span>|`Evening`|<span data-ttu-id="4c809-364">Добрый вечер</span><span class="sxs-lookup"><span data-stu-id="4c809-364">Добрый вечер</span></span>|

 <span data-ttu-id="4c809-365">您可以使用以下批处理文件编译 Visual Basic 示例并创建一个名为 Fibonacci 的可执行文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-365">You can use the following batch file to compile the Visual Basic example and create an executable named Greet.exe.</span></span> <span data-ttu-id="4c809-366">若要用C#编译，请将编译器名称从 `vbc` 更改为 `csc`，并将文件扩展名从 `.vb` 更改为 `.cs`。</span><span class="sxs-lookup"><span data-stu-id="4c809-366">To compile with C#, change the compiler name from `vbc` to `csc` and the file extension from `.vb` to `.cs`.</span></span>

```

resgen GreetingResources.txt
vbc Greet.vb /resource: GreetingResources.resources

md fr-FR
resgen GreetingResources.fr-FR.txt
al /out:fr-FR\Greet.resources.dll /culture:fr-FR /embed: GreetingResources.fr-FR.resources

md ru-RU
resgen GreetingResources.ru-RU.txt
al /out:ru-RU\Greet.resources.dll /culture:ru-RU /embed: GreetingResources.ru-RU.resources

```

 <span data-ttu-id="4c809-367">下面是示例的源代码（适用于 Visual Basic 版本的 ShowDate 或代码C#版本的 ShowDate.cs）。</span><span class="sxs-lookup"><span data-stu-id="4c809-367">Here's the source code for the example (ShowDate.vb for the Visual Basic version or ShowDate.cs for the C# version of the code).</span></span>

 [!code-csharp[System.Resources.ResourceManager.Ctor#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.ctor/cs/greet.cs#3)]
 [!code-vb[System.Resources.ResourceManager.Ctor#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.ctor/vb/greet.vb#3)]

 <span data-ttu-id="4c809-368">除了定义名为 `Example`的应用类，源代码还定义了一个内部类，其名称 `GreetingResources`与资源文件的基名称相同。</span><span class="sxs-lookup"><span data-stu-id="4c809-368">In addition to defining an app class named `Example`, the source code defines an internal class whose name, `GreetingResources`, is the same as the base name of the resource files.</span></span> <span data-ttu-id="4c809-369">这样，就可以通过调用 <xref:System.Resources.ResourceManager.%23ctor%28System.Type%29> 构造函数来成功地实例化 <xref:System.Resources.ResourceManager> 的对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-369">This makes it possible to successfully instantiate a <xref:System.Resources.ResourceManager> object by calling the <xref:System.Resources.ResourceManager.%23ctor%28System.Type%29> constructor.</span></span>

 <span data-ttu-id="4c809-370">请注意，输出会显示相应的本地化字符串，除非当前 UI 区域性为瑞典语（瑞典），在这种情况下，它使用英语资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-370">Notice that the output displays the appropriate localized string except when the current UI culture is Swedish (Sweden), in which case it uses English language resources.</span></span> <span data-ttu-id="4c809-371">由于瑞典语资源不可用，因此，应用将使用默认区域性的资源（由 <xref:System.Resources.NeutralResourcesLanguageAttribute> 属性定义）。</span><span class="sxs-lookup"><span data-stu-id="4c809-371">Because Swedish language resources are unavailable, the app uses the resources of the default culture, as defined by the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, instead.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-372">
          <paramref name="resourceSource" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-372">The <paramref name="resourceSource" /> parameter is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ResourceManager (string baseName, System.Reflection.Assembly assembly);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string baseName, class System.Reflection.Assembly assembly) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.#ctor(System.String,System.Reflection.Assembly)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (baseName As String, assembly As Assembly)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ResourceManager(System::String ^ baseName, System::Reflection::Assembly ^ assembly);" />
      <MemberSignature Language="F#" Value="new System.Resources.ResourceManager : string * System.Reflection.Assembly -&gt; System.Resources.ResourceManager" Usage="new System.Resources.ResourceManager (baseName, assembly)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="baseName" Type="System.String" />
        <Parameter Name="assembly" Type="System.Reflection.Assembly" />
      </Parameters>
      <Docs>
        <param name="baseName"><span data-ttu-id="4c809-373">资源文件的根名称，没有其扩展名但是包含所有完全限定的命名空间名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-373">The root name of the resource file without its extension but including any fully qualified namespace name.</span></span> <span data-ttu-id="4c809-374">例如，名为 MyApplication.MyResource.en-US.resources 的资源文件的根名称为 MyApplication.MyResource。</span><span class="sxs-lookup"><span data-stu-id="4c809-374">For example, the root name for the resource file named MyApplication.MyResource.en-US.resources is MyApplication.MyResource.</span></span></param>
        <param name="assembly"><span data-ttu-id="4c809-375">资源的主程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-375">The main assembly for the resources.</span></span></param>
        <summary><span data-ttu-id="4c809-376">初始化 <see cref="T:System.Resources.ResourceManager" /> 类的新实例，该实例在给定的程序集中查找从指定根名称导出的文件中包含的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-376">Initializes a new instance of the <see cref="T:System.Resources.ResourceManager" /> class that looks up resources contained in files with the specified root name in the given assembly.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks

## <a name="desktop-apps"></a><span data-ttu-id="4c809-377">桌面应用</span><span class="sxs-lookup"><span data-stu-id="4c809-377">Desktop Apps</span></span>
 <span data-ttu-id="4c809-378">在桌面应用中，每个特定于区域性的资源文件应包含在附属程序集中，并且默认区域性的资源文件应包含在主程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-378">In desktop apps, the individual culture-specific resource files should be contained in satellite assemblies, and the default culture's resource file should be contained in the main assembly.</span></span> <span data-ttu-id="4c809-379">假设附属程序集包含该程序集清单中指定的单个区域性的资源，并在必要时进行加载。</span><span class="sxs-lookup"><span data-stu-id="4c809-379">A satellite assembly is assumed to contain resources for a single culture specified in that assembly's manifest, and is loaded as necessary.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-380">若要直接从 .resources 文件检索资源而不是从程序集检索资源，则必须改为调用 <xref:System.Resources.ResourceManager.CreateFileBasedResourceManager%2A> 方法来实例化 <xref:System.Resources.ResourceManager> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-380">To retrieve resources from .resources files directly instead of retrieving them from assemblies, you must call the <xref:System.Resources.ResourceManager.CreateFileBasedResourceManager%2A> method instead to instantiate a <xref:System.Resources.ResourceManager> object.</span></span>

 <span data-ttu-id="4c809-381">如果在 `assembly`中找不到由 `baseName` 标识的资源文件，则该方法将实例化一个 <xref:System.Resources.ResourceManager> 对象，但检索特定资源的尝试将引发异常，通常为 <xref:System.Resources.MissingManifestResourceException>。</span><span class="sxs-lookup"><span data-stu-id="4c809-381">If the resource file identified by `baseName` cannot be found in `assembly`, the method instantiates a <xref:System.Resources.ResourceManager> object, but the attempt to retrieve a specific resource throws an exception, typically <xref:System.Resources.MissingManifestResourceException>.</span></span> <span data-ttu-id="4c809-382">有关诊断引发异常的原因的信息，请参阅 <xref:System.Resources.ResourceManager> 类主题的 "处理 MissingManifestResourceException 异常" 一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-382">For information about diagnosing the cause of the exception, see the "Handling the MissingManifestResourceException Exception" section of the <xref:System.Resources.ResourceManager> class topic.</span></span>

## <a name="win8_appname_long-apps"></a>[!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] <span data-ttu-id="4c809-383">应用程序</span><span class="sxs-lookup"><span data-stu-id="4c809-383">Apps</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="4c809-384">虽然 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用支持 <xref:System.Resources.ResourceManager> 类，但我们不建议使用它。</span><span class="sxs-lookup"><span data-stu-id="4c809-384">Although the <xref:System.Resources.ResourceManager> class is supported in [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, we do not recommend its use.</span></span> <span data-ttu-id="4c809-385">仅当你开发可用于 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用的 [!INCLUDE[net_portable](~/includes/net-portable-md.md)] 项目时，才使用此类。</span><span class="sxs-lookup"><span data-stu-id="4c809-385">Use this class only when you develop [!INCLUDE[net_portable](~/includes/net-portable-md.md)] projects that can be used with [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps.</span></span> <span data-ttu-id="4c809-386">若要从 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用检索资源，请改用[windows.applicationmodel.resources.resourceloader](https://go.microsoft.com/fwlink/p/?LinkId=238182)类。</span><span class="sxs-lookup"><span data-stu-id="4c809-386">To retrieve resources from [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, use the [Windows.ApplicationModel.Resources.ResourceLoader](https://go.microsoft.com/fwlink/p/?LinkId=238182) class instead.</span></span>

 <span data-ttu-id="4c809-387">在 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用中，资源管理器使用 `assembly` 参数的简单名称在应用的包资源索引（PRI）文件中查找匹配的资源集。</span><span class="sxs-lookup"><span data-stu-id="4c809-387">In [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, the resource manager uses the simple name of the `assembly` parameter to look up a matching resource set in the app's package resource index (PRI) file.</span></span> <span data-ttu-id="4c809-388">`baseName` 参数用于查找资源集内的资源项。</span><span class="sxs-lookup"><span data-stu-id="4c809-388">The `baseName` parameter is used to look up a resource item within the resource set.</span></span> <span data-ttu-id="4c809-389">例如，PortableLibrary1.Resource1.de 的根名称为 PortableLibrary1. Resource1.resx。</span><span class="sxs-lookup"><span data-stu-id="4c809-389">For example, the root name for PortableLibrary1.Resource1.de-DE.resources is PortableLibrary1.Resource1.</span></span>



## Examples
 <span data-ttu-id="4c809-390">下面的示例使用简单的非本地化 "Hello World" 应用来演示 <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> 构造函数。</span><span class="sxs-lookup"><span data-stu-id="4c809-390">The following example uses a simple non-localized "Hello World" app to illustrate the <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> constructor.</span></span> <span data-ttu-id="4c809-391">下面显示了一个名为 ExampleResources 的文本文件的内容。</span><span class="sxs-lookup"><span data-stu-id="4c809-391">The following shows the contents of a text file named ExampleResources.txt.</span></span> <span data-ttu-id="4c809-392">在编译应用程序时，会将资源嵌入主应用程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-392">When the app is compiled, the resource is embedded in the main app assembly.</span></span>

```
Greeting=Hello
```

 <span data-ttu-id="4c809-393">在命令提示符下，可以使用[资源文件生成器（resgen.exe）](~/docs/framework/tools/resgen-exe-resource-file-generator.md)将文本文件转换为二进制资源文件，如下所示：</span><span class="sxs-lookup"><span data-stu-id="4c809-393">The text file can be converted to a binary resource file by using the [Resource File Generator (ResGen.exe)](~/docs/framework/tools/resgen-exe-resource-file-generator.md) at the command prompt as follows:</span></span>

```
resgen ExampleResources.txt
```

 <span data-ttu-id="4c809-394">下面的示例提供了可执行代码，用于实例化 <xref:System.Resources.ResourceManager> 对象、提示用户输入名称并显示问候语。</span><span class="sxs-lookup"><span data-stu-id="4c809-394">The following example provides the executable code that instantiates a <xref:System.Resources.ResourceManager> object, prompts the user to enter a name, and displays a greeting.</span></span>

 [!code-csharp[System.Resources.ResourceManager.ctor#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.ctor/cs/example.cs#1)]
 [!code-vb[System.Resources.ResourceManager.ctor#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.ctor/vb/example.vb#1)]

 <span data-ttu-id="4c809-395">可以在 Visual Basic 中使用以下命令编译该方法：</span><span class="sxs-lookup"><span data-stu-id="4c809-395">It can be compiled by using the following command in Visual Basic:</span></span>

```
vbc Example.vb /resource:ExampleResources.resources
```

 <span data-ttu-id="4c809-396">或使用中C#的以下命令：</span><span class="sxs-lookup"><span data-stu-id="4c809-396">or by using the following command in C#:</span></span>

```
csc Example.cs /resource:ExampleResources.resources
```

 <span data-ttu-id="4c809-397">请注意，该示例通过将该程序集中定义的类型传递到 `typeof` 函数（在中C#）或 `GetType` 函数（在 Visual Basic 中）并检索其 <xref:System.Type.Assembly%2A?displayProperty=nameWithType> 属性的值，来检索对包含资源文件的程序集的引用。</span><span class="sxs-lookup"><span data-stu-id="4c809-397">Note that the example retrieves a reference to the assembly that contains the resource file by passing a type defined in that assembly to the `typeof` function (in C#) or the `GetType` function (in Visual Basic) and retrieving the value of its <xref:System.Type.Assembly%2A?displayProperty=nameWithType> property.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-398"><paramref name="baseName" /> 或 <paramref name="assembly" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-398">The <paramref name="baseName" /> or <paramref name="assembly" /> parameter is <see langword="null" />.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="4c809-399">此构造函数使用系统提供的 <see cref="T:System.Resources.ResourceSet" /> 实现。</span><span class="sxs-lookup"><span data-stu-id="4c809-399">This constructor uses the system-provided <see cref="T:System.Resources.ResourceSet" /> implementation.</span></span> <span data-ttu-id="4c809-400">若要使用自定义资源文件格式，应从 <see cref="T:System.Resources.ResourceSet" /> 类派生，重写 <see cref="M:System.Resources.ResourceSet.GetDefaultReader" /> 和 <see cref="M:System.Resources.ResourceSet.GetDefaultWriter" /> 方法，并将该类型传递到 <see cref="M:System.Resources.ResourceManager.#ctor(System.String,System.Reflection.Assembly,System.Type)" /> 构造函数。</span><span class="sxs-lookup"><span data-stu-id="4c809-400">To use a custom resource file format, you should derive from the <see cref="T:System.Resources.ResourceSet" /> class, override the <see cref="M:System.Resources.ResourceSet.GetDefaultReader" /> and <see cref="M:System.Resources.ResourceSet.GetDefaultWriter" /> methods, and pass that type to the <see cref="M:System.Resources.ResourceManager.#ctor(System.String,System.Reflection.Assembly,System.Type)" /> constructor.</span></span> <span data-ttu-id="4c809-401">使用自定义 <see cref="T:System.Resources.ResourceSet" /> 可用于控制资源缓存策略或支持您自己的资源文件格式，但通常不是必需的。</span><span class="sxs-lookup"><span data-stu-id="4c809-401">Using a custom <see cref="T:System.Resources.ResourceSet" /> can be useful for controlling resource caching policy or supporting your own resource file format, but is generally not necessary.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ResourceManager (string baseName, System.Reflection.Assembly assembly, Type usingResourceSet);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string baseName, class System.Reflection.Assembly assembly, class System.Type usingResourceSet) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.#ctor(System.String,System.Reflection.Assembly,System.Type)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (baseName As String, assembly As Assembly, usingResourceSet As Type)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ResourceManager(System::String ^ baseName, System::Reflection::Assembly ^ assembly, Type ^ usingResourceSet);" />
      <MemberSignature Language="F#" Value="new System.Resources.ResourceManager : string * System.Reflection.Assembly * Type -&gt; System.Resources.ResourceManager" Usage="new System.Resources.ResourceManager (baseName, assembly, usingResourceSet)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="baseName" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="assembly" Type="System.Reflection.Assembly" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="usingResourceSet" Type="System.Type" Index="2" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="baseName"><span data-ttu-id="4c809-402">资源文件的根名称，没有其扩展名但是包含所有完全限定的命名空间名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-402">The root name of the resource file without its extension but including any fully qualified namespace name.</span></span> <span data-ttu-id="4c809-403">例如，名为 MyApplication.MyResource.en-US.resources 的资源文件的根名称为 MyApplication.MyResource。</span><span class="sxs-lookup"><span data-stu-id="4c809-403">For example, the root name for the resource file named MyApplication.MyResource.en-US.resources is MyApplication.MyResource.</span></span></param>
        <param name="assembly"><span data-ttu-id="4c809-404">资源的主程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-404">The main assembly for the resources.</span></span></param>
        <param name="usingResourceSet"><span data-ttu-id="4c809-405">要使用的自定义 <see cref="T:System.Resources.ResourceSet" /> 的类型。</span><span class="sxs-lookup"><span data-stu-id="4c809-405">The type of the custom <see cref="T:System.Resources.ResourceSet" /> to use.</span></span> <span data-ttu-id="4c809-406">如果为 <see langword="null" />，则使用默认的运行时 <see cref="T:System.Resources.ResourceSet" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-406">If <see langword="null" />, the default runtime <see cref="T:System.Resources.ResourceSet" /> object is used.</span></span></param>
        <summary><span data-ttu-id="4c809-407">初始化使用指定 <see cref="T:System.Resources.ResourceManager" /> 的 <see cref="T:System.Resources.ResourceSet" /> 类的新实例，该实例在给定的程序集中的指定根名称类的文件中查找资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-407">Initializes a new instance of the <see cref="T:System.Resources.ResourceManager" /> class that uses a specified <see cref="T:System.Resources.ResourceSet" /> class to look up resources contained in files with the specified root name in the given assembly.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-408">单个区域性特定的资源文件应包含在附属程序集中，并且默认区域性的资源文件应包含在主程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-408">The individual culture-specific resource files should be contained in satellite assemblies, and the default culture's resource file should be contained in the main assembly.</span></span> <span data-ttu-id="4c809-409">假设附属程序集包含该程序集清单中指定的单个区域性的资源，并在必要时进行加载。</span><span class="sxs-lookup"><span data-stu-id="4c809-409">A satellite assembly is assumed to contain resources for a single culture specified in that assembly's manifest, and is loaded as necessary.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-410">若要直接从 .resources 文件检索资源而不是从程序集检索资源，则必须改为调用 <xref:System.Resources.ResourceManager.CreateFileBasedResourceManager%2A> 方法来实例化 <xref:System.Resources.ResourceManager> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-410">To retrieve resources from .resources files directly instead of retrieving them from assemblies, you must call the <xref:System.Resources.ResourceManager.CreateFileBasedResourceManager%2A> method instead to instantiate a <xref:System.Resources.ResourceManager> object.</span></span>

 <span data-ttu-id="4c809-411">如果在 `assembly`中找不到由 `baseName` 标识的资源文件，则该方法将实例化一个 <xref:System.Resources.ResourceManager> 对象，但检索特定资源的尝试将引发异常，通常为 <xref:System.Resources.MissingManifestResourceException>。</span><span class="sxs-lookup"><span data-stu-id="4c809-411">If the resource file identified by `baseName` cannot be found in `assembly`, the method instantiates a <xref:System.Resources.ResourceManager> object, but the attempt to retrieve a specific resource throws an exception, typically <xref:System.Resources.MissingManifestResourceException>.</span></span> <span data-ttu-id="4c809-412">有关诊断引发异常的原因的信息，请参阅 <xref:System.Resources.ResourceManager> 类主题的 "处理 MissingManifestResourceException 异常" 一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-412">For information about diagnosing the cause of the exception, see the "Handling the MissingManifestResourceException Exception" section of the <xref:System.Resources.ResourceManager> class topic.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-413">`usingResourceSet` 参数用于支持你自己的资源格式，通常将 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-413">The `usingResourceSet` parameter is used to support your own resource format, and will commonly be `null`.</span></span> <span data-ttu-id="4c809-414">这不同于只使用 <xref:System.Type> 的构造函数。</span><span class="sxs-lookup"><span data-stu-id="4c809-414">This is different from the constructor that takes a <xref:System.Type> only.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4c809-415"><paramref name="usingResourceset" /> 不是 <see cref="T:System.Resources.ResourceSet" /> 的派生类。</span><span class="sxs-lookup"><span data-stu-id="4c809-415"><paramref name="usingResourceset" /> is not a derived class of <see cref="T:System.Resources.ResourceSet" />.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-416"><paramref name="baseName" /> 或 <paramref name="assembly" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-416">The <paramref name="baseName" /> or <paramref name="assembly" /> parameter is <see langword="null" />.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="4c809-417">此构造函数允许指定 <see cref="T:System.Resources.ResourceSet" /> 实现。</span><span class="sxs-lookup"><span data-stu-id="4c809-417">This constructor lets you specify a <see cref="T:System.Resources.ResourceSet" /> implementation.</span></span> <span data-ttu-id="4c809-418">如果不需要特定的 <see cref="T:System.Resources.ResourceSet" /> 实现但想要使用自定义资源文件格式，应从 <see cref="T:System.Resources.ResourceSet" /> 类派生，重写 <see cref="M:System.Resources.ResourceSet.GetDefaultReader" /> 和 <see cref="M:System.Resources.ResourceSet.GetDefaultWriter" /> 方法，并将该类型传递给此构造函数。</span><span class="sxs-lookup"><span data-stu-id="4c809-418">If you do not want a specific <see cref="T:System.Resources.ResourceSet" /> implementation but would like to use a custom resource file format, you should derive from the <see cref="T:System.Resources.ResourceSet" /> class, override the <see cref="M:System.Resources.ResourceSet.GetDefaultReader" /> and <see cref="M:System.Resources.ResourceSet.GetDefaultWriter" /> methods, and pass that type to this constructor.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="BaseName">
      <MemberSignature Language="C#" Value="public virtual string BaseName { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string BaseName" />
      <MemberSignature Language="DocId" Value="P:System.Resources.ResourceManager.BaseName" />
      <MemberSignature Language="VB.NET" Value="Public Overridable ReadOnly Property BaseName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ BaseName { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.BaseName : string" Usage="System.Resources.ResourceManager.BaseName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-419">获取 <see cref="T:System.Resources.ResourceManager" /> 从其中搜索资源的资源文件的根名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-419">Gets the root name of the resource files that the <see cref="T:System.Resources.ResourceManager" /> searches for resources.</span></span></summary>
        <value><span data-ttu-id="4c809-420"><see cref="T:System.Resources.ResourceManager" /> 从其中搜索资源的资源文件的根名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-420">The root name of the resource files that the <see cref="T:System.Resources.ResourceManager" /> searches for resources.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-421"><xref:System.Resources.ResourceManager.BaseName%2A> 属性反映了资源文件的完全限定的命名空间名称和根资源名称，没有其区域性或文件扩展名。</span><span class="sxs-lookup"><span data-stu-id="4c809-421">The <xref:System.Resources.ResourceManager.BaseName%2A> property reflects the fully qualified namespace name and the root resource name of a resource file, without its culture or file name extension.</span></span> <span data-ttu-id="4c809-422">例如，如果应用的默认资源文件被命名为 `SampleApps.StringResources.resources`，则 <xref:System.Resources.ResourceManager.BaseName%2A> 属性的值为 "Stringresources.resources"。</span><span class="sxs-lookup"><span data-stu-id="4c809-422">For example, if an app's default resource file is named `SampleApps.StringResources.resources`, the value of the <xref:System.Resources.ResourceManager.BaseName%2A> property  is "SampleApps.StringResources".</span></span> <span data-ttu-id="4c809-423">如果应用的默认资源文件被命名为 `SampleApps.StringResources.en-US.resources` 并且嵌入到附属程序集中，则 <xref:System.Resources.ResourceManager.BaseName%2A> 属性的值仍为 "SampleApps. Stringresources.resources"。</span><span class="sxs-lookup"><span data-stu-id="4c809-423">If an app's default resource file is named `SampleApps.StringResources.en-US.resources` and is embedded in a satellite assembly, the value of the <xref:System.Resources.ResourceManager.BaseName%2A> property is still "SampleApps.StringResources".</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="4c809-424">从命令行编译和嵌入的资源文件的 <xref:System.Resources.ResourceManager.BaseName%2A> 属性值不包含命名空间名称，除非在编译文件时显式包含一个命名空间名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-424">The <xref:System.Resources.ResourceManager.BaseName%2A> property value of a resource file that is compiled and embedded from the command line does not include a namespace name unless you explicitly include one when compiling the file.</span></span> <span data-ttu-id="4c809-425">另一方面，在 Visual Studio 环境中编译和嵌入的资源文件的 <xref:System.Resources.ResourceManager.BaseName%2A> 属性值通常包括默认的命名空间名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-425">On the other hand, the <xref:System.Resources.ResourceManager.BaseName%2A> property value of a resource file that is compiled and embedded within the Visual Studio environment typically does include the default namespace name.</span></span>

 <span data-ttu-id="4c809-426"><xref:System.Resources.ResourceManager.BaseName%2A> 属性值与实例化 <xref:System.Resources.ResourceManager> 实例时传递到 <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> 或 <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%2CSystem.Type%29> 构造函数的字符串相同。</span><span class="sxs-lookup"><span data-stu-id="4c809-426">The <xref:System.Resources.ResourceManager.BaseName%2A> property value is the same as the string passed to the <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> or <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%2CSystem.Type%29> constructor when instantiating a <xref:System.Resources.ResourceManager> instance.</span></span>



## Examples
 <span data-ttu-id="4c809-427">可以通过编译并运行以下实用工具来确定嵌入 .resources 文件的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-427">You can determine the names of embedded .resources files by compiling and running the following utility.</span></span> <span data-ttu-id="4c809-428">这是一个控制台应用，它接受主程序集或附属程序集的名称作为命令行参数。</span><span class="sxs-lookup"><span data-stu-id="4c809-428">This is a console app that accepts the name of a main assembly or satellite assembly as a command-line parameter.</span></span> <span data-ttu-id="4c809-429">它显示应作为 <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> 或 <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%2CSystem.Type%29> 构造函数的 `baseName` 参数提供的字符串，以便资源管理器可以正确地识别资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-429">It displays the strings that should be provided as the `baseName` parameter of the <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%29> or <xref:System.Resources.ResourceManager.%23ctor%28System.String%2CSystem.Reflection.Assembly%2CSystem.Type%29> constructor so that the resource manager can correctly identify the resource.</span></span>

 [!code-csharp[System.Resources.ResourceManager.Class#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.class/cs/resourcenames.cs#4)]
 [!code-vb[System.Resources.ResourceManager.Class#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.class/vb/resourcenames.vb#4)]

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BaseNameField">
      <MemberSignature Language="C#" Value="protected string BaseNameField;" />
      <MemberSignature Language="ILAsm" Value=".field family string BaseNameField" />
      <MemberSignature Language="DocId" Value="F:System.Resources.ResourceManager.BaseNameField" />
      <MemberSignature Language="VB.NET" Value="Protected BaseNameField As String " />
      <MemberSignature Language="C++ CLI" Value="protected: System::String ^ BaseNameField;" />
      <MemberSignature Language="F#" Value="val mutable BaseNameField : string" Usage="System.Resources.ResourceManager.BaseNameField" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-430">指定 <see cref="T:System.Resources.ResourceManager" /> 在其中搜索资源的资源文件的根名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-430">Specifies the root name of the resource files that the <see cref="T:System.Resources.ResourceManager" /> searches for resources.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-431">仅当编写派生自 <xref:System.Resources.ResourceManager> 类的自己的类时，<xref:System.Resources.ResourceManager.BaseNameField> 字段才有用。</span><span class="sxs-lookup"><span data-stu-id="4c809-431">The <xref:System.Resources.ResourceManager.BaseNameField> field is useful only if you write your own class that derives from the <xref:System.Resources.ResourceManager> class.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateFileBasedResourceManager">
      <MemberSignature Language="C#" Value="public static System.Resources.ResourceManager CreateFileBasedResourceManager (string baseName, string resourceDir, Type usingResourceSet);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Resources.ResourceManager CreateFileBasedResourceManager(string baseName, string resourceDir, class System.Type usingResourceSet) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.CreateFileBasedResourceManager(System.String,System.String,System.Type)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function CreateFileBasedResourceManager (baseName As String, resourceDir As String, usingResourceSet As Type) As ResourceManager" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Resources::ResourceManager ^ CreateFileBasedResourceManager(System::String ^ baseName, System::String ^ resourceDir, Type ^ usingResourceSet);" />
      <MemberSignature Language="F#" Value="static member CreateFileBasedResourceManager : string * string * Type -&gt; System.Resources.ResourceManager" Usage="System.Resources.ResourceManager.CreateFileBasedResourceManager (baseName, resourceDir, usingResourceSet)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Resources.ResourceManager</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="baseName" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="resourceDir" Type="System.String" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="usingResourceSet" Type="System.Type" Index="2" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="baseName"><span data-ttu-id="4c809-432">资源的根名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-432">The root name of the resources.</span></span> <span data-ttu-id="4c809-433">例如，名为“MyResource.en-US.resources”的资源文件的根名称为“MyResource”。</span><span class="sxs-lookup"><span data-stu-id="4c809-433">For example, the root name for the resource file named "MyResource.en-US.resources" is "MyResource".</span></span></param>
        <param name="resourceDir"><span data-ttu-id="4c809-434">要在其中搜索资源的目录的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-434">The name of the directory to search for the resources.</span></span> <span data-ttu-id="4c809-435"><paramref name="resourceDir" /> 可以是绝对路径或应用程序目录中的相对路径。</span><span class="sxs-lookup"><span data-stu-id="4c809-435"><paramref name="resourceDir" /> can be an absolute path or a relative path from the application directory.</span></span></param>
        <param name="usingResourceSet"><span data-ttu-id="4c809-436">要使用的自定义 <see cref="T:System.Resources.ResourceSet" /> 的类型。</span><span class="sxs-lookup"><span data-stu-id="4c809-436">The type of the custom <see cref="T:System.Resources.ResourceSet" /> to use.</span></span> <span data-ttu-id="4c809-437">如果为 <see langword="null" />，则使用默认的运行时 <see cref="T:System.Resources.ResourceSet" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-437">If <see langword="null" />, the default runtime <see cref="T:System.Resources.ResourceSet" /> object is used.</span></span></param>
        <summary><span data-ttu-id="4c809-438">返回一个 <see cref="T:System.Resources.ResourceManager" /> 对象，它在特定的目录中而不在资源的程序集清单。</span><span class="sxs-lookup"><span data-stu-id="4c809-438">Returns a <see cref="T:System.Resources.ResourceManager" /> object that searches a specific directory instead of an assembly manifest for resources.</span></span></summary>
        <returns><span data-ttu-id="4c809-439">搜索指定目录而不是资源的程序集清单的资源管理器的新实例。</span><span class="sxs-lookup"><span data-stu-id="4c809-439">A new instance of a resource manager that searches the specified directory instead of an assembly manifest for resources.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-440">此方法返回一个资源管理器，该管理器从未嵌入到程序集的 .resources 文件中检索资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-440">This method returns a resource manager that retrieves resources from a .resources file that is not embedded in an assembly.</span></span> <span data-ttu-id="4c809-441">您可以使用此 <xref:System.Resources.ResourceManager> 对象加载 ASP.NET 页的资源或测试 <xref:System.Resources.ResourceSet> 实现。</span><span class="sxs-lookup"><span data-stu-id="4c809-441">You can use this <xref:System.Resources.ResourceManager> object to load resources for an ASP.NET page or to test a <xref:System.Resources.ResourceSet> implementation.</span></span>  <span data-ttu-id="4c809-442">有关从独立 .resources 文件检索资源的示例，请参阅[检索资源](~/docs/framework/resources/retrieving-resources-in-desktop-apps.md)一文。</span><span class="sxs-lookup"><span data-stu-id="4c809-442">For an example that retrieves resources from a standalone .resources file, see the [Retrieving Resources](~/docs/framework/resources/retrieving-resources-in-desktop-apps.md) article.</span></span>

 <span data-ttu-id="4c809-443">此方法允许指定 <xref:System.Resources.ResourceSet> 实现。</span><span class="sxs-lookup"><span data-stu-id="4c809-443">This method lets you specify a <xref:System.Resources.ResourceSet> implementation.</span></span> <span data-ttu-id="4c809-444">如果你不想使用特定的 <xref:System.Resources.ResourceSet> 实现，但想要使用自定义资源文件格式，则应派生自 <xref:System.Resources.ResourceSet> 类，重写 <xref:System.Resources.ResourceSet.GetDefaultReader%2A> 和 <xref:System.Resources.ResourceSet.GetDefaultWriter%2A> 方法，并将该类型传递给此构造函数。</span><span class="sxs-lookup"><span data-stu-id="4c809-444">If you do not want a specific <xref:System.Resources.ResourceSet> implementation, but would like to use a custom resource file format, you should derive from the <xref:System.Resources.ResourceSet> class, override the <xref:System.Resources.ResourceSet.GetDefaultReader%2A> and <xref:System.Resources.ResourceSet.GetDefaultWriter%2A> methods, and pass that type to this constructor.</span></span>

> [!CAUTION]
>  <span data-ttu-id="4c809-445">使用 ASP.NET 应用程序中的独立 .resources 文件将中断 XCOPY 部署，因为这些资源将一直保持锁定状态，直到 <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> 方法显式释放这些资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-445">Using standalone .resources files in an ASP.NET app will break XCOPY deployment, because the resources remain locked until they are explicitly released by the <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> method.</span></span> <span data-ttu-id="4c809-446">如果要将资源与 ASP.NET 应用程序一起部署，请将 .resources 文件编译为附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-446">If you want to deploy resources with your ASP.NET apps, compile your .resources files into satellite assemblies.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-447"><paramref name="baseName" /> 或 <paramref name="resourceDir" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-447">The <paramref name="baseName" /> or <paramref name="resourceDir" /> parameter is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="FallbackLocation">
      <MemberSignature Language="C#" Value="protected System.Resources.UltimateResourceFallbackLocation FallbackLocation { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Resources.UltimateResourceFallbackLocation FallbackLocation" />
      <MemberSignature Language="DocId" Value="P:System.Resources.ResourceManager.FallbackLocation" />
      <MemberSignature Language="VB.NET" Value="Protected Property FallbackLocation As UltimateResourceFallbackLocation" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::Resources::UltimateResourceFallbackLocation FallbackLocation { System::Resources::UltimateResourceFallbackLocation get(); void set(System::Resources::UltimateResourceFallbackLocation value); };" />
      <MemberSignature Language="F#" Value="member this.FallbackLocation : System.Resources.UltimateResourceFallbackLocation with get, set" Usage="System.Resources.ResourceManager.FallbackLocation" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Resources.UltimateResourceFallbackLocation</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-448">获取或设置检索默认回退资源的位置。</span><span class="sxs-lookup"><span data-stu-id="4c809-448">Gets or sets the location from which to retrieve default fallback resources.</span></span></summary>
        <value><span data-ttu-id="4c809-449">指定资源管理器能查找回退资源的位置的某个枚举值。</span><span class="sxs-lookup"><span data-stu-id="4c809-449">One of the enumeration values that specifies where the resource manager can look for fallback resources.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-450">仅当编写派生自 <xref:System.Resources.ResourceManager> 类的自己的类时，<xref:System.Resources.ResourceManager.FallbackLocation%2A> 属性才有用。</span><span class="sxs-lookup"><span data-stu-id="4c809-450">The <xref:System.Resources.ResourceManager.FallbackLocation%2A> property is useful only if you write your own class that derives from the <xref:System.Resources.ResourceManager> class.</span></span>

 <span data-ttu-id="4c809-451">您可以使用 <xref:System.Resources.NeutralResourcesLanguageAttribute> 特性来通知资源管理器查找应用程序的默认区域性的位置：在主程序集（默认）中或在附属程序集中。</span><span class="sxs-lookup"><span data-stu-id="4c809-451">You can use the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to inform the resource manager where to find the default culture for an app: in the main assembly (default) or in a satellite assembly.</span></span>

 ]]></format>
        </remarks>
        <altmember cref="T:System.Resources.UltimateResourceFallbackLocation" />
        <altmember cref="T:System.Resources.NeutralResourcesLanguageAttribute" />
        <related type="Article" href="~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md"><span data-ttu-id="4c809-452">打包和部署资源</span><span class="sxs-lookup"><span data-stu-id="4c809-452">Packaging and Deploying Resources</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetNeutralResourcesLanguage">
      <MemberSignature Language="C#" Value="protected static System.Globalization.CultureInfo GetNeutralResourcesLanguage (System.Reflection.Assembly a);" />
      <MemberSignature Language="ILAsm" Value=".method familystatic hidebysig class System.Globalization.CultureInfo GetNeutralResourcesLanguage(class System.Reflection.Assembly a) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetNeutralResourcesLanguage(System.Reflection.Assembly)" />
      <MemberSignature Language="VB.NET" Value="Protected Shared Function GetNeutralResourcesLanguage (a As Assembly) As CultureInfo" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; static System::Globalization::CultureInfo ^ GetNeutralResourcesLanguage(System::Reflection::Assembly ^ a);" />
      <MemberSignature Language="F#" Value="static member GetNeutralResourcesLanguage : System.Reflection.Assembly -&gt; System.Globalization.CultureInfo" Usage="System.Resources.ResourceManager.GetNeutralResourcesLanguage a" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Globalization.CultureInfo</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="a" Type="System.Reflection.Assembly" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="a"><span data-ttu-id="4c809-453">要返回其的区域性特定的信息的程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-453">The assembly for which to return culture-specific information.</span></span></param>
        <summary><span data-ttu-id="4c809-454">通过检索指定程序及上的 <see cref="T:System.Resources.NeutralResourcesLanguageAttribute" /> 特性为主程序集的默认资源返回区域性特定的信息。</span><span class="sxs-lookup"><span data-stu-id="4c809-454">Returns culture-specific information for the main assembly's default resources by retrieving the value of the <see cref="T:System.Resources.NeutralResourcesLanguageAttribute" /> attribute on a specified assembly.</span></span></summary>
        <returns><span data-ttu-id="4c809-455">如果找到的话，则为 <see cref="T:System.Resources.NeutralResourcesLanguageAttribute" /> 中的特性；否则为固定区域性性。</span><span class="sxs-lookup"><span data-stu-id="4c809-455">The culture from the <see cref="T:System.Resources.NeutralResourcesLanguageAttribute" /> attribute, if found; otherwise, the invariant culture.</span></span></returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetObject">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="4c809-456">返回为当前区域性的指定非字符串资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-456">Returns the value of the specified non-string resource for the current culture.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetObject">
      <MemberSignature Language="C#" Value="public virtual object GetObject (string name);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance object GetObject(string name) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetObject(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetObject (name As String) As Object" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Object ^ GetObject(System::String ^ name);" />
      <MemberSignature Language="F#" Value="abstract member GetObject : string -&gt; obj&#xA;override this.GetObject : string -&gt; obj" Usage="resourceManager.GetObject name" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Object</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="4c809-457">要获取的资源名。</span><span class="sxs-lookup"><span data-stu-id="4c809-457">The name of the resource to get.</span></span></param>
        <summary><span data-ttu-id="4c809-458">返回指定的非字符串资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-458">Returns the value of the specified non-string resource.</span></span></summary>
        <returns><span data-ttu-id="4c809-459">针对调用方的当前区域性设置而本地化的资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-459">The value of the resource localized for the caller's current culture settings.</span></span> <span data-ttu-id="4c809-460">如果相应的资源集存在，但无法找到 <paramref name="name" />，该方法返回 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-460">If an appropriate resource set exists but <paramref name="name" /> cannot be found, the method returns <see langword="null" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-461"><xref:System.Resources.ResourceManager.GetObject%2A> 方法用于检索非字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-461">The <xref:System.Resources.ResourceManager.GetObject%2A> method is used to retrieve non-string resources.</span></span> <span data-ttu-id="4c809-462">其中包括属于基元数据类型（如 <xref:System.Int32> 或 <xref:System.Double>）、位图（如 <xref:System.Drawing.Bitmap?displayProperty=nameWithType> 对象）或自定义序列化对象的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-462">These include values that belong to primitive data types such as <xref:System.Int32> or <xref:System.Double>, bitmaps (such as a <xref:System.Drawing.Bitmap?displayProperty=nameWithType> object), or custom serialized objects.</span></span> <span data-ttu-id="4c809-463">通常情况下，必须将返回的对象强制C#转换（在中）或转换（Visual Basic）为适当类型的对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-463">Typically, the returned object must be cast (in C#) or converted (in Visual Basic) to an object of the appropriate type.</span></span>

 <span data-ttu-id="4c809-464">返回的资源针对当前线程的 UI 区域性进行了本地化，由 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性定义。</span><span class="sxs-lookup"><span data-stu-id="4c809-464">The returned resource is localized for the UI culture of the current thread, which is defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4c809-465">如果没有为此区域性本地化该资源，资源管理器将使用回退规则加载相应的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-465">If the resource is not localized for that culture, the resource manager uses fallback rules to load an appropriate resource.</span></span> <span data-ttu-id="4c809-466">如果未找到可用的本地化资源集，则 <xref:System.Resources.ResourceManager> 将回退到默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-466">If no usable set of localized resources is found, the <xref:System.Resources.ResourceManager> falls back on the default culture's resources.</span></span> <span data-ttu-id="4c809-467">如果未找到默认区域性的资源集，则方法会引发 <xref:System.Resources.MissingManifestResourceException> 异常，或者，如果资源集预期位于附属程序集中，则会引发 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-467">If a resource set for the default culture is not found, the method throws a <xref:System.Resources.MissingManifestResourceException> exception or, if the resource set is expected to reside in a satellite assembly, a <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-468">如果资源管理器可以加载相应的资源集，但找不到名为 `name`的资源，该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-468">If the resource manager can load an appropriate resource set but cannot find a resource named `name`, the method returns `null`.</span></span>

 <span data-ttu-id="4c809-469"><xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性确定 `name` 与资源名称的比较是否不区分大小写或是否区分大小写（默认值）。</span><span class="sxs-lookup"><span data-stu-id="4c809-469">The <xref:System.Resources.ResourceManager.IgnoreCase%2A> property determines whether the comparison of `name` with the names of resources is case-insensitive or case-sensitive (the default).</span></span>

> [!CAUTION]
>  <span data-ttu-id="4c809-470">此方法可能会引发比列出的更多异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-470">This method can throw more exceptions than are listed.</span></span> <span data-ttu-id="4c809-471">出现这种情况的原因之一是，此方法调用的方法会引发异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-471">One reason this might occur is if a method that this method calls throws an exception.</span></span>  <span data-ttu-id="4c809-472">例如，如果在部署或安装附属程序集时出现错误，则可能会引发 <xref:System.IO.FileLoadException> 异常，或者，如果用户定义的类型在反序列化类型时引发用户定义的异常，可能会引发 <xref:System.Runtime.Serialization.SerializationException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-472">For example, a <xref:System.IO.FileLoadException> exception might be thrown if an error was made deploying or installing a satellite assembly, or a <xref:System.Runtime.Serialization.SerializationException> exception might be thrown if a user-defined type throws a user-defined exception when the type is deserialized.</span></span>

## <a name="performance-considerations"></a><span data-ttu-id="4c809-473">性能注意事项</span><span class="sxs-lookup"><span data-stu-id="4c809-473">Performance Considerations</span></span>
 <span data-ttu-id="4c809-474">如果使用同一个 `name` 参数多次调用 <xref:System.Resources.ResourceManager.GetObject%2A> 方法，则不依赖于每次调用都返回对同一对象的引用的方法。</span><span class="sxs-lookup"><span data-stu-id="4c809-474">If you call the <xref:System.Resources.ResourceManager.GetObject%2A> method multiple times with the same `name` parameter, do not depend on the method returning a reference to the same object with each call.</span></span> <span data-ttu-id="4c809-475">这是因为 <xref:System.Resources.ResourceManager.GetObject%2A> 方法可以返回对缓存中现有资源对象的引用，也可以重新加载资源并返回对新资源对象的引用。</span><span class="sxs-lookup"><span data-stu-id="4c809-475">This is because the <xref:System.Resources.ResourceManager.GetObject%2A> method can return a reference to an existing resource object in a cache, or it can reload the resource and return a reference to a new resource object.</span></span>



## Examples
 <span data-ttu-id="4c809-476">下面的示例使用 <xref:System.Resources.ResourceManager.GetObject%28System.String%29> 方法反序列化一个自定义对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-476">The following example uses the <xref:System.Resources.ResourceManager.GetObject%28System.String%29> method to deserialize a custom object.</span></span> <span data-ttu-id="4c809-477">该示例包含一个名为 UIElements.cs （UIElements）的源代码文件（如果你使用 Visual Basic），该文件定义了名为 `PersonTable`的以下结构。</span><span class="sxs-lookup"><span data-stu-id="4c809-477">The example includes a source code file named UIElements.cs (UIElements.vb if you're using Visual Basic) that defines the following structure named `PersonTable`.</span></span> <span data-ttu-id="4c809-478">此结构应由显示表列的本地化名称的常规表显示例程使用。</span><span class="sxs-lookup"><span data-stu-id="4c809-478">This structure is intended to be used by a general table display routine that displays the localized names of table columns.</span></span> <span data-ttu-id="4c809-479">请注意， `PersonTable` 结构标有 <xref:System.SerializableAttribute> 属性。</span><span class="sxs-lookup"><span data-stu-id="4c809-479">Note that the `PersonTable` structure is marked with the <xref:System.SerializableAttribute> attribute.</span></span>

 [!code-csharp[Conceptual.Resources.Retrieving#6](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/example.cs#6)]
 [!code-vb[Conceptual.Resources.Retrieving#6](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/example.vb#6)]

 <span data-ttu-id="4c809-480">下面的代码来自名为 CreateResources.cs（对于 Visual Basic 则为 CreateResources.vb）的文件，该代码创建一个名为 UIResources.resx 的 XML 资源文件，该文件存储有表标题和包含已针对英语语言本地化的应用的信息的 `PersonTable` 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-480">The following code from a file named CreateResources.cs (CreateResources.vb for Visual Basic) creates an XML resource file named UIResources.resx that stores a table title and a `PersonTable` object that contains information for an app that is localized for the English language.</span></span>

 [!code-csharp[Conceptual.Resources.Retrieving#7](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/example1.cs#7)]
 [!code-vb[Conceptual.Resources.Retrieving#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/example.vb#7)]

 <span data-ttu-id="4c809-481">下面的代码位于名为 GetObject.cs (GetObject.vb) 的源代码文件中，然后检索资源并将其显示在控制台上。</span><span class="sxs-lookup"><span data-stu-id="4c809-481">The following code in a source code file named GetObject.cs (GetObject.vb) then retrieves the resources and displays them to the console.</span></span>

 [!code-csharp[Conceptual.Resources.Retrieving#8](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/example2.cs#8)]
 [!code-vb[Conceptual.Resources.Retrieving#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/example2.vb#8)]

 <span data-ttu-id="4c809-482">可以生成必要的资源文件和程序集，并通过执行以下批处理文件运行该应用。</span><span class="sxs-lookup"><span data-stu-id="4c809-482">You can build the necessary resource file and assemblies and run the app by executing the following batch file.</span></span> <span data-ttu-id="4c809-483">必须使用 `/r` 选项提供具有对 UIElements.dll 的引用的 Resgen.exe，以便其能够访问有关 `PersonTable` 结构的信息。</span><span class="sxs-lookup"><span data-stu-id="4c809-483">You must use the `/r` option to supply Resgen.exe with a reference to UIElements.dll so that it can access information about the `PersonTable` structure.</span></span> <span data-ttu-id="4c809-484">如果使用 C#，请将 `vbc` 编译器名称替换为 `csc`，并将 `.vb` 扩展名替换为 `.cs`。</span><span class="sxs-lookup"><span data-stu-id="4c809-484">If you're using C#, replace the `vbc` compiler name with `csc`, and replace the `.vb` extension with `.cs`.</span></span>

```

vbc /t:library UIElements.vb
vbc CreateResources.vb /r:UIElements.dll
CreateResources

resgen UIResources.resx  /r:UIElements.dll
vbc GetObject.vb /r:UIElements.dll /resource:UIResources.resources

GetObject.exe

```

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-485">
          <paramref name="name" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-485">The <paramref name="name" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-486">未找到可用的本地资源集，并且没有默认区域性资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-486">No usable set of localized resources has been found, and there are no default culture resources.</span></span> <span data-ttu-id="4c809-487">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-487">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-488">默认区域性的资源位于无法找到的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-488">The default culture's resources reside in a satellite assembly that could not be found.</span></span> <span data-ttu-id="4c809-489">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-489">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <altmember cref="M:System.Resources.ResourceManager.GetStream(System.String)" />
        <related type="Article" href="~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md"><span data-ttu-id="4c809-490">打包和部署资源</span><span class="sxs-lookup"><span data-stu-id="4c809-490">Packaging and Deploying Resources</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetObject">
      <MemberSignature Language="C#" Value="public virtual object GetObject (string name, System.Globalization.CultureInfo culture);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance object GetObject(string name, class System.Globalization.CultureInfo culture) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetObject(System.String,System.Globalization.CultureInfo)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetObject (name As String, culture As CultureInfo) As Object" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Object ^ GetObject(System::String ^ name, System::Globalization::CultureInfo ^ culture);" />
      <MemberSignature Language="F#" Value="abstract member GetObject : string * System.Globalization.CultureInfo -&gt; obj&#xA;override this.GetObject : string * System.Globalization.CultureInfo -&gt; obj" Usage="resourceManager.GetObject (name, culture)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Object</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="culture" Type="System.Globalization.CultureInfo" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="4c809-491">要获取的资源名。</span><span class="sxs-lookup"><span data-stu-id="4c809-491">The name of the resource to get.</span></span></param>
        <param name="culture"><span data-ttu-id="4c809-492">要针对其本地化资源的区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-492">The culture for which the resource is localized.</span></span> <span data-ttu-id="4c809-493">如果资源未本地化为此区域性，则资源管理器使用回退规则找到适当的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-493">If the resource is not localized for this culture, the resource manager uses fallback rules to locate an appropriate resource.</span></span>

<span data-ttu-id="4c809-494">如果此值为 <see langword="null" />，则 <see cref="T:System.Globalization.CultureInfo" /> 对象使用 <see cref="P:System.Globalization.CultureInfo.CurrentUICulture" /> 属性来获取。</span><span class="sxs-lookup"><span data-stu-id="4c809-494">If this value is <see langword="null" />, the <see cref="T:System.Globalization.CultureInfo" /> object is obtained by using the <see cref="P:System.Globalization.CultureInfo.CurrentUICulture" /> property.</span></span></param>
        <summary><span data-ttu-id="4c809-495">获取为指定区域性本地化的指定非字符串资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-495">Gets the value of the specified non-string resource localized for the specified culture.</span></span></summary>
        <returns><span data-ttu-id="4c809-496">为指定区域性本地化的资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-496">The value of the resource, localized for the specified culture.</span></span> <span data-ttu-id="4c809-497">如果相应的资源集存在，但无法找到 <paramref name="name" />，该方法返回 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-497">If an appropriate resource set exists but <paramref name="name" /> cannot be found, the method returns <see langword="null" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-498"><xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29> 方法用于检索非字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-498">The <xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29> method is used to retrieve non-string resources.</span></span> <span data-ttu-id="4c809-499">其中包括属于基元数据类型（如 <xref:System.Int32> 或 <xref:System.Double>）、位图（如 <xref:System.Drawing.Bitmap?displayProperty=nameWithType> 对象）或自定义序列化对象的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-499">These include values that belong to primitive data types such as <xref:System.Int32> or <xref:System.Double>, bitmaps (such as a <xref:System.Drawing.Bitmap?displayProperty=nameWithType> object), or custom serialized objects.</span></span> <span data-ttu-id="4c809-500">通常情况下，必须将返回的对象强制C#转换（在中）或转换（Visual Basic）为适当类型的对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-500">Typically, the returned object must be cast (in C#) or converted (in Visual Basic) to an object of the appropriate type.</span></span>

 <span data-ttu-id="4c809-501">返回的资源针对 `culture`指定的区域性进行了本地化，如果 `null``culture`，则为 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性指定的区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-501">The returned resource is localized for the culture that is specified by `culture`, or for the culture that is specified by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property if `culture` is `null`.</span></span> <span data-ttu-id="4c809-502">如果没有为此区域性本地化该资源，资源管理器将使用回退规则加载相应的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-502">If the resource is not localized for that culture, the resource manager uses fallback rules to load an appropriate resource.</span></span> <span data-ttu-id="4c809-503">如果未找到可用的本地化资源集，资源管理器将回退到默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-503">If no usable set of localized resources is found, the resource manager falls back on the default culture's resources.</span></span> <span data-ttu-id="4c809-504">如果未找到默认区域性的资源集，则方法会引发 <xref:System.Resources.MissingManifestResourceException> 异常，或者，如果资源集预期位于附属程序集中，则会引发 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-504">If a resource set for the default culture is not found, the method throws a <xref:System.Resources.MissingManifestResourceException> exception or, if the resource set is expected to reside in a satellite assembly, a <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-505">如果资源管理器可以加载相应的资源集，但找不到名为 `name`的资源，该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-505">If the resource manager can load an appropriate resource set but cannot find a resource named `name`, the method returns `null`.</span></span>

 <span data-ttu-id="4c809-506"><xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性确定与资源名称 `name` 比较是否不区分大小写（默认值）或区分大小写。</span><span class="sxs-lookup"><span data-stu-id="4c809-506">The <xref:System.Resources.ResourceManager.IgnoreCase%2A> property determines whether the comparison of `name` with the names of resources is case-insensitive (the default) or case-sensitive.</span></span>

> [!CAUTION]
>  <span data-ttu-id="4c809-507">此方法可能会引发比列出的更多异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-507">This method can throw more exceptions than are listed.</span></span> <span data-ttu-id="4c809-508">出现这种情况的原因之一是，此方法调用的方法会引发异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-508">One reason this might occur is if a method that this method calls throws an exception.</span></span>  <span data-ttu-id="4c809-509">例如，如果在部署或安装附属程序集时出现错误，则可能会引发 <xref:System.IO.FileLoadException> 异常，或者，如果用户定义的类型在反序列化类型时引发用户定义的异常，可能会引发 <xref:System.Runtime.Serialization.SerializationException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-509">For example, a <xref:System.IO.FileLoadException> exception might be thrown if an error was made deploying or installing a satellite assembly, or a <xref:System.Runtime.Serialization.SerializationException> exception might be thrown if a user-defined type throws a user-defined exception when the type is deserialized.</span></span>

## <a name="performance-considerations"></a><span data-ttu-id="4c809-510">性能注意事项</span><span class="sxs-lookup"><span data-stu-id="4c809-510">Performance Considerations</span></span>
 <span data-ttu-id="4c809-511">如果使用同一个 `name` 参数多次调用 <xref:System.Resources.ResourceManager.GetObject%2A> 方法，则不依赖于每次调用都返回对同一对象的引用的方法。</span><span class="sxs-lookup"><span data-stu-id="4c809-511">If you call the <xref:System.Resources.ResourceManager.GetObject%2A> method multiple times with the same `name` parameter, do not depend on the method returning a reference to the same object with each call.</span></span> <span data-ttu-id="4c809-512">这是因为 <xref:System.Resources.ResourceManager.GetObject%2A> 方法可以返回对缓存中现有资源对象的引用，也可以重新加载资源并返回对新资源对象的引用。</span><span class="sxs-lookup"><span data-stu-id="4c809-512">This is because the <xref:System.Resources.ResourceManager.GetObject%2A> method can return a reference to an existing resource object in a cache, or it can reload the resource and return a reference to a new resource object.</span></span>



## Examples
 <span data-ttu-id="4c809-513">下面的示例使用 <xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29> 方法反序列化一个自定义对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-513">The following example uses the <xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29> method to deserialize a custom object.</span></span> <span data-ttu-id="4c809-514">该示例包含一个名为 NumberInfo.cs （NumberInfo）的源代码文件（如果你使用 Visual Basic），该文件定义了名为 `Numbers`的以下结构。</span><span class="sxs-lookup"><span data-stu-id="4c809-514">The example includes a source code file named NumberInfo.cs (NumberInfo.vb if you're using Visual Basic) that defines the following structure named `Numbers`.</span></span> <span data-ttu-id="4c809-515">此结构旨在供简单的教育应用程序使用，此应用程序讲授非英语的学生，使其以英语计算为10。</span><span class="sxs-lookup"><span data-stu-id="4c809-515">This structure is intended to be used by a simple educational app that teaches non-English speaking students to count to ten in English.</span></span> <span data-ttu-id="4c809-516">请注意，`Numbers` 类是用 <xref:System.SerializableAttribute> 特性标记的。</span><span class="sxs-lookup"><span data-stu-id="4c809-516">Note that the `Numbers` class is marked with the <xref:System.SerializableAttribute> attribute.</span></span>

 [!code-csharp[System.Resources.ResourceManager.GetObject#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.getobject/cs/numberinfo.cs#1)]
 [!code-vb[System.Resources.ResourceManager.GetObject#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.getobject/vb/numberinfo.vb#1)]

 <span data-ttu-id="4c809-517">以下来自名为 CreateResources.cs 的文件（用于 Visual Basic 的位于）的源代码将为默认英语语言创建 XML 资源文件，以及法语、葡萄牙语和俄语。</span><span class="sxs-lookup"><span data-stu-id="4c809-517">The following source code from a file named CreateResources.cs (CreateResources.vb for Visual Basic) creates XML resource files for the default English language, as well as for the French, Portuguese, and Russian languages.</span></span>

 [!code-csharp[System.Resources.ResourceManager.GetObject#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.getobject/cs/createresources.cs#2)]
 [!code-vb[System.Resources.ResourceManager.GetObject#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.getobject/vb/createresources.vb#2)]

 <span data-ttu-id="4c809-518">以下应用使用资源，这会将当前 UI 区域性设置为法语（法国）、葡萄牙语（巴西）或俄语（俄罗斯）。</span><span class="sxs-lookup"><span data-stu-id="4c809-518">The resources are consumed by the following app, which sets the current UI culture to French (France), Portuguese (Brazil), or Russian (Russia).</span></span> <span data-ttu-id="4c809-519">它调用 <xref:System.Resources.ResourceManager.GetObject%28System.String%29> 方法来获取包含本地化数字的 `Numbers` 对象，并使用 <xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29> 方法获取包含英语的 `Numbers` 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-519">It calls the <xref:System.Resources.ResourceManager.GetObject%28System.String%29> method to get a `Numbers` object that contains localized numbers and the <xref:System.Resources.ResourceManager.GetObject%28System.String%2CSystem.Globalization.CultureInfo%29> method to get a `Numbers` object that contains English language numbers.</span></span> <span data-ttu-id="4c809-520">然后，它使用当前 UI 区域性和英语显示奇数。</span><span class="sxs-lookup"><span data-stu-id="4c809-520">It then displays odd numbers using the current UI culture and the English language.</span></span> <span data-ttu-id="4c809-521">源代码文件的名称为 ShowNumbers.cs （ShowNumbers）。</span><span class="sxs-lookup"><span data-stu-id="4c809-521">The source code file is named ShowNumbers.cs (ShowNumbers.vb).</span></span>

 [!code-csharp[System.Resources.ResourceManager.GetObject#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.getobject/cs/shownumbers.cs#3)]
 [!code-vb[System.Resources.ResourceManager.GetObject#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.getobject/vb/shownumbers.vb#3)]

 <span data-ttu-id="4c809-522">您可以使用以下批处理文件生成并执行该示例的 Visual Basic 版本。</span><span class="sxs-lookup"><span data-stu-id="4c809-522">You can use the following batch file to build and execute the Visual Basic version of the example.</span></span> <span data-ttu-id="4c809-523">如果使用C#的是，请将 `vbc` 替换为 `csc`，并将 `.vb` 扩展替换为 `.cs`。</span><span class="sxs-lookup"><span data-stu-id="4c809-523">If you're using C#, replace `vbc` with `csc`, and replace the `.vb` extension with `.cs`.</span></span>

```

vbc /t:library NumberInfo.vb

vbc CreateResources.vb /r:NumberInfo.dll
CreateResources

resgen NumberResources.resx /r:NumberInfo.dll

resgen NumberResources.fr.resx /r:Numberinfo.dll
Md fr
al /embed:NumberResources.fr.resources /culture:fr /t:lib /out:fr\ShowNumbers.resources.dll

resgen NumberResources.pt.resx  /r:Numberinfo.dll
Md pt
al /embed:NumberResources.pt.resources /culture:pt /t:lib /out:pt\ShowNumbers.resources.dll

resgen NumberResources.ru.resx /r:Numberinfo.dll
Md ru
al /embed:NumberResources.ru.resources /culture:ru /t:lib /out:ru\ShowNumbers.resources.dll

vbc ShowNumbers.vb /r:NumberInfo.dll /resource:NumberResources.resources
ShowNumbers.exe
```

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-524">
          <paramref name="name" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-524">The <paramref name="name" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-525">未找到可用的资源集，并且没有默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-525">No usable set of resources have been found, and there are no default culture resources.</span></span> <span data-ttu-id="4c809-526">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-526">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-527">默认区域性的资源位于无法找到的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-527">The default culture's resources reside in a satellite assembly that could not be found.</span></span> <span data-ttu-id="4c809-528">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-528">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <threadsafe><span data-ttu-id="4c809-529"><see cref="M:System.Resources.ResourceManager.GetObject(System.String,System.Globalization.CultureInfo)" /> 方法是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="4c809-529">The <see cref="M:System.Resources.ResourceManager.GetObject(System.String,System.Globalization.CultureInfo)" /> method is thread safe.</span></span></threadsafe>
        <altmember cref="M:System.Resources.ResourceManager.GetStream(System.String,System.Globalization.CultureInfo)" />
        <altmember cref="T:System.Globalization.CultureInfo" />
        <related type="Article" href="~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md"><span data-ttu-id="4c809-530">打包和部署资源</span><span class="sxs-lookup"><span data-stu-id="4c809-530">Packaging and Deploying Resources</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetResourceFileName">
      <MemberSignature Language="C#" Value="protected virtual string GetResourceFileName (System.Globalization.CultureInfo culture);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetResourceFileName(class System.Globalization.CultureInfo culture) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetResourceFileName(System.Globalization.CultureInfo)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetResourceFileName (culture As CultureInfo) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetResourceFileName(System::Globalization::CultureInfo ^ culture);" />
      <MemberSignature Language="F#" Value="abstract member GetResourceFileName : System.Globalization.CultureInfo -&gt; string&#xA;override this.GetResourceFileName : System.Globalization.CultureInfo -&gt; string" Usage="resourceManager.GetResourceFileName culture" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="culture" Type="System.Globalization.CultureInfo" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="culture"><span data-ttu-id="4c809-531">构造资源文件名的区域性对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-531">The culture object for which a resource file name is constructed.</span></span></param>
        <summary><span data-ttu-id="4c809-532">生成给定的 <see cref="T:System.Globalization.CultureInfo" /> 对象的资源文件的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-532">Generates the name of the resource file for the given <see cref="T:System.Globalization.CultureInfo" /> object.</span></span></summary>
        <returns><span data-ttu-id="4c809-533">可用于给定的 <see cref="T:System.Globalization.CultureInfo" /> 对象的资源文件的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-533">The name that can be used for a resource file for the given <see cref="T:System.Globalization.CultureInfo" /> object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-534">仅当编写派生自 <xref:System.Resources.ResourceManager> 类的自己的类时，<xref:System.Resources.ResourceManager.GetResourceFileName%2A> 方法才有用。</span><span class="sxs-lookup"><span data-stu-id="4c809-534">The <xref:System.Resources.ResourceManager.GetResourceFileName%2A> method is useful only if you write your own class that derives from the <xref:System.Resources.ResourceManager> class.</span></span>

 <span data-ttu-id="4c809-535">此方法使用 <xref:System.Globalization.CultureInfo.Name%2A?displayProperty=nameWithType> 属性作为除固定区域性以外的所有区域性的文件名的一部分。</span><span class="sxs-lookup"><span data-stu-id="4c809-535">This method uses the <xref:System.Globalization.CultureInfo.Name%2A?displayProperty=nameWithType> property as part of the file name for all cultures other than the invariant culture.</span></span> <span data-ttu-id="4c809-536">此方法不会在程序集的清单中查找或触摸磁盘，只用于构造资源文件名（适用于传递到 <xref:System.Resources.ResourceReader> 构造函数）或清单资源 blob 名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-536">This method does not look in an assembly's manifest or touch the disk, and is used only to construct a resource file name (suitable for passing to the <xref:System.Resources.ResourceReader> constructor) or a manifest resource blob name.</span></span>

 <span data-ttu-id="4c809-537">派生类可以重写此方法，以便查找其他扩展，例如 ""。ResX "，或用于命名资源文件的完全不同的方案。</span><span class="sxs-lookup"><span data-stu-id="4c809-537">A derived class can override this method to look for a different extension, such as ".ResX", or a completely different scheme for naming resource files.</span></span> <span data-ttu-id="4c809-538">请注意，可以使用方法自定义附属程序集中的资源文件的名称，而不是自定义附属程序集本身的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-538">Note that the method can be used to customize the name of a resource file within a satellite assembly, and not to customize the name of the satellite assembly itself.</span></span>

 ]]></format>
        </remarks>
        <altmember cref="T:System.Globalization.CultureInfo" />
        <related type="Article" href="~/docs/standard/globalization-localization/index.md"><span data-ttu-id="4c809-539">对 .NET 应用程序进行全球化和本地化</span><span class="sxs-lookup"><span data-stu-id="4c809-539">Globalizing and localizing .NET applications</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetResourceSet">
      <MemberSignature Language="C#" Value="public virtual System.Resources.ResourceSet GetResourceSet (System.Globalization.CultureInfo culture, bool createIfNotExists, bool tryParents);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Resources.ResourceSet GetResourceSet(class System.Globalization.CultureInfo culture, bool createIfNotExists, bool tryParents) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetResourceSet(System.Globalization.CultureInfo,System.Boolean,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetResourceSet (culture As CultureInfo, createIfNotExists As Boolean, tryParents As Boolean) As ResourceSet" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Resources::ResourceSet ^ GetResourceSet(System::Globalization::CultureInfo ^ culture, bool createIfNotExists, bool tryParents);" />
      <MemberSignature Language="F#" Value="abstract member GetResourceSet : System.Globalization.CultureInfo * bool * bool -&gt; System.Resources.ResourceSet&#xA;override this.GetResourceSet : System.Globalization.CultureInfo * bool * bool -&gt; System.Resources.ResourceSet" Usage="resourceManager.GetResourceSet (culture, createIfNotExists, tryParents)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Resources.ResourceSet</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="culture" Type="System.Globalization.CultureInfo" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="createIfNotExists" Type="System.Boolean" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="tryParents" Type="System.Boolean" Index="2" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="culture"><span data-ttu-id="4c809-540">将要检索资源的区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-540">The culture whose resources are to be retrieved.</span></span></param>
        <param name="createIfNotExists"><span data-ttu-id="4c809-541">如果尚未加载，<see langword="true" /> 要加载资源集；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-541"><see langword="true" /> to load the resource set, if it has not been loaded yet; otherwise, <see langword="false" />.</span></span></param>
        <param name="tryParents"><span data-ttu-id="4c809-542"><see langword="true" /> 表示使用资源回退加载相应资源（如果找不到资源）；<see langword="false" /> 表示绕过资源回退进程。</span><span class="sxs-lookup"><span data-stu-id="4c809-542"><see langword="true" /> to use resource fallback to load an appropriate resource if the resource set cannot be found; <see langword="false" /> to bypass the resource fallback process.</span></span></param>
        <summary><span data-ttu-id="4c809-543">检索特定区域性的资源集合。</span><span class="sxs-lookup"><span data-stu-id="4c809-543">Retrieves the resource set for a particular culture.</span></span></summary>
        <returns><span data-ttu-id="4c809-544">指定区域性的资源集。</span><span class="sxs-lookup"><span data-stu-id="4c809-544">The resource set for the specified culture.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-545">返回的资源集表示针对指定区域性进行了本地化的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-545">The resource set that is returned represents the resources that are localized for the specified culture.</span></span> <span data-ttu-id="4c809-546">如果尚未为此区域性本地化资源并 `true``tryParents`，<xref:System.Resources.ResourceManager.GetResourceSet%2A> 将使用资源回退规则加载相应的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-546">If the resources have not been localized for that culture and `tryParents` is `true`, <xref:System.Resources.ResourceManager.GetResourceSet%2A> uses resource fallback rules to load an appropriate resource.</span></span> <span data-ttu-id="4c809-547">如果 `false` `tryParents` 并且找不到特定于区域性的资源集，则该方法返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-547">If `tryParents` is `false` and a culture-specific resource set cannot be found, the method returns `null`.</span></span> <span data-ttu-id="4c809-548">有关资源回退的详细信息，请参阅[打包和部署资源](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)一文中的 "资源回退进程" 一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-548">For more information about resource fallback, see "The Resource Fallback Process" section in the [Packaging and Deploying Resources](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) article.</span></span>



## Examples
 <span data-ttu-id="4c809-549">下面的示例调用 <xref:System.Resources.ResourceManager.GetResourceSet%2A> 方法为法语（法国）区域性检索特定于区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-549">The following example calls the <xref:System.Resources.ResourceManager.GetResourceSet%2A> method to retrieve culture-specific resources for the French (France) culture.</span></span> <span data-ttu-id="4c809-550">然后枚举资源集中的所有资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-550">It then enumerates all of the resources in the resource set.</span></span> <span data-ttu-id="4c809-551">它包含名为 ShowNumbers 的可执行文件的源代码。</span><span class="sxs-lookup"><span data-stu-id="4c809-551">It contains the source code for an executable named ShowNumbers.exe.</span></span> <span data-ttu-id="4c809-552">它还包括以下包含数字名称的两个文本文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-552">It also includes the following two text file that contain the names of numbers.</span></span> <span data-ttu-id="4c809-553">第一种是 NumberResources，其中包含英语中一到十个数字的名称：</span><span class="sxs-lookup"><span data-stu-id="4c809-553">The first, NumberResources.txt, contains the names of numbers from one to ten in the English language:</span></span>

```

one=one
two=two
three=three
four=four
five=five
six=six
seven=seven
eight=eight
nine=nine
ten=ten

```

 <span data-ttu-id="4c809-554">第二个 NumberResources.fr-FR.TXT 包含法语中的数字的名称，采用法语：</span><span class="sxs-lookup"><span data-stu-id="4c809-554">The second, NumberResources.fr-FR.txt, contains the names of numbers from one to four in the French language:</span></span>

```

one=un
two=deux
three=trois
four=quatre

```

 <span data-ttu-id="4c809-555">您可以使用批处理文件生成资源文件，将英语资源文件嵌入到可执行文件中，并为法语资源创建附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-555">You can use a batch file to generate the resource files, embed the English language resource file into the executable, and create a satellite assembly for the French language resources.</span></span> <span data-ttu-id="4c809-556">下面是使用 Visual Basic 编译器生成可执行文件的批处理文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-556">Here's the batch file to generate an executable by using the Visual Basic compiler:</span></span>

```

resgen NumberResources.txt
vbc shownumbers.vb /resource:NumberResources.resources

md fr-FR
resgen NumberResources.fr-FR.txt
al /out:fr-FR\ShowNumbers.resources.dll /culture:fr-FR /embed:NumberResources.fr-FR.resources
```

 <span data-ttu-id="4c809-557">对于C#编译器，可以使用以下批处理文件：</span><span class="sxs-lookup"><span data-stu-id="4c809-557">For the C# compiler, you can use the following batch file:</span></span>

```

resgen NumberResources.txt
csc shownumbers.cs /resource:NumberResources.resources

md fr-FR
resgen NumberResources.fr-FR.txt
al /out:fr-FR\ShowNumbers.resources.dll /culture:fr-FR /embed:NumberResources.fr-FR.resources

```

 [!code-csharp[System.Resources.ResourceManager.GetResourceSet#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.getresourceset/cs/shownumbers.cs#1)]
 [!code-vb[System.Resources.ResourceManager.GetResourceSet#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.getresourceset/vb/shownumbers.vb#1)]

 <span data-ttu-id="4c809-558">请注意，如果将 `createIfNotExists` 参数的值更改为 `false`，则方法调用返回 `null`，因为资源管理器尚未加载法语资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-558">Note that if you change the value of the `createIfNotExists` argument to `false`, the method call returns `null`, since Resource Manager has not already loaded the French language resources.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-559">
          <paramref name="culture" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-559">The <paramref name="culture" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-560"><paramref name="tryParents" /> 是 <see langword="true" />，未找到可用的资源集，并且没有默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-560"><paramref name="tryParents" /> is <see langword="true" />, no usable set of resources has been found, and there are no default culture resources.</span></span></exception>
        <altmember cref="T:System.Globalization.CultureInfo" />
        <related type="Article" href="~/docs/standard/globalization-localization/index.md"><span data-ttu-id="4c809-561">对 .NET 应用程序进行全球化和本地化</span><span class="sxs-lookup"><span data-stu-id="4c809-561">Globalizing and localizing .NET applications</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetSatelliteContractVersion">
      <MemberSignature Language="C#" Value="protected static Version GetSatelliteContractVersion (System.Reflection.Assembly a);" />
      <MemberSignature Language="ILAsm" Value=".method familystatic hidebysig class System.Version GetSatelliteContractVersion(class System.Reflection.Assembly a) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetSatelliteContractVersion(System.Reflection.Assembly)" />
      <MemberSignature Language="VB.NET" Value="Protected Shared Function GetSatelliteContractVersion (a As Assembly) As Version" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; static Version ^ GetSatelliteContractVersion(System::Reflection::Assembly ^ a);" />
      <MemberSignature Language="F#" Value="static member GetSatelliteContractVersion : System.Reflection.Assembly -&gt; Version" Usage="System.Resources.ResourceManager.GetSatelliteContractVersion a" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Version</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="a" Type="System.Reflection.Assembly" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="a"><span data-ttu-id="4c809-562">要检查 <see cref="T:System.Resources.SatelliteContractVersionAttribute" /> 特性的程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-562">The assembly to check for the <see cref="T:System.Resources.SatelliteContractVersionAttribute" /> attribute.</span></span></param>
        <summary><span data-ttu-id="4c809-563">返回给定程序集中的 <see cref="T:System.Resources.SatelliteContractVersionAttribute" /> 特性指定的版本。</span><span class="sxs-lookup"><span data-stu-id="4c809-563">Returns the version specified by the <see cref="T:System.Resources.SatelliteContractVersionAttribute" /> attribute in the given assembly.</span></span></summary>
        <returns><span data-ttu-id="4c809-564">给定程序集的附属版本，如果未找到任何版本，则为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-564">The satellite contract version of the given assembly, or <see langword="null" /> if no version was found.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-565">有关附属程序集版本控制的详细信息，请参阅 <xref:System.Resources.SatelliteContractVersionAttribute> 参考主题。</span><span class="sxs-lookup"><span data-stu-id="4c809-565">For more information about satellite assembly versioning, see the <xref:System.Resources.SatelliteContractVersionAttribute> reference topic.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4c809-566">在程序集 <see cref="T:System.Version" /> 找到的 <paramref name="a" /> 是无效的。</span><span class="sxs-lookup"><span data-stu-id="4c809-566">The <see cref="T:System.Version" /> found in the assembly <paramref name="a" /> is invalid.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-567"><paramref name="a" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-567"><paramref name="a" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="T:System.Resources.SatelliteContractVersionAttribute" />
      </Docs>
    </Member>
    <MemberGroup MemberName="GetStream">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="4c809-568">从指定资源返回非托管内存流对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-568">Returns an unmanaged memory stream object from a specified resource.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetStream">
      <MemberSignature Language="C#" Value="public System.IO.UnmanagedMemoryStream GetStream (string name);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.UnmanagedMemoryStream GetStream(string name) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetStream(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetStream (name As String) As UnmanagedMemoryStream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::UnmanagedMemoryStream ^ GetStream(System::String ^ name);" />
      <MemberSignature Language="F#" Value="member this.GetStream : string -&gt; System.IO.UnmanagedMemoryStream" Usage="resourceManager.GetStream name" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.InteropServices.ComVisible(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
          <AttributeName>System.CLSCompliant(false)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.UnmanagedMemoryStream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="4c809-569">资源的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-569">The name of a resource.</span></span></param>
        <summary><span data-ttu-id="4c809-570">从指定资源返回非托管内存流对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-570">Returns an unmanaged memory stream object from the specified resource.</span></span></summary>
        <returns><span data-ttu-id="4c809-571">表示资源的非托管内存流对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-571">An unmanaged memory stream object that represents a resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-572"><xref:System.Resources.ResourceManager.GetStream%2A> 方法采用以 <xref:System.IO.MemoryStream> 对象形式存储的资源的名称，获取 <xref:System.Object> 资源的值，并返回 <xref:System.IO.UnmanagedMemoryStream> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-572">The <xref:System.Resources.ResourceManager.GetStream%2A> method takes the name of a resource that is stored as a <xref:System.IO.MemoryStream> object, gets the value of the <xref:System.Object> resource, and returns an <xref:System.IO.UnmanagedMemoryStream> object.</span></span> <span data-ttu-id="4c809-573">它要求您直接处理字节流，然后将其转换为对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-573">It requires that you work directly with a stream of bytes, which you then convert to an object.</span></span> <span data-ttu-id="4c809-574">此方法主要用于提高性能，因为以字节流而不是显式对象的形式检索资源可以提高性能。</span><span class="sxs-lookup"><span data-stu-id="4c809-574">This method is useful primarily for performance reasons: Retrieving a resource as a byte stream instead of an explicit object can improve performance.</span></span>

 <span data-ttu-id="4c809-575">返回的资源针对当前线程的 UI 区域性进行了本地化，由 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性定义。</span><span class="sxs-lookup"><span data-stu-id="4c809-575">The returned resource is localized for the UI culture of the current thread, which is defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4c809-576">如果没有为此区域性本地化该资源，资源管理器将使用回退规则加载相应的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-576">If the resource is not localized for that culture, the resource manager uses fallback rules to load an appropriate resource.</span></span> <span data-ttu-id="4c809-577">如果未找到可用的本地化资源集，则 <xref:System.Resources.ResourceManager> 将回退到默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-577">If no usable set of localized resources is found, the <xref:System.Resources.ResourceManager> falls back on the default culture's resources.</span></span> <span data-ttu-id="4c809-578">如果未找到默认区域性的资源集，则方法会引发 <xref:System.Resources.MissingManifestResourceException> 异常，或者，如果资源集预期位于附属程序集中，则会引发 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-578">If a resource set for the default culture is not found, the method throws a <xref:System.Resources.MissingManifestResourceException> exception or, if the resource set is expected to reside in a satellite assembly, a <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-579">如果资源管理器可以加载相应的资源集，但找不到名为 `name`的资源，该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-579">If the resource manager can load an appropriate resource set but cannot find a resource named `name`, the method returns `null`.</span></span>

 <span data-ttu-id="4c809-580"><xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性确定与资源名称 `name` 比较是否不区分大小写（默认值）或区分大小写。</span><span class="sxs-lookup"><span data-stu-id="4c809-580">The <xref:System.Resources.ResourceManager.IgnoreCase%2A> property determines whether the comparison of `name` with the names of resources is case-insensitive (the default) or case-sensitive.</span></span>



## Examples
 <span data-ttu-id="4c809-581">下面的示例使用 <xref:System.Resources.ResourceManager.GetStream%28System.String%29> 方法检索应用启动初始窗口中使用的位图。</span><span class="sxs-lookup"><span data-stu-id="4c809-581">The following example uses the <xref:System.Resources.ResourceManager.GetStream%28System.String%29> method to retrieve a bitmap that is used in an app's opening splash window.</span></span> <span data-ttu-id="4c809-582">以下来自名为 CreateResources.cs （适用于C#）或位于（对于 Visual Basic）的文件的源代码将生成一个包含序列化图像的 .Resx 文件 AppResources。</span><span class="sxs-lookup"><span data-stu-id="4c809-582">The following source code from a file named CreateResources.cs (for C#) or CreateResources.vb (for Visual Basic) generates a .resx file named AppResources.resx that contains the serialized image.</span></span> <span data-ttu-id="4c809-583">在这种情况下，图片从一个名为 SplashScreen.jpg 的文件中加载；可以修改文件名以替换你自己的图像。</span><span class="sxs-lookup"><span data-stu-id="4c809-583">In this case, the image is loaded from a file named SplashScreen.jpg; you can modify the file name to substitute your own image.</span></span>

 [!code-csharp[Conceptual.Resources.Retrieving#4](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/createresources.cs#4)]
 [!code-vb[Conceptual.Resources.Retrieving#4](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/createresources.vb#4)]

 <span data-ttu-id="4c809-584">以下来自名为 GetStream.cs （for C#）或 system.resources.resourcemanager.getstream （对于 Visual Basic）的文件中的代码检索资源，并在 <xref:System.Windows.Forms.PictureBox?displayProperty=nameWithType> 控件中显示图像。</span><span class="sxs-lookup"><span data-stu-id="4c809-584">The following code from a file named GetStream.cs (for C#) or GetStream.vb (for Visual Basic) then retrieves the resource and displays the image in a <xref:System.Windows.Forms.PictureBox?displayProperty=nameWithType> control.</span></span>

 [!code-csharp[Conceptual.Resources.Retrieving#5](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.retrieving/cs/getstream.cs#5)]
 [!code-vb[Conceptual.Resources.Retrieving#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.retrieving/vb/getstream.vb#5)]

 <span data-ttu-id="4c809-585">可以使用以下批处理文件生成 C# 示例。</span><span class="sxs-lookup"><span data-stu-id="4c809-585">You can use the following batch file to build the C# example.</span></span> <span data-ttu-id="4c809-586">对于 Visual Basic，将 `csc` 更改为 `vbc`，并将源代码文件的扩展名由 `.cs` 更改为 `.vb`。</span><span class="sxs-lookup"><span data-stu-id="4c809-586">For Visual Basic, change `csc` to `vbc`, and change the extension of the source code file from `.cs` to `.vb`.</span></span>

```

csc CreateResources.cs
CreateResources

resgen AppResources.resx

csc GetStream.cs /resource:AppResources.resources

```

 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="4c809-587">指定资源的值不是 <see cref="T:System.IO.MemoryStream" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-587">The value of the specified resource is not a <see cref="T:System.IO.MemoryStream" /> object.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-588"><paramref name="name" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-588"><paramref name="name" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-589">未找到可用的资源集，并且没有默认资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-589">No usable set of resources is found, and there are no default resources.</span></span> <span data-ttu-id="4c809-590">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-590">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-591">默认区域性的资源位于无法找到的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-591">The default culture's resources reside in a satellite assembly that could not be found.</span></span> <span data-ttu-id="4c809-592">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-592">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetStream">
      <MemberSignature Language="C#" Value="public System.IO.UnmanagedMemoryStream GetStream (string name, System.Globalization.CultureInfo culture);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IO.UnmanagedMemoryStream GetStream(string name, class System.Globalization.CultureInfo culture) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetStream(System.String,System.Globalization.CultureInfo)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetStream (name As String, culture As CultureInfo) As UnmanagedMemoryStream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::UnmanagedMemoryStream ^ GetStream(System::String ^ name, System::Globalization::CultureInfo ^ culture);" />
      <MemberSignature Language="F#" Value="member this.GetStream : string * System.Globalization.CultureInfo -&gt; System.IO.UnmanagedMemoryStream" Usage="resourceManager.GetStream (name, culture)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.InteropServices.ComVisible(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
          <AttributeName>System.CLSCompliant(false)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.UnmanagedMemoryStream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="culture" Type="System.Globalization.CultureInfo" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="4c809-593">资源的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-593">The name of a resource.</span></span></param>
        <param name="culture"><span data-ttu-id="4c809-594">指定要用于资源查找的区域性的对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-594">An  object that specifies the culture to use for the resource lookup.</span></span> <span data-ttu-id="4c809-595">如果 <paramref name="culture" /> 为 <see langword="null" />，则使用当前线程的区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-595">If <paramref name="culture" /> is <see langword="null" />, the culture for the current thread is used.</span></span></param>
        <summary><span data-ttu-id="4c809-596">使用指定的区域性从指定的资源返回非托管内存流对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-596">Returns an unmanaged memory stream object from the specified resource, using the specified culture.</span></span></summary>
        <returns><span data-ttu-id="4c809-597">表示资源的非托管内存流对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-597">An unmanaged memory stream object that represents a resource.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-598"><xref:System.Resources.ResourceManager.GetStream%2A> 方法采用以 <xref:System.IO.MemoryStream> 对象形式存储的资源的名称，获取 <xref:System.Object> 资源的值，并返回 <xref:System.IO.UnmanagedMemoryStream> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-598">The <xref:System.Resources.ResourceManager.GetStream%2A> method takes the name of a resource that is stored as a <xref:System.IO.MemoryStream> object, gets the value of the <xref:System.Object> resource, and returns an <xref:System.IO.UnmanagedMemoryStream> object.</span></span> <span data-ttu-id="4c809-599">它要求您直接处理字节流，然后将其转换为对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-599">It requires that you work directly with a stream of bytes, which you then convert to an object.</span></span> <span data-ttu-id="4c809-600">此方法主要用于提高性能，因为以字节流而不是显式对象的形式检索资源可以提高性能。</span><span class="sxs-lookup"><span data-stu-id="4c809-600">This method is useful primarily for performance reasons: Retrieving a resource as a byte stream instead of an explicit object can improve performance.</span></span>

 <span data-ttu-id="4c809-601">返回的资源针对 `culture`指定的区域性进行了本地化，如果 `null``culture`，则为 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性指定的区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-601">The returned resource is localized for the culture that is specified by `culture`, or for the culture that is specified by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property if `culture` is `null`.</span></span> <span data-ttu-id="4c809-602">如果没有为此区域性本地化该资源，资源管理器将使用回退规则加载相应的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-602">If the resource is not localized for that culture, the resource manager uses fallback rules to load an appropriate resource.</span></span> <span data-ttu-id="4c809-603">如果未找到可用的本地化资源集，则 <xref:System.Resources.ResourceManager> 将回退到默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-603">If no usable set of localized resources is found, the <xref:System.Resources.ResourceManager> falls back on the default culture's resources.</span></span> <span data-ttu-id="4c809-604">如果未找到默认区域性的资源集，则方法会引发 <xref:System.Resources.MissingManifestResourceException> 异常，或者，如果资源集预期位于附属程序集中，则会引发 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-604">If a resource set for the default culture is not found, the method throws a <xref:System.Resources.MissingManifestResourceException> exception or, if the resource set is expected to reside in a satellite assembly, a <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-605">如果资源管理器可以加载相应的资源集，但找不到名为 `name`的资源，该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-605">If the resource manager can load an appropriate resource set but cannot find a resource named `name`, the method returns `null`.</span></span>

 <span data-ttu-id="4c809-606"><xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性确定与资源名称 `name` 比较是否不区分大小写（默认值）或区分大小写。</span><span class="sxs-lookup"><span data-stu-id="4c809-606">The <xref:System.Resources.ResourceManager.IgnoreCase%2A> property determines whether the comparison of `name` with the names of resources is case-insensitive (the default) or case-sensitive.</span></span>

 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="4c809-607">指定资源的值不是 <see cref="T:System.IO.MemoryStream" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-607">The value of the specified resource is not a <see cref="T:System.IO.MemoryStream" /> object.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-608"><paramref name="name" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-608"><paramref name="name" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-609">未找到可用的资源集，并且没有默认资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-609">No usable set of resources is found, and there are no default resources.</span></span> <span data-ttu-id="4c809-610">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-610">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-611">默认区域性的资源位于无法找到的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-611">The default culture's resources reside in a satellite assembly that could not be found.</span></span> <span data-ttu-id="4c809-612">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-612">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetString">
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="4c809-613">返回指定区域性或当前 UI 区域性的指定字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-613">Returns the specified string resource for the specified culture or current UI culture.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetString">
      <MemberSignature Language="C#" Value="public string GetString (string name);" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string GetString(string name) cil managed" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetString(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetString (name As String) As String" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ GetString(System::String ^ name);" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6" />
      <MemberSignature Language="F#" Value="member this.GetString : string -&gt; string" Usage="resourceManager.GetString name" FrameworkAlternate="dotnet-uwp-10.0;netcore-1.0;netcore-1.1;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.6" />
      <MemberSignature Language="C#" Value="public virtual string GetString (string name);" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetString(string name) cil managed" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetString (name As String) As String" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetString(System::String ^ name);" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="F#" Value="abstract member GetString : string -&gt; string&#xA;override this.GetString : string -&gt; string" Usage="resourceManager.GetString name" FrameworkAlternate="net-5.0;netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="4c809-614">要检索的资源的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-614">The name of the resource to retrieve.</span></span></param>
        <summary><span data-ttu-id="4c809-615">返回指定的字符串资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-615">Returns the value of the specified string resource.</span></span></summary>
        <returns><span data-ttu-id="4c809-616">为调用方的当前 UI 区域性本地化的资源的值，如果在资源集中找不到 <see langword="null" />，则为 <paramref name="name" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-616">The value of the resource localized for the caller's current UI culture, or <see langword="null" /> if <paramref name="name" /> cannot be found in a resource set.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks

## <a name="desktop-apps"></a><span data-ttu-id="4c809-617">桌面应用</span><span class="sxs-lookup"><span data-stu-id="4c809-617">Desktop Apps</span></span>
 <span data-ttu-id="4c809-618">在桌面应用中，为当前线程的 UI 区域性本地化返回的资源，由 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性定义。</span><span class="sxs-lookup"><span data-stu-id="4c809-618">In desktop apps, the resource that is returned is localized for the UI culture of the current thread, as defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4c809-619">如果尚未针对该区域性对资源进行本地化，则 resource manager 会按照[打包和部署资源](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)一文中的 "资源回退进程" 一节中所述的步骤来探测资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-619">If the resource has not been localized for that culture, the resource manager probes for a resource by following the steps outlined in the "Resource Fallback Process" section of the [Packaging and Deploying Resources](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) article.</span></span> <span data-ttu-id="4c809-620">如果未找到可用的本地化资源集，资源管理器将回退到默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-620">If no usable set of localized resources is found, the resource manager falls back on the default culture's resources.</span></span> <span data-ttu-id="4c809-621">如果资源管理器无法加载默认区域性的资源集，则方法会引发 <xref:System.Resources.MissingManifestResourceException> 异常，或者，如果资源集预期位于附属程序集中，则会引发 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-621">If the resource manager cannot load the default culture's resource set, the method throws a <xref:System.Resources.MissingManifestResourceException> exception or, if the resource set is expected to reside in a satellite assembly, a <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-622">如果资源管理器可以加载相应的资源集，但找不到名为 `name`的资源，该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-622">If the resource manager can load an appropriate resource set but cannot find a resource named `name`, the method returns `null`.</span></span>

 <span data-ttu-id="4c809-623"><xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性确定与资源名称 `name` 比较是否不区分大小写（默认值）或区分大小写。</span><span class="sxs-lookup"><span data-stu-id="4c809-623">The <xref:System.Resources.ResourceManager.IgnoreCase%2A> property determines whether the comparison of `name` with the names of resources is case-insensitive (the default) or case-sensitive.</span></span>

> [!CAUTION]
>  <span data-ttu-id="4c809-624">此方法可能会引发比列出的更多异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-624">This method can throw more exceptions than are listed.</span></span> <span data-ttu-id="4c809-625">出现这种情况的原因之一是，此方法调用的方法会引发异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-625">One reason this might occur is if a method that this method calls throws an exception.</span></span>  <span data-ttu-id="4c809-626">例如，如果在部署或安装附属程序集时出现错误，则可能会引发 <xref:System.IO.FileLoadException> 异常，或者，如果用户定义的类型在反序列化类型时引发用户定义的异常，可能会引发 <xref:System.Runtime.Serialization.SerializationException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-626">For example, a <xref:System.IO.FileLoadException> exception might be thrown if an error was made deploying or installing a satellite assembly, or a <xref:System.Runtime.Serialization.SerializationException> exception might be thrown if a user-defined type throws a user-defined exception when the type is deserialized.</span></span>

## <a name="win8_appname_long-apps"></a>[!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] <span data-ttu-id="4c809-627">应用程序</span><span class="sxs-lookup"><span data-stu-id="4c809-627">Apps</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="4c809-628">虽然 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用支持 <xref:System.Resources.ResourceManager> 类，但我们不建议使用它。</span><span class="sxs-lookup"><span data-stu-id="4c809-628">Although the <xref:System.Resources.ResourceManager> class is supported in [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, we do not recommend its use.</span></span> <span data-ttu-id="4c809-629">仅当你开发可用于 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用的 [!INCLUDE[net_portable](~/includes/net-portable-md.md)] 项目时，才使用此类。</span><span class="sxs-lookup"><span data-stu-id="4c809-629">Use this class only when you develop [!INCLUDE[net_portable](~/includes/net-portable-md.md)] projects that can be used with [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps.</span></span> <span data-ttu-id="4c809-630">若要从 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用检索资源，请改用[windows.applicationmodel.resources.resourceloader](https://go.microsoft.com/fwlink/p/?LinkId=238182)类。</span><span class="sxs-lookup"><span data-stu-id="4c809-630">To retrieve resources from [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, use the [Windows.ApplicationModel.Resources.ResourceLoader](https://go.microsoft.com/fwlink/p/?LinkId=238182) class instead.</span></span>

 <span data-ttu-id="4c809-631">在 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用中，<xref:System.Resources.ResourceManager.GetString%28System.String%29> 方法返回 `name` 字符串资源的值，该资源已本地化为调用方的当前 UI 区域性设置。</span><span class="sxs-lookup"><span data-stu-id="4c809-631">In [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, the <xref:System.Resources.ResourceManager.GetString%28System.String%29> method returns the value of the `name` string resource, localized for the caller's current UI culture settings.</span></span> <span data-ttu-id="4c809-632">区域性列表派生自操作系统的首选 UI 语言列表。</span><span class="sxs-lookup"><span data-stu-id="4c809-632">The list of cultures is derived from the operating system's preferred UI language list.</span></span> <span data-ttu-id="4c809-633">如果资源管理器不能与 `name`匹配，则该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-633">If the resource manager cannot match `name`, the method returns `null`.</span></span>



## Examples
 <span data-ttu-id="4c809-634">下面的示例使用 <xref:System.Resources.ResourceManager.GetString%2A> 方法检索特定于区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-634">The following example uses the <xref:System.Resources.ResourceManager.GetString%2A> method to retrieve culture-specific resources.</span></span> <span data-ttu-id="4c809-635">它包含从 .txt 文件中编译的、英语（en）、法语（法国）（fr）和俄语（俄罗斯）（ru）区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-635">It consists of resources compiled from .txt files for the English (en), French (France) (fr-FR), and Russian (Russia) (ru-RU) cultures.</span></span> <span data-ttu-id="4c809-636">该示例将当前区域性和当前 UI 区域性更改为英语（美国）、法语（法国）、俄语（俄罗斯）和瑞典语（瑞典）。</span><span class="sxs-lookup"><span data-stu-id="4c809-636">The example changes the current culture and current UI culture to English (United States), French (France), Russian (Russia), and Swedish (Sweden).</span></span> <span data-ttu-id="4c809-637">然后，它调用 <xref:System.Resources.ResourceManager.GetString%2A> 方法来检索与当前日期和月份一起显示的本地化字符串。</span><span class="sxs-lookup"><span data-stu-id="4c809-637">It then calls the <xref:System.Resources.ResourceManager.GetString%2A> method to retrieve the localized string, which it displays along with the current day and month.</span></span> <span data-ttu-id="4c809-638">请注意，输出将显示适当的本地化字符串，除非当前 UI 区域性为 "瑞典语（瑞典）"。</span><span class="sxs-lookup"><span data-stu-id="4c809-638">Notice that the output displays the appropriate localized string except when the current UI culture is Swedish (Sweden).</span></span> <span data-ttu-id="4c809-639">由于瑞典语资源不可用，因此应用会改用默认区域性的资源，即英语。</span><span class="sxs-lookup"><span data-stu-id="4c809-639">Because Swedish language resources are unavailable, the app instead uses the resources of the default culture, which is English.</span></span> <span data-ttu-id="4c809-640">该示例需要下表中列出的基于文本的资源文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-640">The example requires the text-based resource files listed in following table.</span></span> <span data-ttu-id="4c809-641">每个都有一个名为 `DateStart`的字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-641">Each has a single string resource named `DateStart`.</span></span>

|<span data-ttu-id="4c809-642">环境</span><span class="sxs-lookup"><span data-stu-id="4c809-642">Culture</span></span>|<span data-ttu-id="4c809-643">文件名</span><span class="sxs-lookup"><span data-stu-id="4c809-643">File name</span></span>|<span data-ttu-id="4c809-644">资源名称</span><span class="sxs-lookup"><span data-stu-id="4c809-644">Resource name</span></span>|<span data-ttu-id="4c809-645">资源值</span><span class="sxs-lookup"><span data-stu-id="4c809-645">Resource value</span></span>|
|-------------|---------------|-------------------|--------------------|
|<span data-ttu-id="4c809-646">zh-CN</span><span class="sxs-lookup"><span data-stu-id="4c809-646">en-US</span></span>|<span data-ttu-id="4c809-647">DateStrings.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-647">DateStrings.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-648">今天是</span><span class="sxs-lookup"><span data-stu-id="4c809-648">Today is</span></span>|
|<span data-ttu-id="4c809-649">fr-FR</span><span class="sxs-lookup"><span data-stu-id="4c809-649">fr-FR</span></span>|<span data-ttu-id="4c809-650">DateStrings.fr-FR.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-650">DateStrings.fr-FR.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-651">Aujourd'hui，c'est le</span><span class="sxs-lookup"><span data-stu-id="4c809-651">Aujourd'hui, c'est le</span></span>|
|<span data-ttu-id="4c809-652">ru-RU</span><span class="sxs-lookup"><span data-stu-id="4c809-652">ru-RU</span></span>|<span data-ttu-id="4c809-653">DateStrings.ru-RU.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-653">DateStrings.ru-RU.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-654">Сегодня</span><span class="sxs-lookup"><span data-stu-id="4c809-654">Сегодня</span></span>|

 <span data-ttu-id="4c809-655">您可以使用以下批处理文件编译该C#示例。</span><span class="sxs-lookup"><span data-stu-id="4c809-655">You can use the following batch file to compile the C# example.</span></span> <span data-ttu-id="4c809-656">对于 Visual Basic，将 `csc` 更改为 `vbc`，并将源代码文件的扩展名由 `.cs` 更改为 `.vb`。</span><span class="sxs-lookup"><span data-stu-id="4c809-656">For Visual Basic, change `csc` to `vbc`, and change the extension of the source code file from `.cs` to `.vb`.</span></span>

```
resgen DateStrings.txt
csc showdate.cs /resource:DateStrings.resources

md fr-FR
resgen DateStrings.fr-FR.txt
al /out:fr-FR\Showdate.resources.dll /culture:fr-FR /embed:DateStrings.fr-FR.resources

md ru-RU
resgen DateStrings.ru-RU.txt
al /out:ru-RU\Showdate.resources.dll /culture:ru-RU /embed:DateStrings.ru-RU.resources
```

 <span data-ttu-id="4c809-657">下面是此示例的源代码（适用于该C#版本的 Visual Basic 版本的 ShowDate 或 ShowDate.cs）。</span><span class="sxs-lookup"><span data-stu-id="4c809-657">Here's the source code for the example (ShowDate.vb for the Visual Basic version or ShowDate.cs for the C# version).</span></span>

 [!code-csharp[System.Resources.ResourceManager.Class#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.class/cs/showdate.cs#2)]
 [!code-vb[System.Resources.ResourceManager.Class#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.class/vb/showdate.vb#2)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-658">
          <paramref name="name" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-658">The <paramref name="name" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="4c809-659">指定资源的值不是字符串。</span><span class="sxs-lookup"><span data-stu-id="4c809-659">The value of the specified resource is not a string.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-660">未找到可用的资源集，并且没有默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-660">No usable set of resources has been found, and there are no resources for the default culture.</span></span> <span data-ttu-id="4c809-661">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-661">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-662">默认区域性的资源位于无法找到的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-662">The default culture's resources reside in a satellite assembly that could not be found.</span></span> <span data-ttu-id="4c809-663">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-663">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <threadsafe><span data-ttu-id="4c809-664"><see cref="M:System.Resources.ResourceManager.GetString(System.String)" /> 方法是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="4c809-664">The <see cref="M:System.Resources.ResourceManager.GetString(System.String)" /> method is thread safe.</span></span></threadsafe>
        <altmember cref="T:System.Globalization.CultureInfo" />
        <related type="Article" href="~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md"><span data-ttu-id="4c809-665">打包和部署资源</span><span class="sxs-lookup"><span data-stu-id="4c809-665">Packaging and Deploying Resources</span></span></related>
        <related type="Article" href="~/docs/framework/resources/retrieving-resources-in-desktop-apps.md"><span data-ttu-id="4c809-666">检索附属程序集中的资源</span><span class="sxs-lookup"><span data-stu-id="4c809-666">Retrieving Resources in Satellite Assemblies</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetString">
      <MemberSignature Language="C#" Value="public virtual string GetString (string name, System.Globalization.CultureInfo culture);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetString(string name, class System.Globalization.CultureInfo culture) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.GetString(System.String,System.Globalization.CultureInfo)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetString (name As String, culture As CultureInfo) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetString(System::String ^ name, System::Globalization::CultureInfo ^ culture);" />
      <MemberSignature Language="F#" Value="abstract member GetString : string * System.Globalization.CultureInfo -&gt; string&#xA;override this.GetString : string * System.Globalization.CultureInfo -&gt; string" Usage="resourceManager.GetString (name, culture)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="culture" Type="System.Globalization.CultureInfo" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="4c809-667">要检索的资源的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-667">The name of the resource to retrieve.</span></span></param>
        <param name="culture"><span data-ttu-id="4c809-668">一个对象，表示为其本地化资源的区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-668">An object that represents the culture for which the resource is localized.</span></span></param>
        <summary><span data-ttu-id="4c809-669">返回为指定区域性本地化的字符串资源的值。</span><span class="sxs-lookup"><span data-stu-id="4c809-669">Returns the value of the string resource localized for the specified culture.</span></span></summary>
        <returns><span data-ttu-id="4c809-670">为指定区域性本地化的资源的值，如果在资源集中找不到 <see langword="null" />，则为 <paramref name="name" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-670">The value of the resource localized for the specified culture, or <see langword="null" /> if <paramref name="name" /> cannot be found in a resource set.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks

## <a name="desktop-apps"></a><span data-ttu-id="4c809-671">桌面应用</span><span class="sxs-lookup"><span data-stu-id="4c809-671">Desktop Apps</span></span>
 <span data-ttu-id="4c809-672">在桌面应用中，如果 `null``culture`，则 <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> 方法使用从 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> 属性获取的当前 UI 区域性。</span><span class="sxs-lookup"><span data-stu-id="4c809-672">In desktop apps, if `culture` is `null`, the <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> method uses the current UI culture obtained from the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span>

 <span data-ttu-id="4c809-673">返回的资源针对 `culture` 参数所指定的区域性进行了本地化。</span><span class="sxs-lookup"><span data-stu-id="4c809-673">The resource that is returned is localized for the culture specified by the `culture` parameter.</span></span> <span data-ttu-id="4c809-674">如果尚未为 `culture`本地化资源，则资源管理器将按照[打包和部署资源](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)主题的 "资源回退进程" 一节中所述的步骤来探测资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-674">If the resource has not been localized for `culture`, the resource manager probes for a resource by following the steps outlined in the "Resource Fallback Process" section of the [Packaging and Deploying Resources](~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) topic.</span></span> <span data-ttu-id="4c809-675">如果未找到可用的资源集，资源管理器将回退到默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-675">If no usable set of resources is found, the resource manager falls back on the default culture's resources.</span></span> <span data-ttu-id="4c809-676">如果资源管理器无法加载默认区域性的资源集，则方法会引发 <xref:System.Resources.MissingManifestResourceException> 异常，或者，如果资源集预期位于附属程序集中，则会引发 <xref:System.Resources.MissingSatelliteAssemblyException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-676">If the resource manager cannot load the default culture's resource set, the method throws a <xref:System.Resources.MissingManifestResourceException> exception or, if the resource set is expected to reside in a satellite assembly, a <xref:System.Resources.MissingSatelliteAssemblyException> exception.</span></span> <span data-ttu-id="4c809-677">如果资源管理器可以加载相应的资源集，但找不到名为 `name`的资源，该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-677">If the resource manager can load an appropriate resource set but cannot find a resource named `name`, the method returns `null`.</span></span>

 <span data-ttu-id="4c809-678"><xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性确定与资源名称 `name` 比较是否不区分大小写（默认值）或区分大小写。</span><span class="sxs-lookup"><span data-stu-id="4c809-678">The <xref:System.Resources.ResourceManager.IgnoreCase%2A> property determines whether the comparison of `name` with the names of resources is case-insensitive (the default) or case-sensitive.</span></span>

> [!CAUTION]
>  <span data-ttu-id="4c809-679">此方法可能会引发比列出的更多异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-679">This method can throw more exceptions than are listed.</span></span> <span data-ttu-id="4c809-680">出现这种情况的原因之一是，此方法调用的方法会引发异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-680">One reason this might occur is if a method that this method calls throws an exception.</span></span>  <span data-ttu-id="4c809-681">例如，如果在部署或安装附属程序集时出现错误，则可能会引发 <xref:System.IO.FileLoadException> 异常，或者，如果用户定义的类型在反序列化类型时引发用户定义的异常，可能会引发 <xref:System.Runtime.Serialization.SerializationException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-681">For example, a <xref:System.IO.FileLoadException> exception might be thrown if an error was made deploying or installing a satellite assembly, or a <xref:System.Runtime.Serialization.SerializationException> exception might be thrown if a user-defined type throws a user-defined exception when the type is deserialized.</span></span>

## <a name="win8_appname_long-apps"></a>[!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] <span data-ttu-id="4c809-682">应用程序</span><span class="sxs-lookup"><span data-stu-id="4c809-682">Apps</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="4c809-683">虽然 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用支持 <xref:System.Resources.ResourceManager> 类，但我们不建议使用它。</span><span class="sxs-lookup"><span data-stu-id="4c809-683">Although the <xref:System.Resources.ResourceManager> class is supported in [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, we do not recommend its use.</span></span> <span data-ttu-id="4c809-684">仅当你开发可用于 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用的 [!INCLUDE[net_portable](~/includes/net-portable-md.md)] 项目时，才使用此类。</span><span class="sxs-lookup"><span data-stu-id="4c809-684">Use this class only when you develop [!INCLUDE[net_portable](~/includes/net-portable-md.md)] projects that can be used with [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps.</span></span> <span data-ttu-id="4c809-685">若要从 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用检索资源，请改用[windows.applicationmodel.resources.resourceloader](https://go.microsoft.com/fwlink/p/?LinkId=238182)类。</span><span class="sxs-lookup"><span data-stu-id="4c809-685">To retrieve resources from [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, use the [Windows.ApplicationModel.Resources.ResourceLoader](https://go.microsoft.com/fwlink/p/?LinkId=238182) class instead.</span></span>

 <span data-ttu-id="4c809-686">在 [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] 应用中，<xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> 方法返回 `name` 字符串资源的值，该资源是由 `culture` 参数指定的区域性本地化的。</span><span class="sxs-lookup"><span data-stu-id="4c809-686">In [!INCLUDE[win8_appname_long](~/includes/win8-appname-long-md.md)] apps, the <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> method returns the value of the `name` string resource, localized for the culture specified by the `culture` parameter.</span></span> <span data-ttu-id="4c809-687">如果没有为 `culture` 区域性本地化资源，则查找将使用整个 [!INCLUDE[win8](~/includes/win8-md.md)] 语言回退列表，并在查找默认区域性后停止。</span><span class="sxs-lookup"><span data-stu-id="4c809-687">If the resource is not localized for the `culture` culture, the lookup uses the entire [!INCLUDE[win8](~/includes/win8-md.md)] language fallback list, and stops after looking in the default culture.</span></span> <span data-ttu-id="4c809-688">如果资源管理器不能与 `name`匹配，则该方法将返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="4c809-688">If the resource manager cannot match `name`, the method returns `null`.</span></span>



## Examples
 <span data-ttu-id="4c809-689">下面的示例使用 <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> 方法检索特定于区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-689">The following example uses the <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29> method to retrieve culture-specific resources.</span></span> <span data-ttu-id="4c809-690">该示例的默认区域性为英语（en），它包括法语（法国）（fr-fr）和俄语（俄罗斯）（ru）区域性的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-690">The example's default culture is English (en), and it includes satellite assemblies for the French (France) (fr-FR) and Russian (Russia) (ru-RU) cultures.</span></span> <span data-ttu-id="4c809-691">该示例在调用 <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29>之前将当前区域性和当前 UI 区域性更改为俄语（俄罗斯）。</span><span class="sxs-lookup"><span data-stu-id="4c809-691">The example changes the current culture and current UI culture to Russian (Russia) before calling <xref:System.Resources.ResourceManager.GetString%28System.String%2CSystem.Globalization.CultureInfo%29>.</span></span> <span data-ttu-id="4c809-692">然后，它调用 <xref:System.Resources.ResourceManager.GetString%2A> 方法和 <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> 方法，并将表示法语（法国）和瑞典语（瑞典）区域性的 <xref:System.Globalization.CultureInfo> 对象传递给每个方法。</span><span class="sxs-lookup"><span data-stu-id="4c809-692">It then calls the <xref:System.Resources.ResourceManager.GetString%2A> method and the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> method and passes <xref:System.Globalization.CultureInfo> objects that represent the French (France) and Swedish (Sweden) cultures to each method.</span></span> <span data-ttu-id="4c809-693">在输出中，月份和月份的日期以及前面的字符串显示为法语，因为 <xref:System.Resources.ResourceManager.GetString%2A> 方法可以检索法语资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-693">In the output, the month and day of the month as well as the string that precedes them appear in French, because the <xref:System.Resources.ResourceManager.GetString%2A> method is able to retrieve the French language resource.</span></span> <span data-ttu-id="4c809-694">但是，当使用瑞典语（瑞典）区域性时，月份和月份中的某一天将以瑞典语显示，但其前面的字符串为英语。</span><span class="sxs-lookup"><span data-stu-id="4c809-694">However, when the Swedish (Sweden) culture is used, the month and day of the month appear in Swedish, although the string that precedes them is in English.</span></span> <span data-ttu-id="4c809-695">这是因为资源管理器找不到本地化的瑞典语资源，因此它将返回默认英语区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-695">This is because the resource manager cannot find localized Swedish language resources, so it returns a resource for the default English culture instead.</span></span>

 <span data-ttu-id="4c809-696">该示例需要下表中列出的基于文本的资源文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-696">The example requires the text-based resource files listed in following table.</span></span> <span data-ttu-id="4c809-697">每个都有一个名为 `DateStart`的字符串资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-697">Each has a single string resource named `DateStart`.</span></span>

|<span data-ttu-id="4c809-698">环境</span><span class="sxs-lookup"><span data-stu-id="4c809-698">Culture</span></span>|<span data-ttu-id="4c809-699">文件名</span><span class="sxs-lookup"><span data-stu-id="4c809-699">File name</span></span>|<span data-ttu-id="4c809-700">资源名称</span><span class="sxs-lookup"><span data-stu-id="4c809-700">Resource name</span></span>|<span data-ttu-id="4c809-701">资源值</span><span class="sxs-lookup"><span data-stu-id="4c809-701">Resource value</span></span>|
|-------------|---------------|-------------------|--------------------|
|<span data-ttu-id="4c809-702">zh-CN</span><span class="sxs-lookup"><span data-stu-id="4c809-702">en-US</span></span>|<span data-ttu-id="4c809-703">DateStrings.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-703">DateStrings.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-704">今天是</span><span class="sxs-lookup"><span data-stu-id="4c809-704">Today is</span></span>|
|<span data-ttu-id="4c809-705">fr-FR</span><span class="sxs-lookup"><span data-stu-id="4c809-705">fr-FR</span></span>|<span data-ttu-id="4c809-706">DateStrings.fr-FR.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-706">DateStrings.fr-FR.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-707">Aujourd'hui，c'est le</span><span class="sxs-lookup"><span data-stu-id="4c809-707">Aujourd'hui, c'est le</span></span>|
|<span data-ttu-id="4c809-708">ru-RU</span><span class="sxs-lookup"><span data-stu-id="4c809-708">ru-RU</span></span>|<span data-ttu-id="4c809-709">DateStrings.ru-RU.txt</span><span class="sxs-lookup"><span data-stu-id="4c809-709">DateStrings.ru-RU.txt</span></span>|`DateStart`|<span data-ttu-id="4c809-710">Сегодня</span><span class="sxs-lookup"><span data-stu-id="4c809-710">Сегодня</span></span>|

 <span data-ttu-id="4c809-711">可以使用以下批处理文件编译 Visual Basic 示例。</span><span class="sxs-lookup"><span data-stu-id="4c809-711">You can use the following batch file to compile the Visual Basic example.</span></span> <span data-ttu-id="4c809-712">若要在C#中编译，请将 `vbc` 更改为 `csc`，并将源代码文件的扩展名从 `.vb` 更改为 `.cs`。</span><span class="sxs-lookup"><span data-stu-id="4c809-712">To compile in C#, change `vbc` to `csc`, and change the extension of the source code file from `.vb` to `.cs`.</span></span>

```
resgen DateStrings.txt
vbc showdate.vb /resource:DateStrings.resources

md fr-FR
resgen DateStrings.fr-FR.txt
al /out:fr-FR\Showdate.resources.dll /culture:fr-FR /embed:DateStrings.fr-FR.resources

md ru-RU
resgen DateStrings.ru-RU.txt
al /out:ru-RU\Showdate.resources.dll /culture:ru-RU /embed:DateStrings.ru-RU.resources
```

 <span data-ttu-id="4c809-713">下面是此示例的源代码（适用于该C#版本的 Visual Basic 版本的 ShowDate 或 ShowDate.cs）。</span><span class="sxs-lookup"><span data-stu-id="4c809-713">Here's the source code for the example (ShowDate.vb for the Visual Basic version or ShowDate.cs for the C# version).</span></span>

 [!code-csharp[System.Resources.ResourceManager.Class#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.resources.resourcemanager.class/cs/showdate2.cs#3)]
 [!code-vb[System.Resources.ResourceManager.Class#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.resources.resourcemanager.class/vb/showdate2.vb#3)]

 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4c809-714">
          <paramref name="name" /> 参数为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-714">The <paramref name="name" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="4c809-715">指定资源的值不是字符串。</span><span class="sxs-lookup"><span data-stu-id="4c809-715">The value of the specified resource is not a string.</span></span></exception>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-716">未找到可用的资源集，并且没有默认区域性的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-716">No usable set of resources has been found, and there are no resources for a default culture.</span></span> <span data-ttu-id="4c809-717">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-717">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-718">默认区域性的资源位于无法找到的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-718">The default culture's resources reside in a satellite assembly that could not be found.</span></span> <span data-ttu-id="4c809-719">有关如何处理此异常的信息，请参阅 <see cref="T:System.Resources.ResourceManager" /> 类主题“处理 MissingManifestResourceException 和 MissingSatelliteAssemblyException 异常”一节。</span><span class="sxs-lookup"><span data-stu-id="4c809-719">For information about how to handle this exception, see the "Handling MissingManifestResourceException and MissingSatelliteAssemblyException Exceptions" section in the <see cref="T:System.Resources.ResourceManager" /> class topic.</span></span></exception>
        <threadsafe><span data-ttu-id="4c809-720"><see cref="M:System.Resources.ResourceManager.GetString(System.String,System.Globalization.CultureInfo)" /> 方法是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="4c809-720">The <see cref="M:System.Resources.ResourceManager.GetString(System.String,System.Globalization.CultureInfo)" /> method is thread safe.</span></span></threadsafe>
        <altmember cref="T:System.Globalization.CultureInfo" />
        <related type="Article" href="~/docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md"><span data-ttu-id="4c809-721">打包和部署资源</span><span class="sxs-lookup"><span data-stu-id="4c809-721">Packaging and Deploying Resources</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="HeaderVersionNumber">
      <MemberSignature Language="C#" Value="public static readonly int HeaderVersionNumber;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly int32 HeaderVersionNumber" />
      <MemberSignature Language="DocId" Value="F:System.Resources.ResourceManager.HeaderVersionNumber" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly HeaderVersionNumber As Integer " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly int HeaderVersionNumber;" />
      <MemberSignature Language="F#" Value=" staticval mutable HeaderVersionNumber : int" Usage="System.Resources.ResourceManager.HeaderVersionNumber" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-722">指定 <see cref="T:System.Resources.ResourceManager" /> 的当前实现可解释和产生的资源文件头的版本。</span><span class="sxs-lookup"><span data-stu-id="4c809-722">Specifies the version of resource file headers that the current implementation of <see cref="T:System.Resources.ResourceManager" /> can interpret and produce.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="IgnoreCase">
      <MemberSignature Language="C#" Value="public virtual bool IgnoreCase { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IgnoreCase" />
      <MemberSignature Language="DocId" Value="P:System.Resources.ResourceManager.IgnoreCase" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property IgnoreCase As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property bool IgnoreCase { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.IgnoreCase : bool with get, set" Usage="System.Resources.ResourceManager.IgnoreCase" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-723">获取或设置值，该值指示资源管理器是否允许在 <see cref="M:System.Resources.ResourceManager.GetString(System.String)" /> 和 <see cref="M:System.Resources.ResourceManager.GetObject(System.String)" /> 方法中进行不区分大小写的资源查找。</span><span class="sxs-lookup"><span data-stu-id="4c809-723">Gets or sets a value that indicates whether the resource manager allows case-insensitive resource lookups in the <see cref="M:System.Resources.ResourceManager.GetString(System.String)" /> and <see cref="M:System.Resources.ResourceManager.GetObject(System.String)" /> methods.</span></span></summary>
        <value><span data-ttu-id="4c809-724">要在资源查找过程中忽略大小写，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-724"><see langword="true" /> to ignore case during resource lookup; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-725">如果 `false`<xref:System.Resources.ResourceManager.IgnoreCase%2A> 属性的值，则名称为 "Resource" 的资源与名为 "resource" 的资源不等效。</span><span class="sxs-lookup"><span data-stu-id="4c809-725">If the value of the <xref:System.Resources.ResourceManager.IgnoreCase%2A> property is `false`, a resource with the name "Resource" is not equivalent to the resource with the name "resource".</span></span> <span data-ttu-id="4c809-726">如果 `true`<xref:System.Resources.ResourceManager.IgnoreCase%2A>，则名称为 "Resource" 的资源等效于名称为 "resource" 的资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-726">If <xref:System.Resources.ResourceManager.IgnoreCase%2A> is `true`, a resource with the name "Resource" is equivalent to the resource with the name "resource".</span></span> <span data-ttu-id="4c809-727">但请注意，<xref:System.Resources.ResourceManager.IgnoreCase%2A> `true`时，<xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType> 和 <xref:System.Resources.ResourceManager.GetObject%2A?displayProperty=nameWithType> 方法使用固定区域性执行不区分大小写的字符串比较。</span><span class="sxs-lookup"><span data-stu-id="4c809-727">Note, however, that when <xref:System.Resources.ResourceManager.IgnoreCase%2A> is `true`, the <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType> and <xref:System.Resources.ResourceManager.GetObject%2A?displayProperty=nameWithType> methods perform case-insensitive string comparisons by using the invariant culture.</span></span> <span data-ttu-id="4c809-728">优点是这些方法执行的不区分大小写的字符串比较的结果在所有计算机上都是相同的，与区域性无关。</span><span class="sxs-lookup"><span data-stu-id="4c809-728">The advantage is that results of case-insensitive string comparisons performed by these methods are the same on all computers regardless of culture.</span></span> <span data-ttu-id="4c809-729">缺点是结果与所有区域性的大小写规则都不一致。</span><span class="sxs-lookup"><span data-stu-id="4c809-729">The disadvantage is that the results are not consistent with the casing rules of all cultures.</span></span>

 <span data-ttu-id="4c809-730">例如，土耳其语字母有两个版本的字符 I：一个带有点，一个没有句点。</span><span class="sxs-lookup"><span data-stu-id="4c809-730">For example, the Turkish alphabet has two versions of the character I: one with a dot and one without a dot.</span></span> <span data-ttu-id="4c809-731">在土耳其语中，字符 I （Unicode 0049）被视为不同字符ı（Unicode 0131）的大写版本。</span><span class="sxs-lookup"><span data-stu-id="4c809-731">In Turkish, the character I (Unicode 0049) is considered the uppercase version of a different character ı (Unicode 0131).</span></span> <span data-ttu-id="4c809-732">字符 i （Unicode 0069）被视为其他字符 i （Unicode 0130）的小写形式。</span><span class="sxs-lookup"><span data-stu-id="4c809-732">The character i (Unicode 0069) is considered the lowercase version of yet another character İ (Unicode 0130).</span></span> <span data-ttu-id="4c809-733">根据这些大小写规则，i （Unicode 0069）和 I （Unicode 0049）字符的不区分大小写的字符串比较对于区域性 "tr-TR" （土耳其语）应该失败。</span><span class="sxs-lookup"><span data-stu-id="4c809-733">According to these casing rules, a case-insensitive string comparison of the characters i (Unicode 0069) and I (Unicode 0049) should fail for the culture "tr-TR" (Turkish in Turkey).</span></span> <span data-ttu-id="4c809-734">但是，因为如果 `true`<xref:System.Resources.ResourceManager.IgnoreCase%2A>，则将使用固定区域性的大小写规则进行比较，这种比较将会成功。</span><span class="sxs-lookup"><span data-stu-id="4c809-734">However, because the comparison is conducted by using the casing rules of the invariant culture if <xref:System.Resources.ResourceManager.IgnoreCase%2A> is `true`, this comparison succeeds.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-735">出于性能原因，最好始终为资源名称指定正确的大小写。</span><span class="sxs-lookup"><span data-stu-id="4c809-735">For performance reasons, it is best to always specify the correct case for your resource names.</span></span> <span data-ttu-id="4c809-736">将 <xref:System.Resources.ResourceManager.IgnoreCase%2A> 设置为 "`true` 会导致工作集大幅增加，并显著降低性能。</span><span class="sxs-lookup"><span data-stu-id="4c809-736">Setting <xref:System.Resources.ResourceManager.IgnoreCase%2A> to `true` can cause a significant increase in working set and a significant decline in performance.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InternalGetResourceSet">
      <MemberSignature Language="C#" Value="protected virtual System.Resources.ResourceSet InternalGetResourceSet (System.Globalization.CultureInfo culture, bool createIfNotExists, bool tryParents);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Resources.ResourceSet InternalGetResourceSet(class System.Globalization.CultureInfo culture, bool createIfNotExists, bool tryParents) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.InternalGetResourceSet(System.Globalization.CultureInfo,System.Boolean,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function InternalGetResourceSet (culture As CultureInfo, createIfNotExists As Boolean, tryParents As Boolean) As ResourceSet" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Resources::ResourceSet ^ InternalGetResourceSet(System::Globalization::CultureInfo ^ culture, bool createIfNotExists, bool tryParents);" />
      <MemberSignature Language="F#" Value="abstract member InternalGetResourceSet : System.Globalization.CultureInfo * bool * bool -&gt; System.Resources.ResourceSet&#xA;override this.InternalGetResourceSet : System.Globalization.CultureInfo * bool * bool -&gt; System.Resources.ResourceSet" Usage="resourceManager.InternalGetResourceSet (culture, createIfNotExists, tryParents)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Resources.ResourceSet</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="culture" Type="System.Globalization.CultureInfo" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="createIfNotExists" Type="System.Boolean" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
        <Parameter Name="tryParents" Type="System.Boolean" Index="2" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netstandard-2.1;netcore-3.1;net-5.0" />
      </Parameters>
      <Docs>
        <param name="culture"><span data-ttu-id="4c809-737">要查找的区域性对象。</span><span class="sxs-lookup"><span data-stu-id="4c809-737">The culture object to look for.</span></span></param>
        <param name="createIfNotExists"><span data-ttu-id="4c809-738">如果尚未加载，<see langword="true" /> 要加载资源集；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-738"><see langword="true" /> to load the resource set, if it has not been loaded yet; otherwise, <see langword="false" />.</span></span></param>
        <param name="tryParents"><span data-ttu-id="4c809-739">要在无法加载资源集时检查父 <see langword="true" /> 对象，则为 <see cref="T:System.Globalization.CultureInfo" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="4c809-739"><see langword="true" /> to check parent <see cref="T:System.Globalization.CultureInfo" /> objects if the resource set cannot be loaded; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="4c809-740">提供用于查找资源集的实现。</span><span class="sxs-lookup"><span data-stu-id="4c809-740">Provides the implementation for finding a resource set.</span></span></summary>
        <returns><span data-ttu-id="4c809-741">指定的资源集。</span><span class="sxs-lookup"><span data-stu-id="4c809-741">The specified resource set.</span></span></returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.Resources.MissingManifestResourceException"><span data-ttu-id="4c809-742">主程序集不包含 .resources 文件，但查找资源需要此文件。</span><span class="sxs-lookup"><span data-stu-id="4c809-742">The main assembly does not contain a .resources file, which is required to look up a resource.</span></span></exception>
        <exception cref="T:System.ExecutionEngineException"><span data-ttu-id="4c809-743">运行时中存在内部错误。</span><span class="sxs-lookup"><span data-stu-id="4c809-743">There was an internal error in the runtime.</span></span></exception>
        <exception cref="T:System.Resources.MissingSatelliteAssemblyException"><span data-ttu-id="4c809-744">未能定位与 <paramref name="culture" /> 关联的附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-744">The satellite assembly associated with <paramref name="culture" /> could not be located.</span></span></exception>
        <block subset="none" type="overrides"><para><span data-ttu-id="4c809-745">此方法完成查找资源集所需的所有工作，可以是递归和可重入的。</span><span class="sxs-lookup"><span data-stu-id="4c809-745">This method completes all the work necessary to find a resource set, and can be recursive and reentrant.</span></span> <span data-ttu-id="4c809-746">换言之，此方法可能会加载一个程序集，并触发一个 <see cref="E:System.AppDomain.AssemblyLoad" /> 事件，然后回调到尚未完全初始化的 <see cref="T:System.Resources.ResourceManager" /> 对象中。</span><span class="sxs-lookup"><span data-stu-id="4c809-746">In other words, this method might load an assembly and trigger an <see cref="E:System.AppDomain.AssemblyLoad" /> event, which then calls back into a <see cref="T:System.Resources.ResourceManager" /> object that has not been completely initialized.</span></span> <span data-ttu-id="4c809-747">若要避免额外锁定，此方法不是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="4c809-747">To avoid taking extra locks, this method is not thread safe.</span></span> <span data-ttu-id="4c809-748"><see cref="M:System.Resources.ResourceManager.GetResourceSet(System.Globalization.CultureInfo,System.Boolean,System.Boolean)" />、<see cref="M:System.Resources.ResourceManager.GetString(System.String)" />和 <see cref="M:System.Resources.ResourceManager.GetObject(System.String)" /> 方法执行所有必要的同步。</span><span class="sxs-lookup"><span data-stu-id="4c809-748">The <see cref="M:System.Resources.ResourceManager.GetResourceSet(System.Globalization.CultureInfo,System.Boolean,System.Boolean)" />, <see cref="M:System.Resources.ResourceManager.GetString(System.String)" />, and <see cref="M:System.Resources.ResourceManager.GetObject(System.String)" /> methods do all the necessary synchronization.</span></span></para></block>
        <altmember cref="T:System.Globalization.CultureInfo" />
        <related type="Article" href="~/docs/standard/globalization-localization/index.md"><span data-ttu-id="4c809-749">对 .NET 应用程序进行全球化和本地化</span><span class="sxs-lookup"><span data-stu-id="4c809-749">Globalizing and localizing .NET applications</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="MagicNumber">
      <MemberSignature Language="C#" Value="public static readonly int MagicNumber;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly int32 MagicNumber" />
      <MemberSignature Language="DocId" Value="F:System.Resources.ResourceManager.MagicNumber" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly MagicNumber As Integer " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly int MagicNumber;" />
      <MemberSignature Language="F#" Value=" staticval mutable MagicNumber : int" Usage="System.Resources.ResourceManager.MagicNumber" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-750">保留用于标识资源文件的数字。</span><span class="sxs-lookup"><span data-stu-id="4c809-750">Holds the number used to identify resource files.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-751">此值设置为0xBEEFCACE。</span><span class="sxs-lookup"><span data-stu-id="4c809-751">The value is set to 0xBEEFCACE.</span></span> <span data-ttu-id="4c809-752">系统默认文件格式的前四个字节包含用小 endian 格式表示的32位有符号整数（请参阅 <xref:System.Text.Encoding>）。</span><span class="sxs-lookup"><span data-stu-id="4c809-752">The first four bytes of the system default file format contain a 32-bit signed integer in little-endian format (see <xref:System.Text.Encoding>).</span></span>

 <span data-ttu-id="4c809-753">如果找到了 <xref:System.Resources.ResourceManager.MagicNumber>，则后面的字节将是 <xref:System.Resources.ResourceManager> 标头的版本号，后跟一个数字，用于指示应跳过多少个字节才能超过此标头。</span><span class="sxs-lookup"><span data-stu-id="4c809-753">If the <xref:System.Resources.ResourceManager.MagicNumber> is found, the bytes following it will be a version number for a <xref:System.Resources.ResourceManager> header, followed by a number indicating how many bytes should be skipped to get past this header.</span></span> <span data-ttu-id="4c809-754">下一个数字指示创建该标头的 <xref:System.Resources.ResourceManager> 的版本，后跟特定于版本的信息。</span><span class="sxs-lookup"><span data-stu-id="4c809-754">The next number indicates the version of the <xref:System.Resources.ResourceManager> that created the header, followed by version specific information.</span></span>

 <span data-ttu-id="4c809-755">当前实现的版本号为1。</span><span class="sxs-lookup"><span data-stu-id="4c809-755">The version number for the current implementation is one.</span></span> <span data-ttu-id="4c809-756">接下来的字节是长度为前缀的字符串，它包含可读取此文件的 <xref:System.Resources.IResourceReader>的名称。</span><span class="sxs-lookup"><span data-stu-id="4c809-756">The next bytes are a length-prefixed string containing the name of an <xref:System.Resources.IResourceReader>, which can read this file.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MainAssembly">
      <MemberSignature Language="C#" Value="protected System.Reflection.Assembly MainAssembly;" />
      <MemberSignature Language="ILAsm" Value=".field family class System.Reflection.Assembly MainAssembly" />
      <MemberSignature Language="DocId" Value="F:System.Resources.ResourceManager.MainAssembly" />
      <MemberSignature Language="VB.NET" Value="Protected MainAssembly As Assembly " />
      <MemberSignature Language="C++ CLI" Value="protected: System::Reflection::Assembly ^ MainAssembly;" />
      <MemberSignature Language="F#" Value="val mutable MainAssembly : System.Reflection.Assembly" Usage="System.Resources.ResourceManager.MainAssembly" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Reflection.Assembly</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-757">指定包含资源的主要程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-757">Specifies the main assembly that contains the resources.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-758">仅当编写派生自 <xref:System.Resources.ResourceManager> 类的自己的类时，<xref:System.Resources.ResourceManager.MainAssembly> 字段才有用。</span><span class="sxs-lookup"><span data-stu-id="4c809-758">The <xref:System.Resources.ResourceManager.MainAssembly> field is useful only if you write your own class that derives from the <xref:System.Resources.ResourceManager> class.</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ReleaseAllResources">
      <MemberSignature Language="C#" Value="public virtual void ReleaseAllResources ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ReleaseAllResources() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Resources.ResourceManager.ReleaseAllResources" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub ReleaseAllResources ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ReleaseAllResources();" />
      <MemberSignature Language="F#" Value="abstract member ReleaseAllResources : unit -&gt; unit&#xA;override this.ReleaseAllResources : unit -&gt; unit" Usage="resourceManager.ReleaseAllResources " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="4c809-759">告知资源管理对所有 <see cref="M:System.Resources.ResourceSet.Close" /> 对象调用方法 <see cref="T:System.Resources.ResourceSet" />，并释放所有资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-759">Tells the resource manager to call the <see cref="M:System.Resources.ResourceSet.Close" /> method on all <see cref="T:System.Resources.ResourceSet" /> objects and release all resources.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[

## Remarks
 <span data-ttu-id="4c809-760">此方法将缩小正在运行的应用程序中的工作集。</span><span class="sxs-lookup"><span data-stu-id="4c809-760">This method will shrink the working set in a running app.</span></span> <span data-ttu-id="4c809-761">在此 <xref:System.Resources.ResourceManager> 对象上的任何将来资源查找都将像第一次查找一样昂贵，因为资源管理器将不得不再次搜索并加载资源。</span><span class="sxs-lookup"><span data-stu-id="4c809-761">Any future resource lookups on this <xref:System.Resources.ResourceManager> object will be as expensive as the first lookup, because the resource manager will have to search and load resources again.</span></span> <span data-ttu-id="4c809-762">这在某些复杂的线程方案中非常有用，在这种情况下，创建新的 <xref:System.Resources.ResourceManager> 对象是适当的行为。</span><span class="sxs-lookup"><span data-stu-id="4c809-762">This can be useful in some complex threading scenarios, where creating a new <xref:System.Resources.ResourceManager> object is the appropriate behavior.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-763">从 .NET Framework 版本2.0 开始，<xref:System.Resources.ResourceManager.ReleaseAllResources%2A> 方法对于 <xref:System.Resources.ResourceManager.GetObject%2A>、<xref:System.Resources.ResourceManager.GetString%2A>和 <xref:System.Resources.ResourceManager.GetStream%2A> 操作来说不是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="4c809-763">Starting with the .NET Framework version 2.0, the <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> method is not thread safe with respect to <xref:System.Resources.ResourceManager.GetObject%2A>, <xref:System.Resources.ResourceManager.GetString%2A>, and <xref:System.Resources.ResourceManager.GetStream%2A> operations.</span></span> <span data-ttu-id="4c809-764">此更改的优点是对访问资源的多个线程性能有所提高。</span><span class="sxs-lookup"><span data-stu-id="4c809-764">The advantage of this change is a performance improvement for multiple threads that access resources.</span></span> <span data-ttu-id="4c809-765">但是，如果在一个线程中调用 <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> 方法，同时同时获取另一个线程中的资源，则 get 操作可能会引发 <xref:System.ObjectDisposedException> 异常。</span><span class="sxs-lookup"><span data-stu-id="4c809-765">However, if you call the <xref:System.Resources.ResourceManager.ReleaseAllResources%2A> method in one thread while simultaneously getting a resource in another thread, the get operation can throw an <xref:System.ObjectDisposedException> exception.</span></span>

 <span data-ttu-id="4c809-766">你还可以在以下情况下使用此方法：当前资源管理器创建的资源的托管实例必须以确定性方式释放，无需等待资源管理器完全超出范围并进行垃圾回收。</span><span class="sxs-lookup"><span data-stu-id="4c809-766">You can also use this method in situations where the managed instances for the resources created by the current resource manager have to be released deterministically, without waiting for the resource manager to go completely out of scope and be garbage collected.</span></span>

> [!NOTE]
>  <span data-ttu-id="4c809-767">调用此方法不会卸载附属程序集。</span><span class="sxs-lookup"><span data-stu-id="4c809-767">Calling this method does not unload satellite assemblies.</span></span> <span data-ttu-id="4c809-768">若要卸载附属程序集，请使用 <xref:System.AppDomain.Unload%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="4c809-768">To unload satellite assemblies, use the <xref:System.AppDomain.Unload%2A> method .</span></span>

 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResourceSets">
      <MemberSignature Language="C#" Value="protected System.Collections.Hashtable ResourceSets;" />
      <MemberSignature Language="ILAsm" Value=".field family class System.Collections.Hashtable ResourceSets" />
      <MemberSignature Language="DocId" Value="F:System.Resources.ResourceManager.ResourceSets" />
      <MemberSignature Language="VB.NET" Value="Protected ResourceSets As Hashtable " />
      <MemberSignature Language="C++ CLI" Value="protected: System::Collections::Hashtable ^ ResourceSets;" />
      <MemberSignature Language="F#" Value="val mutable ResourceSets : System.Collections.Hashtable" Usage="System.Resources.ResourceManager.ResourceSets" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Obsolete("call InternalGetResourceSet instead")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.Hashtable</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-769">包含 <see cref="T:System.Collections.Hashtable" />，它返回从区域性到 <see cref="T:System.Resources.ResourceSet" /> 对象的映射。</span><span class="sxs-lookup"><span data-stu-id="4c809-769">Contains a <see cref="T:System.Collections.Hashtable" /> that returns a mapping from cultures to <see cref="T:System.Resources.ResourceSet" /> objects.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ResourceSetType">
      <MemberSignature Language="C#" Value="public virtual Type ResourceSetType { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Type ResourceSetType" />
      <MemberSignature Language="DocId" Value="P:System.Resources.ResourceManager.ResourceSetType" />
      <MemberSignature Language="VB.NET" Value="Public Overridable ReadOnly Property ResourceSetType As Type" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property Type ^ ResourceSetType { Type ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.ResourceSetType : Type" Usage="System.Resources.ResourceManager.ResourceSetType" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Resources.ResourceManager</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Type</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4c809-770">获取资源管理器使用构造 <see cref="T:System.Resources.ResourceSet" /> 对象的资源设置对象的类型。</span><span class="sxs-lookup"><span data-stu-id="4c809-770">Gets the type of the resource set object that the resource manager uses to construct a <see cref="T:System.Resources.ResourceSet" /> object.</span></span></summary>
        <value><span data-ttu-id="4c809-771">使用构造对象的资源管理器 <see cref="T:System.Resources.ResourceSet" /> 的设置的对象的资源类型。</span><span class="sxs-lookup"><span data-stu-id="4c809-771">The type of the resource set object that the resource manager uses to construct a <see cref="T:System.Resources.ResourceSet" /> object.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>

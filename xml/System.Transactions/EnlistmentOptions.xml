<Type Name="EnlistmentOptions" FullName="System.Transactions.EnlistmentOptions">
  <Metadata><Meta Name="ms.openlocfilehash" Value="39addee501757f0fe0c2195e55feff2a9e3f5e92" /><Meta Name="ms.sourcegitcommit" Value="943c8cdbe5b47c6c296a6f4b73038bbd43da0dd2" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="02/12/2021" /><Meta Name="ms.locfileid" Value="100306175" /></Metadata><TypeSignature Language="C#" Value="public enum EnlistmentOptions" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed EnlistmentOptions extends System.Enum" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.EnlistmentOptions" />
  <TypeSignature Language="VB.NET" Value="Public Enum EnlistmentOptions" />
  <TypeSignature Language="C++ CLI" Value="public enum class EnlistmentOptions" />
  <TypeSignature Language="F#" Value="type EnlistmentOptions = " />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <TypeForwardingChain>
    <TypeForwarding From="netstandard" FromVersion="2.1.0.0" To="System.Transactions.Local" ToVersion="5.0.0.0" FrameworkAlternate="net-5.0" />
  </TypeForwardingChain>
  <Base>
    <BaseTypeName>System.Enum</BaseTypeName>
  </Base>
  <Attributes>
    <Attribute>
      <AttributeName Language="C#">[System.Flags]</AttributeName>
      <AttributeName Language="F#">[&lt;System.Flags&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="e08ae-101">确定是否应该在准备阶段登记该对象。</span><span class="sxs-lookup"><span data-stu-id="e08ae-101">Determines whether the object should be enlisted during the prepare phase.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e08ae-102">此枚举将传递到 <xref:System.Transactions.Transaction.EnlistVolatile%2A> 和 <xref:System.Transactions.Transaction.EnlistDurable%2A> 和方法，以通知事务管理器，资源管理器是否需要在准备阶段创建另一个登记。</span><span class="sxs-lookup"><span data-stu-id="e08ae-102">This enumeration is passed into the <xref:System.Transactions.Transaction.EnlistVolatile%2A> and <xref:System.Transactions.Transaction.EnlistDurable%2A> and methods to notify the transaction manager whether the resource manager needs to create another enlistment during the Prepare phase.</span></span> <span data-ttu-id="e08ae-103">有关登记的详细信息，请参阅 [在事务中将资源登记为参与者](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee818750(v=vs.100))。</span><span class="sxs-lookup"><span data-stu-id="e08ae-103">For more information on enlistment, see [Enlisting Resources as Participants in a Transaction](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee818750(v=vs.100)).</span></span>  
  
 <span data-ttu-id="e08ae-104">如果在登记期间指定了 EnlistDuringPrepareRequired，则资源管理器会指示它想要接收准备通知，同时仍允许为事务使用新的登记。</span><span class="sxs-lookup"><span data-stu-id="e08ae-104">If EnlistDuringPrepareRequired is specified during enlistment, the resource manager indicates that it wants to receive a Prepare notification while new enlistments are still allowed for the transaction.</span></span> <span data-ttu-id="e08ae-105">充当其他持久资源（如后端数据库）的缓存的资源管理器可能会在登记期间使用此选项。</span><span class="sxs-lookup"><span data-stu-id="e08ae-105">A resource manager who acts as a cache for another durable resource, such as a backend database, would probably use this option during enlistment.</span></span> <span data-ttu-id="e08ae-106">当缓存资源获取其准备通知时，它会将其内容传输到持久资源。</span><span class="sxs-lookup"><span data-stu-id="e08ae-106">When the caching resource gets its Prepare notification, it transfers its content to the durable resource.</span></span> <span data-ttu-id="e08ae-107">这样一来，持久资源就会在事务上登记，以成为2阶段提交 (2PC) 协议的参与者。</span><span class="sxs-lookup"><span data-stu-id="e08ae-107">By doing so, the durable resource enlists on the transaction to become a participant of the 2 Phase Commit (2PC) protocol.</span></span> <span data-ttu-id="e08ae-108">在这种情况下，只有缓存资源 (未登记持久资源) 。</span><span class="sxs-lookup"><span data-stu-id="e08ae-108">Before this happens, only the caching resource (not the durable resource) was enlisted.</span></span>  
  
 <span data-ttu-id="e08ae-109">如果未指定任何内容，则登记会指示它将不会收到准备通知，直到在2PC 中创建新的登记。</span><span class="sxs-lookup"><span data-stu-id="e08ae-109">If None is specified, the enlistment indicates that it will not receive a Prepare notification until it is too late to create new enlistments in 2PC.</span></span> <span data-ttu-id="e08ae-110">在前面的方案中，如果缓存资源在登记期间指定此选项，并在准备通知期间尝试刷新其缓存，则持久资源会在其尝试登记时获取异常，因为它太晚。</span><span class="sxs-lookup"><span data-stu-id="e08ae-110">In our preceding scenario, if a caching resource specifies this option during enlistment, and attempts to flush its cache during the Prepare notification, the durable resource gets an exception when it attempts on enlisting since it is too late.</span></span>  
  
 <span data-ttu-id="e08ae-111">"无" 应用作默认值。</span><span class="sxs-lookup"><span data-stu-id="e08ae-111">None should be used as a default.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="EnlistDuringPrepareRequired">
      <MemberSignature Language="C#" Value="EnlistDuringPrepareRequired" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.Transactions.EnlistmentOptions EnlistDuringPrepareRequired = int32(1)" />
      <MemberSignature Language="DocId" Value="F:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired" />
      <MemberSignature Language="VB.NET" Value="EnlistDuringPrepareRequired" />
      <MemberSignature Language="C++ CLI" Value="EnlistDuringPrepareRequired" />
      <MemberSignature Language="F#" Value="EnlistDuringPrepareRequired = 1" Usage="System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Transactions.EnlistmentOptions</ReturnType>
      </ReturnValue>
      <MemberValue>1</MemberValue>
      <Docs>
        <summary><span data-ttu-id="e08ae-112">该对象必须在提交过程的初始阶段中进行登记。</span><span class="sxs-lookup"><span data-stu-id="e08ae-112">The object must enlist during the initial phase of the commitment process.</span></span></summary>
      </Docs>
    </Member>
    <Member MemberName="None">
      <MemberSignature Language="C#" Value="None" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.Transactions.EnlistmentOptions None = int32(0)" />
      <MemberSignature Language="DocId" Value="F:System.Transactions.EnlistmentOptions.None" />
      <MemberSignature Language="VB.NET" Value="None" />
      <MemberSignature Language="C++ CLI" Value="None" />
      <MemberSignature Language="F#" Value="None = 0" Usage="System.Transactions.EnlistmentOptions.None" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Transactions.EnlistmentOptions</ReturnType>
      </ReturnValue>
      <MemberValue>0</MemberValue>
      <Docs>
        <summary><span data-ttu-id="e08ae-113">该对象在提交过程的初始阶段中不需要登记。</span><span class="sxs-lookup"><span data-stu-id="e08ae-113">The object does not require enlistment during the initial phase of the commitment process.</span></span></summary>
      </Docs>
    </Member>
  </Members>
</Type>

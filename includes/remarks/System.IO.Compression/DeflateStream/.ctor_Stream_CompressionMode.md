---
ms.openlocfilehash: 086ae07149ae94dee569f5960b4456c5772bc394
ms.sourcegitcommit: 9f423345753728e8cad38d4a22663a109e69ea91
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/04/2021
ms.locfileid: "102084918"
---
<span data-ttu-id="7645f-101">默认情况下， <xref:System.IO.Compression.DeflateStream> 拥有基础流，因此关闭流也会关闭基础流。</span><span class="sxs-lookup"><span data-stu-id="7645f-101">By default, <xref:System.IO.Compression.DeflateStream> owns the underlying stream, so closing the stream also closes the underlying stream.</span></span> <span data-ttu-id="7645f-102">请注意，基础流的状态可能会影响流的可用性。</span><span class="sxs-lookup"><span data-stu-id="7645f-102">Note that the state of the underlying stream can affect the usability of the stream.</span></span> <span data-ttu-id="7645f-103">此外，不执行显式检查，因此在创建新实例时不会引发其他异常。</span><span class="sxs-lookup"><span data-stu-id="7645f-103">Also, no explicit checks are performed, so no additional exceptions are thrown when the new instance is created.</span></span>

<span data-ttu-id="7645f-104">如果创建类的实例 <xref:System.IO.Compression.DeflateStream> 时使用的 `mode` 参数等于 `Compress` ，则会立即插入标头信息。</span><span class="sxs-lookup"><span data-stu-id="7645f-104">If an instance of the <xref:System.IO.Compression.DeflateStream> class is created with the `mode` parameter equal to `Compress`, header information is inserted immediately.</span></span> <span data-ttu-id="7645f-105">如果没有进一步的操作，流将显示为有效的、空的压缩文件。</span><span class="sxs-lookup"><span data-stu-id="7645f-105">If no further action occurs, the stream appears as a valid, empty, compressed file.</span></span>

<span data-ttu-id="7645f-106">使用 <xref:System.IO.Compression.DeflateStream> 类压缩大于 4 GB 的文件会引发异常。</span><span class="sxs-lookup"><span data-stu-id="7645f-106">Using the <xref:System.IO.Compression.DeflateStream> class to compress a file larger than 4 GB raises an exception.</span></span>

<span data-ttu-id="7645f-107">默认情况下，压缩模式为时设置为的压缩级别 <xref:System.IO.Compression.CompressionLevel.Optimal> <xref:System.IO.Compression.CompressionMode.Compress> 。</span><span class="sxs-lookup"><span data-stu-id="7645f-107">By default, the compression level is set to <xref:System.IO.Compression.CompressionLevel.Optimal> when the compression mode is <xref:System.IO.Compression.CompressionMode.Compress>.</span></span>

## <a name="examples"></a><span data-ttu-id="7645f-108">示例</span><span class="sxs-lookup"><span data-stu-id="7645f-108">Examples</span></span>

<span data-ttu-id="7645f-109">下面的示例演示如何使用 <xref:System.IO.Compression.DeflateStream> 类压缩和解压缩文件。</span><span class="sxs-lookup"><span data-stu-id="7645f-109">The following example shows how to use the <xref:System.IO.Compression.DeflateStream> class to compress and decompress a file.</span></span>

[!code-csharp[IO.Compression.Deflate1#1](~/samples/snippets/csharp/VS_Snippets_CLR/IO.Compression.Deflate1/CS/deflatetest.cs#1)]
[!code-vb[IO.Compression.Deflate1#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/IO.Compression.Deflate1/VB/deflatetest.vb#1)]

